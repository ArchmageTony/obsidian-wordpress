/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// node_modules/xmlbuilder/lib/Utility.js
var require_Utility = __commonJS({
  "node_modules/xmlbuilder/lib/Utility.js"(exports, module2) {
    (function() {
      var assign, camelCase, capitalize, isArray, isEmpty, isFunction, isObject, isPlainObject, kebabCase, snakeCase, titleCase, words, slice = [].slice, hasProp = {}.hasOwnProperty;
      assign = function() {
        var i, key, len, source, sources, target;
        target = arguments[0], sources = 2 <= arguments.length ? slice.call(arguments, 1) : [];
        if (isFunction(Object.assign)) {
          Object.assign.apply(null, arguments);
        } else {
          for (i = 0, len = sources.length; i < len; i++) {
            source = sources[i];
            if (source != null) {
              for (key in source) {
                if (!hasProp.call(source, key))
                  continue;
                target[key] = source[key];
              }
            }
          }
        }
        return target;
      };
      isFunction = function(val) {
        return !!val && Object.prototype.toString.call(val) === "[object Function]";
      };
      isObject = function(val) {
        var ref;
        return !!val && ((ref = typeof val) === "function" || ref === "object");
      };
      isArray = function(val) {
        if (isFunction(Array.isArray)) {
          return Array.isArray(val);
        } else {
          return Object.prototype.toString.call(val) === "[object Array]";
        }
      };
      isEmpty = function(val) {
        var key;
        if (isArray(val)) {
          return !val.length;
        } else {
          for (key in val) {
            if (!hasProp.call(val, key))
              continue;
            return false;
          }
          return true;
        }
      };
      isPlainObject = function(val) {
        var ctor, proto;
        return isObject(val) && (proto = Object.getPrototypeOf(val)) && (ctor = proto.constructor) && typeof ctor === "function" && ctor instanceof ctor && Function.prototype.toString.call(ctor) === Function.prototype.toString.call(Object);
      };
      words = function(val) {
        return (val.split(/[-_\s]+|(?=[A-Z][a-z])/) || []).filter(function(n) {
          return !!n;
        });
      };
      camelCase = function(val) {
        var i, index, len, r, ref, word;
        r = "";
        ref = words(val);
        for (index = i = 0, len = ref.length; i < len; index = ++i) {
          word = ref[index];
          r += index ? capitalize(word.toLowerCase()) : word.toLowerCase();
        }
        return r;
      };
      titleCase = function(val) {
        var i, index, len, r, ref, word;
        r = "";
        ref = words(val);
        for (index = i = 0, len = ref.length; i < len; index = ++i) {
          word = ref[index];
          r += capitalize(word.toLowerCase());
        }
        return r;
      };
      kebabCase = function(val) {
        var i, index, len, r, ref, word;
        r = "";
        ref = words(val);
        for (index = i = 0, len = ref.length; i < len; index = ++i) {
          word = ref[index];
          r += (index ? "-" : "") + word.toLowerCase();
        }
        return r;
      };
      snakeCase = function(val) {
        var i, index, len, r, ref, word;
        r = "";
        ref = words(val);
        for (index = i = 0, len = ref.length; i < len; index = ++i) {
          word = ref[index];
          r += (index ? "_" : "") + word.toLowerCase();
        }
        return r;
      };
      capitalize = function(val) {
        return val.charAt(0).toUpperCase() + val.slice(1);
      };
      module2.exports.assign = assign;
      module2.exports.isFunction = isFunction;
      module2.exports.isObject = isObject;
      module2.exports.isArray = isArray;
      module2.exports.isEmpty = isEmpty;
      module2.exports.isPlainObject = isPlainObject;
      module2.exports.camelCase = camelCase;
      module2.exports.titleCase = titleCase;
      module2.exports.kebabCase = kebabCase;
      module2.exports.snakeCase = snakeCase;
      module2.exports.capitalize = capitalize;
      module2.exports.words = words;
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLAttribute.js
var require_XMLAttribute = __commonJS({
  "node_modules/xmlbuilder/lib/XMLAttribute.js"(exports, module2) {
    (function() {
      var XMLAttribute;
      module2.exports = XMLAttribute = function() {
        function XMLAttribute2(parent, name, value) {
          this.options = parent.options;
          this.stringify = parent.stringify;
          if (name == null) {
            throw new Error("Missing attribute name of element " + parent.name);
          }
          if (value == null) {
            throw new Error("Missing attribute value for attribute " + name + " of element " + parent.name);
          }
          this.name = this.stringify.attName(name);
          this.value = this.stringify.attValue(value);
        }
        XMLAttribute2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLAttribute2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).attribute(this);
        };
        return XMLAttribute2;
      }();
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLElement.js
var require_XMLElement = __commonJS({
  "node_modules/xmlbuilder/lib/XMLElement.js"(exports, module2) {
    (function() {
      var XMLAttribute, XMLElement, XMLNode, isFunction, isObject, ref, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      ref = require_Utility(), isObject = ref.isObject, isFunction = ref.isFunction;
      XMLNode = require_XMLNode();
      XMLAttribute = require_XMLAttribute();
      module2.exports = XMLElement = function(superClass) {
        extend(XMLElement2, superClass);
        function XMLElement2(parent, name, attributes) {
          XMLElement2.__super__.constructor.call(this, parent);
          if (name == null) {
            throw new Error("Missing element name");
          }
          this.name = this.stringify.eleName(name);
          this.attributes = {};
          if (attributes != null) {
            this.attribute(attributes);
          }
          if (parent.isDocument) {
            this.isRoot = true;
            this.documentObject = parent;
            parent.rootObject = this;
          }
        }
        XMLElement2.prototype.clone = function() {
          var att, attName, clonedSelf, ref1;
          clonedSelf = Object.create(this);
          if (clonedSelf.isRoot) {
            clonedSelf.documentObject = null;
          }
          clonedSelf.attributes = {};
          ref1 = this.attributes;
          for (attName in ref1) {
            if (!hasProp.call(ref1, attName))
              continue;
            att = ref1[attName];
            clonedSelf.attributes[attName] = att.clone();
          }
          clonedSelf.children = [];
          this.children.forEach(function(child) {
            var clonedChild;
            clonedChild = child.clone();
            clonedChild.parent = clonedSelf;
            return clonedSelf.children.push(clonedChild);
          });
          return clonedSelf;
        };
        XMLElement2.prototype.attribute = function(name, value) {
          var attName, attValue;
          if (name != null) {
            name = name.valueOf();
          }
          if (isObject(name)) {
            for (attName in name) {
              if (!hasProp.call(name, attName))
                continue;
              attValue = name[attName];
              this.attribute(attName, attValue);
            }
          } else {
            if (isFunction(value)) {
              value = value.apply();
            }
            if (!this.options.skipNullAttributes || value != null) {
              this.attributes[name] = new XMLAttribute(this, name, value);
            }
          }
          return this;
        };
        XMLElement2.prototype.removeAttribute = function(name) {
          var attName, i, len;
          if (name == null) {
            throw new Error("Missing attribute name");
          }
          name = name.valueOf();
          if (Array.isArray(name)) {
            for (i = 0, len = name.length; i < len; i++) {
              attName = name[i];
              delete this.attributes[attName];
            }
          } else {
            delete this.attributes[name];
          }
          return this;
        };
        XMLElement2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).element(this);
        };
        XMLElement2.prototype.att = function(name, value) {
          return this.attribute(name, value);
        };
        XMLElement2.prototype.a = function(name, value) {
          return this.attribute(name, value);
        };
        return XMLElement2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLCData.js
var require_XMLCData = __commonJS({
  "node_modules/xmlbuilder/lib/XMLCData.js"(exports, module2) {
    (function() {
      var XMLCData, XMLNode, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLCData = function(superClass) {
        extend(XMLCData2, superClass);
        function XMLCData2(parent, text) {
          XMLCData2.__super__.constructor.call(this, parent);
          if (text == null) {
            throw new Error("Missing CDATA text");
          }
          this.text = this.stringify.cdata(text);
        }
        XMLCData2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLCData2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).cdata(this);
        };
        return XMLCData2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLComment.js
var require_XMLComment = __commonJS({
  "node_modules/xmlbuilder/lib/XMLComment.js"(exports, module2) {
    (function() {
      var XMLComment, XMLNode, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLComment = function(superClass) {
        extend(XMLComment2, superClass);
        function XMLComment2(parent, text) {
          XMLComment2.__super__.constructor.call(this, parent);
          if (text == null) {
            throw new Error("Missing comment text");
          }
          this.text = this.stringify.comment(text);
        }
        XMLComment2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLComment2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).comment(this);
        };
        return XMLComment2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLDeclaration.js
var require_XMLDeclaration = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDeclaration.js"(exports, module2) {
    (function() {
      var XMLDeclaration, XMLNode, isObject, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      isObject = require_Utility().isObject;
      XMLNode = require_XMLNode();
      module2.exports = XMLDeclaration = function(superClass) {
        extend(XMLDeclaration2, superClass);
        function XMLDeclaration2(parent, version, encoding, standalone) {
          var ref;
          XMLDeclaration2.__super__.constructor.call(this, parent);
          if (isObject(version)) {
            ref = version, version = ref.version, encoding = ref.encoding, standalone = ref.standalone;
          }
          if (!version) {
            version = "1.0";
          }
          this.version = this.stringify.xmlVersion(version);
          if (encoding != null) {
            this.encoding = this.stringify.xmlEncoding(encoding);
          }
          if (standalone != null) {
            this.standalone = this.stringify.xmlStandalone(standalone);
          }
        }
        XMLDeclaration2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).declaration(this);
        };
        return XMLDeclaration2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLDTDAttList.js
var require_XMLDTDAttList = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDTDAttList.js"(exports, module2) {
    (function() {
      var XMLDTDAttList, XMLNode, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLDTDAttList = function(superClass) {
        extend(XMLDTDAttList2, superClass);
        function XMLDTDAttList2(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {
          XMLDTDAttList2.__super__.constructor.call(this, parent);
          if (elementName == null) {
            throw new Error("Missing DTD element name");
          }
          if (attributeName == null) {
            throw new Error("Missing DTD attribute name");
          }
          if (!attributeType) {
            throw new Error("Missing DTD attribute type");
          }
          if (!defaultValueType) {
            throw new Error("Missing DTD attribute default");
          }
          if (defaultValueType.indexOf("#") !== 0) {
            defaultValueType = "#" + defaultValueType;
          }
          if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {
            throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");
          }
          if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {
            throw new Error("Default value only applies to #FIXED or #DEFAULT");
          }
          this.elementName = this.stringify.eleName(elementName);
          this.attributeName = this.stringify.attName(attributeName);
          this.attributeType = this.stringify.dtdAttType(attributeType);
          this.defaultValue = this.stringify.dtdAttDefault(defaultValue);
          this.defaultValueType = defaultValueType;
        }
        XMLDTDAttList2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).dtdAttList(this);
        };
        return XMLDTDAttList2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLDTDEntity.js
var require_XMLDTDEntity = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDTDEntity.js"(exports, module2) {
    (function() {
      var XMLDTDEntity, XMLNode, isObject, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      isObject = require_Utility().isObject;
      XMLNode = require_XMLNode();
      module2.exports = XMLDTDEntity = function(superClass) {
        extend(XMLDTDEntity2, superClass);
        function XMLDTDEntity2(parent, pe, name, value) {
          XMLDTDEntity2.__super__.constructor.call(this, parent);
          if (name == null) {
            throw new Error("Missing entity name");
          }
          if (value == null) {
            throw new Error("Missing entity value");
          }
          this.pe = !!pe;
          this.name = this.stringify.eleName(name);
          if (!isObject(value)) {
            this.value = this.stringify.dtdEntityValue(value);
          } else {
            if (!value.pubID && !value.sysID) {
              throw new Error("Public and/or system identifiers are required for an external entity");
            }
            if (value.pubID && !value.sysID) {
              throw new Error("System identifier is required for a public external entity");
            }
            if (value.pubID != null) {
              this.pubID = this.stringify.dtdPubID(value.pubID);
            }
            if (value.sysID != null) {
              this.sysID = this.stringify.dtdSysID(value.sysID);
            }
            if (value.nData != null) {
              this.nData = this.stringify.dtdNData(value.nData);
            }
            if (this.pe && this.nData) {
              throw new Error("Notation declaration is not allowed in a parameter entity");
            }
          }
        }
        XMLDTDEntity2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).dtdEntity(this);
        };
        return XMLDTDEntity2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLDTDElement.js
var require_XMLDTDElement = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDTDElement.js"(exports, module2) {
    (function() {
      var XMLDTDElement, XMLNode, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLDTDElement = function(superClass) {
        extend(XMLDTDElement2, superClass);
        function XMLDTDElement2(parent, name, value) {
          XMLDTDElement2.__super__.constructor.call(this, parent);
          if (name == null) {
            throw new Error("Missing DTD element name");
          }
          if (!value) {
            value = "(#PCDATA)";
          }
          if (Array.isArray(value)) {
            value = "(" + value.join(",") + ")";
          }
          this.name = this.stringify.eleName(name);
          this.value = this.stringify.dtdElementValue(value);
        }
        XMLDTDElement2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).dtdElement(this);
        };
        return XMLDTDElement2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLDTDNotation.js
var require_XMLDTDNotation = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDTDNotation.js"(exports, module2) {
    (function() {
      var XMLDTDNotation, XMLNode, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLDTDNotation = function(superClass) {
        extend(XMLDTDNotation2, superClass);
        function XMLDTDNotation2(parent, name, value) {
          XMLDTDNotation2.__super__.constructor.call(this, parent);
          if (name == null) {
            throw new Error("Missing notation name");
          }
          if (!value.pubID && !value.sysID) {
            throw new Error("Public or system identifiers are required for an external entity");
          }
          this.name = this.stringify.eleName(name);
          if (value.pubID != null) {
            this.pubID = this.stringify.dtdPubID(value.pubID);
          }
          if (value.sysID != null) {
            this.sysID = this.stringify.dtdSysID(value.sysID);
          }
        }
        XMLDTDNotation2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).dtdNotation(this);
        };
        return XMLDTDNotation2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLDocType.js
var require_XMLDocType = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDocType.js"(exports, module2) {
    (function() {
      var XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDocType, XMLNode, isObject, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      isObject = require_Utility().isObject;
      XMLNode = require_XMLNode();
      XMLDTDAttList = require_XMLDTDAttList();
      XMLDTDEntity = require_XMLDTDEntity();
      XMLDTDElement = require_XMLDTDElement();
      XMLDTDNotation = require_XMLDTDNotation();
      module2.exports = XMLDocType = function(superClass) {
        extend(XMLDocType2, superClass);
        function XMLDocType2(parent, pubID, sysID) {
          var ref, ref1;
          XMLDocType2.__super__.constructor.call(this, parent);
          this.documentObject = parent;
          if (isObject(pubID)) {
            ref = pubID, pubID = ref.pubID, sysID = ref.sysID;
          }
          if (sysID == null) {
            ref1 = [pubID, sysID], sysID = ref1[0], pubID = ref1[1];
          }
          if (pubID != null) {
            this.pubID = this.stringify.dtdPubID(pubID);
          }
          if (sysID != null) {
            this.sysID = this.stringify.dtdSysID(sysID);
          }
        }
        XMLDocType2.prototype.element = function(name, value) {
          var child;
          child = new XMLDTDElement(this, name, value);
          this.children.push(child);
          return this;
        };
        XMLDocType2.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {
          var child;
          child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);
          this.children.push(child);
          return this;
        };
        XMLDocType2.prototype.entity = function(name, value) {
          var child;
          child = new XMLDTDEntity(this, false, name, value);
          this.children.push(child);
          return this;
        };
        XMLDocType2.prototype.pEntity = function(name, value) {
          var child;
          child = new XMLDTDEntity(this, true, name, value);
          this.children.push(child);
          return this;
        };
        XMLDocType2.prototype.notation = function(name, value) {
          var child;
          child = new XMLDTDNotation(this, name, value);
          this.children.push(child);
          return this;
        };
        XMLDocType2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).docType(this);
        };
        XMLDocType2.prototype.ele = function(name, value) {
          return this.element(name, value);
        };
        XMLDocType2.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {
          return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);
        };
        XMLDocType2.prototype.ent = function(name, value) {
          return this.entity(name, value);
        };
        XMLDocType2.prototype.pent = function(name, value) {
          return this.pEntity(name, value);
        };
        XMLDocType2.prototype.not = function(name, value) {
          return this.notation(name, value);
        };
        XMLDocType2.prototype.up = function() {
          return this.root() || this.documentObject;
        };
        return XMLDocType2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLRaw.js
var require_XMLRaw = __commonJS({
  "node_modules/xmlbuilder/lib/XMLRaw.js"(exports, module2) {
    (function() {
      var XMLNode, XMLRaw, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLRaw = function(superClass) {
        extend(XMLRaw2, superClass);
        function XMLRaw2(parent, text) {
          XMLRaw2.__super__.constructor.call(this, parent);
          if (text == null) {
            throw new Error("Missing raw text");
          }
          this.value = this.stringify.raw(text);
        }
        XMLRaw2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLRaw2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).raw(this);
        };
        return XMLRaw2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLText.js
var require_XMLText = __commonJS({
  "node_modules/xmlbuilder/lib/XMLText.js"(exports, module2) {
    (function() {
      var XMLNode, XMLText, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLText = function(superClass) {
        extend(XMLText2, superClass);
        function XMLText2(parent, text) {
          XMLText2.__super__.constructor.call(this, parent);
          if (text == null) {
            throw new Error("Missing element text");
          }
          this.value = this.stringify.eleText(text);
        }
        XMLText2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLText2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).text(this);
        };
        return XMLText2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLProcessingInstruction.js
var require_XMLProcessingInstruction = __commonJS({
  "node_modules/xmlbuilder/lib/XMLProcessingInstruction.js"(exports, module2) {
    (function() {
      var XMLNode, XMLProcessingInstruction, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLProcessingInstruction = function(superClass) {
        extend(XMLProcessingInstruction2, superClass);
        function XMLProcessingInstruction2(parent, target, value) {
          XMLProcessingInstruction2.__super__.constructor.call(this, parent);
          if (target == null) {
            throw new Error("Missing instruction target");
          }
          this.target = this.stringify.insTarget(target);
          if (value) {
            this.value = this.stringify.insValue(value);
          }
        }
        XMLProcessingInstruction2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLProcessingInstruction2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).processingInstruction(this);
        };
        return XMLProcessingInstruction2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLNode.js
var require_XMLNode = __commonJS({
  "node_modules/xmlbuilder/lib/XMLNode.js"(exports, module2) {
    (function() {
      var XMLCData, XMLComment, XMLDeclaration, XMLDocType, XMLElement, XMLNode, XMLProcessingInstruction, XMLRaw, XMLText, isEmpty, isFunction, isObject, ref, hasProp = {}.hasOwnProperty;
      ref = require_Utility(), isObject = ref.isObject, isFunction = ref.isFunction, isEmpty = ref.isEmpty;
      XMLElement = null;
      XMLCData = null;
      XMLComment = null;
      XMLDeclaration = null;
      XMLDocType = null;
      XMLRaw = null;
      XMLText = null;
      XMLProcessingInstruction = null;
      module2.exports = XMLNode = function() {
        function XMLNode2(parent) {
          this.parent = parent;
          if (this.parent) {
            this.options = this.parent.options;
            this.stringify = this.parent.stringify;
          }
          this.children = [];
          if (!XMLElement) {
            XMLElement = require_XMLElement();
            XMLCData = require_XMLCData();
            XMLComment = require_XMLComment();
            XMLDeclaration = require_XMLDeclaration();
            XMLDocType = require_XMLDocType();
            XMLRaw = require_XMLRaw();
            XMLText = require_XMLText();
            XMLProcessingInstruction = require_XMLProcessingInstruction();
          }
        }
        XMLNode2.prototype.element = function(name, attributes, text) {
          var childNode, item, j, k, key, lastChild, len, len1, ref1, val;
          lastChild = null;
          if (attributes == null) {
            attributes = {};
          }
          attributes = attributes.valueOf();
          if (!isObject(attributes)) {
            ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];
          }
          if (name != null) {
            name = name.valueOf();
          }
          if (Array.isArray(name)) {
            for (j = 0, len = name.length; j < len; j++) {
              item = name[j];
              lastChild = this.element(item);
            }
          } else if (isFunction(name)) {
            lastChild = this.element(name.apply());
          } else if (isObject(name)) {
            for (key in name) {
              if (!hasProp.call(name, key))
                continue;
              val = name[key];
              if (isFunction(val)) {
                val = val.apply();
              }
              if (isObject(val) && isEmpty(val)) {
                val = null;
              }
              if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {
                lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);
              } else if (!this.options.separateArrayItems && Array.isArray(val)) {
                for (k = 0, len1 = val.length; k < len1; k++) {
                  item = val[k];
                  childNode = {};
                  childNode[key] = item;
                  lastChild = this.element(childNode);
                }
              } else if (isObject(val)) {
                lastChild = this.element(key);
                lastChild.element(val);
              } else {
                lastChild = this.element(key, val);
              }
            }
          } else {
            if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {
              lastChild = this.text(text);
            } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {
              lastChild = this.cdata(text);
            } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {
              lastChild = this.comment(text);
            } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {
              lastChild = this.raw(text);
            } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && name.indexOf(this.stringify.convertPIKey) === 0) {
              lastChild = this.instruction(name.substr(this.stringify.convertPIKey.length), text);
            } else {
              lastChild = this.node(name, attributes, text);
            }
          }
          if (lastChild == null) {
            throw new Error("Could not create any elements with: " + name);
          }
          return lastChild;
        };
        XMLNode2.prototype.insertBefore = function(name, attributes, text) {
          var child, i, removed;
          if (this.isRoot) {
            throw new Error("Cannot insert elements at root level");
          }
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i);
          child = this.parent.element(name, attributes, text);
          Array.prototype.push.apply(this.parent.children, removed);
          return child;
        };
        XMLNode2.prototype.insertAfter = function(name, attributes, text) {
          var child, i, removed;
          if (this.isRoot) {
            throw new Error("Cannot insert elements at root level");
          }
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i + 1);
          child = this.parent.element(name, attributes, text);
          Array.prototype.push.apply(this.parent.children, removed);
          return child;
        };
        XMLNode2.prototype.remove = function() {
          var i, ref1;
          if (this.isRoot) {
            throw new Error("Cannot remove the root element");
          }
          i = this.parent.children.indexOf(this);
          [].splice.apply(this.parent.children, [i, i - i + 1].concat(ref1 = [])), ref1;
          return this.parent;
        };
        XMLNode2.prototype.node = function(name, attributes, text) {
          var child, ref1;
          if (name != null) {
            name = name.valueOf();
          }
          attributes || (attributes = {});
          attributes = attributes.valueOf();
          if (!isObject(attributes)) {
            ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];
          }
          child = new XMLElement(this, name, attributes);
          if (text != null) {
            child.text(text);
          }
          this.children.push(child);
          return child;
        };
        XMLNode2.prototype.text = function(value) {
          var child;
          child = new XMLText(this, value);
          this.children.push(child);
          return this;
        };
        XMLNode2.prototype.cdata = function(value) {
          var child;
          child = new XMLCData(this, value);
          this.children.push(child);
          return this;
        };
        XMLNode2.prototype.comment = function(value) {
          var child;
          child = new XMLComment(this, value);
          this.children.push(child);
          return this;
        };
        XMLNode2.prototype.commentBefore = function(value) {
          var child, i, removed;
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i);
          child = this.parent.comment(value);
          Array.prototype.push.apply(this.parent.children, removed);
          return this;
        };
        XMLNode2.prototype.commentAfter = function(value) {
          var child, i, removed;
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i + 1);
          child = this.parent.comment(value);
          Array.prototype.push.apply(this.parent.children, removed);
          return this;
        };
        XMLNode2.prototype.raw = function(value) {
          var child;
          child = new XMLRaw(this, value);
          this.children.push(child);
          return this;
        };
        XMLNode2.prototype.instruction = function(target, value) {
          var insTarget, insValue, instruction, j, len;
          if (target != null) {
            target = target.valueOf();
          }
          if (value != null) {
            value = value.valueOf();
          }
          if (Array.isArray(target)) {
            for (j = 0, len = target.length; j < len; j++) {
              insTarget = target[j];
              this.instruction(insTarget);
            }
          } else if (isObject(target)) {
            for (insTarget in target) {
              if (!hasProp.call(target, insTarget))
                continue;
              insValue = target[insTarget];
              this.instruction(insTarget, insValue);
            }
          } else {
            if (isFunction(value)) {
              value = value.apply();
            }
            instruction = new XMLProcessingInstruction(this, target, value);
            this.children.push(instruction);
          }
          return this;
        };
        XMLNode2.prototype.instructionBefore = function(target, value) {
          var child, i, removed;
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i);
          child = this.parent.instruction(target, value);
          Array.prototype.push.apply(this.parent.children, removed);
          return this;
        };
        XMLNode2.prototype.instructionAfter = function(target, value) {
          var child, i, removed;
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i + 1);
          child = this.parent.instruction(target, value);
          Array.prototype.push.apply(this.parent.children, removed);
          return this;
        };
        XMLNode2.prototype.declaration = function(version, encoding, standalone) {
          var doc, xmldec;
          doc = this.document();
          xmldec = new XMLDeclaration(doc, version, encoding, standalone);
          if (doc.children[0] instanceof XMLDeclaration) {
            doc.children[0] = xmldec;
          } else {
            doc.children.unshift(xmldec);
          }
          return doc.root() || doc;
        };
        XMLNode2.prototype.doctype = function(pubID, sysID) {
          var child, doc, doctype, i, j, k, len, len1, ref1, ref2;
          doc = this.document();
          doctype = new XMLDocType(doc, pubID, sysID);
          ref1 = doc.children;
          for (i = j = 0, len = ref1.length; j < len; i = ++j) {
            child = ref1[i];
            if (child instanceof XMLDocType) {
              doc.children[i] = doctype;
              return doctype;
            }
          }
          ref2 = doc.children;
          for (i = k = 0, len1 = ref2.length; k < len1; i = ++k) {
            child = ref2[i];
            if (child.isRoot) {
              doc.children.splice(i, 0, doctype);
              return doctype;
            }
          }
          doc.children.push(doctype);
          return doctype;
        };
        XMLNode2.prototype.up = function() {
          if (this.isRoot) {
            throw new Error("The root node has no parent. Use doc() if you need to get the document object.");
          }
          return this.parent;
        };
        XMLNode2.prototype.root = function() {
          var node;
          node = this;
          while (node) {
            if (node.isDocument) {
              return node.rootObject;
            } else if (node.isRoot) {
              return node;
            } else {
              node = node.parent;
            }
          }
        };
        XMLNode2.prototype.document = function() {
          var node;
          node = this;
          while (node) {
            if (node.isDocument) {
              return node;
            } else {
              node = node.parent;
            }
          }
        };
        XMLNode2.prototype.end = function(options2) {
          return this.document().end(options2);
        };
        XMLNode2.prototype.prev = function() {
          var i;
          i = this.parent.children.indexOf(this);
          if (i < 1) {
            throw new Error("Already at the first node");
          }
          return this.parent.children[i - 1];
        };
        XMLNode2.prototype.next = function() {
          var i;
          i = this.parent.children.indexOf(this);
          if (i === -1 || i === this.parent.children.length - 1) {
            throw new Error("Already at the last node");
          }
          return this.parent.children[i + 1];
        };
        XMLNode2.prototype.importDocument = function(doc) {
          var clonedRoot;
          clonedRoot = doc.root().clone();
          clonedRoot.parent = this;
          clonedRoot.isRoot = false;
          this.children.push(clonedRoot);
          return this;
        };
        XMLNode2.prototype.ele = function(name, attributes, text) {
          return this.element(name, attributes, text);
        };
        XMLNode2.prototype.nod = function(name, attributes, text) {
          return this.node(name, attributes, text);
        };
        XMLNode2.prototype.txt = function(value) {
          return this.text(value);
        };
        XMLNode2.prototype.dat = function(value) {
          return this.cdata(value);
        };
        XMLNode2.prototype.com = function(value) {
          return this.comment(value);
        };
        XMLNode2.prototype.ins = function(target, value) {
          return this.instruction(target, value);
        };
        XMLNode2.prototype.doc = function() {
          return this.document();
        };
        XMLNode2.prototype.dec = function(version, encoding, standalone) {
          return this.declaration(version, encoding, standalone);
        };
        XMLNode2.prototype.dtd = function(pubID, sysID) {
          return this.doctype(pubID, sysID);
        };
        XMLNode2.prototype.e = function(name, attributes, text) {
          return this.element(name, attributes, text);
        };
        XMLNode2.prototype.n = function(name, attributes, text) {
          return this.node(name, attributes, text);
        };
        XMLNode2.prototype.t = function(value) {
          return this.text(value);
        };
        XMLNode2.prototype.d = function(value) {
          return this.cdata(value);
        };
        XMLNode2.prototype.c = function(value) {
          return this.comment(value);
        };
        XMLNode2.prototype.r = function(value) {
          return this.raw(value);
        };
        XMLNode2.prototype.i = function(target, value) {
          return this.instruction(target, value);
        };
        XMLNode2.prototype.u = function() {
          return this.up();
        };
        XMLNode2.prototype.importXMLBuilder = function(doc) {
          return this.importDocument(doc);
        };
        return XMLNode2;
      }();
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLStringifier.js
var require_XMLStringifier = __commonJS({
  "node_modules/xmlbuilder/lib/XMLStringifier.js"(exports, module2) {
    (function() {
      var XMLStringifier, camelCase, kebabCase, ref, snakeCase, titleCase, bind = function(fn, me) {
        return function() {
          return fn.apply(me, arguments);
        };
      }, hasProp = {}.hasOwnProperty;
      ref = require_Utility(), camelCase = ref.camelCase, titleCase = ref.titleCase, kebabCase = ref.kebabCase, snakeCase = ref.snakeCase;
      module2.exports = XMLStringifier = function() {
        function XMLStringifier2(options2) {
          this.assertLegalChar = bind(this.assertLegalChar, this);
          var key, ref1, value;
          options2 || (options2 = {});
          this.allowSurrogateChars = options2.allowSurrogateChars;
          this.noDoubleEncoding = options2.noDoubleEncoding;
          this.textCase = options2.textCase;
          ref1 = options2.stringify || {};
          for (key in ref1) {
            if (!hasProp.call(ref1, key))
              continue;
            value = ref1[key];
            this[key] = value;
          }
        }
        XMLStringifier2.prototype.eleName = function(val) {
          val = "" + val || "";
          val = this.applyCase(val);
          return this.assertLegalChar(val);
        };
        XMLStringifier2.prototype.eleText = function(val) {
          val = "" + val || "";
          return this.assertLegalChar(this.elEscape(val));
        };
        XMLStringifier2.prototype.cdata = function(val) {
          val = "" + val || "";
          val = val.replace("]]>", "]]]]><![CDATA[>");
          return this.assertLegalChar(val);
        };
        XMLStringifier2.prototype.comment = function(val) {
          val = "" + val || "";
          if (val.match(/--/)) {
            throw new Error("Comment text cannot contain double-hypen: " + val);
          }
          return this.assertLegalChar(val);
        };
        XMLStringifier2.prototype.raw = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.attName = function(val) {
          val = "" + val || "";
          return val = this.applyCase(val);
        };
        XMLStringifier2.prototype.attValue = function(val) {
          val = "" + val || "";
          return this.attEscape(val);
        };
        XMLStringifier2.prototype.insTarget = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.insValue = function(val) {
          val = "" + val || "";
          if (val.match(/\?>/)) {
            throw new Error("Invalid processing instruction value: " + val);
          }
          return val;
        };
        XMLStringifier2.prototype.xmlVersion = function(val) {
          val = "" + val || "";
          if (!val.match(/1\.[0-9]+/)) {
            throw new Error("Invalid version number: " + val);
          }
          return val;
        };
        XMLStringifier2.prototype.xmlEncoding = function(val) {
          val = "" + val || "";
          if (!val.match(/^[A-Za-z](?:[A-Za-z0-9._-]|-)*$/)) {
            throw new Error("Invalid encoding: " + val);
          }
          return val;
        };
        XMLStringifier2.prototype.xmlStandalone = function(val) {
          if (val) {
            return "yes";
          } else {
            return "no";
          }
        };
        XMLStringifier2.prototype.dtdPubID = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.dtdSysID = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.dtdElementValue = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.dtdAttType = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.dtdAttDefault = function(val) {
          if (val != null) {
            return "" + val || "";
          } else {
            return val;
          }
        };
        XMLStringifier2.prototype.dtdEntityValue = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.dtdNData = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.convertAttKey = "@";
        XMLStringifier2.prototype.convertPIKey = "?";
        XMLStringifier2.prototype.convertTextKey = "#text";
        XMLStringifier2.prototype.convertCDataKey = "#cdata";
        XMLStringifier2.prototype.convertCommentKey = "#comment";
        XMLStringifier2.prototype.convertRawKey = "#raw";
        XMLStringifier2.prototype.assertLegalChar = function(str) {
          var chars, chr;
          if (this.allowSurrogateChars) {
            chars = /[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uFFFE-\uFFFF]/;
          } else {
            chars = /[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE-\uFFFF]/;
          }
          chr = str.match(chars);
          if (chr) {
            throw new Error("Invalid character (" + chr + ") in string: " + str + " at index " + chr.index);
          }
          return str;
        };
        XMLStringifier2.prototype.applyCase = function(str) {
          switch (this.textCase) {
            case "camel":
              return camelCase(str);
            case "title":
              return titleCase(str);
            case "kebab":
            case "lower":
              return kebabCase(str);
            case "snake":
              return snakeCase(str);
            case "upper":
              return kebabCase(str).toUpperCase();
            default:
              return str;
          }
        };
        XMLStringifier2.prototype.elEscape = function(str) {
          var ampregex;
          ampregex = this.noDoubleEncoding ? /(?!&\S+;)&/g : /&/g;
          return str.replace(ampregex, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\r/g, "&#xD;");
        };
        XMLStringifier2.prototype.attEscape = function(str) {
          var ampregex;
          ampregex = this.noDoubleEncoding ? /(?!&\S+;)&/g : /&/g;
          return str.replace(ampregex, "&amp;").replace(/</g, "&lt;").replace(/"/g, "&quot;").replace(/\t/g, "&#x9;").replace(/\n/g, "&#xA;").replace(/\r/g, "&#xD;");
        };
        return XMLStringifier2;
      }();
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLWriterBase.js
var require_XMLWriterBase = __commonJS({
  "node_modules/xmlbuilder/lib/XMLWriterBase.js"(exports, module2) {
    (function() {
      var XMLWriterBase, hasProp = {}.hasOwnProperty;
      module2.exports = XMLWriterBase = function() {
        function XMLWriterBase2(options2) {
          var key, ref, ref1, ref2, ref3, ref4, value;
          options2 || (options2 = {});
          this.pretty = options2.pretty || false;
          this.allowEmpty = (ref = options2.allowEmpty) != null ? ref : false;
          if (this.pretty) {
            this.indent = (ref1 = options2.indent) != null ? ref1 : "  ";
            this.newline = (ref2 = options2.newline) != null ? ref2 : "\n";
            this.offset = (ref3 = options2.offset) != null ? ref3 : 0;
          } else {
            this.indent = "";
            this.newline = "";
            this.offset = 0;
          }
          ref4 = options2.writer || {};
          for (key in ref4) {
            if (!hasProp.call(ref4, key))
              continue;
            value = ref4[key];
            this[key] = value;
          }
        }
        XMLWriterBase2.prototype.set = function(options2) {
          var key, ref, value;
          options2 || (options2 = {});
          if ("pretty" in options2) {
            this.pretty = options2.pretty;
          }
          if ("allowEmpty" in options2) {
            this.allowEmpty = options2.allowEmpty;
          }
          if (this.pretty) {
            this.indent = "indent" in options2 ? options2.indent : "  ";
            this.newline = "newline" in options2 ? options2.newline : "\n";
            this.offset = "offset" in options2 ? options2.offset : 0;
          } else {
            this.indent = "";
            this.newline = "";
            this.offset = 0;
          }
          ref = options2.writer || {};
          for (key in ref) {
            if (!hasProp.call(ref, key))
              continue;
            value = ref[key];
            this[key] = value;
          }
          return this;
        };
        XMLWriterBase2.prototype.space = function(level) {
          if (this.pretty) {
            return new Array((level || 0) + this.offset + 1).join(this.indent);
          } else {
            return "";
          }
        };
        return XMLWriterBase2;
      }();
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLStringWriter.js
var require_XMLStringWriter = __commonJS({
  "node_modules/xmlbuilder/lib/XMLStringWriter.js"(exports, module2) {
    (function() {
      var XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLText, XMLWriterBase, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLDeclaration = require_XMLDeclaration();
      XMLDocType = require_XMLDocType();
      XMLCData = require_XMLCData();
      XMLComment = require_XMLComment();
      XMLElement = require_XMLElement();
      XMLRaw = require_XMLRaw();
      XMLText = require_XMLText();
      XMLProcessingInstruction = require_XMLProcessingInstruction();
      XMLDTDAttList = require_XMLDTDAttList();
      XMLDTDElement = require_XMLDTDElement();
      XMLDTDEntity = require_XMLDTDEntity();
      XMLDTDNotation = require_XMLDTDNotation();
      XMLWriterBase = require_XMLWriterBase();
      module2.exports = XMLStringWriter = function(superClass) {
        extend(XMLStringWriter2, superClass);
        function XMLStringWriter2(options2) {
          XMLStringWriter2.__super__.constructor.call(this, options2);
        }
        XMLStringWriter2.prototype.document = function(doc) {
          var child, i, len, r, ref;
          r = "";
          ref = doc.children;
          for (i = 0, len = ref.length; i < len; i++) {
            child = ref[i];
            r += function() {
              switch (false) {
                case !(child instanceof XMLDeclaration):
                  return this.declaration(child);
                case !(child instanceof XMLDocType):
                  return this.docType(child);
                case !(child instanceof XMLComment):
                  return this.comment(child);
                case !(child instanceof XMLProcessingInstruction):
                  return this.processingInstruction(child);
                default:
                  return this.element(child, 0);
              }
            }.call(this);
          }
          if (this.pretty && r.slice(-this.newline.length) === this.newline) {
            r = r.slice(0, -this.newline.length);
          }
          return r;
        };
        XMLStringWriter2.prototype.attribute = function(att) {
          return " " + att.name + '="' + att.value + '"';
        };
        XMLStringWriter2.prototype.cdata = function(node, level) {
          return this.space(level) + "<![CDATA[" + node.text + "]]>" + this.newline;
        };
        XMLStringWriter2.prototype.comment = function(node, level) {
          return this.space(level) + "<!-- " + node.text + " -->" + this.newline;
        };
        XMLStringWriter2.prototype.declaration = function(node, level) {
          var r;
          r = this.space(level);
          r += '<?xml version="' + node.version + '"';
          if (node.encoding != null) {
            r += ' encoding="' + node.encoding + '"';
          }
          if (node.standalone != null) {
            r += ' standalone="' + node.standalone + '"';
          }
          r += "?>";
          r += this.newline;
          return r;
        };
        XMLStringWriter2.prototype.docType = function(node, level) {
          var child, i, len, r, ref;
          level || (level = 0);
          r = this.space(level);
          r += "<!DOCTYPE " + node.root().name;
          if (node.pubID && node.sysID) {
            r += ' PUBLIC "' + node.pubID + '" "' + node.sysID + '"';
          } else if (node.sysID) {
            r += ' SYSTEM "' + node.sysID + '"';
          }
          if (node.children.length > 0) {
            r += " [";
            r += this.newline;
            ref = node.children;
            for (i = 0, len = ref.length; i < len; i++) {
              child = ref[i];
              r += function() {
                switch (false) {
                  case !(child instanceof XMLDTDAttList):
                    return this.dtdAttList(child, level + 1);
                  case !(child instanceof XMLDTDElement):
                    return this.dtdElement(child, level + 1);
                  case !(child instanceof XMLDTDEntity):
                    return this.dtdEntity(child, level + 1);
                  case !(child instanceof XMLDTDNotation):
                    return this.dtdNotation(child, level + 1);
                  case !(child instanceof XMLCData):
                    return this.cdata(child, level + 1);
                  case !(child instanceof XMLComment):
                    return this.comment(child, level + 1);
                  case !(child instanceof XMLProcessingInstruction):
                    return this.processingInstruction(child, level + 1);
                  default:
                    throw new Error("Unknown DTD node type: " + child.constructor.name);
                }
              }.call(this);
            }
            r += "]";
          }
          r += ">";
          r += this.newline;
          return r;
        };
        XMLStringWriter2.prototype.element = function(node, level) {
          var att, child, i, len, name, r, ref, ref1, space;
          level || (level = 0);
          space = this.space(level);
          r = "";
          r += space + "<" + node.name;
          ref = node.attributes;
          for (name in ref) {
            if (!hasProp.call(ref, name))
              continue;
            att = ref[name];
            r += this.attribute(att);
          }
          if (node.children.length === 0 || node.children.every(function(e) {
            return e.value === "";
          })) {
            if (this.allowEmpty) {
              r += "></" + node.name + ">" + this.newline;
            } else {
              r += "/>" + this.newline;
            }
          } else if (this.pretty && node.children.length === 1 && node.children[0].value != null) {
            r += ">";
            r += node.children[0].value;
            r += "</" + node.name + ">" + this.newline;
          } else {
            r += ">" + this.newline;
            ref1 = node.children;
            for (i = 0, len = ref1.length; i < len; i++) {
              child = ref1[i];
              r += function() {
                switch (false) {
                  case !(child instanceof XMLCData):
                    return this.cdata(child, level + 1);
                  case !(child instanceof XMLComment):
                    return this.comment(child, level + 1);
                  case !(child instanceof XMLElement):
                    return this.element(child, level + 1);
                  case !(child instanceof XMLRaw):
                    return this.raw(child, level + 1);
                  case !(child instanceof XMLText):
                    return this.text(child, level + 1);
                  case !(child instanceof XMLProcessingInstruction):
                    return this.processingInstruction(child, level + 1);
                  default:
                    throw new Error("Unknown XML node type: " + child.constructor.name);
                }
              }.call(this);
            }
            r += space + "</" + node.name + ">" + this.newline;
          }
          return r;
        };
        XMLStringWriter2.prototype.processingInstruction = function(node, level) {
          var r;
          r = this.space(level) + "<?" + node.target;
          if (node.value) {
            r += " " + node.value;
          }
          r += "?>" + this.newline;
          return r;
        };
        XMLStringWriter2.prototype.raw = function(node, level) {
          return this.space(level) + node.value + this.newline;
        };
        XMLStringWriter2.prototype.text = function(node, level) {
          return this.space(level) + node.value + this.newline;
        };
        XMLStringWriter2.prototype.dtdAttList = function(node, level) {
          var r;
          r = this.space(level) + "<!ATTLIST " + node.elementName + " " + node.attributeName + " " + node.attributeType;
          if (node.defaultValueType !== "#DEFAULT") {
            r += " " + node.defaultValueType;
          }
          if (node.defaultValue) {
            r += ' "' + node.defaultValue + '"';
          }
          r += ">" + this.newline;
          return r;
        };
        XMLStringWriter2.prototype.dtdElement = function(node, level) {
          return this.space(level) + "<!ELEMENT " + node.name + " " + node.value + ">" + this.newline;
        };
        XMLStringWriter2.prototype.dtdEntity = function(node, level) {
          var r;
          r = this.space(level) + "<!ENTITY";
          if (node.pe) {
            r += " %";
          }
          r += " " + node.name;
          if (node.value) {
            r += ' "' + node.value + '"';
          } else {
            if (node.pubID && node.sysID) {
              r += ' PUBLIC "' + node.pubID + '" "' + node.sysID + '"';
            } else if (node.sysID) {
              r += ' SYSTEM "' + node.sysID + '"';
            }
            if (node.nData) {
              r += " NDATA " + node.nData;
            }
          }
          r += ">" + this.newline;
          return r;
        };
        XMLStringWriter2.prototype.dtdNotation = function(node, level) {
          var r;
          r = this.space(level) + "<!NOTATION " + node.name;
          if (node.pubID && node.sysID) {
            r += ' PUBLIC "' + node.pubID + '" "' + node.sysID + '"';
          } else if (node.pubID) {
            r += ' PUBLIC "' + node.pubID + '"';
          } else if (node.sysID) {
            r += ' SYSTEM "' + node.sysID + '"';
          }
          r += ">" + this.newline;
          return r;
        };
        XMLStringWriter2.prototype.openNode = function(node, level) {
          var att, name, r, ref;
          level || (level = 0);
          if (node instanceof XMLElement) {
            r = this.space(level) + "<" + node.name;
            ref = node.attributes;
            for (name in ref) {
              if (!hasProp.call(ref, name))
                continue;
              att = ref[name];
              r += this.attribute(att);
            }
            r += (node.children ? ">" : "/>") + this.newline;
            return r;
          } else {
            r = this.space(level) + "<!DOCTYPE " + node.rootNodeName;
            if (node.pubID && node.sysID) {
              r += ' PUBLIC "' + node.pubID + '" "' + node.sysID + '"';
            } else if (node.sysID) {
              r += ' SYSTEM "' + node.sysID + '"';
            }
            r += (node.children ? " [" : ">") + this.newline;
            return r;
          }
        };
        XMLStringWriter2.prototype.closeNode = function(node, level) {
          level || (level = 0);
          switch (false) {
            case !(node instanceof XMLElement):
              return this.space(level) + "</" + node.name + ">" + this.newline;
            case !(node instanceof XMLDocType):
              return this.space(level) + "]>" + this.newline;
          }
        };
        return XMLStringWriter2;
      }(XMLWriterBase);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLDocument.js
var require_XMLDocument = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDocument.js"(exports, module2) {
    (function() {
      var XMLDocument, XMLNode, XMLStringWriter, XMLStringifier, isPlainObject, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      isPlainObject = require_Utility().isPlainObject;
      XMLNode = require_XMLNode();
      XMLStringifier = require_XMLStringifier();
      XMLStringWriter = require_XMLStringWriter();
      module2.exports = XMLDocument = function(superClass) {
        extend(XMLDocument2, superClass);
        function XMLDocument2(options2) {
          XMLDocument2.__super__.constructor.call(this, null);
          options2 || (options2 = {});
          if (!options2.writer) {
            options2.writer = new XMLStringWriter();
          }
          this.options = options2;
          this.stringify = new XMLStringifier(options2);
          this.isDocument = true;
        }
        XMLDocument2.prototype.end = function(writer) {
          var writerOptions;
          if (!writer) {
            writer = this.options.writer;
          } else if (isPlainObject(writer)) {
            writerOptions = writer;
            writer = this.options.writer.set(writerOptions);
          }
          return writer.document(this);
        };
        XMLDocument2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).document(this);
        };
        return XMLDocument2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLDocumentCB.js
var require_XMLDocumentCB = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDocumentCB.js"(exports, module2) {
    (function() {
      var XMLAttribute, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDocumentCB, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLStringifier, XMLText, isFunction, isObject, isPlainObject, ref, hasProp = {}.hasOwnProperty;
      ref = require_Utility(), isObject = ref.isObject, isFunction = ref.isFunction, isPlainObject = ref.isPlainObject;
      XMLElement = require_XMLElement();
      XMLCData = require_XMLCData();
      XMLComment = require_XMLComment();
      XMLRaw = require_XMLRaw();
      XMLText = require_XMLText();
      XMLProcessingInstruction = require_XMLProcessingInstruction();
      XMLDeclaration = require_XMLDeclaration();
      XMLDocType = require_XMLDocType();
      XMLDTDAttList = require_XMLDTDAttList();
      XMLDTDEntity = require_XMLDTDEntity();
      XMLDTDElement = require_XMLDTDElement();
      XMLDTDNotation = require_XMLDTDNotation();
      XMLAttribute = require_XMLAttribute();
      XMLStringifier = require_XMLStringifier();
      XMLStringWriter = require_XMLStringWriter();
      module2.exports = XMLDocumentCB = function() {
        function XMLDocumentCB2(options2, onData, onEnd) {
          var writerOptions;
          options2 || (options2 = {});
          if (!options2.writer) {
            options2.writer = new XMLStringWriter(options2);
          } else if (isPlainObject(options2.writer)) {
            writerOptions = options2.writer;
            options2.writer = new XMLStringWriter(writerOptions);
          }
          this.options = options2;
          this.writer = options2.writer;
          this.stringify = new XMLStringifier(options2);
          this.onDataCallback = onData || function() {
          };
          this.onEndCallback = onEnd || function() {
          };
          this.currentNode = null;
          this.currentLevel = -1;
          this.openTags = {};
          this.documentStarted = false;
          this.documentCompleted = false;
          this.root = null;
        }
        XMLDocumentCB2.prototype.node = function(name, attributes, text) {
          var ref1;
          if (name == null) {
            throw new Error("Missing node name");
          }
          if (this.root && this.currentLevel === -1) {
            throw new Error("Document can only have one root node");
          }
          this.openCurrent();
          name = name.valueOf();
          if (attributes == null) {
            attributes = {};
          }
          attributes = attributes.valueOf();
          if (!isObject(attributes)) {
            ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];
          }
          this.currentNode = new XMLElement(this, name, attributes);
          this.currentNode.children = false;
          this.currentLevel++;
          this.openTags[this.currentLevel] = this.currentNode;
          if (text != null) {
            this.text(text);
          }
          return this;
        };
        XMLDocumentCB2.prototype.element = function(name, attributes, text) {
          if (this.currentNode && this.currentNode instanceof XMLDocType) {
            return this.dtdElement.apply(this, arguments);
          } else {
            return this.node(name, attributes, text);
          }
        };
        XMLDocumentCB2.prototype.attribute = function(name, value) {
          var attName, attValue;
          if (!this.currentNode || this.currentNode.children) {
            throw new Error("att() can only be used immediately after an ele() call in callback mode");
          }
          if (name != null) {
            name = name.valueOf();
          }
          if (isObject(name)) {
            for (attName in name) {
              if (!hasProp.call(name, attName))
                continue;
              attValue = name[attName];
              this.attribute(attName, attValue);
            }
          } else {
            if (isFunction(value)) {
              value = value.apply();
            }
            if (!this.options.skipNullAttributes || value != null) {
              this.currentNode.attributes[name] = new XMLAttribute(this, name, value);
            }
          }
          return this;
        };
        XMLDocumentCB2.prototype.text = function(value) {
          var node;
          this.openCurrent();
          node = new XMLText(this, value);
          this.onData(this.writer.text(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.cdata = function(value) {
          var node;
          this.openCurrent();
          node = new XMLCData(this, value);
          this.onData(this.writer.cdata(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.comment = function(value) {
          var node;
          this.openCurrent();
          node = new XMLComment(this, value);
          this.onData(this.writer.comment(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.raw = function(value) {
          var node;
          this.openCurrent();
          node = new XMLRaw(this, value);
          this.onData(this.writer.raw(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.instruction = function(target, value) {
          var i, insTarget, insValue, len, node;
          this.openCurrent();
          if (target != null) {
            target = target.valueOf();
          }
          if (value != null) {
            value = value.valueOf();
          }
          if (Array.isArray(target)) {
            for (i = 0, len = target.length; i < len; i++) {
              insTarget = target[i];
              this.instruction(insTarget);
            }
          } else if (isObject(target)) {
            for (insTarget in target) {
              if (!hasProp.call(target, insTarget))
                continue;
              insValue = target[insTarget];
              this.instruction(insTarget, insValue);
            }
          } else {
            if (isFunction(value)) {
              value = value.apply();
            }
            node = new XMLProcessingInstruction(this, target, value);
            this.onData(this.writer.processingInstruction(node, this.currentLevel + 1));
          }
          return this;
        };
        XMLDocumentCB2.prototype.declaration = function(version, encoding, standalone) {
          var node;
          this.openCurrent();
          if (this.documentStarted) {
            throw new Error("declaration() must be the first node");
          }
          node = new XMLDeclaration(this, version, encoding, standalone);
          this.onData(this.writer.declaration(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.doctype = function(root, pubID, sysID) {
          this.openCurrent();
          if (root == null) {
            throw new Error("Missing root node name");
          }
          if (this.root) {
            throw new Error("dtd() must come before the root node");
          }
          this.currentNode = new XMLDocType(this, pubID, sysID);
          this.currentNode.rootNodeName = root;
          this.currentNode.children = false;
          this.currentLevel++;
          this.openTags[this.currentLevel] = this.currentNode;
          return this;
        };
        XMLDocumentCB2.prototype.dtdElement = function(name, value) {
          var node;
          this.openCurrent();
          node = new XMLDTDElement(this, name, value);
          this.onData(this.writer.dtdElement(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {
          var node;
          this.openCurrent();
          node = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);
          this.onData(this.writer.dtdAttList(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.entity = function(name, value) {
          var node;
          this.openCurrent();
          node = new XMLDTDEntity(this, false, name, value);
          this.onData(this.writer.dtdEntity(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.pEntity = function(name, value) {
          var node;
          this.openCurrent();
          node = new XMLDTDEntity(this, true, name, value);
          this.onData(this.writer.dtdEntity(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.notation = function(name, value) {
          var node;
          this.openCurrent();
          node = new XMLDTDNotation(this, name, value);
          this.onData(this.writer.dtdNotation(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.up = function() {
          if (this.currentLevel < 0) {
            throw new Error("The document node has no parent");
          }
          if (this.currentNode) {
            if (this.currentNode.children) {
              this.closeNode(this.currentNode);
            } else {
              this.openNode(this.currentNode);
            }
            this.currentNode = null;
          } else {
            this.closeNode(this.openTags[this.currentLevel]);
          }
          delete this.openTags[this.currentLevel];
          this.currentLevel--;
          return this;
        };
        XMLDocumentCB2.prototype.end = function() {
          while (this.currentLevel >= 0) {
            this.up();
          }
          return this.onEnd();
        };
        XMLDocumentCB2.prototype.openCurrent = function() {
          if (this.currentNode) {
            this.currentNode.children = true;
            return this.openNode(this.currentNode);
          }
        };
        XMLDocumentCB2.prototype.openNode = function(node) {
          if (!node.isOpen) {
            if (!this.root && this.currentLevel === 0 && node instanceof XMLElement) {
              this.root = node;
            }
            this.onData(this.writer.openNode(node, this.currentLevel));
            return node.isOpen = true;
          }
        };
        XMLDocumentCB2.prototype.closeNode = function(node) {
          if (!node.isClosed) {
            this.onData(this.writer.closeNode(node, this.currentLevel));
            return node.isClosed = true;
          }
        };
        XMLDocumentCB2.prototype.onData = function(chunk) {
          this.documentStarted = true;
          return this.onDataCallback(chunk);
        };
        XMLDocumentCB2.prototype.onEnd = function() {
          this.documentCompleted = true;
          return this.onEndCallback();
        };
        XMLDocumentCB2.prototype.ele = function() {
          return this.element.apply(this, arguments);
        };
        XMLDocumentCB2.prototype.nod = function(name, attributes, text) {
          return this.node(name, attributes, text);
        };
        XMLDocumentCB2.prototype.txt = function(value) {
          return this.text(value);
        };
        XMLDocumentCB2.prototype.dat = function(value) {
          return this.cdata(value);
        };
        XMLDocumentCB2.prototype.com = function(value) {
          return this.comment(value);
        };
        XMLDocumentCB2.prototype.ins = function(target, value) {
          return this.instruction(target, value);
        };
        XMLDocumentCB2.prototype.dec = function(version, encoding, standalone) {
          return this.declaration(version, encoding, standalone);
        };
        XMLDocumentCB2.prototype.dtd = function(root, pubID, sysID) {
          return this.doctype(root, pubID, sysID);
        };
        XMLDocumentCB2.prototype.e = function(name, attributes, text) {
          return this.element(name, attributes, text);
        };
        XMLDocumentCB2.prototype.n = function(name, attributes, text) {
          return this.node(name, attributes, text);
        };
        XMLDocumentCB2.prototype.t = function(value) {
          return this.text(value);
        };
        XMLDocumentCB2.prototype.d = function(value) {
          return this.cdata(value);
        };
        XMLDocumentCB2.prototype.c = function(value) {
          return this.comment(value);
        };
        XMLDocumentCB2.prototype.r = function(value) {
          return this.raw(value);
        };
        XMLDocumentCB2.prototype.i = function(target, value) {
          return this.instruction(target, value);
        };
        XMLDocumentCB2.prototype.att = function() {
          if (this.currentNode && this.currentNode instanceof XMLDocType) {
            return this.attList.apply(this, arguments);
          } else {
            return this.attribute.apply(this, arguments);
          }
        };
        XMLDocumentCB2.prototype.a = function() {
          if (this.currentNode && this.currentNode instanceof XMLDocType) {
            return this.attList.apply(this, arguments);
          } else {
            return this.attribute.apply(this, arguments);
          }
        };
        XMLDocumentCB2.prototype.ent = function(name, value) {
          return this.entity(name, value);
        };
        XMLDocumentCB2.prototype.pent = function(name, value) {
          return this.pEntity(name, value);
        };
        XMLDocumentCB2.prototype.not = function(name, value) {
          return this.notation(name, value);
        };
        return XMLDocumentCB2;
      }();
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLStreamWriter.js
var require_XMLStreamWriter = __commonJS({
  "node_modules/xmlbuilder/lib/XMLStreamWriter.js"(exports, module2) {
    (function() {
      var XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStreamWriter, XMLText, XMLWriterBase, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLDeclaration = require_XMLDeclaration();
      XMLDocType = require_XMLDocType();
      XMLCData = require_XMLCData();
      XMLComment = require_XMLComment();
      XMLElement = require_XMLElement();
      XMLRaw = require_XMLRaw();
      XMLText = require_XMLText();
      XMLProcessingInstruction = require_XMLProcessingInstruction();
      XMLDTDAttList = require_XMLDTDAttList();
      XMLDTDElement = require_XMLDTDElement();
      XMLDTDEntity = require_XMLDTDEntity();
      XMLDTDNotation = require_XMLDTDNotation();
      XMLWriterBase = require_XMLWriterBase();
      module2.exports = XMLStreamWriter = function(superClass) {
        extend(XMLStreamWriter2, superClass);
        function XMLStreamWriter2(stream, options2) {
          this.stream = stream;
          XMLStreamWriter2.__super__.constructor.call(this, options2);
        }
        XMLStreamWriter2.prototype.document = function(doc) {
          var child, i, j, len, len1, ref, ref1, results;
          ref = doc.children;
          for (i = 0, len = ref.length; i < len; i++) {
            child = ref[i];
            child.isLastRootNode = false;
          }
          doc.children[doc.children.length - 1].isLastRootNode = true;
          ref1 = doc.children;
          results = [];
          for (j = 0, len1 = ref1.length; j < len1; j++) {
            child = ref1[j];
            switch (false) {
              case !(child instanceof XMLDeclaration):
                results.push(this.declaration(child));
                break;
              case !(child instanceof XMLDocType):
                results.push(this.docType(child));
                break;
              case !(child instanceof XMLComment):
                results.push(this.comment(child));
                break;
              case !(child instanceof XMLProcessingInstruction):
                results.push(this.processingInstruction(child));
                break;
              default:
                results.push(this.element(child));
            }
          }
          return results;
        };
        XMLStreamWriter2.prototype.attribute = function(att) {
          return this.stream.write(" " + att.name + '="' + att.value + '"');
        };
        XMLStreamWriter2.prototype.cdata = function(node, level) {
          return this.stream.write(this.space(level) + "<![CDATA[" + node.text + "]]>" + this.endline(node));
        };
        XMLStreamWriter2.prototype.comment = function(node, level) {
          return this.stream.write(this.space(level) + "<!-- " + node.text + " -->" + this.endline(node));
        };
        XMLStreamWriter2.prototype.declaration = function(node, level) {
          this.stream.write(this.space(level));
          this.stream.write('<?xml version="' + node.version + '"');
          if (node.encoding != null) {
            this.stream.write(' encoding="' + node.encoding + '"');
          }
          if (node.standalone != null) {
            this.stream.write(' standalone="' + node.standalone + '"');
          }
          this.stream.write("?>");
          return this.stream.write(this.endline(node));
        };
        XMLStreamWriter2.prototype.docType = function(node, level) {
          var child, i, len, ref;
          level || (level = 0);
          this.stream.write(this.space(level));
          this.stream.write("<!DOCTYPE " + node.root().name);
          if (node.pubID && node.sysID) {
            this.stream.write(' PUBLIC "' + node.pubID + '" "' + node.sysID + '"');
          } else if (node.sysID) {
            this.stream.write(' SYSTEM "' + node.sysID + '"');
          }
          if (node.children.length > 0) {
            this.stream.write(" [");
            this.stream.write(this.endline(node));
            ref = node.children;
            for (i = 0, len = ref.length; i < len; i++) {
              child = ref[i];
              switch (false) {
                case !(child instanceof XMLDTDAttList):
                  this.dtdAttList(child, level + 1);
                  break;
                case !(child instanceof XMLDTDElement):
                  this.dtdElement(child, level + 1);
                  break;
                case !(child instanceof XMLDTDEntity):
                  this.dtdEntity(child, level + 1);
                  break;
                case !(child instanceof XMLDTDNotation):
                  this.dtdNotation(child, level + 1);
                  break;
                case !(child instanceof XMLCData):
                  this.cdata(child, level + 1);
                  break;
                case !(child instanceof XMLComment):
                  this.comment(child, level + 1);
                  break;
                case !(child instanceof XMLProcessingInstruction):
                  this.processingInstruction(child, level + 1);
                  break;
                default:
                  throw new Error("Unknown DTD node type: " + child.constructor.name);
              }
            }
            this.stream.write("]");
          }
          this.stream.write(">");
          return this.stream.write(this.endline(node));
        };
        XMLStreamWriter2.prototype.element = function(node, level) {
          var att, child, i, len, name, ref, ref1, space;
          level || (level = 0);
          space = this.space(level);
          this.stream.write(space + "<" + node.name);
          ref = node.attributes;
          for (name in ref) {
            if (!hasProp.call(ref, name))
              continue;
            att = ref[name];
            this.attribute(att);
          }
          if (node.children.length === 0 || node.children.every(function(e) {
            return e.value === "";
          })) {
            if (this.allowEmpty) {
              this.stream.write("></" + node.name + ">");
            } else {
              this.stream.write("/>");
            }
          } else if (this.pretty && node.children.length === 1 && node.children[0].value != null) {
            this.stream.write(">");
            this.stream.write(node.children[0].value);
            this.stream.write("</" + node.name + ">");
          } else {
            this.stream.write(">" + this.newline);
            ref1 = node.children;
            for (i = 0, len = ref1.length; i < len; i++) {
              child = ref1[i];
              switch (false) {
                case !(child instanceof XMLCData):
                  this.cdata(child, level + 1);
                  break;
                case !(child instanceof XMLComment):
                  this.comment(child, level + 1);
                  break;
                case !(child instanceof XMLElement):
                  this.element(child, level + 1);
                  break;
                case !(child instanceof XMLRaw):
                  this.raw(child, level + 1);
                  break;
                case !(child instanceof XMLText):
                  this.text(child, level + 1);
                  break;
                case !(child instanceof XMLProcessingInstruction):
                  this.processingInstruction(child, level + 1);
                  break;
                default:
                  throw new Error("Unknown XML node type: " + child.constructor.name);
              }
            }
            this.stream.write(space + "</" + node.name + ">");
          }
          return this.stream.write(this.endline(node));
        };
        XMLStreamWriter2.prototype.processingInstruction = function(node, level) {
          this.stream.write(this.space(level) + "<?" + node.target);
          if (node.value) {
            this.stream.write(" " + node.value);
          }
          return this.stream.write("?>" + this.endline(node));
        };
        XMLStreamWriter2.prototype.raw = function(node, level) {
          return this.stream.write(this.space(level) + node.value + this.endline(node));
        };
        XMLStreamWriter2.prototype.text = function(node, level) {
          return this.stream.write(this.space(level) + node.value + this.endline(node));
        };
        XMLStreamWriter2.prototype.dtdAttList = function(node, level) {
          this.stream.write(this.space(level) + "<!ATTLIST " + node.elementName + " " + node.attributeName + " " + node.attributeType);
          if (node.defaultValueType !== "#DEFAULT") {
            this.stream.write(" " + node.defaultValueType);
          }
          if (node.defaultValue) {
            this.stream.write(' "' + node.defaultValue + '"');
          }
          return this.stream.write(">" + this.endline(node));
        };
        XMLStreamWriter2.prototype.dtdElement = function(node, level) {
          return this.stream.write(this.space(level) + "<!ELEMENT " + node.name + " " + node.value + ">" + this.endline(node));
        };
        XMLStreamWriter2.prototype.dtdEntity = function(node, level) {
          this.stream.write(this.space(level) + "<!ENTITY");
          if (node.pe) {
            this.stream.write(" %");
          }
          this.stream.write(" " + node.name);
          if (node.value) {
            this.stream.write(' "' + node.value + '"');
          } else {
            if (node.pubID && node.sysID) {
              this.stream.write(' PUBLIC "' + node.pubID + '" "' + node.sysID + '"');
            } else if (node.sysID) {
              this.stream.write(' SYSTEM "' + node.sysID + '"');
            }
            if (node.nData) {
              this.stream.write(" NDATA " + node.nData);
            }
          }
          return this.stream.write(">" + this.endline(node));
        };
        XMLStreamWriter2.prototype.dtdNotation = function(node, level) {
          this.stream.write(this.space(level) + "<!NOTATION " + node.name);
          if (node.pubID && node.sysID) {
            this.stream.write(' PUBLIC "' + node.pubID + '" "' + node.sysID + '"');
          } else if (node.pubID) {
            this.stream.write(' PUBLIC "' + node.pubID + '"');
          } else if (node.sysID) {
            this.stream.write(' SYSTEM "' + node.sysID + '"');
          }
          return this.stream.write(">" + this.endline(node));
        };
        XMLStreamWriter2.prototype.endline = function(node) {
          if (!node.isLastRootNode) {
            return this.newline;
          } else {
            return "";
          }
        };
        return XMLStreamWriter2;
      }(XMLWriterBase);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/index.js
var require_lib = __commonJS({
  "node_modules/xmlbuilder/lib/index.js"(exports, module2) {
    (function() {
      var XMLDocument, XMLDocumentCB, XMLStreamWriter, XMLStringWriter, assign, isFunction, ref;
      ref = require_Utility(), assign = ref.assign, isFunction = ref.isFunction;
      XMLDocument = require_XMLDocument();
      XMLDocumentCB = require_XMLDocumentCB();
      XMLStringWriter = require_XMLStringWriter();
      XMLStreamWriter = require_XMLStreamWriter();
      module2.exports.create = function(name, xmldec, doctype, options2) {
        var doc, root;
        if (name == null) {
          throw new Error("Root element needs a name");
        }
        options2 = assign({}, xmldec, doctype, options2);
        doc = new XMLDocument(options2);
        root = doc.element(name);
        if (!options2.headless) {
          doc.declaration(options2);
          if (options2.pubID != null || options2.sysID != null) {
            doc.doctype(options2);
          }
        }
        return root;
      };
      module2.exports.begin = function(options2, onData, onEnd) {
        var ref1;
        if (isFunction(options2)) {
          ref1 = [options2, onData], onData = ref1[0], onEnd = ref1[1];
          options2 = {};
        }
        if (onData) {
          return new XMLDocumentCB(options2, onData, onEnd);
        } else {
          return new XMLDocument(options2);
        }
      };
      module2.exports.stringWriter = function(options2) {
        return new XMLStringWriter(options2);
      };
      module2.exports.streamWriter = function(stream, options2) {
        return new XMLStreamWriter(stream, options2);
      };
    }).call(exports);
  }
});

// node_modules/xmlrpc/lib/date_formatter.js
var require_date_formatter = __commonJS({
  "node_modules/xmlrpc/lib/date_formatter.js"(exports, module2) {
    var DateFormatter = function(opts) {
      this.opts = {};
      this.setOpts(opts);
    };
    DateFormatter.DEFAULT_OPTIONS = {
      colons: true,
      hyphens: false,
      local: true,
      ms: false,
      offset: false
    };
    DateFormatter.ISO8601 = new RegExp("([0-9]{4})([-]?([0-9]{2}))([-]?([0-9]{2}))(T([0-9]{2})(((:?([0-9]{2}))?((:?([0-9]{2}))?(.([0-9]+))?))?)(Z|([+-]([0-9]{2}(:?([0-9]{2}))?)))?)?");
    DateFormatter.prototype.setOpts = function(opts) {
      if (!opts)
        opts = DateFormatter.DEFAULT_OPTIONS;
      var ctx = this;
      Object.keys(DateFormatter.DEFAULT_OPTIONS).forEach(function(k) {
        ctx.opts[k] = opts.hasOwnProperty(k) ? opts[k] : DateFormatter.DEFAULT_OPTIONS[k];
      });
    };
    DateFormatter.prototype.decodeIso8601 = function(time) {
      var dateParts = time.toString().match(DateFormatter.ISO8601);
      if (!dateParts) {
        throw new Error("Expected a ISO8601 datetime but got '" + time + "'");
      }
      var date = [
        [dateParts[1], dateParts[3] || "01", dateParts[5] || "01"].join("-"),
        "T",
        [
          dateParts[7] || "00",
          dateParts[11] || "00",
          dateParts[14] || "00"
        ].join(":"),
        ".",
        dateParts[16] || "000"
      ].join("");
      date += dateParts[17] !== void 0 ? dateParts[17] + (dateParts[19] && dateParts[20] === void 0 ? "00" : "") : DateFormatter.formatCurrentOffset(new Date(date));
      return new Date(date);
    };
    DateFormatter.prototype.encodeIso8601 = function(date) {
      var parts = this.opts.local ? DateFormatter.getLocalDateParts(date) : DateFormatter.getUTCDateParts(date);
      return [
        [parts[0], parts[1], parts[2]].join(this.opts.hyphens ? "-" : ""),
        "T",
        [parts[3], parts[4], parts[5]].join(this.opts.colons ? ":" : ""),
        this.opts.ms ? "." + parts[6] : "",
        this.opts.local ? this.opts.offset ? DateFormatter.formatCurrentOffset(date) : "" : "Z"
      ].join("");
    };
    DateFormatter.getUTCDateParts = function(date) {
      return [
        date.getUTCFullYear(),
        DateFormatter.zeroPad(date.getUTCMonth() + 1, 2),
        DateFormatter.zeroPad(date.getUTCDate(), 2),
        DateFormatter.zeroPad(date.getUTCHours(), 2),
        DateFormatter.zeroPad(date.getUTCMinutes(), 2),
        DateFormatter.zeroPad(date.getUTCSeconds(), 2),
        DateFormatter.zeroPad(date.getUTCMilliseconds(), 3)
      ];
    };
    DateFormatter.getLocalDateParts = function(date) {
      return [
        date.getFullYear(),
        DateFormatter.zeroPad(date.getMonth() + 1, 2),
        DateFormatter.zeroPad(date.getDate(), 2),
        DateFormatter.zeroPad(date.getHours(), 2),
        DateFormatter.zeroPad(date.getMinutes(), 2),
        DateFormatter.zeroPad(date.getSeconds(), 2),
        DateFormatter.zeroPad(date.getMilliseconds(), 3)
      ];
    };
    DateFormatter.zeroPad = function(digit, length) {
      var padded = "" + digit;
      while (padded.length < length) {
        padded = "0" + padded;
      }
      return padded;
    };
    DateFormatter.formatCurrentOffset = function(d) {
      var offset = (d || new Date()).getTimezoneOffset();
      return offset === 0 ? "Z" : [
        offset < 0 ? "+" : "-",
        DateFormatter.zeroPad(Math.abs(Math.floor(offset / 60)), 2),
        ":",
        DateFormatter.zeroPad(Math.abs(offset % 60), 2)
      ].join("");
    };
    module2.exports = new DateFormatter();
  }
});

// node_modules/xmlrpc/lib/customtype.js
var require_customtype = __commonJS({
  "node_modules/xmlrpc/lib/customtype.js"(exports, module2) {
    var CustomType = module2.exports = function(raw) {
      this.raw = raw;
    };
    CustomType.prototype.serialize = function(xml) {
      return xml.ele(this.tagName).txt(this.raw);
    };
    CustomType.prototype.tagName = "customType";
  }
});

// node_modules/xmlrpc/lib/serializer.js
var require_serializer = __commonJS({
  "node_modules/xmlrpc/lib/serializer.js"(exports) {
    var xmlBuilder = require_lib();
    var dateFormatter = require_date_formatter();
    var CustomType = require_customtype();
    exports.serializeMethodCall = function(method, params, encoding) {
      var params = params || [];
      var options2 = { version: "1.0", allowSurrogateChars: true };
      if (encoding) {
        options2.encoding = encoding;
      }
      var xml = xmlBuilder.create("methodCall", options2).ele("methodName").txt(method).up().ele("params");
      params.forEach(function(param) {
        serializeValue(param, xml.ele("param"));
      });
      return xml.doc().toString();
    };
    exports.serializeMethodResponse = function(result) {
      var xml = xmlBuilder.create("methodResponse", { version: "1.0", allowSurrogateChars: true }).ele("params").ele("param");
      serializeValue(result, xml);
      return xml.doc().toString();
    };
    exports.serializeFault = function(fault) {
      var xml = xmlBuilder.create("methodResponse", { version: "1.0", allowSurrogateChars: true }).ele("fault");
      serializeValue(fault, xml);
      return xml.doc().toString();
    };
    function serializeValue(value, xml) {
      var stack = [{ value, xml }], current = null, valueNode = null, next = null;
      while (stack.length > 0) {
        current = stack[stack.length - 1];
        if (current.index !== void 0) {
          next = getNextItemsFrame(current);
          if (next) {
            stack.push(next);
          } else {
            stack.pop();
          }
        } else {
          valueNode = current.xml.ele("value");
          switch (typeof current.value) {
            case "boolean":
              appendBoolean(current.value, valueNode);
              stack.pop();
              break;
            case "string":
              appendString(current.value, valueNode);
              stack.pop();
              break;
            case "number":
              appendNumber(current.value, valueNode);
              stack.pop();
              break;
            case "object":
              if (current.value === null) {
                valueNode.ele("nil");
                stack.pop();
              } else if (current.value instanceof Date) {
                appendDatetime(current.value, valueNode);
                stack.pop();
              } else if (Buffer.isBuffer(current.value)) {
                appendBuffer(current.value, valueNode);
                stack.pop();
              } else if (current.value instanceof CustomType) {
                current.value.serialize(valueNode);
                stack.pop();
              } else {
                if (Array.isArray(current.value)) {
                  current.xml = valueNode.ele("array").ele("data");
                } else {
                  current.xml = valueNode.ele("struct");
                  current.keys = Object.keys(current.value);
                }
                current.index = 0;
                next = getNextItemsFrame(current);
                if (next) {
                  stack.push(next);
                } else {
                  stack.pop();
                }
              }
              break;
            default:
              stack.pop();
              break;
          }
        }
      }
    }
    function getNextItemsFrame(frame) {
      var nextFrame = null;
      if (frame.keys) {
        if (frame.index < frame.keys.length) {
          var key = frame.keys[frame.index++], member = frame.xml.ele("member").ele("name").text(key).up();
          nextFrame = {
            value: frame.value[key],
            xml: member
          };
        }
      } else if (frame.index < frame.value.length) {
        nextFrame = {
          value: frame.value[frame.index],
          xml: frame.xml
        };
        frame.index++;
      }
      return nextFrame;
    }
    function appendBoolean(value, xml) {
      xml.ele("boolean").txt(value ? 1 : 0);
    }
    var illegalChars = /^(?![^<&]*]]>[^<&]*)[^<&]*$/;
    function appendString(value, xml) {
      if (value.length === 0) {
        xml.ele("string");
      } else if (!illegalChars.test(value)) {
        xml.ele("string").d(value);
      } else {
        xml.ele("string").txt(value);
      }
    }
    function appendNumber(value, xml) {
      if (value % 1 == 0) {
        xml.ele("int").txt(value);
      } else {
        xml.ele("double").txt(value);
      }
    }
    function appendDatetime(value, xml) {
      xml.ele("dateTime.iso8601").txt(dateFormatter.encodeIso8601(value));
    }
    function appendBuffer(value, xml) {
      xml.ele("base64").txt(value.toString("base64"));
    }
  }
});

// node_modules/sax/lib/sax.js
var require_sax = __commonJS({
  "node_modules/sax/lib/sax.js"(exports) {
    (function(sax) {
      sax.parser = function(strict, opt) {
        return new SAXParser(strict, opt);
      };
      sax.SAXParser = SAXParser;
      sax.SAXStream = SAXStream;
      sax.createStream = createStream;
      sax.MAX_BUFFER_LENGTH = 64 * 1024;
      var buffers = [
        "comment",
        "sgmlDecl",
        "textNode",
        "tagName",
        "doctype",
        "procInstName",
        "procInstBody",
        "entity",
        "attribName",
        "attribValue",
        "cdata",
        "script"
      ];
      sax.EVENTS = [
        "text",
        "processinginstruction",
        "sgmldeclaration",
        "doctype",
        "comment",
        "opentagstart",
        "attribute",
        "opentag",
        "closetag",
        "opencdata",
        "cdata",
        "closecdata",
        "error",
        "end",
        "ready",
        "script",
        "opennamespace",
        "closenamespace"
      ];
      function SAXParser(strict, opt) {
        if (!(this instanceof SAXParser)) {
          return new SAXParser(strict, opt);
        }
        var parser2 = this;
        clearBuffers(parser2);
        parser2.q = parser2.c = "";
        parser2.bufferCheckPosition = sax.MAX_BUFFER_LENGTH;
        parser2.opt = opt || {};
        parser2.opt.lowercase = parser2.opt.lowercase || parser2.opt.lowercasetags;
        parser2.looseCase = parser2.opt.lowercase ? "toLowerCase" : "toUpperCase";
        parser2.tags = [];
        parser2.closed = parser2.closedRoot = parser2.sawRoot = false;
        parser2.tag = parser2.error = null;
        parser2.strict = !!strict;
        parser2.noscript = !!(strict || parser2.opt.noscript);
        parser2.state = S.BEGIN;
        parser2.strictEntities = parser2.opt.strictEntities;
        parser2.ENTITIES = parser2.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES);
        parser2.attribList = [];
        if (parser2.opt.xmlns) {
          parser2.ns = Object.create(rootNS);
        }
        parser2.trackPosition = parser2.opt.position !== false;
        if (parser2.trackPosition) {
          parser2.position = parser2.line = parser2.column = 0;
        }
        emit(parser2, "onready");
      }
      if (!Object.create) {
        Object.create = function(o) {
          function F() {
          }
          F.prototype = o;
          var newf = new F();
          return newf;
        };
      }
      if (!Object.keys) {
        Object.keys = function(o) {
          var a = [];
          for (var i in o)
            if (o.hasOwnProperty(i))
              a.push(i);
          return a;
        };
      }
      function checkBufferLength(parser2) {
        var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10);
        var maxActual = 0;
        for (var i = 0, l = buffers.length; i < l; i++) {
          var len = parser2[buffers[i]].length;
          if (len > maxAllowed) {
            switch (buffers[i]) {
              case "textNode":
                closeText(parser2);
                break;
              case "cdata":
                emitNode(parser2, "oncdata", parser2.cdata);
                parser2.cdata = "";
                break;
              case "script":
                emitNode(parser2, "onscript", parser2.script);
                parser2.script = "";
                break;
              default:
                error(parser2, "Max buffer length exceeded: " + buffers[i]);
            }
          }
          maxActual = Math.max(maxActual, len);
        }
        var m = sax.MAX_BUFFER_LENGTH - maxActual;
        parser2.bufferCheckPosition = m + parser2.position;
      }
      function clearBuffers(parser2) {
        for (var i = 0, l = buffers.length; i < l; i++) {
          parser2[buffers[i]] = "";
        }
      }
      function flushBuffers(parser2) {
        closeText(parser2);
        if (parser2.cdata !== "") {
          emitNode(parser2, "oncdata", parser2.cdata);
          parser2.cdata = "";
        }
        if (parser2.script !== "") {
          emitNode(parser2, "onscript", parser2.script);
          parser2.script = "";
        }
      }
      SAXParser.prototype = {
        end: function() {
          end(this);
        },
        write,
        resume: function() {
          this.error = null;
          return this;
        },
        close: function() {
          return this.write(null);
        },
        flush: function() {
          flushBuffers(this);
        }
      };
      var Stream;
      try {
        Stream = require("stream").Stream;
      } catch (ex) {
        Stream = function() {
        };
      }
      var streamWraps = sax.EVENTS.filter(function(ev) {
        return ev !== "error" && ev !== "end";
      });
      function createStream(strict, opt) {
        return new SAXStream(strict, opt);
      }
      function SAXStream(strict, opt) {
        if (!(this instanceof SAXStream)) {
          return new SAXStream(strict, opt);
        }
        Stream.apply(this);
        this._parser = new SAXParser(strict, opt);
        this.writable = true;
        this.readable = true;
        var me = this;
        this._parser.onend = function() {
          me.emit("end");
        };
        this._parser.onerror = function(er) {
          me.emit("error", er);
          me._parser.error = null;
        };
        this._decoder = null;
        streamWraps.forEach(function(ev) {
          Object.defineProperty(me, "on" + ev, {
            get: function() {
              return me._parser["on" + ev];
            },
            set: function(h) {
              if (!h) {
                me.removeAllListeners(ev);
                me._parser["on" + ev] = h;
                return h;
              }
              me.on(ev, h);
            },
            enumerable: true,
            configurable: false
          });
        });
      }
      SAXStream.prototype = Object.create(Stream.prototype, {
        constructor: {
          value: SAXStream
        }
      });
      SAXStream.prototype.write = function(data) {
        if (typeof Buffer === "function" && typeof Buffer.isBuffer === "function" && Buffer.isBuffer(data)) {
          if (!this._decoder) {
            var SD = require("string_decoder").StringDecoder;
            this._decoder = new SD("utf8");
          }
          data = this._decoder.write(data);
        }
        this._parser.write(data.toString());
        this.emit("data", data);
        return true;
      };
      SAXStream.prototype.end = function(chunk) {
        if (chunk && chunk.length) {
          this.write(chunk);
        }
        this._parser.end();
        return true;
      };
      SAXStream.prototype.on = function(ev, handler) {
        var me = this;
        if (!me._parser["on" + ev] && streamWraps.indexOf(ev) !== -1) {
          me._parser["on" + ev] = function() {
            var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments);
            args.splice(0, 0, ev);
            me.emit.apply(me, args);
          };
        }
        return Stream.prototype.on.call(me, ev, handler);
      };
      var CDATA = "[CDATA[";
      var DOCTYPE = "DOCTYPE";
      var XML_NAMESPACE = "http://www.w3.org/XML/1998/namespace";
      var XMLNS_NAMESPACE = "http://www.w3.org/2000/xmlns/";
      var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE };
      var nameStart = /[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;
      var nameBody = /[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;
      var entityStart = /[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;
      var entityBody = /[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;
      function isWhitespace(c) {
        return c === " " || c === "\n" || c === "\r" || c === "	";
      }
      function isQuote(c) {
        return c === '"' || c === "'";
      }
      function isAttribEnd(c) {
        return c === ">" || isWhitespace(c);
      }
      function isMatch(regex, c) {
        return regex.test(c);
      }
      function notMatch(regex, c) {
        return !isMatch(regex, c);
      }
      var S = 0;
      sax.STATE = {
        BEGIN: S++,
        BEGIN_WHITESPACE: S++,
        TEXT: S++,
        TEXT_ENTITY: S++,
        OPEN_WAKA: S++,
        SGML_DECL: S++,
        SGML_DECL_QUOTED: S++,
        DOCTYPE: S++,
        DOCTYPE_QUOTED: S++,
        DOCTYPE_DTD: S++,
        DOCTYPE_DTD_QUOTED: S++,
        COMMENT_STARTING: S++,
        COMMENT: S++,
        COMMENT_ENDING: S++,
        COMMENT_ENDED: S++,
        CDATA: S++,
        CDATA_ENDING: S++,
        CDATA_ENDING_2: S++,
        PROC_INST: S++,
        PROC_INST_BODY: S++,
        PROC_INST_ENDING: S++,
        OPEN_TAG: S++,
        OPEN_TAG_SLASH: S++,
        ATTRIB: S++,
        ATTRIB_NAME: S++,
        ATTRIB_NAME_SAW_WHITE: S++,
        ATTRIB_VALUE: S++,
        ATTRIB_VALUE_QUOTED: S++,
        ATTRIB_VALUE_CLOSED: S++,
        ATTRIB_VALUE_UNQUOTED: S++,
        ATTRIB_VALUE_ENTITY_Q: S++,
        ATTRIB_VALUE_ENTITY_U: S++,
        CLOSE_TAG: S++,
        CLOSE_TAG_SAW_WHITE: S++,
        SCRIPT: S++,
        SCRIPT_ENDING: S++
      };
      sax.XML_ENTITIES = {
        "amp": "&",
        "gt": ">",
        "lt": "<",
        "quot": '"',
        "apos": "'"
      };
      sax.ENTITIES = {
        "amp": "&",
        "gt": ">",
        "lt": "<",
        "quot": '"',
        "apos": "'",
        "AElig": 198,
        "Aacute": 193,
        "Acirc": 194,
        "Agrave": 192,
        "Aring": 197,
        "Atilde": 195,
        "Auml": 196,
        "Ccedil": 199,
        "ETH": 208,
        "Eacute": 201,
        "Ecirc": 202,
        "Egrave": 200,
        "Euml": 203,
        "Iacute": 205,
        "Icirc": 206,
        "Igrave": 204,
        "Iuml": 207,
        "Ntilde": 209,
        "Oacute": 211,
        "Ocirc": 212,
        "Ograve": 210,
        "Oslash": 216,
        "Otilde": 213,
        "Ouml": 214,
        "THORN": 222,
        "Uacute": 218,
        "Ucirc": 219,
        "Ugrave": 217,
        "Uuml": 220,
        "Yacute": 221,
        "aacute": 225,
        "acirc": 226,
        "aelig": 230,
        "agrave": 224,
        "aring": 229,
        "atilde": 227,
        "auml": 228,
        "ccedil": 231,
        "eacute": 233,
        "ecirc": 234,
        "egrave": 232,
        "eth": 240,
        "euml": 235,
        "iacute": 237,
        "icirc": 238,
        "igrave": 236,
        "iuml": 239,
        "ntilde": 241,
        "oacute": 243,
        "ocirc": 244,
        "ograve": 242,
        "oslash": 248,
        "otilde": 245,
        "ouml": 246,
        "szlig": 223,
        "thorn": 254,
        "uacute": 250,
        "ucirc": 251,
        "ugrave": 249,
        "uuml": 252,
        "yacute": 253,
        "yuml": 255,
        "copy": 169,
        "reg": 174,
        "nbsp": 160,
        "iexcl": 161,
        "cent": 162,
        "pound": 163,
        "curren": 164,
        "yen": 165,
        "brvbar": 166,
        "sect": 167,
        "uml": 168,
        "ordf": 170,
        "laquo": 171,
        "not": 172,
        "shy": 173,
        "macr": 175,
        "deg": 176,
        "plusmn": 177,
        "sup1": 185,
        "sup2": 178,
        "sup3": 179,
        "acute": 180,
        "micro": 181,
        "para": 182,
        "middot": 183,
        "cedil": 184,
        "ordm": 186,
        "raquo": 187,
        "frac14": 188,
        "frac12": 189,
        "frac34": 190,
        "iquest": 191,
        "times": 215,
        "divide": 247,
        "OElig": 338,
        "oelig": 339,
        "Scaron": 352,
        "scaron": 353,
        "Yuml": 376,
        "fnof": 402,
        "circ": 710,
        "tilde": 732,
        "Alpha": 913,
        "Beta": 914,
        "Gamma": 915,
        "Delta": 916,
        "Epsilon": 917,
        "Zeta": 918,
        "Eta": 919,
        "Theta": 920,
        "Iota": 921,
        "Kappa": 922,
        "Lambda": 923,
        "Mu": 924,
        "Nu": 925,
        "Xi": 926,
        "Omicron": 927,
        "Pi": 928,
        "Rho": 929,
        "Sigma": 931,
        "Tau": 932,
        "Upsilon": 933,
        "Phi": 934,
        "Chi": 935,
        "Psi": 936,
        "Omega": 937,
        "alpha": 945,
        "beta": 946,
        "gamma": 947,
        "delta": 948,
        "epsilon": 949,
        "zeta": 950,
        "eta": 951,
        "theta": 952,
        "iota": 953,
        "kappa": 954,
        "lambda": 955,
        "mu": 956,
        "nu": 957,
        "xi": 958,
        "omicron": 959,
        "pi": 960,
        "rho": 961,
        "sigmaf": 962,
        "sigma": 963,
        "tau": 964,
        "upsilon": 965,
        "phi": 966,
        "chi": 967,
        "psi": 968,
        "omega": 969,
        "thetasym": 977,
        "upsih": 978,
        "piv": 982,
        "ensp": 8194,
        "emsp": 8195,
        "thinsp": 8201,
        "zwnj": 8204,
        "zwj": 8205,
        "lrm": 8206,
        "rlm": 8207,
        "ndash": 8211,
        "mdash": 8212,
        "lsquo": 8216,
        "rsquo": 8217,
        "sbquo": 8218,
        "ldquo": 8220,
        "rdquo": 8221,
        "bdquo": 8222,
        "dagger": 8224,
        "Dagger": 8225,
        "bull": 8226,
        "hellip": 8230,
        "permil": 8240,
        "prime": 8242,
        "Prime": 8243,
        "lsaquo": 8249,
        "rsaquo": 8250,
        "oline": 8254,
        "frasl": 8260,
        "euro": 8364,
        "image": 8465,
        "weierp": 8472,
        "real": 8476,
        "trade": 8482,
        "alefsym": 8501,
        "larr": 8592,
        "uarr": 8593,
        "rarr": 8594,
        "darr": 8595,
        "harr": 8596,
        "crarr": 8629,
        "lArr": 8656,
        "uArr": 8657,
        "rArr": 8658,
        "dArr": 8659,
        "hArr": 8660,
        "forall": 8704,
        "part": 8706,
        "exist": 8707,
        "empty": 8709,
        "nabla": 8711,
        "isin": 8712,
        "notin": 8713,
        "ni": 8715,
        "prod": 8719,
        "sum": 8721,
        "minus": 8722,
        "lowast": 8727,
        "radic": 8730,
        "prop": 8733,
        "infin": 8734,
        "ang": 8736,
        "and": 8743,
        "or": 8744,
        "cap": 8745,
        "cup": 8746,
        "int": 8747,
        "there4": 8756,
        "sim": 8764,
        "cong": 8773,
        "asymp": 8776,
        "ne": 8800,
        "equiv": 8801,
        "le": 8804,
        "ge": 8805,
        "sub": 8834,
        "sup": 8835,
        "nsub": 8836,
        "sube": 8838,
        "supe": 8839,
        "oplus": 8853,
        "otimes": 8855,
        "perp": 8869,
        "sdot": 8901,
        "lceil": 8968,
        "rceil": 8969,
        "lfloor": 8970,
        "rfloor": 8971,
        "lang": 9001,
        "rang": 9002,
        "loz": 9674,
        "spades": 9824,
        "clubs": 9827,
        "hearts": 9829,
        "diams": 9830
      };
      Object.keys(sax.ENTITIES).forEach(function(key) {
        var e = sax.ENTITIES[key];
        var s2 = typeof e === "number" ? String.fromCharCode(e) : e;
        sax.ENTITIES[key] = s2;
      });
      for (var s in sax.STATE) {
        sax.STATE[sax.STATE[s]] = s;
      }
      S = sax.STATE;
      function emit(parser2, event, data) {
        parser2[event] && parser2[event](data);
      }
      function emitNode(parser2, nodeType, data) {
        if (parser2.textNode)
          closeText(parser2);
        emit(parser2, nodeType, data);
      }
      function closeText(parser2) {
        parser2.textNode = textopts(parser2.opt, parser2.textNode);
        if (parser2.textNode)
          emit(parser2, "ontext", parser2.textNode);
        parser2.textNode = "";
      }
      function textopts(opt, text) {
        if (opt.trim)
          text = text.trim();
        if (opt.normalize)
          text = text.replace(/\s+/g, " ");
        return text;
      }
      function error(parser2, er) {
        closeText(parser2);
        if (parser2.trackPosition) {
          er += "\nLine: " + parser2.line + "\nColumn: " + parser2.column + "\nChar: " + parser2.c;
        }
        er = new Error(er);
        parser2.error = er;
        emit(parser2, "onerror", er);
        return parser2;
      }
      function end(parser2) {
        if (parser2.sawRoot && !parser2.closedRoot)
          strictFail(parser2, "Unclosed root tag");
        if (parser2.state !== S.BEGIN && parser2.state !== S.BEGIN_WHITESPACE && parser2.state !== S.TEXT) {
          error(parser2, "Unexpected end");
        }
        closeText(parser2);
        parser2.c = "";
        parser2.closed = true;
        emit(parser2, "onend");
        SAXParser.call(parser2, parser2.strict, parser2.opt);
        return parser2;
      }
      function strictFail(parser2, message) {
        if (typeof parser2 !== "object" || !(parser2 instanceof SAXParser)) {
          throw new Error("bad call to strictFail");
        }
        if (parser2.strict) {
          error(parser2, message);
        }
      }
      function newTag(parser2) {
        if (!parser2.strict)
          parser2.tagName = parser2.tagName[parser2.looseCase]();
        var parent = parser2.tags[parser2.tags.length - 1] || parser2;
        var tag = parser2.tag = { name: parser2.tagName, attributes: {} };
        if (parser2.opt.xmlns) {
          tag.ns = parent.ns;
        }
        parser2.attribList.length = 0;
        emitNode(parser2, "onopentagstart", tag);
      }
      function qname(name, attribute) {
        var i = name.indexOf(":");
        var qualName = i < 0 ? ["", name] : name.split(":");
        var prefix = qualName[0];
        var local = qualName[1];
        if (attribute && name === "xmlns") {
          prefix = "xmlns";
          local = "";
        }
        return { prefix, local };
      }
      function attrib(parser2) {
        if (!parser2.strict) {
          parser2.attribName = parser2.attribName[parser2.looseCase]();
        }
        if (parser2.attribList.indexOf(parser2.attribName) !== -1 || parser2.tag.attributes.hasOwnProperty(parser2.attribName)) {
          parser2.attribName = parser2.attribValue = "";
          return;
        }
        if (parser2.opt.xmlns) {
          var qn = qname(parser2.attribName, true);
          var prefix = qn.prefix;
          var local = qn.local;
          if (prefix === "xmlns") {
            if (local === "xml" && parser2.attribValue !== XML_NAMESPACE) {
              strictFail(parser2, "xml: prefix must be bound to " + XML_NAMESPACE + "\nActual: " + parser2.attribValue);
            } else if (local === "xmlns" && parser2.attribValue !== XMLNS_NAMESPACE) {
              strictFail(parser2, "xmlns: prefix must be bound to " + XMLNS_NAMESPACE + "\nActual: " + parser2.attribValue);
            } else {
              var tag = parser2.tag;
              var parent = parser2.tags[parser2.tags.length - 1] || parser2;
              if (tag.ns === parent.ns) {
                tag.ns = Object.create(parent.ns);
              }
              tag.ns[local] = parser2.attribValue;
            }
          }
          parser2.attribList.push([parser2.attribName, parser2.attribValue]);
        } else {
          parser2.tag.attributes[parser2.attribName] = parser2.attribValue;
          emitNode(parser2, "onattribute", {
            name: parser2.attribName,
            value: parser2.attribValue
          });
        }
        parser2.attribName = parser2.attribValue = "";
      }
      function openTag(parser2, selfClosing) {
        if (parser2.opt.xmlns) {
          var tag = parser2.tag;
          var qn = qname(parser2.tagName);
          tag.prefix = qn.prefix;
          tag.local = qn.local;
          tag.uri = tag.ns[qn.prefix] || "";
          if (tag.prefix && !tag.uri) {
            strictFail(parser2, "Unbound namespace prefix: " + JSON.stringify(parser2.tagName));
            tag.uri = qn.prefix;
          }
          var parent = parser2.tags[parser2.tags.length - 1] || parser2;
          if (tag.ns && parent.ns !== tag.ns) {
            Object.keys(tag.ns).forEach(function(p) {
              emitNode(parser2, "onopennamespace", {
                prefix: p,
                uri: tag.ns[p]
              });
            });
          }
          for (var i = 0, l = parser2.attribList.length; i < l; i++) {
            var nv = parser2.attribList[i];
            var name = nv[0];
            var value = nv[1];
            var qualName = qname(name, true);
            var prefix = qualName.prefix;
            var local = qualName.local;
            var uri = prefix === "" ? "" : tag.ns[prefix] || "";
            var a = {
              name,
              value,
              prefix,
              local,
              uri
            };
            if (prefix && prefix !== "xmlns" && !uri) {
              strictFail(parser2, "Unbound namespace prefix: " + JSON.stringify(prefix));
              a.uri = prefix;
            }
            parser2.tag.attributes[name] = a;
            emitNode(parser2, "onattribute", a);
          }
          parser2.attribList.length = 0;
        }
        parser2.tag.isSelfClosing = !!selfClosing;
        parser2.sawRoot = true;
        parser2.tags.push(parser2.tag);
        emitNode(parser2, "onopentag", parser2.tag);
        if (!selfClosing) {
          if (!parser2.noscript && parser2.tagName.toLowerCase() === "script") {
            parser2.state = S.SCRIPT;
          } else {
            parser2.state = S.TEXT;
          }
          parser2.tag = null;
          parser2.tagName = "";
        }
        parser2.attribName = parser2.attribValue = "";
        parser2.attribList.length = 0;
      }
      function closeTag(parser2) {
        if (!parser2.tagName) {
          strictFail(parser2, "Weird empty close tag.");
          parser2.textNode += "</>";
          parser2.state = S.TEXT;
          return;
        }
        if (parser2.script) {
          if (parser2.tagName !== "script") {
            parser2.script += "</" + parser2.tagName + ">";
            parser2.tagName = "";
            parser2.state = S.SCRIPT;
            return;
          }
          emitNode(parser2, "onscript", parser2.script);
          parser2.script = "";
        }
        var t = parser2.tags.length;
        var tagName = parser2.tagName;
        if (!parser2.strict) {
          tagName = tagName[parser2.looseCase]();
        }
        var closeTo = tagName;
        while (t--) {
          var close = parser2.tags[t];
          if (close.name !== closeTo) {
            strictFail(parser2, "Unexpected close tag");
          } else {
            break;
          }
        }
        if (t < 0) {
          strictFail(parser2, "Unmatched closing tag: " + parser2.tagName);
          parser2.textNode += "</" + parser2.tagName + ">";
          parser2.state = S.TEXT;
          return;
        }
        parser2.tagName = tagName;
        var s2 = parser2.tags.length;
        while (s2-- > t) {
          var tag = parser2.tag = parser2.tags.pop();
          parser2.tagName = parser2.tag.name;
          emitNode(parser2, "onclosetag", parser2.tagName);
          var x = {};
          for (var i in tag.ns) {
            x[i] = tag.ns[i];
          }
          var parent = parser2.tags[parser2.tags.length - 1] || parser2;
          if (parser2.opt.xmlns && tag.ns !== parent.ns) {
            Object.keys(tag.ns).forEach(function(p) {
              var n = tag.ns[p];
              emitNode(parser2, "onclosenamespace", { prefix: p, uri: n });
            });
          }
        }
        if (t === 0)
          parser2.closedRoot = true;
        parser2.tagName = parser2.attribValue = parser2.attribName = "";
        parser2.attribList.length = 0;
        parser2.state = S.TEXT;
      }
      function parseEntity(parser2) {
        var entity = parser2.entity;
        var entityLC = entity.toLowerCase();
        var num;
        var numStr = "";
        if (parser2.ENTITIES[entity]) {
          return parser2.ENTITIES[entity];
        }
        if (parser2.ENTITIES[entityLC]) {
          return parser2.ENTITIES[entityLC];
        }
        entity = entityLC;
        if (entity.charAt(0) === "#") {
          if (entity.charAt(1) === "x") {
            entity = entity.slice(2);
            num = parseInt(entity, 16);
            numStr = num.toString(16);
          } else {
            entity = entity.slice(1);
            num = parseInt(entity, 10);
            numStr = num.toString(10);
          }
        }
        entity = entity.replace(/^0+/, "");
        if (isNaN(num) || numStr.toLowerCase() !== entity) {
          strictFail(parser2, "Invalid character entity");
          return "&" + parser2.entity + ";";
        }
        return String.fromCodePoint(num);
      }
      function beginWhiteSpace(parser2, c) {
        if (c === "<") {
          parser2.state = S.OPEN_WAKA;
          parser2.startTagPosition = parser2.position;
        } else if (!isWhitespace(c)) {
          strictFail(parser2, "Non-whitespace before first tag.");
          parser2.textNode = c;
          parser2.state = S.TEXT;
        }
      }
      function charAt(chunk, i) {
        var result = "";
        if (i < chunk.length) {
          result = chunk.charAt(i);
        }
        return result;
      }
      function write(chunk) {
        var parser2 = this;
        if (this.error) {
          throw this.error;
        }
        if (parser2.closed) {
          return error(parser2, "Cannot write after close. Assign an onready handler.");
        }
        if (chunk === null) {
          return end(parser2);
        }
        if (typeof chunk === "object") {
          chunk = chunk.toString();
        }
        var i = 0;
        var c = "";
        while (true) {
          c = charAt(chunk, i++);
          parser2.c = c;
          if (!c) {
            break;
          }
          if (parser2.trackPosition) {
            parser2.position++;
            if (c === "\n") {
              parser2.line++;
              parser2.column = 0;
            } else {
              parser2.column++;
            }
          }
          switch (parser2.state) {
            case S.BEGIN:
              parser2.state = S.BEGIN_WHITESPACE;
              if (c === "\uFEFF") {
                continue;
              }
              beginWhiteSpace(parser2, c);
              continue;
            case S.BEGIN_WHITESPACE:
              beginWhiteSpace(parser2, c);
              continue;
            case S.TEXT:
              if (parser2.sawRoot && !parser2.closedRoot) {
                var starti = i - 1;
                while (c && c !== "<" && c !== "&") {
                  c = charAt(chunk, i++);
                  if (c && parser2.trackPosition) {
                    parser2.position++;
                    if (c === "\n") {
                      parser2.line++;
                      parser2.column = 0;
                    } else {
                      parser2.column++;
                    }
                  }
                }
                parser2.textNode += chunk.substring(starti, i - 1);
              }
              if (c === "<" && !(parser2.sawRoot && parser2.closedRoot && !parser2.strict)) {
                parser2.state = S.OPEN_WAKA;
                parser2.startTagPosition = parser2.position;
              } else {
                if (!isWhitespace(c) && (!parser2.sawRoot || parser2.closedRoot)) {
                  strictFail(parser2, "Text data outside of root node.");
                }
                if (c === "&") {
                  parser2.state = S.TEXT_ENTITY;
                } else {
                  parser2.textNode += c;
                }
              }
              continue;
            case S.SCRIPT:
              if (c === "<") {
                parser2.state = S.SCRIPT_ENDING;
              } else {
                parser2.script += c;
              }
              continue;
            case S.SCRIPT_ENDING:
              if (c === "/") {
                parser2.state = S.CLOSE_TAG;
              } else {
                parser2.script += "<" + c;
                parser2.state = S.SCRIPT;
              }
              continue;
            case S.OPEN_WAKA:
              if (c === "!") {
                parser2.state = S.SGML_DECL;
                parser2.sgmlDecl = "";
              } else if (isWhitespace(c)) {
              } else if (isMatch(nameStart, c)) {
                parser2.state = S.OPEN_TAG;
                parser2.tagName = c;
              } else if (c === "/") {
                parser2.state = S.CLOSE_TAG;
                parser2.tagName = "";
              } else if (c === "?") {
                parser2.state = S.PROC_INST;
                parser2.procInstName = parser2.procInstBody = "";
              } else {
                strictFail(parser2, "Unencoded <");
                if (parser2.startTagPosition + 1 < parser2.position) {
                  var pad = parser2.position - parser2.startTagPosition;
                  c = new Array(pad).join(" ") + c;
                }
                parser2.textNode += "<" + c;
                parser2.state = S.TEXT;
              }
              continue;
            case S.SGML_DECL:
              if ((parser2.sgmlDecl + c).toUpperCase() === CDATA) {
                emitNode(parser2, "onopencdata");
                parser2.state = S.CDATA;
                parser2.sgmlDecl = "";
                parser2.cdata = "";
              } else if (parser2.sgmlDecl + c === "--") {
                parser2.state = S.COMMENT;
                parser2.comment = "";
                parser2.sgmlDecl = "";
              } else if ((parser2.sgmlDecl + c).toUpperCase() === DOCTYPE) {
                parser2.state = S.DOCTYPE;
                if (parser2.doctype || parser2.sawRoot) {
                  strictFail(parser2, "Inappropriately located doctype declaration");
                }
                parser2.doctype = "";
                parser2.sgmlDecl = "";
              } else if (c === ">") {
                emitNode(parser2, "onsgmldeclaration", parser2.sgmlDecl);
                parser2.sgmlDecl = "";
                parser2.state = S.TEXT;
              } else if (isQuote(c)) {
                parser2.state = S.SGML_DECL_QUOTED;
                parser2.sgmlDecl += c;
              } else {
                parser2.sgmlDecl += c;
              }
              continue;
            case S.SGML_DECL_QUOTED:
              if (c === parser2.q) {
                parser2.state = S.SGML_DECL;
                parser2.q = "";
              }
              parser2.sgmlDecl += c;
              continue;
            case S.DOCTYPE:
              if (c === ">") {
                parser2.state = S.TEXT;
                emitNode(parser2, "ondoctype", parser2.doctype);
                parser2.doctype = true;
              } else {
                parser2.doctype += c;
                if (c === "[") {
                  parser2.state = S.DOCTYPE_DTD;
                } else if (isQuote(c)) {
                  parser2.state = S.DOCTYPE_QUOTED;
                  parser2.q = c;
                }
              }
              continue;
            case S.DOCTYPE_QUOTED:
              parser2.doctype += c;
              if (c === parser2.q) {
                parser2.q = "";
                parser2.state = S.DOCTYPE;
              }
              continue;
            case S.DOCTYPE_DTD:
              parser2.doctype += c;
              if (c === "]") {
                parser2.state = S.DOCTYPE;
              } else if (isQuote(c)) {
                parser2.state = S.DOCTYPE_DTD_QUOTED;
                parser2.q = c;
              }
              continue;
            case S.DOCTYPE_DTD_QUOTED:
              parser2.doctype += c;
              if (c === parser2.q) {
                parser2.state = S.DOCTYPE_DTD;
                parser2.q = "";
              }
              continue;
            case S.COMMENT:
              if (c === "-") {
                parser2.state = S.COMMENT_ENDING;
              } else {
                parser2.comment += c;
              }
              continue;
            case S.COMMENT_ENDING:
              if (c === "-") {
                parser2.state = S.COMMENT_ENDED;
                parser2.comment = textopts(parser2.opt, parser2.comment);
                if (parser2.comment) {
                  emitNode(parser2, "oncomment", parser2.comment);
                }
                parser2.comment = "";
              } else {
                parser2.comment += "-" + c;
                parser2.state = S.COMMENT;
              }
              continue;
            case S.COMMENT_ENDED:
              if (c !== ">") {
                strictFail(parser2, "Malformed comment");
                parser2.comment += "--" + c;
                parser2.state = S.COMMENT;
              } else {
                parser2.state = S.TEXT;
              }
              continue;
            case S.CDATA:
              if (c === "]") {
                parser2.state = S.CDATA_ENDING;
              } else {
                parser2.cdata += c;
              }
              continue;
            case S.CDATA_ENDING:
              if (c === "]") {
                parser2.state = S.CDATA_ENDING_2;
              } else {
                parser2.cdata += "]" + c;
                parser2.state = S.CDATA;
              }
              continue;
            case S.CDATA_ENDING_2:
              if (c === ">") {
                if (parser2.cdata) {
                  emitNode(parser2, "oncdata", parser2.cdata);
                }
                emitNode(parser2, "onclosecdata");
                parser2.cdata = "";
                parser2.state = S.TEXT;
              } else if (c === "]") {
                parser2.cdata += "]";
              } else {
                parser2.cdata += "]]" + c;
                parser2.state = S.CDATA;
              }
              continue;
            case S.PROC_INST:
              if (c === "?") {
                parser2.state = S.PROC_INST_ENDING;
              } else if (isWhitespace(c)) {
                parser2.state = S.PROC_INST_BODY;
              } else {
                parser2.procInstName += c;
              }
              continue;
            case S.PROC_INST_BODY:
              if (!parser2.procInstBody && isWhitespace(c)) {
                continue;
              } else if (c === "?") {
                parser2.state = S.PROC_INST_ENDING;
              } else {
                parser2.procInstBody += c;
              }
              continue;
            case S.PROC_INST_ENDING:
              if (c === ">") {
                emitNode(parser2, "onprocessinginstruction", {
                  name: parser2.procInstName,
                  body: parser2.procInstBody
                });
                parser2.procInstName = parser2.procInstBody = "";
                parser2.state = S.TEXT;
              } else {
                parser2.procInstBody += "?" + c;
                parser2.state = S.PROC_INST_BODY;
              }
              continue;
            case S.OPEN_TAG:
              if (isMatch(nameBody, c)) {
                parser2.tagName += c;
              } else {
                newTag(parser2);
                if (c === ">") {
                  openTag(parser2);
                } else if (c === "/") {
                  parser2.state = S.OPEN_TAG_SLASH;
                } else {
                  if (!isWhitespace(c)) {
                    strictFail(parser2, "Invalid character in tag name");
                  }
                  parser2.state = S.ATTRIB;
                }
              }
              continue;
            case S.OPEN_TAG_SLASH:
              if (c === ">") {
                openTag(parser2, true);
                closeTag(parser2);
              } else {
                strictFail(parser2, "Forward-slash in opening tag not followed by >");
                parser2.state = S.ATTRIB;
              }
              continue;
            case S.ATTRIB:
              if (isWhitespace(c)) {
                continue;
              } else if (c === ">") {
                openTag(parser2);
              } else if (c === "/") {
                parser2.state = S.OPEN_TAG_SLASH;
              } else if (isMatch(nameStart, c)) {
                parser2.attribName = c;
                parser2.attribValue = "";
                parser2.state = S.ATTRIB_NAME;
              } else {
                strictFail(parser2, "Invalid attribute name");
              }
              continue;
            case S.ATTRIB_NAME:
              if (c === "=") {
                parser2.state = S.ATTRIB_VALUE;
              } else if (c === ">") {
                strictFail(parser2, "Attribute without value");
                parser2.attribValue = parser2.attribName;
                attrib(parser2);
                openTag(parser2);
              } else if (isWhitespace(c)) {
                parser2.state = S.ATTRIB_NAME_SAW_WHITE;
              } else if (isMatch(nameBody, c)) {
                parser2.attribName += c;
              } else {
                strictFail(parser2, "Invalid attribute name");
              }
              continue;
            case S.ATTRIB_NAME_SAW_WHITE:
              if (c === "=") {
                parser2.state = S.ATTRIB_VALUE;
              } else if (isWhitespace(c)) {
                continue;
              } else {
                strictFail(parser2, "Attribute without value");
                parser2.tag.attributes[parser2.attribName] = "";
                parser2.attribValue = "";
                emitNode(parser2, "onattribute", {
                  name: parser2.attribName,
                  value: ""
                });
                parser2.attribName = "";
                if (c === ">") {
                  openTag(parser2);
                } else if (isMatch(nameStart, c)) {
                  parser2.attribName = c;
                  parser2.state = S.ATTRIB_NAME;
                } else {
                  strictFail(parser2, "Invalid attribute name");
                  parser2.state = S.ATTRIB;
                }
              }
              continue;
            case S.ATTRIB_VALUE:
              if (isWhitespace(c)) {
                continue;
              } else if (isQuote(c)) {
                parser2.q = c;
                parser2.state = S.ATTRIB_VALUE_QUOTED;
              } else {
                strictFail(parser2, "Unquoted attribute value");
                parser2.state = S.ATTRIB_VALUE_UNQUOTED;
                parser2.attribValue = c;
              }
              continue;
            case S.ATTRIB_VALUE_QUOTED:
              if (c !== parser2.q) {
                if (c === "&") {
                  parser2.state = S.ATTRIB_VALUE_ENTITY_Q;
                } else {
                  parser2.attribValue += c;
                }
                continue;
              }
              attrib(parser2);
              parser2.q = "";
              parser2.state = S.ATTRIB_VALUE_CLOSED;
              continue;
            case S.ATTRIB_VALUE_CLOSED:
              if (isWhitespace(c)) {
                parser2.state = S.ATTRIB;
              } else if (c === ">") {
                openTag(parser2);
              } else if (c === "/") {
                parser2.state = S.OPEN_TAG_SLASH;
              } else if (isMatch(nameStart, c)) {
                strictFail(parser2, "No whitespace between attributes");
                parser2.attribName = c;
                parser2.attribValue = "";
                parser2.state = S.ATTRIB_NAME;
              } else {
                strictFail(parser2, "Invalid attribute name");
              }
              continue;
            case S.ATTRIB_VALUE_UNQUOTED:
              if (!isAttribEnd(c)) {
                if (c === "&") {
                  parser2.state = S.ATTRIB_VALUE_ENTITY_U;
                } else {
                  parser2.attribValue += c;
                }
                continue;
              }
              attrib(parser2);
              if (c === ">") {
                openTag(parser2);
              } else {
                parser2.state = S.ATTRIB;
              }
              continue;
            case S.CLOSE_TAG:
              if (!parser2.tagName) {
                if (isWhitespace(c)) {
                  continue;
                } else if (notMatch(nameStart, c)) {
                  if (parser2.script) {
                    parser2.script += "</" + c;
                    parser2.state = S.SCRIPT;
                  } else {
                    strictFail(parser2, "Invalid tagname in closing tag.");
                  }
                } else {
                  parser2.tagName = c;
                }
              } else if (c === ">") {
                closeTag(parser2);
              } else if (isMatch(nameBody, c)) {
                parser2.tagName += c;
              } else if (parser2.script) {
                parser2.script += "</" + parser2.tagName;
                parser2.tagName = "";
                parser2.state = S.SCRIPT;
              } else {
                if (!isWhitespace(c)) {
                  strictFail(parser2, "Invalid tagname in closing tag");
                }
                parser2.state = S.CLOSE_TAG_SAW_WHITE;
              }
              continue;
            case S.CLOSE_TAG_SAW_WHITE:
              if (isWhitespace(c)) {
                continue;
              }
              if (c === ">") {
                closeTag(parser2);
              } else {
                strictFail(parser2, "Invalid characters in closing tag");
              }
              continue;
            case S.TEXT_ENTITY:
            case S.ATTRIB_VALUE_ENTITY_Q:
            case S.ATTRIB_VALUE_ENTITY_U:
              var returnState;
              var buffer;
              switch (parser2.state) {
                case S.TEXT_ENTITY:
                  returnState = S.TEXT;
                  buffer = "textNode";
                  break;
                case S.ATTRIB_VALUE_ENTITY_Q:
                  returnState = S.ATTRIB_VALUE_QUOTED;
                  buffer = "attribValue";
                  break;
                case S.ATTRIB_VALUE_ENTITY_U:
                  returnState = S.ATTRIB_VALUE_UNQUOTED;
                  buffer = "attribValue";
                  break;
              }
              if (c === ";") {
                parser2[buffer] += parseEntity(parser2);
                parser2.entity = "";
                parser2.state = returnState;
              } else if (isMatch(parser2.entity.length ? entityBody : entityStart, c)) {
                parser2.entity += c;
              } else {
                strictFail(parser2, "Invalid character in entity name");
                parser2[buffer] += "&" + parser2.entity + c;
                parser2.entity = "";
                parser2.state = returnState;
              }
              continue;
            default:
              throw new Error(parser2, "Unknown state: " + parser2.state);
          }
        }
        if (parser2.position >= parser2.bufferCheckPosition) {
          checkBufferLength(parser2);
        }
        return parser2;
      }
      if (!String.fromCodePoint) {
        (function() {
          var stringFromCharCode = String.fromCharCode;
          var floor = Math.floor;
          var fromCodePoint = function() {
            var MAX_SIZE = 16384;
            var codeUnits = [];
            var highSurrogate;
            var lowSurrogate;
            var index = -1;
            var length = arguments.length;
            if (!length) {
              return "";
            }
            var result = "";
            while (++index < length) {
              var codePoint = Number(arguments[index]);
              if (!isFinite(codePoint) || codePoint < 0 || codePoint > 1114111 || floor(codePoint) !== codePoint) {
                throw RangeError("Invalid code point: " + codePoint);
              }
              if (codePoint <= 65535) {
                codeUnits.push(codePoint);
              } else {
                codePoint -= 65536;
                highSurrogate = (codePoint >> 10) + 55296;
                lowSurrogate = codePoint % 1024 + 56320;
                codeUnits.push(highSurrogate, lowSurrogate);
              }
              if (index + 1 === length || codeUnits.length > MAX_SIZE) {
                result += stringFromCharCode.apply(null, codeUnits);
                codeUnits.length = 0;
              }
            }
            return result;
          };
          if (Object.defineProperty) {
            Object.defineProperty(String, "fromCodePoint", {
              value: fromCodePoint,
              configurable: true,
              writable: true
            });
          } else {
            String.fromCodePoint = fromCodePoint;
          }
        })();
      }
    })(typeof exports === "undefined" ? exports.sax = {} : exports);
  }
});

// node_modules/xmlrpc/lib/deserializer.js
var require_deserializer = __commonJS({
  "node_modules/xmlrpc/lib/deserializer.js"(exports, module2) {
    var sax = require_sax();
    var dateFormatter = require_date_formatter();
    var Deserializer = function(encoding) {
      this.type = null;
      this.responseType = null;
      this.stack = [];
      this.marks = [];
      this.data = [];
      this.methodname = null;
      this.encoding = encoding || "utf8";
      this.value = false;
      this.callback = null;
      this.error = null;
      this.parser = sax.createStream();
      this.parser.on("opentag", this.onOpentag.bind(this));
      this.parser.on("closetag", this.onClosetag.bind(this));
      this.parser.on("text", this.onText.bind(this));
      this.parser.on("cdata", this.onCDATA.bind(this));
      this.parser.on("end", this.onDone.bind(this));
      this.parser.on("error", this.onError.bind(this));
    };
    Deserializer.prototype.deserializeMethodResponse = function(stream, callback) {
      var that = this;
      this.callback = function(error, result) {
        if (error) {
          callback(error);
        } else if (result.length > 1) {
          callback(new Error("Response has more than one param"));
        } else if (that.type !== "methodresponse") {
          callback(new Error("Not a method response"));
        } else if (!that.responseType) {
          callback(new Error("Invalid method response"));
        } else {
          callback(null, result[0]);
        }
      };
      stream.setEncoding(this.encoding);
      stream.on("error", this.onError.bind(this));
      stream.pipe(this.parser);
    };
    Deserializer.prototype.deserializeMethodCall = function(stream, callback) {
      var that = this;
      this.callback = function(error, result) {
        if (error) {
          callback(error);
        } else if (that.type !== "methodcall") {
          callback(new Error("Not a method call"));
        } else if (!that.methodname) {
          callback(new Error("Method call did not contain a method name"));
        } else {
          callback(null, that.methodname, result);
        }
      };
      stream.setEncoding(this.encoding);
      stream.on("error", this.onError.bind(this));
      stream.pipe(this.parser);
    };
    Deserializer.prototype.onDone = function() {
      var that = this;
      if (!this.error) {
        if (this.type === null || this.marks.length) {
          this.callback(new Error("Invalid XML-RPC message"));
        } else if (this.responseType === "fault") {
          var createFault = function(fault) {
            var error = new Error("XML-RPC fault" + (fault.faultString ? ": " + fault.faultString : ""));
            error.code = fault.faultCode;
            error.faultCode = fault.faultCode;
            error.faultString = fault.faultString;
            return error;
          };
          this.callback(createFault(this.stack[0]));
        } else {
          this.callback(void 0, this.stack);
        }
      }
    };
    Deserializer.prototype.onError = function(msg) {
      if (!this.error) {
        if (typeof msg === "string") {
          this.error = new Error(msg);
        } else {
          this.error = msg;
        }
        this.callback(this.error);
      }
    };
    Deserializer.prototype.push = function(value) {
      this.stack.push(value);
    };
    Deserializer.prototype.onOpentag = function(node) {
      if (node.name === "ARRAY" || node.name === "STRUCT") {
        this.marks.push(this.stack.length);
      }
      this.data = [];
      this.value = node.name === "VALUE";
    };
    Deserializer.prototype.onText = function(text) {
      this.data.push(text);
    };
    Deserializer.prototype.onCDATA = function(cdata) {
      this.data.push(cdata);
    };
    Deserializer.prototype.onClosetag = function(el) {
      var data = this.data.join("");
      try {
        switch (el) {
          case "BOOLEAN":
            this.endBoolean(data);
            break;
          case "INT":
          case "I4":
            this.endInt(data);
            break;
          case "I8":
            this.endI8(data);
            break;
          case "DOUBLE":
            this.endDouble(data);
            break;
          case "STRING":
          case "NAME":
            this.endString(data);
            break;
          case "ARRAY":
            this.endArray(data);
            break;
          case "STRUCT":
            this.endStruct(data);
            break;
          case "BASE64":
            this.endBase64(data);
            break;
          case "DATETIME.ISO8601":
            this.endDateTime(data);
            break;
          case "VALUE":
            this.endValue(data);
            break;
          case "PARAMS":
            this.endParams(data);
            break;
          case "FAULT":
            this.endFault(data);
            break;
          case "METHODRESPONSE":
            this.endMethodResponse(data);
            break;
          case "METHODNAME":
            this.endMethodName(data);
            break;
          case "METHODCALL":
            this.endMethodCall(data);
            break;
          case "NIL":
            this.endNil(data);
            break;
          case "DATA":
          case "PARAM":
          case "MEMBER":
            break;
          default:
            this.onError("Unknown XML-RPC tag '" + el + "'");
            break;
        }
      } catch (e) {
        this.onError(e);
      }
    };
    Deserializer.prototype.endNil = function(data) {
      this.push(null);
      this.value = false;
    };
    Deserializer.prototype.endBoolean = function(data) {
      if (data === "1") {
        this.push(true);
      } else if (data === "0") {
        this.push(false);
      } else {
        throw new Error("Illegal boolean value '" + data + "'");
      }
      this.value = false;
    };
    Deserializer.prototype.endInt = function(data) {
      var value = parseInt(data, 10);
      if (isNaN(value)) {
        throw new Error("Expected an integer but got '" + data + "'");
      } else {
        this.push(value);
        this.value = false;
      }
    };
    Deserializer.prototype.endDouble = function(data) {
      var value = parseFloat(data);
      if (isNaN(value)) {
        throw new Error("Expected a double but got '" + data + "'");
      } else {
        this.push(value);
        this.value = false;
      }
    };
    Deserializer.prototype.endString = function(data) {
      this.push(data);
      this.value = false;
    };
    Deserializer.prototype.endArray = function(data) {
      var mark = this.marks.pop();
      this.stack.splice(mark, this.stack.length - mark, this.stack.slice(mark));
      this.value = false;
    };
    Deserializer.prototype.endStruct = function(data) {
      var mark = this.marks.pop(), struct = {}, items = this.stack.slice(mark), i = 0;
      for (; i < items.length; i += 2) {
        struct[items[i]] = items[i + 1];
      }
      this.stack.splice(mark, this.stack.length - mark, struct);
      this.value = false;
    };
    Deserializer.prototype.endBase64 = function(data) {
      var buffer = new Buffer(data, "base64");
      this.push(buffer);
      this.value = false;
    };
    Deserializer.prototype.endDateTime = function(data) {
      var date = dateFormatter.decodeIso8601(data);
      this.push(date);
      this.value = false;
    };
    var isInteger = /^-?\d+$/;
    Deserializer.prototype.endI8 = function(data) {
      if (!isInteger.test(data)) {
        throw new Error("Expected integer (I8) value but got '" + data + "'");
      } else {
        this.endString(data);
      }
    };
    Deserializer.prototype.endValue = function(data) {
      if (this.value) {
        this.endString(data);
      }
    };
    Deserializer.prototype.endParams = function(data) {
      this.responseType = "params";
    };
    Deserializer.prototype.endFault = function(data) {
      this.responseType = "fault";
    };
    Deserializer.prototype.endMethodResponse = function(data) {
      this.type = "methodresponse";
    };
    Deserializer.prototype.endMethodName = function(data) {
      this.methodname = data;
    };
    Deserializer.prototype.endMethodCall = function(data) {
      this.type = "methodcall";
    };
    module2.exports = Deserializer;
  }
});

// node_modules/xmlrpc/lib/cookies.js
var require_cookies = __commonJS({
  "node_modules/xmlrpc/lib/cookies.js"(exports, module2) {
    function Cookies() {
      this.cookies = {};
    }
    Cookies.prototype = {
      get: function(name) {
        var cookie = this.cookies[name];
        if (cookie && this.checkNotExpired(name)) {
          return this.cookies[name].value;
        }
        return null;
      },
      set: function(name, value, options2) {
        var cookie = typeof options2 == "object" ? { value, expires: options2.expires, secure: options2.secure || false, new: options2.new || false } : { value };
        if (this.checkNotExpired(name, cookie)) {
          this.cookies[name] = cookie;
        }
      },
      getExpirationDate: function(name) {
        return this.cookies[name] ? this.cookies[name].expires : null;
      },
      checkNotExpired: function(name, cookie) {
        if (typeof cookie === "undefined") {
          cookie = this.cookies[name];
        }
        var now = new Date();
        if (cookie && cookie.expires && now > cookie.expires) {
          delete this.cookies[name];
          return false;
        }
        return true;
      },
      parseResponse: function(headers) {
        var cookies = headers["set-cookie"];
        if (cookies) {
          cookies.forEach(function(c) {
            var cookiesParams = c.split(";");
            var cookiePair = cookiesParams.shift().split("=");
            var options2 = {};
            cookiesParams.forEach(function(param) {
              param = param.trim();
              if (param.toLowerCase().indexOf("expires") == 0) {
                var date = param.split("=")[1].trim();
                options2.expires = new Date(date);
              }
            });
            this.set(cookiePair[0].trim(), cookiePair[1].trim(), options2);
          }.bind(this));
        }
      },
      composeRequest: function(headers) {
        if (Object.keys(this.cookies).length == 0) {
          return;
        }
        headers["Cookie"] = this.toString();
      },
      toString: function() {
        return Object.keys(this.cookies).filter(this.checkNotExpired.bind(this)).map(function(name) {
          return name + "=" + this.cookies[name].value;
        }.bind(this)).join(";");
      }
    };
    module2.exports = Cookies;
  }
});

// node_modules/xmlrpc/lib/client.js
var require_client = __commonJS({
  "node_modules/xmlrpc/lib/client.js"(exports, module2) {
    var http = require("http");
    var https = require("https");
    var url = require("url");
    var Serializer = require_serializer();
    var Deserializer = require_deserializer();
    var Cookies = require_cookies();
    function Client2(options2, isSecure) {
      if (this instanceof Client2 === false) {
        return new Client2(options2, isSecure);
      }
      if (typeof options2 === "string") {
        options2 = url.parse(options2);
        options2.host = options2.hostname;
        options2.path = options2.pathname;
      }
      if (typeof options2.url !== "undefined") {
        var parsedUrl = url.parse(options2.url);
        options2.host = parsedUrl.hostname;
        options2.path = parsedUrl.pathname;
        options2.port = parsedUrl.port;
      }
      var headers = {
        "User-Agent": "NodeJS XML-RPC Client",
        "Content-Type": "text/xml",
        "Accept": "text/xml",
        "Accept-Charset": "UTF8",
        "Connection": "Keep-Alive"
      };
      options2.headers = options2.headers || {};
      if (options2.headers.Authorization == null && options2.basic_auth != null && options2.basic_auth.user != null && options2.basic_auth.pass != null) {
        var auth = options2.basic_auth.user + ":" + options2.basic_auth.pass;
        options2.headers["Authorization"] = "Basic " + new Buffer(auth).toString("base64");
      }
      for (var attribute in headers) {
        if (options2.headers[attribute] === void 0) {
          options2.headers[attribute] = headers[attribute];
        }
      }
      options2.method = "POST";
      this.options = options2;
      this.isSecure = isSecure;
      this.headersProcessors = {
        processors: [],
        composeRequest: function(headers2) {
          this.processors.forEach(function(p) {
            p.composeRequest(headers2);
          });
        },
        parseResponse: function(headers2) {
          this.processors.forEach(function(p) {
            p.parseResponse(headers2);
          });
        }
      };
      if (options2.cookies) {
        this.cookies = new Cookies();
        this.headersProcessors.processors.unshift(this.cookies);
      }
    }
    Client2.prototype.methodCall = function methodCall(method, params, callback) {
      var options2 = this.options;
      var xml = Serializer.serializeMethodCall(method, params, options2.encoding);
      var transport = this.isSecure ? https : http;
      options2.headers["Content-Length"] = Buffer.byteLength(xml, "utf8");
      this.headersProcessors.composeRequest(options2.headers);
      var request = transport.request(options2, function(response) {
        var body = [];
        response.on("data", function(chunk) {
          body.push(chunk);
        });
        function __enrichError(err) {
          Object.defineProperty(err, "req", { value: request });
          Object.defineProperty(err, "res", { value: response });
          Object.defineProperty(err, "body", { value: body.join("") });
          return err;
        }
        if (response.statusCode == 404) {
          callback(__enrichError(new Error("Not Found")));
        } else {
          this.headersProcessors.parseResponse(response.headers);
          var deserializer = new Deserializer(options2.responseEncoding);
          deserializer.deserializeMethodResponse(response, function(err, result) {
            if (err) {
              err = __enrichError(err);
            }
            callback(err, result);
          });
        }
      }.bind(this));
      request.on("error", callback);
      request.write(xml, "utf8");
      request.end();
    };
    Client2.prototype.getCookie = function getCookie(name) {
      if (!this.cookies) {
        throw "Cookies support is not turned on for this client instance";
      }
      return this.cookies.get(name);
    };
    Client2.prototype.setCookie = function setCookie(name, value) {
      if (!this.cookies) {
        throw "Cookies support is not turned on for this client instance";
      }
      this.cookies.set(name, value);
      return this;
    };
    module2.exports = Client2;
  }
});

// node_modules/xmlrpc/lib/server.js
var require_server = __commonJS({
  "node_modules/xmlrpc/lib/server.js"(exports, module2) {
    var http = require("http");
    var https = require("https");
    var url = require("url");
    var EventEmitter = require("events").EventEmitter;
    var Serializer = require_serializer();
    var Deserializer = require_deserializer();
    function Server(options2, isSecure, onListening) {
      if (this instanceof Server === false) {
        return new Server(options2, isSecure);
      }
      onListening = onListening || function() {
      };
      var that = this;
      if (typeof options2 === "string") {
        options2 = url.parse(options2);
        options2.host = options2.hostname;
        options2.path = options2.pathname;
      }
      function handleMethodCall(request, response) {
        var deserializer = new Deserializer();
        deserializer.deserializeMethodCall(request, function(error, methodName, params) {
          if (Object.prototype.hasOwnProperty.call(that._events, methodName)) {
            that.emit(methodName, null, params, function(error2, value) {
              var xml = null;
              if (error2 !== null) {
                xml = Serializer.serializeFault(error2);
              } else {
                xml = Serializer.serializeMethodResponse(value);
              }
              response.writeHead(200, { "Content-Type": "text/xml" });
              response.end(xml);
            });
          } else {
            that.emit("NotFound", methodName, params);
            response.writeHead(404);
            response.end();
          }
        });
      }
      this.httpServer = isSecure ? https.createServer(options2, handleMethodCall) : http.createServer(handleMethodCall);
      process.nextTick(function() {
        this.httpServer.listen(options2.port, options2.host, onListening);
      }.bind(this));
      this.close = function(callback) {
        this.httpServer.once("close", callback);
        this.httpServer.close();
      }.bind(this);
    }
    Server.prototype.__proto__ = EventEmitter.prototype;
    module2.exports = Server;
  }
});

// node_modules/xmlrpc/lib/xmlrpc.js
var require_xmlrpc = __commonJS({
  "node_modules/xmlrpc/lib/xmlrpc.js"(exports) {
    var Client2 = require_client();
    var Server = require_server();
    var CustomType = require_customtype();
    var dateFormatter = require_date_formatter();
    var xmlrpc = exports;
    xmlrpc.createClient = function(options2) {
      return new Client2(options2, false);
    };
    xmlrpc.createSecureClient = function(options2) {
      return new Client2(options2, true);
    };
    xmlrpc.createServer = function(options2, callback) {
      return new Server(options2, false, callback);
    };
    xmlrpc.createSecureServer = function(options2, callback) {
      return new Server(options2, true, callback);
    };
    xmlrpc.CustomType = CustomType;
    xmlrpc.dateFormatter = dateFormatter;
  }
});

// node_modules/wpapi/lib/util/object-reduce.js
var require_object_reduce = __commonJS({
  "node_modules/wpapi/lib/util/object-reduce.js"(exports, module2) {
    "use strict";
    module2.exports = (obj, iterator, initialState) => Object.keys(obj).reduce((memo, key) => iterator(memo, obj[key], key), initialState);
  }
});

// node_modules/wpapi/lib/data/default-routes.json
var require_default_routes = __commonJS({
  "node_modules/wpapi/lib/data/default-routes.json"(exports, module2) {
    module2.exports = { "/": { namespace: "", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { context: {} } }] }, "/oembed/1.0": { namespace: "oembed/1.0", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { namespace: {}, context: {} } }] }, "/oembed/1.0/embed": { namespace: "oembed/1.0", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { url: {}, format: {}, maxwidth: {} } }] }, "/oembed/1.0/proxy": { namespace: "oembed/1.0", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { url: {}, format: {}, maxwidth: {}, maxheight: {}, discover: {} } }] }, "/wp/v2": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { namespace: {}, context: {} } }] }, "/wp/v2/posts": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, after: {}, author: {}, author_exclude: {}, before: {}, exclude: {}, include: {}, offset: {}, order: {}, orderby: {}, slug: {}, status: {}, categories: {}, categories_exclude: {}, tags: {}, tags_exclude: {}, sticky: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/posts/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { id: {}, context: {}, password: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/posts/(?P<parent>[\\d]+)/revisions": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { parent: {}, context: {}, page: {}, per_page: {}, search: {}, exclude: {}, include: {}, offset: {}, order: {}, orderby: {} } }] }, "/wp/v2/posts/(?P<parent>[\\d]+)/revisions/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "DELETE"], endpoints: [{ methods: ["GET"], args: { parent: {}, id: {}, context: {} } }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/posts/(?P<id>[\\d]+)/autosaves": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { parent: {}, context: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/posts/(?P<parent>[\\d]+)/autosaves/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { parent: {}, id: {}, context: {} } }] }, "/wp/v2/pages": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, after: {}, author: {}, author_exclude: {}, before: {}, exclude: {}, include: {}, menu_order: {}, offset: {}, order: {}, orderby: {}, parent: {}, parent_exclude: {}, slug: {}, status: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/pages/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { id: {}, context: {}, password: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/pages/(?P<parent>[\\d]+)/revisions": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { parent: {}, context: {}, page: {}, per_page: {}, search: {}, exclude: {}, include: {}, offset: {}, order: {}, orderby: {} } }] }, "/wp/v2/pages/(?P<parent>[\\d]+)/revisions/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "DELETE"], endpoints: [{ methods: ["GET"], args: { parent: {}, id: {}, context: {} } }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/pages/(?P<id>[\\d]+)/autosaves": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { parent: {}, context: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/pages/(?P<parent>[\\d]+)/autosaves/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { parent: {}, id: {}, context: {} } }] }, "/wp/v2/media": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, after: {}, author: {}, author_exclude: {}, before: {}, exclude: {}, include: {}, offset: {}, order: {}, orderby: {}, parent: {}, parent_exclude: {}, slug: {}, status: {}, media_type: {}, mime_type: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/media/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { id: {}, context: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/blocks": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, after: {}, before: {}, exclude: {}, include: {}, offset: {}, order: {}, orderby: {}, slug: {}, status: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/blocks/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { id: {}, context: {}, password: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/blocks/(?P<id>[\\d]+)/autosaves": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { parent: {}, context: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/blocks/(?P<parent>[\\d]+)/autosaves/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { parent: {}, id: {}, context: {} } }] }, "/wp/v2/types": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { context: {} } }] }, "/wp/v2/types/(?P<type>[\\w-]+)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { type: {}, context: {} } }] }, "/wp/v2/statuses": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { context: {} } }] }, "/wp/v2/statuses/(?P<status>[\\w-]+)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { status: {}, context: {} } }] }, "/wp/v2/taxonomies": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { context: {}, type: {} } }] }, "/wp/v2/taxonomies/(?P<taxonomy>[\\w-]+)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { taxonomy: {}, context: {} } }] }, "/wp/v2/categories": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, exclude: {}, include: {}, order: {}, orderby: {}, hide_empty: {}, parent: {}, post: {}, slug: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/categories/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { id: {}, context: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/tags": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, exclude: {}, include: {}, offset: {}, order: {}, orderby: {}, hide_empty: {}, post: {}, slug: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/tags/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { id: {}, context: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/users": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, exclude: {}, include: {}, offset: {}, order: {}, orderby: {}, slug: {}, roles: {}, who: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/users/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { id: {}, context: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/users/me": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { context: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/comments": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, after: {}, author: {}, author_exclude: {}, author_email: {}, before: {}, exclude: {}, include: {}, offset: {}, order: {}, orderby: {}, parent: {}, parent_exclude: {}, post: {}, status: {}, type: {}, password: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/comments/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { id: {}, context: {}, password: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/search": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, type: {}, subtype: {} } }] }, "/wp/v2/block-renderer/(?P<name>core/block)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { name: {}, context: {}, attributes: {}, post_id: {} } }] }, "/wp/v2/block-renderer/(?P<name>core/latest-comments)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { name: {}, context: {}, attributes: {}, post_id: {} } }] }, "/wp/v2/block-renderer/(?P<name>core/archives)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { name: {}, context: {}, attributes: {}, post_id: {} } }] }, "/wp/v2/block-renderer/(?P<name>core/categories)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { name: {}, context: {}, attributes: {}, post_id: {} } }] }, "/wp/v2/block-renderer/(?P<name>core/latest-posts)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { name: {}, context: {}, attributes: {}, post_id: {} } }] }, "/wp/v2/block-renderer/(?P<name>core/shortcode)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { name: {}, context: {}, attributes: {}, post_id: {} } }] }, "/wp/v2/settings": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH"], endpoints: [{ methods: ["GET"], args: {} }, { methods: ["POST", "PUT", "PATCH"], args: {} }] }, "/wp/v2/themes": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, status: {} } }] } };
  }
});

// node_modules/wpapi/lib/util/named-group-regexp.js
var require_named_group_regexp = __commonJS({
  "node_modules/wpapi/lib/util/named-group-regexp.js"(exports, module2) {
    "use strict";
    var pattern = [
      "\\(\\?",
      "(?:P<|<|')",
      "([^>']+)",
      "[>']",
      "([^\\)]*(\\))?\\??)",
      "\\)"
    ].join("");
    module2.exports = {
      pattern,
      namedGroupRE: new RegExp(pattern)
    };
  }
});

// node_modules/wpapi/lib/util/split-path.js
var require_split_path = __commonJS({
  "node_modules/wpapi/lib/util/split-path.js"(exports, module2) {
    "use strict";
    var namedGroupPattern = require_named_group_regexp().pattern;
    var patternWithoutSubgroups = namedGroupPattern.replace(/([^\\])\(([^?])/g, "$1(?:$2");
    var namedGroupRE = new RegExp("([^/]*" + patternWithoutSubgroups + "[^/]*)");
    module2.exports = (pathStr) => pathStr.split(namedGroupRE).reduce((components, part) => {
      if (!part) {
        return components;
      }
      if (namedGroupRE.test(part)) {
        return components.concat(part);
      }
      return components.concat(part.split("/").filter(Boolean));
    }, []);
  }
});

// node_modules/wpapi/lib/util/ensure.js
var require_ensure = __commonJS({
  "node_modules/wpapi/lib/util/ensure.js"(exports, module2) {
    "use strict";
    module2.exports = (obj, prop, propDefaultValue) => {
      if (obj && obj[prop] === void 0) {
        obj[prop] = propDefaultValue;
      }
    };
  }
});

// node_modules/wpapi/lib/route-tree.js
var require_route_tree = __commonJS({
  "node_modules/wpapi/lib/route-tree.js"(exports, module2) {
    "use strict";
    var namedGroupRE = require_named_group_regexp().namedGroupRE;
    var splitPath = require_split_path();
    var ensure = require_ensure();
    var objectReduce = require_object_reduce();
    function reduceRouteComponents(routeObj, topLevel, parentLevel, component, idx, components) {
      const namedGroup = component.match(namedGroupRE);
      const groupName = namedGroup && namedGroup[1];
      const groupPattern = namedGroup && namedGroup[2];
      const levelKey = namedGroup ? groupPattern || groupName : component;
      const levelName = namedGroup ? groupName : component;
      const currentLevel = parentLevel[levelKey] || {
        component,
        namedGroup: namedGroup ? true : false,
        level: idx,
        names: []
      };
      if (currentLevel.names.indexOf(levelName) < 0) {
        currentLevel.names.push(levelName);
      }
      const groupPatternRE = groupPattern === "" ? /.*/ : new RegExp(groupPattern ? "^" + groupPattern + "$" : component, "i");
      currentLevel.validate = (input) => groupPatternRE.test(input);
      if (components[idx + 1]) {
        currentLevel.children = currentLevel.children || {};
      } else {
        currentLevel.methods = (routeObj.methods || []).map((str) => str.toLowerCase());
        if (currentLevel.methods.indexOf("get") > -1 && currentLevel.methods.indexOf("head") === -1) {
          currentLevel.methods.push("head");
        }
        if (routeObj.endpoints) {
          topLevel._getArgs = topLevel._getArgs || {};
          routeObj.endpoints.forEach((endpoint) => {
            endpoint.methods.forEach((method) => {
              if (method.toLowerCase() === "get") {
                Object.keys(endpoint.args).forEach((argKey) => {
                  topLevel._getArgs[argKey] = endpoint.args[argKey];
                });
              }
            });
          });
        }
      }
      parentLevel[levelKey] = currentLevel;
      return currentLevel.children;
    }
    function reduceRouteTree(namespaces, routeObj, route) {
      const nsForRoute = routeObj.namespace;
      const routeString = route.replace("/" + nsForRoute + "/", "").replace(/\/\?$/, "");
      const routeComponents = splitPath(routeString);
      if (!nsForRoute || "/" + nsForRoute === route || !routeString) {
        return namespaces;
      }
      ensure(namespaces, nsForRoute, {});
      const ns = namespaces[nsForRoute];
      const resource = routeComponents[0];
      ensure(ns, resource, {});
      const levels = ns[resource];
      routeComponents.reduce(reduceRouteComponents.bind(null, routeObj, levels), levels);
      return namespaces;
    }
    function buildRouteTree(routes) {
      return objectReduce(routes, reduceRouteTree, {});
    }
    module2.exports = {
      build: buildRouteTree
    };
  }
});

// node_modules/wpapi/lib/path-part-setter.js
var require_path_part_setter = __commonJS({
  "node_modules/wpapi/lib/path-part-setter.js"(exports, module2) {
    "use strict";
    function createPathPartSetter(node) {
      const nodeLevel = node.level;
      const nodeName = node.names[0];
      const supportedMethods = node.methods || [];
      const dynamicChildren = node.children ? Object.keys(node.children).map((key) => node.children[key]).filter((childNode) => childNode.namedGroup === true) : [];
      const dynamicChild = dynamicChildren.length === 1 && dynamicChildren[0];
      const dynamicChildLevel = dynamicChild && dynamicChild.level;
      if (node.namedGroup) {
        return function(val) {
          this.setPathPart(nodeLevel, val);
          if (supportedMethods.length) {
            this._supportedMethods = supportedMethods;
          }
          return this;
        };
      } else {
        return function(val) {
          this.setPathPart(nodeLevel, nodeName);
          if (val !== void 0 && dynamicChildLevel) {
            this.setPathPart(dynamicChildLevel, val);
          }
          return this;
        };
      }
    }
    module2.exports = {
      create: createPathPartSetter
    };
  }
});

// node_modules/wpapi/lib/resource-handler-spec.js
var require_resource_handler_spec = __commonJS({
  "node_modules/wpapi/lib/resource-handler-spec.js"(exports, module2) {
    "use strict";
    var createPathPartSetter = require_path_part_setter().create;
    function addLevelOption(levelsObj, level, obj) {
      levelsObj[level] = levelsObj[level] || [];
      levelsObj[level].push(obj);
    }
    function assignSetterFnForNode(handler, node) {
      let setterFn;
      addLevelOption(handler._levels, node.level, {
        component: node.component,
        validate: node.validate,
        methods: node.methods
      });
      if (node.level > 0) {
        setterFn = createPathPartSetter(node);
        node.names.forEach((name) => {
          const setterFnName = name.replace(/[_-]+\w/g, (match) => match.replace(/[_-]+/, "").toUpperCase());
          if (!handler._setters[setterFnName]) {
            handler._setters[setterFnName] = setterFn;
          }
        });
      }
    }
    function extractSetterFromNode(handler, node) {
      assignSetterFnForNode(handler, node);
      if (node.children) {
        Object.keys(node.children).forEach((key) => {
          extractSetterFromNode(handler, node.children[key]);
        });
      }
    }
    function createNodeHandlerSpec(routeDefinition, resource) {
      const handler = {
        _path: {
          "0": resource
        },
        _levels: {},
        _setters: {},
        _getArgs: routeDefinition._getArgs
      };
      Object.keys(routeDefinition).forEach((routeDefProp) => {
        if (routeDefProp !== "_getArgs") {
          extractSetterFromNode(handler, routeDefinition[routeDefProp]);
        }
      });
      return handler;
    }
    module2.exports = {
      create: createNodeHandlerSpec
    };
  }
});

// node_modules/has-symbols/shams.js
var require_shams = __commonJS({
  "node_modules/has-symbols/shams.js"(exports, module2) {
    "use strict";
    module2.exports = function hasSymbols() {
      if (typeof Symbol !== "function" || typeof Object.getOwnPropertySymbols !== "function") {
        return false;
      }
      if (typeof Symbol.iterator === "symbol") {
        return true;
      }
      var obj = {};
      var sym = Symbol("test");
      var symObj = Object(sym);
      if (typeof sym === "string") {
        return false;
      }
      if (Object.prototype.toString.call(sym) !== "[object Symbol]") {
        return false;
      }
      if (Object.prototype.toString.call(symObj) !== "[object Symbol]") {
        return false;
      }
      var symVal = 42;
      obj[sym] = symVal;
      for (sym in obj) {
        return false;
      }
      if (typeof Object.keys === "function" && Object.keys(obj).length !== 0) {
        return false;
      }
      if (typeof Object.getOwnPropertyNames === "function" && Object.getOwnPropertyNames(obj).length !== 0) {
        return false;
      }
      var syms = Object.getOwnPropertySymbols(obj);
      if (syms.length !== 1 || syms[0] !== sym) {
        return false;
      }
      if (!Object.prototype.propertyIsEnumerable.call(obj, sym)) {
        return false;
      }
      if (typeof Object.getOwnPropertyDescriptor === "function") {
        var descriptor = Object.getOwnPropertyDescriptor(obj, sym);
        if (descriptor.value !== symVal || descriptor.enumerable !== true) {
          return false;
        }
      }
      return true;
    };
  }
});

// node_modules/has-symbols/index.js
var require_has_symbols = __commonJS({
  "node_modules/has-symbols/index.js"(exports, module2) {
    "use strict";
    var origSymbol = typeof Symbol !== "undefined" && Symbol;
    var hasSymbolSham = require_shams();
    module2.exports = function hasNativeSymbols() {
      if (typeof origSymbol !== "function") {
        return false;
      }
      if (typeof Symbol !== "function") {
        return false;
      }
      if (typeof origSymbol("foo") !== "symbol") {
        return false;
      }
      if (typeof Symbol("bar") !== "symbol") {
        return false;
      }
      return hasSymbolSham();
    };
  }
});

// node_modules/function-bind/implementation.js
var require_implementation = __commonJS({
  "node_modules/function-bind/implementation.js"(exports, module2) {
    "use strict";
    var ERROR_MESSAGE = "Function.prototype.bind called on incompatible ";
    var slice = Array.prototype.slice;
    var toStr = Object.prototype.toString;
    var funcType = "[object Function]";
    module2.exports = function bind(that) {
      var target = this;
      if (typeof target !== "function" || toStr.call(target) !== funcType) {
        throw new TypeError(ERROR_MESSAGE + target);
      }
      var args = slice.call(arguments, 1);
      var bound;
      var binder = function() {
        if (this instanceof bound) {
          var result = target.apply(this, args.concat(slice.call(arguments)));
          if (Object(result) === result) {
            return result;
          }
          return this;
        } else {
          return target.apply(that, args.concat(slice.call(arguments)));
        }
      };
      var boundLength = Math.max(0, target.length - args.length);
      var boundArgs = [];
      for (var i = 0; i < boundLength; i++) {
        boundArgs.push("$" + i);
      }
      bound = Function("binder", "return function (" + boundArgs.join(",") + "){ return binder.apply(this,arguments); }")(binder);
      if (target.prototype) {
        var Empty = function Empty2() {
        };
        Empty.prototype = target.prototype;
        bound.prototype = new Empty();
        Empty.prototype = null;
      }
      return bound;
    };
  }
});

// node_modules/function-bind/index.js
var require_function_bind = __commonJS({
  "node_modules/function-bind/index.js"(exports, module2) {
    "use strict";
    var implementation = require_implementation();
    module2.exports = Function.prototype.bind || implementation;
  }
});

// node_modules/has/src/index.js
var require_src = __commonJS({
  "node_modules/has/src/index.js"(exports, module2) {
    "use strict";
    var bind = require_function_bind();
    module2.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);
  }
});

// node_modules/get-intrinsic/index.js
var require_get_intrinsic = __commonJS({
  "node_modules/get-intrinsic/index.js"(exports, module2) {
    "use strict";
    var undefined2;
    var $SyntaxError = SyntaxError;
    var $Function = Function;
    var $TypeError = TypeError;
    var getEvalledConstructor = function(expressionSyntax) {
      try {
        return $Function('"use strict"; return (' + expressionSyntax + ").constructor;")();
      } catch (e) {
      }
    };
    var $gOPD = Object.getOwnPropertyDescriptor;
    if ($gOPD) {
      try {
        $gOPD({}, "");
      } catch (e) {
        $gOPD = null;
      }
    }
    var throwTypeError = function() {
      throw new $TypeError();
    };
    var ThrowTypeError = $gOPD ? function() {
      try {
        arguments.callee;
        return throwTypeError;
      } catch (calleeThrows) {
        try {
          return $gOPD(arguments, "callee").get;
        } catch (gOPDthrows) {
          return throwTypeError;
        }
      }
    }() : throwTypeError;
    var hasSymbols = require_has_symbols()();
    var getProto = Object.getPrototypeOf || function(x) {
      return x.__proto__;
    };
    var needsEval = {};
    var TypedArray = typeof Uint8Array === "undefined" ? undefined2 : getProto(Uint8Array);
    var INTRINSICS = {
      "%AggregateError%": typeof AggregateError === "undefined" ? undefined2 : AggregateError,
      "%Array%": Array,
      "%ArrayBuffer%": typeof ArrayBuffer === "undefined" ? undefined2 : ArrayBuffer,
      "%ArrayIteratorPrototype%": hasSymbols ? getProto([][Symbol.iterator]()) : undefined2,
      "%AsyncFromSyncIteratorPrototype%": undefined2,
      "%AsyncFunction%": needsEval,
      "%AsyncGenerator%": needsEval,
      "%AsyncGeneratorFunction%": needsEval,
      "%AsyncIteratorPrototype%": needsEval,
      "%Atomics%": typeof Atomics === "undefined" ? undefined2 : Atomics,
      "%BigInt%": typeof BigInt === "undefined" ? undefined2 : BigInt,
      "%Boolean%": Boolean,
      "%DataView%": typeof DataView === "undefined" ? undefined2 : DataView,
      "%Date%": Date,
      "%decodeURI%": decodeURI,
      "%decodeURIComponent%": decodeURIComponent,
      "%encodeURI%": encodeURI,
      "%encodeURIComponent%": encodeURIComponent,
      "%Error%": Error,
      "%eval%": eval,
      "%EvalError%": EvalError,
      "%Float32Array%": typeof Float32Array === "undefined" ? undefined2 : Float32Array,
      "%Float64Array%": typeof Float64Array === "undefined" ? undefined2 : Float64Array,
      "%FinalizationRegistry%": typeof FinalizationRegistry === "undefined" ? undefined2 : FinalizationRegistry,
      "%Function%": $Function,
      "%GeneratorFunction%": needsEval,
      "%Int8Array%": typeof Int8Array === "undefined" ? undefined2 : Int8Array,
      "%Int16Array%": typeof Int16Array === "undefined" ? undefined2 : Int16Array,
      "%Int32Array%": typeof Int32Array === "undefined" ? undefined2 : Int32Array,
      "%isFinite%": isFinite,
      "%isNaN%": isNaN,
      "%IteratorPrototype%": hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined2,
      "%JSON%": typeof JSON === "object" ? JSON : undefined2,
      "%Map%": typeof Map === "undefined" ? undefined2 : Map,
      "%MapIteratorPrototype%": typeof Map === "undefined" || !hasSymbols ? undefined2 : getProto(new Map()[Symbol.iterator]()),
      "%Math%": Math,
      "%Number%": Number,
      "%Object%": Object,
      "%parseFloat%": parseFloat,
      "%parseInt%": parseInt,
      "%Promise%": typeof Promise === "undefined" ? undefined2 : Promise,
      "%Proxy%": typeof Proxy === "undefined" ? undefined2 : Proxy,
      "%RangeError%": RangeError,
      "%ReferenceError%": ReferenceError,
      "%Reflect%": typeof Reflect === "undefined" ? undefined2 : Reflect,
      "%RegExp%": RegExp,
      "%Set%": typeof Set === "undefined" ? undefined2 : Set,
      "%SetIteratorPrototype%": typeof Set === "undefined" || !hasSymbols ? undefined2 : getProto(new Set()[Symbol.iterator]()),
      "%SharedArrayBuffer%": typeof SharedArrayBuffer === "undefined" ? undefined2 : SharedArrayBuffer,
      "%String%": String,
      "%StringIteratorPrototype%": hasSymbols ? getProto(""[Symbol.iterator]()) : undefined2,
      "%Symbol%": hasSymbols ? Symbol : undefined2,
      "%SyntaxError%": $SyntaxError,
      "%ThrowTypeError%": ThrowTypeError,
      "%TypedArray%": TypedArray,
      "%TypeError%": $TypeError,
      "%Uint8Array%": typeof Uint8Array === "undefined" ? undefined2 : Uint8Array,
      "%Uint8ClampedArray%": typeof Uint8ClampedArray === "undefined" ? undefined2 : Uint8ClampedArray,
      "%Uint16Array%": typeof Uint16Array === "undefined" ? undefined2 : Uint16Array,
      "%Uint32Array%": typeof Uint32Array === "undefined" ? undefined2 : Uint32Array,
      "%URIError%": URIError,
      "%WeakMap%": typeof WeakMap === "undefined" ? undefined2 : WeakMap,
      "%WeakRef%": typeof WeakRef === "undefined" ? undefined2 : WeakRef,
      "%WeakSet%": typeof WeakSet === "undefined" ? undefined2 : WeakSet
    };
    var doEval = function doEval2(name) {
      var value;
      if (name === "%AsyncFunction%") {
        value = getEvalledConstructor("async function () {}");
      } else if (name === "%GeneratorFunction%") {
        value = getEvalledConstructor("function* () {}");
      } else if (name === "%AsyncGeneratorFunction%") {
        value = getEvalledConstructor("async function* () {}");
      } else if (name === "%AsyncGenerator%") {
        var fn = doEval2("%AsyncGeneratorFunction%");
        if (fn) {
          value = fn.prototype;
        }
      } else if (name === "%AsyncIteratorPrototype%") {
        var gen = doEval2("%AsyncGenerator%");
        if (gen) {
          value = getProto(gen.prototype);
        }
      }
      INTRINSICS[name] = value;
      return value;
    };
    var LEGACY_ALIASES = {
      "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
      "%ArrayPrototype%": ["Array", "prototype"],
      "%ArrayProto_entries%": ["Array", "prototype", "entries"],
      "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
      "%ArrayProto_keys%": ["Array", "prototype", "keys"],
      "%ArrayProto_values%": ["Array", "prototype", "values"],
      "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
      "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
      "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"],
      "%BooleanPrototype%": ["Boolean", "prototype"],
      "%DataViewPrototype%": ["DataView", "prototype"],
      "%DatePrototype%": ["Date", "prototype"],
      "%ErrorPrototype%": ["Error", "prototype"],
      "%EvalErrorPrototype%": ["EvalError", "prototype"],
      "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
      "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
      "%FunctionPrototype%": ["Function", "prototype"],
      "%Generator%": ["GeneratorFunction", "prototype"],
      "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"],
      "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
      "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
      "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
      "%JSONParse%": ["JSON", "parse"],
      "%JSONStringify%": ["JSON", "stringify"],
      "%MapPrototype%": ["Map", "prototype"],
      "%NumberPrototype%": ["Number", "prototype"],
      "%ObjectPrototype%": ["Object", "prototype"],
      "%ObjProto_toString%": ["Object", "prototype", "toString"],
      "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
      "%PromisePrototype%": ["Promise", "prototype"],
      "%PromiseProto_then%": ["Promise", "prototype", "then"],
      "%Promise_all%": ["Promise", "all"],
      "%Promise_reject%": ["Promise", "reject"],
      "%Promise_resolve%": ["Promise", "resolve"],
      "%RangeErrorPrototype%": ["RangeError", "prototype"],
      "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
      "%RegExpPrototype%": ["RegExp", "prototype"],
      "%SetPrototype%": ["Set", "prototype"],
      "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
      "%StringPrototype%": ["String", "prototype"],
      "%SymbolPrototype%": ["Symbol", "prototype"],
      "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
      "%TypedArrayPrototype%": ["TypedArray", "prototype"],
      "%TypeErrorPrototype%": ["TypeError", "prototype"],
      "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
      "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
      "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
      "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
      "%URIErrorPrototype%": ["URIError", "prototype"],
      "%WeakMapPrototype%": ["WeakMap", "prototype"],
      "%WeakSetPrototype%": ["WeakSet", "prototype"]
    };
    var bind = require_function_bind();
    var hasOwn = require_src();
    var $concat = bind.call(Function.call, Array.prototype.concat);
    var $spliceApply = bind.call(Function.apply, Array.prototype.splice);
    var $replace = bind.call(Function.call, String.prototype.replace);
    var $strSlice = bind.call(Function.call, String.prototype.slice);
    var rePropName = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;
    var reEscapeChar = /\\(\\)?/g;
    var stringToPath = function stringToPath2(string) {
      var first = $strSlice(string, 0, 1);
      var last = $strSlice(string, -1);
      if (first === "%" && last !== "%") {
        throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");
      } else if (last === "%" && first !== "%") {
        throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");
      }
      var result = [];
      $replace(string, rePropName, function(match, number, quote, subString) {
        result[result.length] = quote ? $replace(subString, reEscapeChar, "$1") : number || match;
      });
      return result;
    };
    var getBaseIntrinsic = function getBaseIntrinsic2(name, allowMissing) {
      var intrinsicName = name;
      var alias;
      if (hasOwn(LEGACY_ALIASES, intrinsicName)) {
        alias = LEGACY_ALIASES[intrinsicName];
        intrinsicName = "%" + alias[0] + "%";
      }
      if (hasOwn(INTRINSICS, intrinsicName)) {
        var value = INTRINSICS[intrinsicName];
        if (value === needsEval) {
          value = doEval(intrinsicName);
        }
        if (typeof value === "undefined" && !allowMissing) {
          throw new $TypeError("intrinsic " + name + " exists, but is not available. Please file an issue!");
        }
        return {
          alias,
          name: intrinsicName,
          value
        };
      }
      throw new $SyntaxError("intrinsic " + name + " does not exist!");
    };
    module2.exports = function GetIntrinsic(name, allowMissing) {
      if (typeof name !== "string" || name.length === 0) {
        throw new $TypeError("intrinsic name must be a non-empty string");
      }
      if (arguments.length > 1 && typeof allowMissing !== "boolean") {
        throw new $TypeError('"allowMissing" argument must be a boolean');
      }
      var parts = stringToPath(name);
      var intrinsicBaseName = parts.length > 0 ? parts[0] : "";
      var intrinsic = getBaseIntrinsic("%" + intrinsicBaseName + "%", allowMissing);
      var intrinsicRealName = intrinsic.name;
      var value = intrinsic.value;
      var skipFurtherCaching = false;
      var alias = intrinsic.alias;
      if (alias) {
        intrinsicBaseName = alias[0];
        $spliceApply(parts, $concat([0, 1], alias));
      }
      for (var i = 1, isOwn = true; i < parts.length; i += 1) {
        var part = parts[i];
        var first = $strSlice(part, 0, 1);
        var last = $strSlice(part, -1);
        if ((first === '"' || first === "'" || first === "`" || (last === '"' || last === "'" || last === "`")) && first !== last) {
          throw new $SyntaxError("property names with quotes must have matching quotes");
        }
        if (part === "constructor" || !isOwn) {
          skipFurtherCaching = true;
        }
        intrinsicBaseName += "." + part;
        intrinsicRealName = "%" + intrinsicBaseName + "%";
        if (hasOwn(INTRINSICS, intrinsicRealName)) {
          value = INTRINSICS[intrinsicRealName];
        } else if (value != null) {
          if (!(part in value)) {
            if (!allowMissing) {
              throw new $TypeError("base intrinsic for " + name + " exists, but the property is not available.");
            }
            return void 0;
          }
          if ($gOPD && i + 1 >= parts.length) {
            var desc = $gOPD(value, part);
            isOwn = !!desc;
            if (isOwn && "get" in desc && !("originalValue" in desc.get)) {
              value = desc.get;
            } else {
              value = value[part];
            }
          } else {
            isOwn = hasOwn(value, part);
            value = value[part];
          }
          if (isOwn && !skipFurtherCaching) {
            INTRINSICS[intrinsicRealName] = value;
          }
        }
      }
      return value;
    };
  }
});

// node_modules/call-bind/index.js
var require_call_bind = __commonJS({
  "node_modules/call-bind/index.js"(exports, module2) {
    "use strict";
    var bind = require_function_bind();
    var GetIntrinsic = require_get_intrinsic();
    var $apply = GetIntrinsic("%Function.prototype.apply%");
    var $call = GetIntrinsic("%Function.prototype.call%");
    var $reflectApply = GetIntrinsic("%Reflect.apply%", true) || bind.call($call, $apply);
    var $gOPD = GetIntrinsic("%Object.getOwnPropertyDescriptor%", true);
    var $defineProperty = GetIntrinsic("%Object.defineProperty%", true);
    var $max = GetIntrinsic("%Math.max%");
    if ($defineProperty) {
      try {
        $defineProperty({}, "a", { value: 1 });
      } catch (e) {
        $defineProperty = null;
      }
    }
    module2.exports = function callBind(originalFunction) {
      var func = $reflectApply(bind, $call, arguments);
      if ($gOPD && $defineProperty) {
        var desc = $gOPD(func, "length");
        if (desc.configurable) {
          $defineProperty(func, "length", { value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) });
        }
      }
      return func;
    };
    var applyBind = function applyBind2() {
      return $reflectApply(bind, $apply, arguments);
    };
    if ($defineProperty) {
      $defineProperty(module2.exports, "apply", { value: applyBind });
    } else {
      module2.exports.apply = applyBind;
    }
  }
});

// node_modules/call-bind/callBound.js
var require_callBound = __commonJS({
  "node_modules/call-bind/callBound.js"(exports, module2) {
    "use strict";
    var GetIntrinsic = require_get_intrinsic();
    var callBind = require_call_bind();
    var $indexOf = callBind(GetIntrinsic("String.prototype.indexOf"));
    module2.exports = function callBoundIntrinsic(name, allowMissing) {
      var intrinsic = GetIntrinsic(name, !!allowMissing);
      if (typeof intrinsic === "function" && $indexOf(name, ".prototype.") > -1) {
        return callBind(intrinsic);
      }
      return intrinsic;
    };
  }
});

// (disabled):node_modules/object-inspect/util.inspect
var require_util = __commonJS({
  "(disabled):node_modules/object-inspect/util.inspect"() {
  }
});

// node_modules/object-inspect/index.js
var require_object_inspect = __commonJS({
  "node_modules/object-inspect/index.js"(exports, module2) {
    var hasMap = typeof Map === "function" && Map.prototype;
    var mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, "size") : null;
    var mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === "function" ? mapSizeDescriptor.get : null;
    var mapForEach = hasMap && Map.prototype.forEach;
    var hasSet = typeof Set === "function" && Set.prototype;
    var setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, "size") : null;
    var setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === "function" ? setSizeDescriptor.get : null;
    var setForEach = hasSet && Set.prototype.forEach;
    var hasWeakMap = typeof WeakMap === "function" && WeakMap.prototype;
    var weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;
    var hasWeakSet = typeof WeakSet === "function" && WeakSet.prototype;
    var weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;
    var hasWeakRef = typeof WeakRef === "function" && WeakRef.prototype;
    var weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;
    var booleanValueOf = Boolean.prototype.valueOf;
    var objectToString = Object.prototype.toString;
    var functionToString = Function.prototype.toString;
    var match = String.prototype.match;
    var bigIntValueOf = typeof BigInt === "function" ? BigInt.prototype.valueOf : null;
    var gOPS = Object.getOwnPropertySymbols;
    var symToString = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? Symbol.prototype.toString : null;
    var hasShammedSymbols = typeof Symbol === "function" && typeof Symbol.iterator === "object";
    var toStringTag = typeof Symbol === "function" && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? "object" : "symbol") ? Symbol.toStringTag : null;
    var isEnumerable = Object.prototype.propertyIsEnumerable;
    var gPO = (typeof Reflect === "function" ? Reflect.getPrototypeOf : Object.getPrototypeOf) || ([].__proto__ === Array.prototype ? function(O) {
      return O.__proto__;
    } : null);
    var inspectCustom = require_util().custom;
    var inspectSymbol = inspectCustom && isSymbol(inspectCustom) ? inspectCustom : null;
    module2.exports = function inspect_(obj, options2, depth, seen) {
      var opts = options2 || {};
      if (has(opts, "quoteStyle") && (opts.quoteStyle !== "single" && opts.quoteStyle !== "double")) {
        throw new TypeError('option "quoteStyle" must be "single" or "double"');
      }
      if (has(opts, "maxStringLength") && (typeof opts.maxStringLength === "number" ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity : opts.maxStringLength !== null)) {
        throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');
      }
      var customInspect = has(opts, "customInspect") ? opts.customInspect : true;
      if (typeof customInspect !== "boolean" && customInspect !== "symbol") {
        throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");
      }
      if (has(opts, "indent") && opts.indent !== null && opts.indent !== "	" && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)) {
        throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');
      }
      if (typeof obj === "undefined") {
        return "undefined";
      }
      if (obj === null) {
        return "null";
      }
      if (typeof obj === "boolean") {
        return obj ? "true" : "false";
      }
      if (typeof obj === "string") {
        return inspectString(obj, opts);
      }
      if (typeof obj === "number") {
        if (obj === 0) {
          return Infinity / obj > 0 ? "0" : "-0";
        }
        return String(obj);
      }
      if (typeof obj === "bigint") {
        return String(obj) + "n";
      }
      var maxDepth = typeof opts.depth === "undefined" ? 5 : opts.depth;
      if (typeof depth === "undefined") {
        depth = 0;
      }
      if (depth >= maxDepth && maxDepth > 0 && typeof obj === "object") {
        return isArray(obj) ? "[Array]" : "[Object]";
      }
      var indent = getIndent(opts, depth);
      if (typeof seen === "undefined") {
        seen = [];
      } else if (indexOf(seen, obj) >= 0) {
        return "[Circular]";
      }
      function inspect(value, from, noIndent) {
        if (from) {
          seen = seen.slice();
          seen.push(from);
        }
        if (noIndent) {
          var newOpts = {
            depth: opts.depth
          };
          if (has(opts, "quoteStyle")) {
            newOpts.quoteStyle = opts.quoteStyle;
          }
          return inspect_(value, newOpts, depth + 1, seen);
        }
        return inspect_(value, opts, depth + 1, seen);
      }
      if (typeof obj === "function") {
        var name = nameOf(obj);
        var keys = arrObjKeys(obj, inspect);
        return "[Function" + (name ? ": " + name : " (anonymous)") + "]" + (keys.length > 0 ? " { " + keys.join(", ") + " }" : "");
      }
      if (isSymbol(obj)) {
        var symString = hasShammedSymbols ? String(obj).replace(/^(Symbol\(.*\))_[^)]*$/, "$1") : symToString.call(obj);
        return typeof obj === "object" && !hasShammedSymbols ? markBoxed(symString) : symString;
      }
      if (isElement(obj)) {
        var s = "<" + String(obj.nodeName).toLowerCase();
        var attrs = obj.attributes || [];
        for (var i = 0; i < attrs.length; i++) {
          s += " " + attrs[i].name + "=" + wrapQuotes(quote(attrs[i].value), "double", opts);
        }
        s += ">";
        if (obj.childNodes && obj.childNodes.length) {
          s += "...";
        }
        s += "</" + String(obj.nodeName).toLowerCase() + ">";
        return s;
      }
      if (isArray(obj)) {
        if (obj.length === 0) {
          return "[]";
        }
        var xs = arrObjKeys(obj, inspect);
        if (indent && !singleLineValues(xs)) {
          return "[" + indentedJoin(xs, indent) + "]";
        }
        return "[ " + xs.join(", ") + " ]";
      }
      if (isError(obj)) {
        var parts = arrObjKeys(obj, inspect);
        if (parts.length === 0) {
          return "[" + String(obj) + "]";
        }
        return "{ [" + String(obj) + "] " + parts.join(", ") + " }";
      }
      if (typeof obj === "object" && customInspect) {
        if (inspectSymbol && typeof obj[inspectSymbol] === "function") {
          return obj[inspectSymbol]();
        } else if (customInspect !== "symbol" && typeof obj.inspect === "function") {
          return obj.inspect();
        }
      }
      if (isMap(obj)) {
        var mapParts = [];
        mapForEach.call(obj, function(value, key) {
          mapParts.push(inspect(key, obj, true) + " => " + inspect(value, obj));
        });
        return collectionOf("Map", mapSize.call(obj), mapParts, indent);
      }
      if (isSet(obj)) {
        var setParts = [];
        setForEach.call(obj, function(value) {
          setParts.push(inspect(value, obj));
        });
        return collectionOf("Set", setSize.call(obj), setParts, indent);
      }
      if (isWeakMap(obj)) {
        return weakCollectionOf("WeakMap");
      }
      if (isWeakSet(obj)) {
        return weakCollectionOf("WeakSet");
      }
      if (isWeakRef(obj)) {
        return weakCollectionOf("WeakRef");
      }
      if (isNumber(obj)) {
        return markBoxed(inspect(Number(obj)));
      }
      if (isBigInt(obj)) {
        return markBoxed(inspect(bigIntValueOf.call(obj)));
      }
      if (isBoolean(obj)) {
        return markBoxed(booleanValueOf.call(obj));
      }
      if (isString(obj)) {
        return markBoxed(inspect(String(obj)));
      }
      if (!isDate(obj) && !isRegExp(obj)) {
        var ys = arrObjKeys(obj, inspect);
        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;
        var protoTag = obj instanceof Object ? "" : "null prototype";
        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? toStr(obj).slice(8, -1) : protoTag ? "Object" : "";
        var constructorTag = isPlainObject || typeof obj.constructor !== "function" ? "" : obj.constructor.name ? obj.constructor.name + " " : "";
        var tag = constructorTag + (stringTag || protoTag ? "[" + [].concat(stringTag || [], protoTag || []).join(": ") + "] " : "");
        if (ys.length === 0) {
          return tag + "{}";
        }
        if (indent) {
          return tag + "{" + indentedJoin(ys, indent) + "}";
        }
        return tag + "{ " + ys.join(", ") + " }";
      }
      return String(obj);
    };
    function wrapQuotes(s, defaultStyle, opts) {
      var quoteChar = (opts.quoteStyle || defaultStyle) === "double" ? '"' : "'";
      return quoteChar + s + quoteChar;
    }
    function quote(s) {
      return String(s).replace(/"/g, "&quot;");
    }
    function isArray(obj) {
      return toStr(obj) === "[object Array]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isDate(obj) {
      return toStr(obj) === "[object Date]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isRegExp(obj) {
      return toStr(obj) === "[object RegExp]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isError(obj) {
      return toStr(obj) === "[object Error]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isString(obj) {
      return toStr(obj) === "[object String]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isNumber(obj) {
      return toStr(obj) === "[object Number]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isBoolean(obj) {
      return toStr(obj) === "[object Boolean]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isSymbol(obj) {
      if (hasShammedSymbols) {
        return obj && typeof obj === "object" && obj instanceof Symbol;
      }
      if (typeof obj === "symbol") {
        return true;
      }
      if (!obj || typeof obj !== "object" || !symToString) {
        return false;
      }
      try {
        symToString.call(obj);
        return true;
      } catch (e) {
      }
      return false;
    }
    function isBigInt(obj) {
      if (!obj || typeof obj !== "object" || !bigIntValueOf) {
        return false;
      }
      try {
        bigIntValueOf.call(obj);
        return true;
      } catch (e) {
      }
      return false;
    }
    var hasOwn = Object.prototype.hasOwnProperty || function(key) {
      return key in this;
    };
    function has(obj, key) {
      return hasOwn.call(obj, key);
    }
    function toStr(obj) {
      return objectToString.call(obj);
    }
    function nameOf(f) {
      if (f.name) {
        return f.name;
      }
      var m = match.call(functionToString.call(f), /^function\s*([\w$]+)/);
      if (m) {
        return m[1];
      }
      return null;
    }
    function indexOf(xs, x) {
      if (xs.indexOf) {
        return xs.indexOf(x);
      }
      for (var i = 0, l = xs.length; i < l; i++) {
        if (xs[i] === x) {
          return i;
        }
      }
      return -1;
    }
    function isMap(x) {
      if (!mapSize || !x || typeof x !== "object") {
        return false;
      }
      try {
        mapSize.call(x);
        try {
          setSize.call(x);
        } catch (s) {
          return true;
        }
        return x instanceof Map;
      } catch (e) {
      }
      return false;
    }
    function isWeakMap(x) {
      if (!weakMapHas || !x || typeof x !== "object") {
        return false;
      }
      try {
        weakMapHas.call(x, weakMapHas);
        try {
          weakSetHas.call(x, weakSetHas);
        } catch (s) {
          return true;
        }
        return x instanceof WeakMap;
      } catch (e) {
      }
      return false;
    }
    function isWeakRef(x) {
      if (!weakRefDeref || !x || typeof x !== "object") {
        return false;
      }
      try {
        weakRefDeref.call(x);
        return true;
      } catch (e) {
      }
      return false;
    }
    function isSet(x) {
      if (!setSize || !x || typeof x !== "object") {
        return false;
      }
      try {
        setSize.call(x);
        try {
          mapSize.call(x);
        } catch (m) {
          return true;
        }
        return x instanceof Set;
      } catch (e) {
      }
      return false;
    }
    function isWeakSet(x) {
      if (!weakSetHas || !x || typeof x !== "object") {
        return false;
      }
      try {
        weakSetHas.call(x, weakSetHas);
        try {
          weakMapHas.call(x, weakMapHas);
        } catch (s) {
          return true;
        }
        return x instanceof WeakSet;
      } catch (e) {
      }
      return false;
    }
    function isElement(x) {
      if (!x || typeof x !== "object") {
        return false;
      }
      if (typeof HTMLElement !== "undefined" && x instanceof HTMLElement) {
        return true;
      }
      return typeof x.nodeName === "string" && typeof x.getAttribute === "function";
    }
    function inspectString(str, opts) {
      if (str.length > opts.maxStringLength) {
        var remaining = str.length - opts.maxStringLength;
        var trailer = "... " + remaining + " more character" + (remaining > 1 ? "s" : "");
        return inspectString(str.slice(0, opts.maxStringLength), opts) + trailer;
      }
      var s = str.replace(/(['\\])/g, "\\$1").replace(/[\x00-\x1f]/g, lowbyte);
      return wrapQuotes(s, "single", opts);
    }
    function lowbyte(c) {
      var n = c.charCodeAt(0);
      var x = {
        8: "b",
        9: "t",
        10: "n",
        12: "f",
        13: "r"
      }[n];
      if (x) {
        return "\\" + x;
      }
      return "\\x" + (n < 16 ? "0" : "") + n.toString(16).toUpperCase();
    }
    function markBoxed(str) {
      return "Object(" + str + ")";
    }
    function weakCollectionOf(type) {
      return type + " { ? }";
    }
    function collectionOf(type, size, entries, indent) {
      var joinedEntries = indent ? indentedJoin(entries, indent) : entries.join(", ");
      return type + " (" + size + ") {" + joinedEntries + "}";
    }
    function singleLineValues(xs) {
      for (var i = 0; i < xs.length; i++) {
        if (indexOf(xs[i], "\n") >= 0) {
          return false;
        }
      }
      return true;
    }
    function getIndent(opts, depth) {
      var baseIndent;
      if (opts.indent === "	") {
        baseIndent = "	";
      } else if (typeof opts.indent === "number" && opts.indent > 0) {
        baseIndent = Array(opts.indent + 1).join(" ");
      } else {
        return null;
      }
      return {
        base: baseIndent,
        prev: Array(depth + 1).join(baseIndent)
      };
    }
    function indentedJoin(xs, indent) {
      if (xs.length === 0) {
        return "";
      }
      var lineJoiner = "\n" + indent.prev + indent.base;
      return lineJoiner + xs.join("," + lineJoiner) + "\n" + indent.prev;
    }
    function arrObjKeys(obj, inspect) {
      var isArr = isArray(obj);
      var xs = [];
      if (isArr) {
        xs.length = obj.length;
        for (var i = 0; i < obj.length; i++) {
          xs[i] = has(obj, i) ? inspect(obj[i], obj) : "";
        }
      }
      var syms = typeof gOPS === "function" ? gOPS(obj) : [];
      var symMap;
      if (hasShammedSymbols) {
        symMap = {};
        for (var k = 0; k < syms.length; k++) {
          symMap["$" + syms[k]] = syms[k];
        }
      }
      for (var key in obj) {
        if (!has(obj, key)) {
          continue;
        }
        if (isArr && String(Number(key)) === key && key < obj.length) {
          continue;
        }
        if (hasShammedSymbols && symMap["$" + key] instanceof Symbol) {
          continue;
        } else if (/[^\w$]/.test(key)) {
          xs.push(inspect(key, obj) + ": " + inspect(obj[key], obj));
        } else {
          xs.push(key + ": " + inspect(obj[key], obj));
        }
      }
      if (typeof gOPS === "function") {
        for (var j = 0; j < syms.length; j++) {
          if (isEnumerable.call(obj, syms[j])) {
            xs.push("[" + inspect(syms[j]) + "]: " + inspect(obj[syms[j]], obj));
          }
        }
      }
      return xs;
    }
  }
});

// node_modules/side-channel/index.js
var require_side_channel = __commonJS({
  "node_modules/side-channel/index.js"(exports, module2) {
    "use strict";
    var GetIntrinsic = require_get_intrinsic();
    var callBound = require_callBound();
    var inspect = require_object_inspect();
    var $TypeError = GetIntrinsic("%TypeError%");
    var $WeakMap = GetIntrinsic("%WeakMap%", true);
    var $Map = GetIntrinsic("%Map%", true);
    var $weakMapGet = callBound("WeakMap.prototype.get", true);
    var $weakMapSet = callBound("WeakMap.prototype.set", true);
    var $weakMapHas = callBound("WeakMap.prototype.has", true);
    var $mapGet = callBound("Map.prototype.get", true);
    var $mapSet = callBound("Map.prototype.set", true);
    var $mapHas = callBound("Map.prototype.has", true);
    var listGetNode = function(list, key) {
      for (var prev = list, curr; (curr = prev.next) !== null; prev = curr) {
        if (curr.key === key) {
          prev.next = curr.next;
          curr.next = list.next;
          list.next = curr;
          return curr;
        }
      }
    };
    var listGet = function(objects, key) {
      var node = listGetNode(objects, key);
      return node && node.value;
    };
    var listSet = function(objects, key, value) {
      var node = listGetNode(objects, key);
      if (node) {
        node.value = value;
      } else {
        objects.next = {
          key,
          next: objects.next,
          value
        };
      }
    };
    var listHas = function(objects, key) {
      return !!listGetNode(objects, key);
    };
    module2.exports = function getSideChannel() {
      var $wm;
      var $m;
      var $o;
      var channel = {
        assert: function(key) {
          if (!channel.has(key)) {
            throw new $TypeError("Side channel does not contain " + inspect(key));
          }
        },
        get: function(key) {
          if ($WeakMap && key && (typeof key === "object" || typeof key === "function")) {
            if ($wm) {
              return $weakMapGet($wm, key);
            }
          } else if ($Map) {
            if ($m) {
              return $mapGet($m, key);
            }
          } else {
            if ($o) {
              return listGet($o, key);
            }
          }
        },
        has: function(key) {
          if ($WeakMap && key && (typeof key === "object" || typeof key === "function")) {
            if ($wm) {
              return $weakMapHas($wm, key);
            }
          } else if ($Map) {
            if ($m) {
              return $mapHas($m, key);
            }
          } else {
            if ($o) {
              return listHas($o, key);
            }
          }
          return false;
        },
        set: function(key, value) {
          if ($WeakMap && key && (typeof key === "object" || typeof key === "function")) {
            if (!$wm) {
              $wm = new $WeakMap();
            }
            $weakMapSet($wm, key, value);
          } else if ($Map) {
            if (!$m) {
              $m = new $Map();
            }
            $mapSet($m, key, value);
          } else {
            if (!$o) {
              $o = { key: {}, next: null };
            }
            listSet($o, key, value);
          }
        }
      };
      return channel;
    };
  }
});

// node_modules/qs/lib/formats.js
var require_formats = __commonJS({
  "node_modules/qs/lib/formats.js"(exports, module2) {
    "use strict";
    var replace = String.prototype.replace;
    var percentTwenties = /%20/g;
    var Format = {
      RFC1738: "RFC1738",
      RFC3986: "RFC3986"
    };
    module2.exports = {
      "default": Format.RFC3986,
      formatters: {
        RFC1738: function(value) {
          return replace.call(value, percentTwenties, "+");
        },
        RFC3986: function(value) {
          return String(value);
        }
      },
      RFC1738: Format.RFC1738,
      RFC3986: Format.RFC3986
    };
  }
});

// node_modules/qs/lib/utils.js
var require_utils = __commonJS({
  "node_modules/qs/lib/utils.js"(exports, module2) {
    "use strict";
    var formats = require_formats();
    var has = Object.prototype.hasOwnProperty;
    var isArray = Array.isArray;
    var hexTable = function() {
      var array = [];
      for (var i = 0; i < 256; ++i) {
        array.push("%" + ((i < 16 ? "0" : "") + i.toString(16)).toUpperCase());
      }
      return array;
    }();
    var compactQueue = function compactQueue2(queue) {
      while (queue.length > 1) {
        var item = queue.pop();
        var obj = item.obj[item.prop];
        if (isArray(obj)) {
          var compacted = [];
          for (var j = 0; j < obj.length; ++j) {
            if (typeof obj[j] !== "undefined") {
              compacted.push(obj[j]);
            }
          }
          item.obj[item.prop] = compacted;
        }
      }
    };
    var arrayToObject = function arrayToObject2(source, options2) {
      var obj = options2 && options2.plainObjects ? Object.create(null) : {};
      for (var i = 0; i < source.length; ++i) {
        if (typeof source[i] !== "undefined") {
          obj[i] = source[i];
        }
      }
      return obj;
    };
    var merge2 = function merge3(target, source, options2) {
      if (!source) {
        return target;
      }
      if (typeof source !== "object") {
        if (isArray(target)) {
          target.push(source);
        } else if (target && typeof target === "object") {
          if (options2 && (options2.plainObjects || options2.allowPrototypes) || !has.call(Object.prototype, source)) {
            target[source] = true;
          }
        } else {
          return [target, source];
        }
        return target;
      }
      if (!target || typeof target !== "object") {
        return [target].concat(source);
      }
      var mergeTarget = target;
      if (isArray(target) && !isArray(source)) {
        mergeTarget = arrayToObject(target, options2);
      }
      if (isArray(target) && isArray(source)) {
        source.forEach(function(item, i) {
          if (has.call(target, i)) {
            var targetItem = target[i];
            if (targetItem && typeof targetItem === "object" && item && typeof item === "object") {
              target[i] = merge3(targetItem, item, options2);
            } else {
              target.push(item);
            }
          } else {
            target[i] = item;
          }
        });
        return target;
      }
      return Object.keys(source).reduce(function(acc, key) {
        var value = source[key];
        if (has.call(acc, key)) {
          acc[key] = merge3(acc[key], value, options2);
        } else {
          acc[key] = value;
        }
        return acc;
      }, mergeTarget);
    };
    var assign = function assignSingleSource(target, source) {
      return Object.keys(source).reduce(function(acc, key) {
        acc[key] = source[key];
        return acc;
      }, target);
    };
    var decode = function(str, decoder, charset) {
      var strWithoutPlus = str.replace(/\+/g, " ");
      if (charset === "iso-8859-1") {
        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);
      }
      try {
        return decodeURIComponent(strWithoutPlus);
      } catch (e) {
        return strWithoutPlus;
      }
    };
    var encode = function encode2(str, defaultEncoder, charset, kind, format) {
      if (str.length === 0) {
        return str;
      }
      var string = str;
      if (typeof str === "symbol") {
        string = Symbol.prototype.toString.call(str);
      } else if (typeof str !== "string") {
        string = String(str);
      }
      if (charset === "iso-8859-1") {
        return escape(string).replace(/%u[0-9a-f]{4}/gi, function($0) {
          return "%26%23" + parseInt($0.slice(2), 16) + "%3B";
        });
      }
      var out = "";
      for (var i = 0; i < string.length; ++i) {
        var c = string.charCodeAt(i);
        if (c === 45 || c === 46 || c === 95 || c === 126 || c >= 48 && c <= 57 || c >= 65 && c <= 90 || c >= 97 && c <= 122 || format === formats.RFC1738 && (c === 40 || c === 41)) {
          out += string.charAt(i);
          continue;
        }
        if (c < 128) {
          out = out + hexTable[c];
          continue;
        }
        if (c < 2048) {
          out = out + (hexTable[192 | c >> 6] + hexTable[128 | c & 63]);
          continue;
        }
        if (c < 55296 || c >= 57344) {
          out = out + (hexTable[224 | c >> 12] + hexTable[128 | c >> 6 & 63] + hexTable[128 | c & 63]);
          continue;
        }
        i += 1;
        c = 65536 + ((c & 1023) << 10 | string.charCodeAt(i) & 1023);
        out += hexTable[240 | c >> 18] + hexTable[128 | c >> 12 & 63] + hexTable[128 | c >> 6 & 63] + hexTable[128 | c & 63];
      }
      return out;
    };
    var compact = function compact2(value) {
      var queue = [{ obj: { o: value }, prop: "o" }];
      var refs = [];
      for (var i = 0; i < queue.length; ++i) {
        var item = queue[i];
        var obj = item.obj[item.prop];
        var keys = Object.keys(obj);
        for (var j = 0; j < keys.length; ++j) {
          var key = keys[j];
          var val = obj[key];
          if (typeof val === "object" && val !== null && refs.indexOf(val) === -1) {
            queue.push({ obj, prop: key });
            refs.push(val);
          }
        }
      }
      compactQueue(queue);
      return value;
    };
    var isRegExp = function isRegExp2(obj) {
      return Object.prototype.toString.call(obj) === "[object RegExp]";
    };
    var isBuffer = function isBuffer2(obj) {
      if (!obj || typeof obj !== "object") {
        return false;
      }
      return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));
    };
    var combine = function combine2(a, b) {
      return [].concat(a, b);
    };
    var maybeMap = function maybeMap2(val, fn) {
      if (isArray(val)) {
        var mapped = [];
        for (var i = 0; i < val.length; i += 1) {
          mapped.push(fn(val[i]));
        }
        return mapped;
      }
      return fn(val);
    };
    module2.exports = {
      arrayToObject,
      assign,
      combine,
      compact,
      decode,
      encode,
      isBuffer,
      isRegExp,
      maybeMap,
      merge: merge2
    };
  }
});

// node_modules/qs/lib/stringify.js
var require_stringify = __commonJS({
  "node_modules/qs/lib/stringify.js"(exports, module2) {
    "use strict";
    var getSideChannel = require_side_channel();
    var utils = require_utils();
    var formats = require_formats();
    var has = Object.prototype.hasOwnProperty;
    var arrayPrefixGenerators = {
      brackets: function brackets(prefix) {
        return prefix + "[]";
      },
      comma: "comma",
      indices: function indices(prefix, key) {
        return prefix + "[" + key + "]";
      },
      repeat: function repeat(prefix) {
        return prefix;
      }
    };
    var isArray = Array.isArray;
    var split = String.prototype.split;
    var push = Array.prototype.push;
    var pushToArray = function(arr, valueOrArray) {
      push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);
    };
    var toISO = Date.prototype.toISOString;
    var defaultFormat = formats["default"];
    var defaults2 = {
      addQueryPrefix: false,
      allowDots: false,
      charset: "utf-8",
      charsetSentinel: false,
      delimiter: "&",
      encode: true,
      encoder: utils.encode,
      encodeValuesOnly: false,
      format: defaultFormat,
      formatter: formats.formatters[defaultFormat],
      indices: false,
      serializeDate: function serializeDate(date) {
        return toISO.call(date);
      },
      skipNulls: false,
      strictNullHandling: false
    };
    var isNonNullishPrimitive = function isNonNullishPrimitive2(v) {
      return typeof v === "string" || typeof v === "number" || typeof v === "boolean" || typeof v === "symbol" || typeof v === "bigint";
    };
    var sentinel = {};
    var stringify = function stringify2(object, prefix, generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, sideChannel) {
      var obj = object;
      var tmpSc = sideChannel;
      var step = 0;
      var findFlag = false;
      while ((tmpSc = tmpSc.get(sentinel)) !== void 0 && !findFlag) {
        var pos = tmpSc.get(object);
        step += 1;
        if (typeof pos !== "undefined") {
          if (pos === step) {
            throw new RangeError("Cyclic object value");
          } else {
            findFlag = true;
          }
        }
        if (typeof tmpSc.get(sentinel) === "undefined") {
          step = 0;
        }
      }
      if (typeof filter === "function") {
        obj = filter(prefix, obj);
      } else if (obj instanceof Date) {
        obj = serializeDate(obj);
      } else if (generateArrayPrefix === "comma" && isArray(obj)) {
        obj = utils.maybeMap(obj, function(value2) {
          if (value2 instanceof Date) {
            return serializeDate(value2);
          }
          return value2;
        });
      }
      if (obj === null) {
        if (strictNullHandling) {
          return encoder && !encodeValuesOnly ? encoder(prefix, defaults2.encoder, charset, "key", format) : prefix;
        }
        obj = "";
      }
      if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {
        if (encoder) {
          var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults2.encoder, charset, "key", format);
          if (generateArrayPrefix === "comma" && encodeValuesOnly) {
            var valuesArray = split.call(String(obj), ",");
            var valuesJoined = "";
            for (var i = 0; i < valuesArray.length; ++i) {
              valuesJoined += (i === 0 ? "" : ",") + formatter(encoder(valuesArray[i], defaults2.encoder, charset, "value", format));
            }
            return [formatter(keyValue) + "=" + valuesJoined];
          }
          return [formatter(keyValue) + "=" + formatter(encoder(obj, defaults2.encoder, charset, "value", format))];
        }
        return [formatter(prefix) + "=" + formatter(String(obj))];
      }
      var values = [];
      if (typeof obj === "undefined") {
        return values;
      }
      var objKeys;
      if (generateArrayPrefix === "comma" && isArray(obj)) {
        objKeys = [{ value: obj.length > 0 ? obj.join(",") || null : void 0 }];
      } else if (isArray(filter)) {
        objKeys = filter;
      } else {
        var keys = Object.keys(obj);
        objKeys = sort ? keys.sort(sort) : keys;
      }
      for (var j = 0; j < objKeys.length; ++j) {
        var key = objKeys[j];
        var value = typeof key === "object" && key.value !== void 0 ? key.value : obj[key];
        if (skipNulls && value === null) {
          continue;
        }
        var keyPrefix = isArray(obj) ? typeof generateArrayPrefix === "function" ? generateArrayPrefix(prefix, key) : prefix : prefix + (allowDots ? "." + key : "[" + key + "]");
        sideChannel.set(object, step);
        var valueSideChannel = getSideChannel();
        valueSideChannel.set(sentinel, sideChannel);
        pushToArray(values, stringify2(value, keyPrefix, generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, valueSideChannel));
      }
      return values;
    };
    var normalizeStringifyOptions = function normalizeStringifyOptions2(opts) {
      if (!opts) {
        return defaults2;
      }
      if (opts.encoder !== null && opts.encoder !== void 0 && typeof opts.encoder !== "function") {
        throw new TypeError("Encoder has to be a function.");
      }
      var charset = opts.charset || defaults2.charset;
      if (typeof opts.charset !== "undefined" && opts.charset !== "utf-8" && opts.charset !== "iso-8859-1") {
        throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
      }
      var format = formats["default"];
      if (typeof opts.format !== "undefined") {
        if (!has.call(formats.formatters, opts.format)) {
          throw new TypeError("Unknown format option provided.");
        }
        format = opts.format;
      }
      var formatter = formats.formatters[format];
      var filter = defaults2.filter;
      if (typeof opts.filter === "function" || isArray(opts.filter)) {
        filter = opts.filter;
      }
      return {
        addQueryPrefix: typeof opts.addQueryPrefix === "boolean" ? opts.addQueryPrefix : defaults2.addQueryPrefix,
        allowDots: typeof opts.allowDots === "undefined" ? defaults2.allowDots : !!opts.allowDots,
        charset,
        charsetSentinel: typeof opts.charsetSentinel === "boolean" ? opts.charsetSentinel : defaults2.charsetSentinel,
        delimiter: typeof opts.delimiter === "undefined" ? defaults2.delimiter : opts.delimiter,
        encode: typeof opts.encode === "boolean" ? opts.encode : defaults2.encode,
        encoder: typeof opts.encoder === "function" ? opts.encoder : defaults2.encoder,
        encodeValuesOnly: typeof opts.encodeValuesOnly === "boolean" ? opts.encodeValuesOnly : defaults2.encodeValuesOnly,
        filter,
        format,
        formatter,
        serializeDate: typeof opts.serializeDate === "function" ? opts.serializeDate : defaults2.serializeDate,
        skipNulls: typeof opts.skipNulls === "boolean" ? opts.skipNulls : defaults2.skipNulls,
        sort: typeof opts.sort === "function" ? opts.sort : null,
        strictNullHandling: typeof opts.strictNullHandling === "boolean" ? opts.strictNullHandling : defaults2.strictNullHandling
      };
    };
    module2.exports = function(object, opts) {
      var obj = object;
      var options2 = normalizeStringifyOptions(opts);
      var objKeys;
      var filter;
      if (typeof options2.filter === "function") {
        filter = options2.filter;
        obj = filter("", obj);
      } else if (isArray(options2.filter)) {
        filter = options2.filter;
        objKeys = filter;
      }
      var keys = [];
      if (typeof obj !== "object" || obj === null) {
        return "";
      }
      var arrayFormat;
      if (opts && opts.arrayFormat in arrayPrefixGenerators) {
        arrayFormat = opts.arrayFormat;
      } else if (opts && "indices" in opts) {
        arrayFormat = opts.indices ? "indices" : "repeat";
      } else {
        arrayFormat = "indices";
      }
      var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];
      if (!objKeys) {
        objKeys = Object.keys(obj);
      }
      if (options2.sort) {
        objKeys.sort(options2.sort);
      }
      var sideChannel = getSideChannel();
      for (var i = 0; i < objKeys.length; ++i) {
        var key = objKeys[i];
        if (options2.skipNulls && obj[key] === null) {
          continue;
        }
        pushToArray(keys, stringify(obj[key], key, generateArrayPrefix, options2.strictNullHandling, options2.skipNulls, options2.encode ? options2.encoder : null, options2.filter, options2.sort, options2.allowDots, options2.serializeDate, options2.format, options2.formatter, options2.encodeValuesOnly, options2.charset, sideChannel));
      }
      var joined = keys.join(options2.delimiter);
      var prefix = options2.addQueryPrefix === true ? "?" : "";
      if (options2.charsetSentinel) {
        if (options2.charset === "iso-8859-1") {
          prefix += "utf8=%26%2310003%3B&";
        } else {
          prefix += "utf8=%E2%9C%93&";
        }
      }
      return joined.length > 0 ? prefix + joined : "";
    };
  }
});

// node_modules/qs/lib/parse.js
var require_parse = __commonJS({
  "node_modules/qs/lib/parse.js"(exports, module2) {
    "use strict";
    var utils = require_utils();
    var has = Object.prototype.hasOwnProperty;
    var isArray = Array.isArray;
    var defaults2 = {
      allowDots: false,
      allowPrototypes: false,
      allowSparse: false,
      arrayLimit: 20,
      charset: "utf-8",
      charsetSentinel: false,
      comma: false,
      decoder: utils.decode,
      delimiter: "&",
      depth: 5,
      ignoreQueryPrefix: false,
      interpretNumericEntities: false,
      parameterLimit: 1e3,
      parseArrays: true,
      plainObjects: false,
      strictNullHandling: false
    };
    var interpretNumericEntities = function(str) {
      return str.replace(/&#(\d+);/g, function($0, numberStr) {
        return String.fromCharCode(parseInt(numberStr, 10));
      });
    };
    var parseArrayValue = function(val, options2) {
      if (val && typeof val === "string" && options2.comma && val.indexOf(",") > -1) {
        return val.split(",");
      }
      return val;
    };
    var isoSentinel = "utf8=%26%2310003%3B";
    var charsetSentinel = "utf8=%E2%9C%93";
    var parseValues = function parseQueryStringValues(str, options2) {
      var obj = {};
      var cleanStr = options2.ignoreQueryPrefix ? str.replace(/^\?/, "") : str;
      var limit = options2.parameterLimit === Infinity ? void 0 : options2.parameterLimit;
      var parts = cleanStr.split(options2.delimiter, limit);
      var skipIndex = -1;
      var i;
      var charset = options2.charset;
      if (options2.charsetSentinel) {
        for (i = 0; i < parts.length; ++i) {
          if (parts[i].indexOf("utf8=") === 0) {
            if (parts[i] === charsetSentinel) {
              charset = "utf-8";
            } else if (parts[i] === isoSentinel) {
              charset = "iso-8859-1";
            }
            skipIndex = i;
            i = parts.length;
          }
        }
      }
      for (i = 0; i < parts.length; ++i) {
        if (i === skipIndex) {
          continue;
        }
        var part = parts[i];
        var bracketEqualsPos = part.indexOf("]=");
        var pos = bracketEqualsPos === -1 ? part.indexOf("=") : bracketEqualsPos + 1;
        var key, val;
        if (pos === -1) {
          key = options2.decoder(part, defaults2.decoder, charset, "key");
          val = options2.strictNullHandling ? null : "";
        } else {
          key = options2.decoder(part.slice(0, pos), defaults2.decoder, charset, "key");
          val = utils.maybeMap(parseArrayValue(part.slice(pos + 1), options2), function(encodedVal) {
            return options2.decoder(encodedVal, defaults2.decoder, charset, "value");
          });
        }
        if (val && options2.interpretNumericEntities && charset === "iso-8859-1") {
          val = interpretNumericEntities(val);
        }
        if (part.indexOf("[]=") > -1) {
          val = isArray(val) ? [val] : val;
        }
        if (has.call(obj, key)) {
          obj[key] = utils.combine(obj[key], val);
        } else {
          obj[key] = val;
        }
      }
      return obj;
    };
    var parseObject = function(chain, val, options2, valuesParsed) {
      var leaf = valuesParsed ? val : parseArrayValue(val, options2);
      for (var i = chain.length - 1; i >= 0; --i) {
        var obj;
        var root = chain[i];
        if (root === "[]" && options2.parseArrays) {
          obj = [].concat(leaf);
        } else {
          obj = options2.plainObjects ? Object.create(null) : {};
          var cleanRoot = root.charAt(0) === "[" && root.charAt(root.length - 1) === "]" ? root.slice(1, -1) : root;
          var index = parseInt(cleanRoot, 10);
          if (!options2.parseArrays && cleanRoot === "") {
            obj = { 0: leaf };
          } else if (!isNaN(index) && root !== cleanRoot && String(index) === cleanRoot && index >= 0 && (options2.parseArrays && index <= options2.arrayLimit)) {
            obj = [];
            obj[index] = leaf;
          } else {
            obj[cleanRoot] = leaf;
          }
        }
        leaf = obj;
      }
      return leaf;
    };
    var parseKeys = function parseQueryStringKeys(givenKey, val, options2, valuesParsed) {
      if (!givenKey) {
        return;
      }
      var key = options2.allowDots ? givenKey.replace(/\.([^.[]+)/g, "[$1]") : givenKey;
      var brackets = /(\[[^[\]]*])/;
      var child = /(\[[^[\]]*])/g;
      var segment = options2.depth > 0 && brackets.exec(key);
      var parent = segment ? key.slice(0, segment.index) : key;
      var keys = [];
      if (parent) {
        if (!options2.plainObjects && has.call(Object.prototype, parent)) {
          if (!options2.allowPrototypes) {
            return;
          }
        }
        keys.push(parent);
      }
      var i = 0;
      while (options2.depth > 0 && (segment = child.exec(key)) !== null && i < options2.depth) {
        i += 1;
        if (!options2.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {
          if (!options2.allowPrototypes) {
            return;
          }
        }
        keys.push(segment[1]);
      }
      if (segment) {
        keys.push("[" + key.slice(segment.index) + "]");
      }
      return parseObject(keys, val, options2, valuesParsed);
    };
    var normalizeParseOptions = function normalizeParseOptions2(opts) {
      if (!opts) {
        return defaults2;
      }
      if (opts.decoder !== null && opts.decoder !== void 0 && typeof opts.decoder !== "function") {
        throw new TypeError("Decoder has to be a function.");
      }
      if (typeof opts.charset !== "undefined" && opts.charset !== "utf-8" && opts.charset !== "iso-8859-1") {
        throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
      }
      var charset = typeof opts.charset === "undefined" ? defaults2.charset : opts.charset;
      return {
        allowDots: typeof opts.allowDots === "undefined" ? defaults2.allowDots : !!opts.allowDots,
        allowPrototypes: typeof opts.allowPrototypes === "boolean" ? opts.allowPrototypes : defaults2.allowPrototypes,
        allowSparse: typeof opts.allowSparse === "boolean" ? opts.allowSparse : defaults2.allowSparse,
        arrayLimit: typeof opts.arrayLimit === "number" ? opts.arrayLimit : defaults2.arrayLimit,
        charset,
        charsetSentinel: typeof opts.charsetSentinel === "boolean" ? opts.charsetSentinel : defaults2.charsetSentinel,
        comma: typeof opts.comma === "boolean" ? opts.comma : defaults2.comma,
        decoder: typeof opts.decoder === "function" ? opts.decoder : defaults2.decoder,
        delimiter: typeof opts.delimiter === "string" || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults2.delimiter,
        depth: typeof opts.depth === "number" || opts.depth === false ? +opts.depth : defaults2.depth,
        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,
        interpretNumericEntities: typeof opts.interpretNumericEntities === "boolean" ? opts.interpretNumericEntities : defaults2.interpretNumericEntities,
        parameterLimit: typeof opts.parameterLimit === "number" ? opts.parameterLimit : defaults2.parameterLimit,
        parseArrays: opts.parseArrays !== false,
        plainObjects: typeof opts.plainObjects === "boolean" ? opts.plainObjects : defaults2.plainObjects,
        strictNullHandling: typeof opts.strictNullHandling === "boolean" ? opts.strictNullHandling : defaults2.strictNullHandling
      };
    };
    module2.exports = function(str, opts) {
      var options2 = normalizeParseOptions(opts);
      if (str === "" || str === null || typeof str === "undefined") {
        return options2.plainObjects ? Object.create(null) : {};
      }
      var tempObj = typeof str === "string" ? parseValues(str, options2) : str;
      var obj = options2.plainObjects ? Object.create(null) : {};
      var keys = Object.keys(tempObj);
      for (var i = 0; i < keys.length; ++i) {
        var key = keys[i];
        var newObj = parseKeys(key, tempObj[key], options2, typeof str === "string");
        obj = utils.merge(obj, newObj, options2);
      }
      if (options2.allowSparse === true) {
        return obj;
      }
      return utils.compact(obj);
    };
  }
});

// node_modules/qs/lib/index.js
var require_lib2 = __commonJS({
  "node_modules/qs/lib/index.js"(exports, module2) {
    "use strict";
    var stringify = require_stringify();
    var parse = require_parse();
    var formats = require_formats();
    module2.exports = {
      formats,
      parse,
      stringify
    };
  }
});

// node_modules/wpapi/lib/util/alphanumeric-sort.js
var require_alphanumeric_sort = __commonJS({
  "node_modules/wpapi/lib/util/alphanumeric-sort.js"(exports, module2) {
    "use strict";
    module2.exports = (a, b) => {
      if (a > b) {
        return 1;
      }
      if (a < b) {
        return -1;
      }
      return 0;
    };
  }
});

// node_modules/wpapi/lib/util/key-val-to-obj.js
var require_key_val_to_obj = __commonJS({
  "node_modules/wpapi/lib/util/key-val-to-obj.js"(exports, module2) {
    "use strict";
    module2.exports = (key, value) => {
      const obj = {};
      obj[key] = value;
      return obj;
    };
  }
});

// node_modules/wpapi/lib/util/parameter-setter.js
var require_parameter_setter = __commonJS({
  "node_modules/wpapi/lib/util/parameter-setter.js"(exports, module2) {
    "use strict";
    module2.exports = (param) => {
      return function(val) {
        return this.param(param, val);
      };
    };
  }
});

// node_modules/wpapi/lib/util/unique.js
var require_unique = __commonJS({
  "node_modules/wpapi/lib/util/unique.js"(exports, module2) {
    module2.exports = (arr) => Array.from(new Set(arr));
  }
});

// node_modules/wpapi/lib/constructors/wp-request.js
var require_wp_request = __commonJS({
  "node_modules/wpapi/lib/constructors/wp-request.js"(exports, module2) {
    "use strict";
    var qs = require_lib2();
    var alphaNumericSort = require_alphanumeric_sort();
    var keyValToObj = require_key_val_to_obj();
    var paramSetter = require_parameter_setter();
    var objectReduce = require_object_reduce();
    var unique = require_unique();
    function WPRequest(options2) {
      this._options = [
        "auth",
        "endpoint",
        "headers",
        "username",
        "password",
        "nonce"
      ].reduce((localOptions, key) => {
        if (options2 && options2[key]) {
          localOptions[key] = options2[key];
        }
        return localOptions;
      }, {});
      this.transport = options2 && options2.transport;
      this._params = {};
      this._supportedMethods = ["head", "get", "put", "post", "delete"];
      this._path = {};
    }
    var identity = (value) => value;
    function prepareTaxonomies(taxonomyFilters) {
      if (!taxonomyFilters) {
        return {};
      }
      return objectReduce(taxonomyFilters, (result, terms, key) => {
        result[key] = terms.map((term) => (term + "").trim().toLowerCase()).join("+");
        return result;
      }, {});
    }
    var populated = (obj) => {
      if (!obj) {
        return obj;
      }
      return objectReduce(obj, (values, val, key) => {
        if (val !== void 0 && val !== null && val !== "") {
          values[key] = val;
        }
        return values;
      }, {});
    };
    var validatePathLevel = (levelDefinitions, levelContents) => {
      const valid = levelDefinitions.reduce((anyOptionValid, levelOption) => {
        if (!levelOption.validate) {
          return true;
        }
        return anyOptionValid || levelOption.validate(levelContents);
      }, false);
      if (!valid) {
        throw new Error([
          "Invalid path component:",
          levelContents,
          "does not match" + (levelDefinitions.length > 1 ? " any of" : ""),
          levelDefinitions.reduce((components, levelOption) => components.concat(levelOption.component), []).join(", ")
        ].join(" "));
      }
    };
    WPRequest.prototype._renderQuery = function() {
      const queryParams = __spreadValues({}, populated(this._params));
      const taxonomies = prepareTaxonomies(this._taxonomyFilters);
      queryParams.filter = __spreadValues(__spreadValues({}, populated(this._filters)), taxonomies);
      const queryString = qs.stringify(queryParams, { arrayFormat: "brackets" }).split("&").sort().join("&");
      const queryCharacter = /\?/.test(this._options.endpoint) ? "&" : "?";
      return queryString === "" ? "" : queryCharacter + queryString;
    };
    WPRequest.prototype._renderPath = function() {
      this.validatePath();
      const pathParts = this._path;
      const orderedPathParts = Object.keys(pathParts).sort((a, b) => {
        const intA = parseInt(a, 10);
        const intB = parseInt(b, 10);
        return intA - intB;
      }).map((pathPartKey) => pathParts[pathPartKey]);
      const path = [
        this._namespace
      ].concat(orderedPathParts).filter(identity).join("/");
      return path;
    };
    WPRequest.prototype.toString = function() {
      const path = this._renderPath();
      const queryStr = this._renderQuery();
      return this._options.endpoint + path + queryStr;
    };
    WPRequest.prototype.setPathPart = function(level, val) {
      if (this._path[level]) {
        throw new Error("Cannot overwrite value " + this._path[level]);
      }
      this._path[level] = val;
      return this;
    };
    WPRequest.prototype.validatePath = function() {
      const specifiedLevels = Object.keys(this._path).map((level) => parseInt(level, 10)).filter((pathPartKey) => !isNaN(pathPartKey));
      const maxLevel = Math.max.apply(null, specifiedLevels);
      const path = [];
      let valid = true;
      for (let level = 0; level <= maxLevel; level++) {
        if (!this._levels || !this._levels[level]) {
          continue;
        }
        if (this._path[level]) {
          validatePathLevel(this._levels[level], this._path[level]);
          path.push(this._path[level]);
        } else {
          path.push(" ??? ");
          valid = false;
        }
      }
      if (!valid) {
        throw new Error("Incomplete URL! Missing component: /" + path.join("/"));
      }
      return this;
    };
    WPRequest.prototype.param = function(props, value) {
      if (!props || typeof props === "string" && value === void 0) {
        return this;
      }
      if (typeof props === "string") {
        props = keyValToObj(props, value);
      }
      Object.keys(props).forEach((key) => {
        let value2 = props[key];
        if (Array.isArray(value2)) {
          value2 = unique(value2).sort(alphaNumericSort);
        }
        this._params[key] = value2;
      });
      return this;
    };
    WPRequest.prototype.context = paramSetter("context");
    WPRequest.prototype.edit = function() {
      return this.context("edit");
    };
    WPRequest.prototype.embed = function() {
      return this.param("_embed", true);
    };
    WPRequest.prototype.page = paramSetter("page");
    WPRequest.prototype.perPage = paramSetter("per_page");
    WPRequest.prototype.offset = paramSetter("offset");
    WPRequest.prototype.order = paramSetter("order");
    WPRequest.prototype.orderby = paramSetter("orderby");
    WPRequest.prototype.search = paramSetter("search");
    WPRequest.prototype.include = paramSetter("include");
    WPRequest.prototype.exclude = paramSetter("exclude");
    WPRequest.prototype.slug = paramSetter("slug");
    WPRequest.prototype.namespace = function(namespace) {
      this._namespace = namespace;
      return this;
    };
    WPRequest.prototype.auth = function(credentials) {
      if (typeof credentials === "object") {
        if (typeof credentials.username === "string") {
          this._options.username = credentials.username;
        }
        if (typeof credentials.password === "string") {
          this._options.password = credentials.password;
        }
        if (credentials.nonce) {
          this._options.nonce = credentials.nonce;
        }
      }
      this._options.auth = true;
      return this;
    };
    WPRequest.prototype.file = function(file, name) {
      if (global.Buffer && file instanceof global.Buffer && !name) {
        throw new Error(".file(): File name is a required argument when uploading a Buffer");
      }
      this._attachment = file;
      this._attachmentName = name ? name : void 0;
      return this;
    };
    WPRequest.prototype.setHeaders = function(headers, value) {
      if (typeof headers === "string") {
        headers = keyValToObj(headers, value);
      }
      this._options.headers = __spreadValues(__spreadValues({}, this._options.headers || {}), headers);
      return this;
    };
    WPRequest.prototype.get = function(callback) {
      return this.transport.get(this, callback);
    };
    WPRequest.prototype.headers = function(callback) {
      return this.transport.head(this, callback);
    };
    WPRequest.prototype.create = function(data, callback) {
      return this.transport.post(this, data, callback);
    };
    WPRequest.prototype.update = function(data, callback) {
      return this.transport.put(this, data, callback);
    };
    WPRequest.prototype.delete = function(data, callback) {
      return this.transport.delete(this, data, callback);
    };
    WPRequest.prototype.then = function(successCallback, failureCallback) {
      return this.transport.get(this).then(successCallback, failureCallback);
    };
    module2.exports = WPRequest;
  }
});

// node_modules/wpapi/lib/mixins/filters.js
var require_filters = __commonJS({
  "node_modules/wpapi/lib/mixins/filters.js"(exports, module2) {
    "use strict";
    var alphaNumericSort = require_alphanumeric_sort();
    var keyValToObj = require_key_val_to_obj();
    var unique = require_unique();
    var filterMixins = {};
    filterMixins.filter = function(props, value) {
      if (!props || typeof props === "string" && value === void 0) {
        return this;
      }
      if (typeof props === "string") {
        props = keyValToObj(props, value);
      }
      this._filters = __spreadValues(__spreadValues({}, this._filters), props);
      return this;
    };
    filterMixins.taxonomy = function(taxonomy, term) {
      const termIsArray = Array.isArray(term);
      const termIsNumber = termIsArray ? term.reduce((allAreNumbers, term2) => allAreNumbers && typeof term2 === "number", true) : typeof term === "number";
      const termIsString = termIsArray ? term.reduce((allAreStrings, term2) => allAreStrings && typeof term2 === "string", true) : typeof term === "string";
      if (!termIsString && !termIsNumber) {
        throw new Error("term must be a number, string, or array of numbers or strings");
      }
      if (taxonomy === "category") {
        if (termIsString) {
          taxonomy = "category_name";
        } else {
          taxonomy = "cat";
        }
      } else if (taxonomy === "post_tag") {
        taxonomy = "tag";
      }
      this._taxonomyFilters = this._taxonomyFilters || {};
      const taxonomyTerms = (this._taxonomyFilters[taxonomy] || []).concat(term).sort(alphaNumericSort);
      this._taxonomyFilters[taxonomy] = unique(taxonomyTerms, true);
      return this;
    };
    filterMixins.year = function(year) {
      return filterMixins.filter.call(this, "year", year);
    };
    filterMixins.month = function(month) {
      let monthDate;
      if (typeof month === "string") {
        monthDate = new Date(Date.parse(month + " 1, 2012"));
        if (isNaN(monthDate)) {
          return this;
        }
        month = monthDate.getMonth() + 1;
      }
      if (typeof month === "number") {
        return filterMixins.filter.call(this, "monthnum", month);
      }
      return this;
    };
    filterMixins.day = function(day) {
      return filterMixins.filter.call(this, "day", day);
    };
    filterMixins.path = function(path) {
      return filterMixins.filter.call(this, "pagename", path);
    };
    module2.exports = filterMixins;
  }
});

// node_modules/wpapi/lib/util/argument-is-numeric.js
var require_argument_is_numeric = __commonJS({
  "node_modules/wpapi/lib/util/argument-is-numeric.js"(exports, module2) {
    "use strict";
    var argumentIsNumeric = (val) => {
      if (typeof val === "number") {
        return true;
      }
      if (typeof val === "string") {
        return /^\d+$/.test(val);
      }
      if (Array.isArray(val)) {
        for (let i = 0; i < val.length; i++) {
          if (!argumentIsNumeric(val[i])) {
            return false;
          }
        }
        return true;
      }
      return false;
    };
    module2.exports = argumentIsNumeric;
  }
});

// node_modules/wpapi/lib/mixins/parameters.js
var require_parameters = __commonJS({
  "node_modules/wpapi/lib/mixins/parameters.js"(exports, module2) {
    "use strict";
    var paramSetter = require_parameter_setter();
    var argumentIsNumeric = require_argument_is_numeric();
    var parameterMixins = {};
    var filters = require_filters();
    var filter = filters.filter;
    var taxonomy = filters.taxonomy;
    parameterMixins.author = function(author) {
      if (author === void 0) {
        return this;
      }
      if (typeof author === "string") {
        this.param("author", null);
        return filter.call(this, "author_name", author);
      }
      if (typeof author === "number") {
        filter.call(this, "author_name", null);
        return this.param("author", author);
      }
      if (author === null) {
        filter.call(this, "author_name", null);
        return this.param("author", null);
      }
      throw new Error("author must be either a nicename string or numeric ID");
    };
    parameterMixins.parent = paramSetter("parent");
    parameterMixins.post = paramSetter("post");
    parameterMixins.password = paramSetter("password");
    parameterMixins.status = paramSetter("status");
    parameterMixins.sticky = paramSetter("sticky");
    parameterMixins.categories = paramSetter("categories");
    parameterMixins.category = function(category) {
      if (argumentIsNumeric(category)) {
        return parameterMixins.categories.call(this, category);
      }
      return taxonomy.call(this, "category", category);
    };
    parameterMixins.excludeCategories = paramSetter("categories_exclude");
    parameterMixins.tags = paramSetter("tags");
    parameterMixins.tag = function(tag) {
      if (argumentIsNumeric(tag)) {
        return parameterMixins.tags.call(this, tag);
      }
      return taxonomy.call(this, "tag", tag);
    };
    parameterMixins.excludeTags = paramSetter("tags_exclude");
    parameterMixins.before = function(date) {
      return this.param("before", new Date(date).toISOString());
    };
    parameterMixins.after = function(date) {
      return this.param("after", new Date(date).toISOString());
    };
    module2.exports = parameterMixins;
  }
});

// node_modules/wpapi/lib/mixins/index.js
var require_mixins = __commonJS({
  "node_modules/wpapi/lib/mixins/index.js"(exports, module2) {
    "use strict";
    var filterMixins = require_filters();
    var parameterMixins = require_parameters();
    var mixins = {
      categories: {
        categories: parameterMixins.categories,
        category: parameterMixins.category
      },
      categories_exclude: {
        excludeCategories: parameterMixins.excludeCategories
      },
      tags: {
        tags: parameterMixins.tags,
        tag: parameterMixins.tag
      },
      tags_exclude: {
        excludeTags: parameterMixins.excludeTags
      },
      filter: filterMixins,
      post: {
        post: parameterMixins.post,
        forPost: parameterMixins.post
      }
    };
    [
      "after",
      "author",
      "before",
      "parent",
      "password",
      "status",
      "sticky"
    ].forEach((mixinName) => {
      mixins[mixinName] = {};
      mixins[mixinName][mixinName] = parameterMixins[mixinName];
    });
    module2.exports = mixins;
  }
});

// node_modules/wpapi/lib/util/apply-mixin.js
var require_apply_mixin = __commonJS({
  "node_modules/wpapi/lib/util/apply-mixin.js"(exports, module2) {
    "use strict";
    module2.exports = (obj, key, mixin) => {
      if (typeof mixin === "function" && !obj[key]) {
        obj[key] = mixin;
      }
    };
  }
});

// node_modules/wpapi/lib/endpoint-request.js
var require_endpoint_request = __commonJS({
  "node_modules/wpapi/lib/endpoint-request.js"(exports, module2) {
    "use strict";
    var WPRequest = require_wp_request();
    var mixins = require_mixins();
    var applyMixin = require_apply_mixin();
    function createEndpointRequest(handlerSpec, resource, namespace) {
      class EndpointRequest extends WPRequest {
        constructor(options2) {
          super(options2);
          this._levels = handlerSpec._levels;
          this.setPathPart(0, resource).namespace(namespace);
        }
      }
      if (typeof handlerSpec._getArgs === "object") {
        Object.keys(handlerSpec._getArgs).forEach((supportedQueryParam) => {
          const mixinsForParam = mixins[supportedQueryParam];
          if (typeof mixinsForParam === "object") {
            Object.keys(mixinsForParam).forEach((methodName) => {
              applyMixin(EndpointRequest.prototype, methodName, mixinsForParam[methodName]);
            });
          }
        });
      }
      Object.keys(handlerSpec._setters).forEach((setterFnName) => {
        if (!EndpointRequest.prototype[setterFnName]) {
          EndpointRequest.prototype[setterFnName] = handlerSpec._setters[setterFnName];
        }
      });
      return EndpointRequest;
    }
    module2.exports = {
      create: createEndpointRequest
    };
  }
});

// node_modules/wpapi/lib/endpoint-factories.js
var require_endpoint_factories = __commonJS({
  "node_modules/wpapi/lib/endpoint-factories.js"(exports, module2) {
    "use strict";
    var createResourceHandlerSpec = require_resource_handler_spec().create;
    var createEndpointRequest = require_endpoint_request().create;
    var objectReduce = require_object_reduce();
    function generateEndpointFactories(routesByNamespace) {
      return objectReduce(routesByNamespace, (namespaces, routeDefinitions, namespace) => {
        namespaces[namespace] = objectReduce(routeDefinitions, (handlers, routeDef, resource) => {
          const handlerSpec = createResourceHandlerSpec(routeDef, resource);
          const EndpointRequest = createEndpointRequest(handlerSpec, resource, namespace);
          handlers[resource] = function(options2) {
            return new EndpointRequest(__spreadValues(__spreadValues({}, this._options), options2));
          };
          handlers[resource].Ctor = EndpointRequest;
          return handlers;
        }, {});
        return namespaces;
      }, {});
    }
    module2.exports = {
      generate: generateEndpointFactories
    };
  }
});

// node_modules/li/lib/index.js
var require_lib3 = __commonJS({
  "node_modules/li/lib/index.js"(exports, module2) {
    (function(name, definition, context) {
      if (typeof module2 != "undefined" && module2.exports)
        module2.exports = definition();
      else if (typeof context["define"] == "function" && context["define"]["amd"])
        define(definition);
      else
        context[name] = definition();
    })("li", function() {
      var relsRegExp = /^;\s*([^"=]+)=(?:"([^"]+)"|([^";,]+)(?:[;,]|$))/;
      var sourceRegExp = /^<([^>]*)>/;
      var delimiterRegExp = /^\s*,\s*/;
      return {
        parse: function(linksHeader, options2) {
          var match;
          var source;
          var rels;
          var extended = options2 && options2.extended || false;
          var links = [];
          while (linksHeader) {
            linksHeader = linksHeader.trim();
            source = sourceRegExp.exec(linksHeader);
            if (!source)
              break;
            var current = {
              link: source[1]
            };
            linksHeader = linksHeader.slice(source[0].length);
            var nextDelimiter = linksHeader.match(delimiterRegExp);
            while (linksHeader && (!nextDelimiter || nextDelimiter.index > 0)) {
              match = relsRegExp.exec(linksHeader);
              if (!match)
                break;
              linksHeader = linksHeader.slice(match[0].length);
              nextDelimiter = linksHeader.match(delimiterRegExp);
              if (match[1] === "rel" || match[1] === "rev") {
                rels = (match[2] || match[3]).split(/\s+/);
                current[match[1]] = rels;
              } else {
                current[match[1]] = match[2] || match[3];
              }
            }
            links.push(current);
            linksHeader = linksHeader.replace(delimiterRegExp, "");
          }
          if (!extended) {
            return links.reduce(function(result, currentLink) {
              if (currentLink.rel) {
                currentLink.rel.forEach(function(rel) {
                  result[rel] = currentLink.link;
                });
              }
              return result;
            }, {});
          }
          return links;
        },
        stringify: function(params) {
          var grouped = Object.keys(params).reduce(function(grouped2, key) {
            grouped2[params[key]] = grouped2[params[key]] || [];
            grouped2[params[key]].push(key);
            return grouped2;
          }, {});
          var entries = Object.keys(grouped).reduce(function(result, link) {
            return result.concat("<" + link + '>; rel="' + grouped[link].join(" ") + '"');
          }, []);
          return entries.join(", ");
        }
      };
    }, exports);
  }
});

// node_modules/wpapi/lib/autodiscovery.js
var require_autodiscovery = __commonJS({
  "node_modules/wpapi/lib/autodiscovery.js"(exports, module2) {
    "use strict";
    var parseLinkHeader = require_lib3().parse;
    function locateAPIRootHeader(response) {
      const rel = "https://api.w.org/";
      const link = response.link || response.headers && response.headers.link;
      const headers = parseLinkHeader(link);
      const apiHeader = headers && headers[rel];
      if (apiHeader) {
        return apiHeader;
      }
      throw new Error(`No header link found with rel="${rel}"`);
    }
    module2.exports = {
      locateAPIRootHeader
    };
  }
});

// node_modules/component-emitter/index.js
var require_component_emitter = __commonJS({
  "node_modules/component-emitter/index.js"(exports, module2) {
    if (typeof module2 !== "undefined") {
      module2.exports = Emitter;
    }
    function Emitter(obj) {
      if (obj)
        return mixin(obj);
    }
    function mixin(obj) {
      for (var key in Emitter.prototype) {
        obj[key] = Emitter.prototype[key];
      }
      return obj;
    }
    Emitter.prototype.on = Emitter.prototype.addEventListener = function(event, fn) {
      this._callbacks = this._callbacks || {};
      (this._callbacks["$" + event] = this._callbacks["$" + event] || []).push(fn);
      return this;
    };
    Emitter.prototype.once = function(event, fn) {
      function on() {
        this.off(event, on);
        fn.apply(this, arguments);
      }
      on.fn = fn;
      this.on(event, on);
      return this;
    };
    Emitter.prototype.off = Emitter.prototype.removeListener = Emitter.prototype.removeAllListeners = Emitter.prototype.removeEventListener = function(event, fn) {
      this._callbacks = this._callbacks || {};
      if (arguments.length == 0) {
        this._callbacks = {};
        return this;
      }
      var callbacks = this._callbacks["$" + event];
      if (!callbacks)
        return this;
      if (arguments.length == 1) {
        delete this._callbacks["$" + event];
        return this;
      }
      var cb;
      for (var i = 0; i < callbacks.length; i++) {
        cb = callbacks[i];
        if (cb === fn || cb.fn === fn) {
          callbacks.splice(i, 1);
          break;
        }
      }
      if (callbacks.length === 0) {
        delete this._callbacks["$" + event];
      }
      return this;
    };
    Emitter.prototype.emit = function(event) {
      this._callbacks = this._callbacks || {};
      var args = new Array(arguments.length - 1), callbacks = this._callbacks["$" + event];
      for (var i = 1; i < arguments.length; i++) {
        args[i - 1] = arguments[i];
      }
      if (callbacks) {
        callbacks = callbacks.slice(0);
        for (var i = 0, len = callbacks.length; i < len; ++i) {
          callbacks[i].apply(this, args);
        }
      }
      return this;
    };
    Emitter.prototype.listeners = function(event) {
      this._callbacks = this._callbacks || {};
      return this._callbacks["$" + event] || [];
    };
    Emitter.prototype.hasListeners = function(event) {
      return !!this.listeners(event).length;
    };
  }
});

// node_modules/superagent/lib/is-object.js
var require_is_object = __commonJS({
  "node_modules/superagent/lib/is-object.js"(exports, module2) {
    "use strict";
    function isObject(obj) {
      return obj !== null && typeof obj === "object";
    }
    module2.exports = isObject;
  }
});

// node_modules/superagent/lib/request-base.js
var require_request_base = __commonJS({
  "node_modules/superagent/lib/request-base.js"(exports, module2) {
    "use strict";
    var isObject = require_is_object();
    module2.exports = RequestBase;
    function RequestBase(obj) {
      if (obj)
        return mixin(obj);
    }
    function mixin(obj) {
      for (const key in RequestBase.prototype) {
        obj[key] = RequestBase.prototype[key];
      }
      return obj;
    }
    RequestBase.prototype.clearTimeout = function _clearTimeout() {
      clearTimeout(this._timer);
      clearTimeout(this._responseTimeoutTimer);
      delete this._timer;
      delete this._responseTimeoutTimer;
      return this;
    };
    RequestBase.prototype.parse = function parse(fn) {
      this._parser = fn;
      return this;
    };
    RequestBase.prototype.responseType = function(val) {
      this._responseType = val;
      return this;
    };
    RequestBase.prototype.serialize = function serialize(fn) {
      this._serializer = fn;
      return this;
    };
    RequestBase.prototype.timeout = function timeout(options2) {
      if (!options2 || typeof options2 !== "object") {
        this._timeout = options2;
        this._responseTimeout = 0;
        return this;
      }
      for (const option in options2) {
        switch (option) {
          case "deadline":
            this._timeout = options2.deadline;
            break;
          case "response":
            this._responseTimeout = options2.response;
            break;
          default:
            console.warn("Unknown timeout option", option);
        }
      }
      return this;
    };
    RequestBase.prototype.retry = function retry(count, fn) {
      if (arguments.length === 0 || count === true)
        count = 1;
      if (count <= 0)
        count = 0;
      this._maxRetries = count;
      this._retries = 0;
      this._retryCallback = fn;
      return this;
    };
    var ERROR_CODES = [
      "ECONNRESET",
      "ETIMEDOUT",
      "EADDRINFO",
      "ESOCKETTIMEDOUT"
    ];
    RequestBase.prototype._shouldRetry = function(err, res) {
      if (!this._maxRetries || this._retries++ >= this._maxRetries) {
        return false;
      }
      if (this._retryCallback) {
        try {
          const override = this._retryCallback(err, res);
          if (override === true)
            return true;
          if (override === false)
            return false;
        } catch (e) {
          console.error(e);
        }
      }
      if (res && res.status && res.status >= 500 && res.status != 501)
        return true;
      if (err) {
        if (err.code && ~ERROR_CODES.indexOf(err.code))
          return true;
        if (err.timeout && err.code == "ECONNABORTED")
          return true;
        if (err.crossDomain)
          return true;
      }
      return false;
    };
    RequestBase.prototype._retry = function() {
      this.clearTimeout();
      if (this.req) {
        this.req = null;
        this.req = this.request();
      }
      this._aborted = false;
      this.timedout = false;
      return this._end();
    };
    RequestBase.prototype.then = function then(resolve, reject) {
      if (!this._fullfilledPromise) {
        const self2 = this;
        if (this._endCalled) {
          console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises");
        }
        this._fullfilledPromise = new Promise((innerResolve, innerReject) => {
          self2.on("error", innerReject);
          self2.on("abort", () => {
            const err = new Error("Aborted");
            err.code = "ABORTED";
            err.status = this.status;
            err.method = this.method;
            err.url = this.url;
            innerReject(err);
          });
          self2.end((err, res) => {
            if (err)
              innerReject(err);
            else
              innerResolve(res);
          });
        });
      }
      return this._fullfilledPromise.then(resolve, reject);
    };
    RequestBase.prototype["catch"] = function(cb) {
      return this.then(void 0, cb);
    };
    RequestBase.prototype.use = function use2(fn) {
      fn(this);
      return this;
    };
    RequestBase.prototype.ok = function(cb) {
      if (typeof cb !== "function")
        throw Error("Callback required");
      this._okCallback = cb;
      return this;
    };
    RequestBase.prototype._isResponseOK = function(res) {
      if (!res) {
        return false;
      }
      if (this._okCallback) {
        return this._okCallback(res);
      }
      return res.status >= 200 && res.status < 300;
    };
    RequestBase.prototype.get = function(field) {
      return this._header[field.toLowerCase()];
    };
    RequestBase.prototype.getHeader = RequestBase.prototype.get;
    RequestBase.prototype.set = function(field, val) {
      if (isObject(field)) {
        for (const key in field) {
          this.set(key, field[key]);
        }
        return this;
      }
      this._header[field.toLowerCase()] = val;
      this.header[field] = val;
      return this;
    };
    RequestBase.prototype.unset = function(field) {
      delete this._header[field.toLowerCase()];
      delete this.header[field];
      return this;
    };
    RequestBase.prototype.field = function(name, val) {
      if (name === null || name === void 0) {
        throw new Error(".field(name, val) name can not be empty");
      }
      if (this._data) {
        throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");
      }
      if (isObject(name)) {
        for (const key in name) {
          this.field(key, name[key]);
        }
        return this;
      }
      if (Array.isArray(val)) {
        for (const i in val) {
          this.field(name, val[i]);
        }
        return this;
      }
      if (val === null || val === void 0) {
        throw new Error(".field(name, val) val can not be empty");
      }
      if (typeof val === "boolean") {
        val = "" + val;
      }
      this._getFormData().append(name, val);
      return this;
    };
    RequestBase.prototype.abort = function() {
      if (this._aborted) {
        return this;
      }
      this._aborted = true;
      this.xhr && this.xhr.abort();
      this.req && this.req.abort();
      this.clearTimeout();
      this.emit("abort");
      return this;
    };
    RequestBase.prototype._auth = function(user, pass, options2, base64Encoder) {
      switch (options2.type) {
        case "basic":
          this.set("Authorization", `Basic ${base64Encoder(`${user}:${pass}`)}`);
          break;
        case "auto":
          this.username = user;
          this.password = pass;
          break;
        case "bearer":
          this.set("Authorization", `Bearer ${user}`);
          break;
      }
      return this;
    };
    RequestBase.prototype.withCredentials = function(on) {
      if (on == void 0)
        on = true;
      this._withCredentials = on;
      return this;
    };
    RequestBase.prototype.redirects = function(n) {
      this._maxRedirects = n;
      return this;
    };
    RequestBase.prototype.maxResponseSize = function(n) {
      if (typeof n !== "number") {
        throw TypeError("Invalid argument");
      }
      this._maxResponseSize = n;
      return this;
    };
    RequestBase.prototype.toJSON = function() {
      return {
        method: this.method,
        url: this.url,
        data: this._data,
        headers: this._header
      };
    };
    RequestBase.prototype.send = function(data) {
      const isObj = isObject(data);
      let type = this._header["content-type"];
      if (this._formData) {
        throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");
      }
      if (isObj && !this._data) {
        if (Array.isArray(data)) {
          this._data = [];
        } else if (!this._isHost(data)) {
          this._data = {};
        }
      } else if (data && this._data && this._isHost(this._data)) {
        throw Error("Can't merge these send calls");
      }
      if (isObj && isObject(this._data)) {
        for (const key in data) {
          this._data[key] = data[key];
        }
      } else if (typeof data == "string") {
        if (!type)
          this.type("form");
        type = this._header["content-type"];
        if (type == "application/x-www-form-urlencoded") {
          this._data = this._data ? `${this._data}&${data}` : data;
        } else {
          this._data = (this._data || "") + data;
        }
      } else {
        this._data = data;
      }
      if (!isObj || this._isHost(data)) {
        return this;
      }
      if (!type)
        this.type("json");
      return this;
    };
    RequestBase.prototype.sortQuery = function(sort) {
      this._sort = typeof sort === "undefined" ? true : sort;
      return this;
    };
    RequestBase.prototype._finalizeQueryString = function() {
      const query = this._query.join("&");
      if (query) {
        this.url += (this.url.indexOf("?") >= 0 ? "&" : "?") + query;
      }
      this._query.length = 0;
      if (this._sort) {
        const index = this.url.indexOf("?");
        if (index >= 0) {
          const queryArr = this.url.substring(index + 1).split("&");
          if (typeof this._sort === "function") {
            queryArr.sort(this._sort);
          } else {
            queryArr.sort();
          }
          this.url = this.url.substring(0, index) + "?" + queryArr.join("&");
        }
      }
    };
    RequestBase.prototype._appendQueryString = () => {
      console.trace("Unsupported");
    };
    RequestBase.prototype._timeoutError = function(reason, timeout, errno) {
      if (this._aborted) {
        return;
      }
      const err = new Error(`${reason + timeout}ms exceeded`);
      err.timeout = timeout;
      err.code = "ECONNABORTED";
      err.errno = errno;
      this.timedout = true;
      this.abort();
      this.callback(err);
    };
    RequestBase.prototype._setTimeouts = function() {
      const self2 = this;
      if (this._timeout && !this._timer) {
        this._timer = setTimeout(() => {
          self2._timeoutError("Timeout of ", self2._timeout, "ETIME");
        }, this._timeout);
      }
      if (this._responseTimeout && !this._responseTimeoutTimer) {
        this._responseTimeoutTimer = setTimeout(() => {
          self2._timeoutError("Response timeout of ", self2._responseTimeout, "ETIMEDOUT");
        }, this._responseTimeout);
      }
    };
  }
});

// node_modules/superagent/lib/utils.js
var require_utils2 = __commonJS({
  "node_modules/superagent/lib/utils.js"(exports) {
    "use strict";
    exports.type = (str) => str.split(/ *; */).shift();
    exports.params = (str) => str.split(/ *; */).reduce((obj, str2) => {
      const parts = str2.split(/ *= */);
      const key = parts.shift();
      const val = parts.shift();
      if (key && val)
        obj[key] = val;
      return obj;
    }, {});
    exports.parseLinks = (str) => str.split(/ *, */).reduce((obj, str2) => {
      const parts = str2.split(/ *; */);
      const url = parts[0].slice(1, -1);
      const rel = parts[1].split(/ *= */)[1].slice(1, -1);
      obj[rel] = url;
      return obj;
    }, {});
    exports.cleanHeader = (header, changesOrigin) => {
      delete header["content-type"];
      delete header["content-length"];
      delete header["transfer-encoding"];
      delete header["host"];
      if (changesOrigin) {
        delete header["authorization"];
        delete header["cookie"];
      }
      return header;
    };
  }
});

// node_modules/superagent/lib/response-base.js
var require_response_base = __commonJS({
  "node_modules/superagent/lib/response-base.js"(exports, module2) {
    "use strict";
    var utils = require_utils2();
    module2.exports = ResponseBase;
    function ResponseBase(obj) {
      if (obj)
        return mixin(obj);
    }
    function mixin(obj) {
      for (const key in ResponseBase.prototype) {
        obj[key] = ResponseBase.prototype[key];
      }
      return obj;
    }
    ResponseBase.prototype.get = function(field) {
      return this.header[field.toLowerCase()];
    };
    ResponseBase.prototype._setHeaderProperties = function(header) {
      const ct = header["content-type"] || "";
      this.type = utils.type(ct);
      const params = utils.params(ct);
      for (const key in params)
        this[key] = params[key];
      this.links = {};
      try {
        if (header.link) {
          this.links = utils.parseLinks(header.link);
        }
      } catch (err) {
      }
    };
    ResponseBase.prototype._setStatusProperties = function(status) {
      const type = status / 100 | 0;
      this.status = this.statusCode = status;
      this.statusType = type;
      this.info = type == 1;
      this.ok = type == 2;
      this.redirect = type == 3;
      this.clientError = type == 4;
      this.serverError = type == 5;
      this.error = type == 4 || type == 5 ? this.toError() : false;
      this.created = status == 201;
      this.accepted = status == 202;
      this.noContent = status == 204;
      this.badRequest = status == 400;
      this.unauthorized = status == 401;
      this.notAcceptable = status == 406;
      this.forbidden = status == 403;
      this.notFound = status == 404;
      this.unprocessableEntity = status == 422;
    };
  }
});

// node_modules/superagent/lib/agent-base.js
var require_agent_base = __commonJS({
  "node_modules/superagent/lib/agent-base.js"(exports, module2) {
    function Agent() {
      this._defaults = [];
    }
    [
      "use",
      "on",
      "once",
      "set",
      "query",
      "type",
      "accept",
      "auth",
      "withCredentials",
      "sortQuery",
      "retry",
      "ok",
      "redirects",
      "timeout",
      "buffer",
      "serialize",
      "parse",
      "ca",
      "key",
      "pfx",
      "cert"
    ].forEach((fn) => {
      Agent.prototype[fn] = function(...args) {
        this._defaults.push({ fn, args });
        return this;
      };
    });
    Agent.prototype._setDefaults = function(req) {
      this._defaults.forEach((def) => {
        req[def.fn].apply(req, def.args);
      });
    };
    module2.exports = Agent;
  }
});

// node_modules/superagent/lib/client.js
var require_client2 = __commonJS({
  "node_modules/superagent/lib/client.js"(exports, module2) {
    var root;
    if (typeof window !== "undefined") {
      root = window;
    } else if (typeof self !== "undefined") {
      root = self;
    } else {
      console.warn("Using browser-only version of superagent in non-browser environment");
      root = exports;
    }
    var Emitter = require_component_emitter();
    var RequestBase = require_request_base();
    var isObject = require_is_object();
    var ResponseBase = require_response_base();
    var Agent = require_agent_base();
    function noop() {
    }
    var request = exports = module2.exports = function(method, url) {
      if (typeof url == "function") {
        return new exports.Request("GET", method).end(url);
      }
      if (arguments.length == 1) {
        return new exports.Request("GET", method);
      }
      return new exports.Request(method, url);
    };
    exports.Request = Request;
    request.getXHR = () => {
      if (root.XMLHttpRequest && (!root.location || root.location.protocol != "file:" || !root.ActiveXObject)) {
        return new XMLHttpRequest();
      } else {
        try {
          return new ActiveXObject("Microsoft.XMLHTTP");
        } catch (e) {
        }
        try {
          return new ActiveXObject("Msxml2.XMLHTTP.6.0");
        } catch (e) {
        }
        try {
          return new ActiveXObject("Msxml2.XMLHTTP.3.0");
        } catch (e) {
        }
        try {
          return new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
        }
      }
      throw Error("Browser-only version of superagent could not find XHR");
    };
    var trim = "".trim ? (s) => s.trim() : (s) => s.replace(/(^\s*|\s*$)/g, "");
    function serialize(obj) {
      if (!isObject(obj))
        return obj;
      const pairs = [];
      for (const key in obj) {
        pushEncodedKeyValuePair(pairs, key, obj[key]);
      }
      return pairs.join("&");
    }
    function pushEncodedKeyValuePair(pairs, key, val) {
      if (val != null) {
        if (Array.isArray(val)) {
          val.forEach((v) => {
            pushEncodedKeyValuePair(pairs, key, v);
          });
        } else if (isObject(val)) {
          for (const subkey in val) {
            pushEncodedKeyValuePair(pairs, `${key}[${subkey}]`, val[subkey]);
          }
        } else {
          pairs.push(encodeURIComponent(key) + "=" + encodeURIComponent(val));
        }
      } else if (val === null) {
        pairs.push(encodeURIComponent(key));
      }
    }
    request.serializeObject = serialize;
    function parseString(str) {
      const obj = {};
      const pairs = str.split("&");
      let pair;
      let pos;
      for (let i = 0, len = pairs.length; i < len; ++i) {
        pair = pairs[i];
        pos = pair.indexOf("=");
        if (pos == -1) {
          obj[decodeURIComponent(pair)] = "";
        } else {
          obj[decodeURIComponent(pair.slice(0, pos))] = decodeURIComponent(pair.slice(pos + 1));
        }
      }
      return obj;
    }
    request.parseString = parseString;
    request.types = {
      html: "text/html",
      json: "application/json",
      xml: "text/xml",
      urlencoded: "application/x-www-form-urlencoded",
      "form": "application/x-www-form-urlencoded",
      "form-data": "application/x-www-form-urlencoded"
    };
    request.serialize = {
      "application/x-www-form-urlencoded": serialize,
      "application/json": JSON.stringify
    };
    request.parse = {
      "application/x-www-form-urlencoded": parseString,
      "application/json": JSON.parse
    };
    function parseHeader(str) {
      const lines = str.split(/\r?\n/);
      const fields = {};
      let index;
      let line;
      let field;
      let val;
      for (let i = 0, len = lines.length; i < len; ++i) {
        line = lines[i];
        index = line.indexOf(":");
        if (index === -1) {
          continue;
        }
        field = line.slice(0, index).toLowerCase();
        val = trim(line.slice(index + 1));
        fields[field] = val;
      }
      return fields;
    }
    function isJSON(mime) {
      return /[\/+]json($|[^-\w])/.test(mime);
    }
    function Response(req) {
      this.req = req;
      this.xhr = this.req.xhr;
      this.text = this.req.method != "HEAD" && (this.xhr.responseType === "" || this.xhr.responseType === "text") || typeof this.xhr.responseType === "undefined" ? this.xhr.responseText : null;
      this.statusText = this.req.xhr.statusText;
      let status = this.xhr.status;
      if (status === 1223) {
        status = 204;
      }
      this._setStatusProperties(status);
      this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());
      this.header["content-type"] = this.xhr.getResponseHeader("content-type");
      this._setHeaderProperties(this.header);
      if (this.text === null && req._responseType) {
        this.body = this.xhr.response;
      } else {
        this.body = this.req.method != "HEAD" ? this._parseBody(this.text ? this.text : this.xhr.response) : null;
      }
    }
    ResponseBase(Response.prototype);
    Response.prototype._parseBody = function(str) {
      let parse = request.parse[this.type];
      if (this.req._parser) {
        return this.req._parser(this, str);
      }
      if (!parse && isJSON(this.type)) {
        parse = request.parse["application/json"];
      }
      return parse && str && (str.length || str instanceof Object) ? parse(str) : null;
    };
    Response.prototype.toError = function() {
      const req = this.req;
      const method = req.method;
      const url = req.url;
      const msg = `cannot ${method} ${url} (${this.status})`;
      const err = new Error(msg);
      err.status = this.status;
      err.method = method;
      err.url = url;
      return err;
    };
    request.Response = Response;
    function Request(method, url) {
      const self2 = this;
      this._query = this._query || [];
      this.method = method;
      this.url = url;
      this.header = {};
      this._header = {};
      this.on("end", () => {
        let err = null;
        let res = null;
        try {
          res = new Response(self2);
        } catch (e) {
          err = new Error("Parser is unable to parse the response");
          err.parse = true;
          err.original = e;
          if (self2.xhr) {
            err.rawResponse = typeof self2.xhr.responseType == "undefined" ? self2.xhr.responseText : self2.xhr.response;
            err.status = self2.xhr.status ? self2.xhr.status : null;
            err.statusCode = err.status;
          } else {
            err.rawResponse = null;
            err.status = null;
          }
          return self2.callback(err);
        }
        self2.emit("response", res);
        let new_err;
        try {
          if (!self2._isResponseOK(res)) {
            new_err = new Error(res.statusText || "Unsuccessful HTTP response");
          }
        } catch (custom_err) {
          new_err = custom_err;
        }
        if (new_err) {
          new_err.original = err;
          new_err.response = res;
          new_err.status = res.status;
          self2.callback(new_err, res);
        } else {
          self2.callback(null, res);
        }
      });
    }
    Emitter(Request.prototype);
    RequestBase(Request.prototype);
    Request.prototype.type = function(type) {
      this.set("Content-Type", request.types[type] || type);
      return this;
    };
    Request.prototype.accept = function(type) {
      this.set("Accept", request.types[type] || type);
      return this;
    };
    Request.prototype.auth = function(user, pass, options2) {
      if (arguments.length === 1)
        pass = "";
      if (typeof pass === "object" && pass !== null) {
        options2 = pass;
        pass = "";
      }
      if (!options2) {
        options2 = {
          type: typeof btoa === "function" ? "basic" : "auto"
        };
      }
      const encoder = (string) => {
        if (typeof btoa === "function") {
          return btoa(string);
        }
        throw new Error("Cannot use basic auth, btoa is not a function");
      };
      return this._auth(user, pass, options2, encoder);
    };
    Request.prototype.query = function(val) {
      if (typeof val != "string")
        val = serialize(val);
      if (val)
        this._query.push(val);
      return this;
    };
    Request.prototype.attach = function(field, file, options2) {
      if (file) {
        if (this._data) {
          throw Error("superagent can't mix .send() and .attach()");
        }
        this._getFormData().append(field, file, options2 || file.name);
      }
      return this;
    };
    Request.prototype._getFormData = function() {
      if (!this._formData) {
        this._formData = new root.FormData();
      }
      return this._formData;
    };
    Request.prototype.callback = function(err, res) {
      if (this._shouldRetry(err, res)) {
        return this._retry();
      }
      const fn = this._callback;
      this.clearTimeout();
      if (err) {
        if (this._maxRetries)
          err.retries = this._retries - 1;
        this.emit("error", err);
      }
      fn(err, res);
    };
    Request.prototype.crossDomainError = function() {
      const err = new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");
      err.crossDomain = true;
      err.status = this.status;
      err.method = this.method;
      err.url = this.url;
      this.callback(err);
    };
    Request.prototype.buffer = Request.prototype.ca = Request.prototype.agent = function() {
      console.warn("This is not supported in browser version of superagent");
      return this;
    };
    Request.prototype.pipe = Request.prototype.write = () => {
      throw Error("Streaming is not supported in browser version of superagent");
    };
    Request.prototype._isHost = function _isHost(obj) {
      return obj && typeof obj === "object" && !Array.isArray(obj) && Object.prototype.toString.call(obj) !== "[object Object]";
    };
    Request.prototype.end = function(fn) {
      if (this._endCalled) {
        console.warn("Warning: .end() was called twice. This is not supported in superagent");
      }
      this._endCalled = true;
      this._callback = fn || noop;
      this._finalizeQueryString();
      this._end();
    };
    Request.prototype._end = function() {
      if (this._aborted)
        return this.callback(Error("The request has been aborted even before .end() was called"));
      const self2 = this;
      const xhr = this.xhr = request.getXHR();
      let data = this._formData || this._data;
      this._setTimeouts();
      xhr.onreadystatechange = () => {
        const readyState = xhr.readyState;
        if (readyState >= 2 && self2._responseTimeoutTimer) {
          clearTimeout(self2._responseTimeoutTimer);
        }
        if (readyState != 4) {
          return;
        }
        let status;
        try {
          status = xhr.status;
        } catch (e) {
          status = 0;
        }
        if (!status) {
          if (self2.timedout || self2._aborted)
            return;
          return self2.crossDomainError();
        }
        self2.emit("end");
      };
      const handleProgress = (direction, e) => {
        if (e.total > 0) {
          e.percent = e.loaded / e.total * 100;
        }
        e.direction = direction;
        self2.emit("progress", e);
      };
      if (this.hasListeners("progress")) {
        try {
          xhr.onprogress = handleProgress.bind(null, "download");
          if (xhr.upload) {
            xhr.upload.onprogress = handleProgress.bind(null, "upload");
          }
        } catch (e) {
        }
      }
      try {
        if (this.username && this.password) {
          xhr.open(this.method, this.url, true, this.username, this.password);
        } else {
          xhr.open(this.method, this.url, true);
        }
      } catch (err) {
        return this.callback(err);
      }
      if (this._withCredentials)
        xhr.withCredentials = true;
      if (!this._formData && this.method != "GET" && this.method != "HEAD" && typeof data != "string" && !this._isHost(data)) {
        const contentType = this._header["content-type"];
        let serialize2 = this._serializer || request.serialize[contentType ? contentType.split(";")[0] : ""];
        if (!serialize2 && isJSON(contentType)) {
          serialize2 = request.serialize["application/json"];
        }
        if (serialize2)
          data = serialize2(data);
      }
      for (const field in this.header) {
        if (this.header[field] == null)
          continue;
        if (this.header.hasOwnProperty(field))
          xhr.setRequestHeader(field, this.header[field]);
      }
      if (this._responseType) {
        xhr.responseType = this._responseType;
      }
      this.emit("request", this);
      xhr.send(typeof data !== "undefined" ? data : null);
    };
    request.agent = () => new Agent();
    ["GET", "POST", "OPTIONS", "PATCH", "PUT", "DELETE"].forEach((method) => {
      Agent.prototype[method.toLowerCase()] = function(url, fn) {
        const req = new request.Request(method, url);
        this._setDefaults(req);
        if (fn) {
          req.end(fn);
        }
        return req;
      };
    });
    Agent.prototype.del = Agent.prototype["delete"];
    request.get = (url, data, fn) => {
      const req = request("GET", url);
      if (typeof data == "function")
        fn = data, data = null;
      if (data)
        req.query(data);
      if (fn)
        req.end(fn);
      return req;
    };
    request.head = (url, data, fn) => {
      const req = request("HEAD", url);
      if (typeof data == "function")
        fn = data, data = null;
      if (data)
        req.query(data);
      if (fn)
        req.end(fn);
      return req;
    };
    request.options = (url, data, fn) => {
      const req = request("OPTIONS", url);
      if (typeof data == "function")
        fn = data, data = null;
      if (data)
        req.send(data);
      if (fn)
        req.end(fn);
      return req;
    };
    function del(url, data, fn) {
      const req = request("DELETE", url);
      if (typeof data == "function")
        fn = data, data = null;
      if (data)
        req.send(data);
      if (fn)
        req.end(fn);
      return req;
    }
    request["del"] = del;
    request["delete"] = del;
    request.patch = (url, data, fn) => {
      const req = request("PATCH", url);
      if (typeof data == "function")
        fn = data, data = null;
      if (data)
        req.send(data);
      if (fn)
        req.end(fn);
      return req;
    };
    request.post = (url, data, fn) => {
      const req = request("POST", url);
      if (typeof data == "function")
        fn = data, data = null;
      if (data)
        req.send(data);
      if (fn)
        req.end(fn);
      return req;
    };
    request.put = (url, data, fn) => {
      const req = request("PUT", url);
      if (typeof data == "function")
        fn = data, data = null;
      if (data)
        req.send(data);
      if (fn)
        req.end(fn);
      return req;
    };
  }
});

// node_modules/wpapi/lib/util/check-method-support.js
var require_check_method_support = __commonJS({
  "node_modules/wpapi/lib/util/check-method-support.js"(exports, module2) {
    "use strict";
    module2.exports = (method, request) => {
      if (request._supportedMethods.indexOf(method.toLowerCase()) === -1) {
        throw new Error("Unsupported method; supported methods are: " + request._supportedMethods.join(", "));
      }
      return true;
    };
  }
});

// node_modules/wpapi/lib/util/is-empty-object.js
var require_is_empty_object = __commonJS({
  "node_modules/wpapi/lib/util/is-empty-object.js"(exports, module2) {
    "use strict";
    module2.exports = (value) => {
      if (typeof value !== "object") {
        return false;
      }
      if (Array.isArray(value)) {
        return false;
      }
      for (const key in value) {
        if (value.hasOwnProperty(key)) {
          return false;
        }
      }
      return true;
    };
  }
});

// node_modules/wpapi/lib/http-transport.js
var require_http_transport = __commonJS({
  "node_modules/wpapi/lib/http-transport.js"(exports, module2) {
    "use strict";
    var agent = require_client2();
    var parseLinkHeader = require_lib3().parse;
    var WPRequest = require_wp_request();
    var checkMethodSupport = require_check_method_support();
    var objectReduce = require_object_reduce();
    var isEmptyObject = require_is_empty_object();
    function _setHeaders(request, options2) {
      if (!options2.headers) {
        return request;
      }
      return objectReduce(options2.headers, (request2, value, key) => request2.set(key, value), request);
    }
    function _auth(request, options2, forceAuthentication) {
      if (!forceAuthentication && !options2.auth && !options2.nonce) {
        return request;
      }
      if (options2.nonce) {
        request.set("X-WP-Nonce", options2.nonce);
        return request;
      }
      const username = options2.username;
      const password = options2.password;
      if (!username || !password) {
        return request;
      }
      return request.auth(username, password);
    }
    function extractResponseBody(response) {
      let responseBody = response.body;
      if (isEmptyObject(responseBody) && response.type === "text/html") {
        try {
          responseBody = JSON.parse(response.text);
        } catch (e) {
        }
      }
      return responseBody;
    }
    function createPaginationObject(result, options2, httpTransport) {
      let _paging = null;
      if (!result.headers) {
        return _paging;
      }
      Object.keys(result.headers).forEach((header) => {
        result.headers[header.toLowerCase()] = result.headers[header];
      });
      if (!result.headers["x-wp-totalpages"]) {
        return _paging;
      }
      const totalPages = +result.headers["x-wp-totalpages"];
      if (!totalPages || totalPages === 0) {
        return _paging;
      }
      const links = result.headers.link ? parseLinkHeader(result.headers.link) : {};
      _paging = {
        total: +result.headers["x-wp-total"],
        totalPages,
        links
      };
      if (links.next) {
        _paging.next = new WPRequest(__spreadProps(__spreadValues({}, options2), {
          transport: httpTransport,
          endpoint: links.next
        }));
      }
      if (links.prev) {
        _paging.prev = new WPRequest(__spreadProps(__spreadValues({}, options2), {
          transport: httpTransport,
          endpoint: links.prev
        }));
      }
      return _paging;
    }
    function invokeAndPromisify(request, callback, transform) {
      return new Promise((resolve, reject) => {
        request.end((err, result) => {
          if (err || result.error) {
            reject(err || result.error);
          } else {
            resolve(result);
          }
        });
      }).then(transform).then((result) => {
        if (callback && typeof callback === "function") {
          callback(null, result);
        }
        return result;
      }, (err) => {
        if (err.response && err.response.body && err.response.body.code) {
          err = err.response.body;
        }
        if (callback && typeof callback === "function") {
          callback(err);
        } else {
          throw err;
        }
      });
    }
    function returnBody(wpreq, result) {
      const body = extractResponseBody(result);
      const _paging = createPaginationObject(result, wpreq._options, wpreq.transport);
      if (_paging) {
        body._paging = _paging;
      }
      return body;
    }
    function returnHeaders(result) {
      return result.headers;
    }
    function _httpGet(wpreq, callback) {
      checkMethodSupport("get", wpreq);
      const url = wpreq.toString();
      let request = _auth(agent.get(url), wpreq._options);
      request = _setHeaders(request, wpreq._options);
      return invokeAndPromisify(request, callback, returnBody.bind(null, wpreq));
    }
    function _httpPost(wpreq, data, callback) {
      checkMethodSupport("post", wpreq);
      const url = wpreq.toString();
      data = data || {};
      let request = _auth(agent.post(url), wpreq._options, true);
      request = _setHeaders(request, wpreq._options);
      if (wpreq._attachment) {
        request = objectReduce(data, (req, value, key) => req.field(key, value), request.attach("file", wpreq._attachment, wpreq._attachmentName));
      } else {
        request = request.send(data);
      }
      return invokeAndPromisify(request, callback, returnBody.bind(null, wpreq));
    }
    function _httpPut(wpreq, data, callback) {
      checkMethodSupport("put", wpreq);
      const url = wpreq.toString();
      data = data || {};
      let request = _auth(agent.put(url), wpreq._options, true).send(data);
      request = _setHeaders(request, wpreq._options);
      return invokeAndPromisify(request, callback, returnBody.bind(null, wpreq));
    }
    function _httpDelete(wpreq, data, callback) {
      if (!callback && typeof data === "function") {
        callback = data;
        data = null;
      }
      checkMethodSupport("delete", wpreq);
      const url = wpreq.toString();
      let request = _auth(agent.del(url), wpreq._options, true).send(data);
      request = _setHeaders(request, wpreq._options);
      return invokeAndPromisify(request, callback, returnBody.bind(null, wpreq));
    }
    function _httpHead(wpreq, callback) {
      checkMethodSupport("head", wpreq);
      const url = wpreq.toString();
      let request = _auth(agent.head(url), wpreq._options);
      request = _setHeaders(request, wpreq._options);
      return invokeAndPromisify(request, callback, returnHeaders);
    }
    module2.exports = {
      delete: _httpDelete,
      get: _httpGet,
      head: _httpHead,
      post: _httpPost,
      put: _httpPut
    };
  }
});

// node_modules/wpapi/lib/wp-register-route.js
var require_wp_register_route = __commonJS({
  "node_modules/wpapi/lib/wp-register-route.js"(exports, module2) {
    "use strict";
    var buildRouteTree = require_route_tree().build;
    var generateEndpointFactories = require_endpoint_factories().generate;
    var paramSetter = require_parameter_setter();
    var applyMixin = require_apply_mixin();
    var mixins = require_mixins();
    function registerRoute(namespace, restBase, options2 = {}) {
      let supportedMethods = ["head", "get", "patch", "put", "post", "delete"];
      if (Array.isArray(options2.methods)) {
        supportedMethods = options2.methods.map((method) => method.trim().toLowerCase());
      } else if (typeof options2.methods === "string") {
        supportedMethods = [options2.methods.trim().toLowerCase()];
      }
      if (supportedMethods.indexOf("get") !== -1 && supportedMethods.indexOf("head") === -1) {
        supportedMethods.push("head");
      } else if (supportedMethods.indexOf("head") !== -1 && supportedMethods.indexOf("get") === -1) {
        supportedMethods.push("get");
      }
      const fullRoute = namespace.replace(/^[\s/]*/, "/").replace(/[\s/]*$/, "/") + restBase.replace(/^[\s/]*/, "");
      const routeObj = {};
      routeObj[fullRoute] = {
        namespace,
        methods: supportedMethods
      };
      const routeTree = buildRouteTree(routeObj);
      const endpointFactories = generateEndpointFactories(routeTree)[namespace];
      const EndpointRequest = endpointFactories[Object.keys(endpointFactories)[0]].Ctor;
      if (options2 && options2.params) {
        options2.params.forEach((param) => {
          if (typeof param !== "string") {
            return;
          }
          if (typeof mixins[param] === "object") {
            Object.keys(mixins[param]).forEach((key) => {
              applyMixin(EndpointRequest.prototype, key, mixins[param][key]);
            });
            return;
          }
          applyMixin(EndpointRequest.prototype, param, paramSetter(param));
        });
      }
      if (options2 && typeof options2.mixins === "object") {
        Object.keys(options2.mixins).forEach((key) => {
          applyMixin(EndpointRequest.prototype, key, options2.mixins[key]);
        });
      }
      function endpointFactory(options3 = {}) {
        return new EndpointRequest(__spreadValues(__spreadValues({}, options3), this ? this._options : {}));
      }
      endpointFactory.Ctor = EndpointRequest;
      return endpointFactory;
    }
    module2.exports = registerRoute;
  }
});

// node_modules/wpapi/wpapi.js
var require_wpapi = __commonJS({
  "node_modules/wpapi/wpapi.js"(exports, module2) {
    "use strict";
    var objectReduce = require_object_reduce();
    var defaultRoutes = require_default_routes();
    var buildRouteTree = require_route_tree().build;
    var generateEndpointFactories = require_endpoint_factories().generate;
    var defaultEndpointFactories;
    var apiDefaultNamespace = "wp/v2";
    var autodiscovery = require_autodiscovery();
    var WPRequest = require_wp_request();
    var httpTransport = require_http_transport();
    function WPAPI2(options2) {
      if (this instanceof WPAPI2 === false) {
        return new WPAPI2(options2);
      }
      if (typeof options2.endpoint !== "string") {
        throw new Error("options hash must contain an API endpoint URL string");
      }
      this._ns = {};
      this._options = {
        endpoint: options2.endpoint.replace(/\/?$/, "/")
      };
      if (options2 && (options2.username || options2.password || options2.nonce)) {
        this.auth(options2);
      }
      return this.transport(options2.transport).bootstrap(options2 && options2.routes);
    }
    WPAPI2.prototype.transport = function(transport) {
      const _options = this._options;
      if (!_options.transport) {
        _options.transport = Object.create(WPAPI2.transport);
      }
      ["get", "head", "post", "put", "delete"].forEach((key) => {
        if (transport && transport[key]) {
          _options.transport[key] = transport[key];
        }
      });
      return this;
    };
    WPAPI2.transport = Object.create(httpTransport);
    Object.freeze(WPAPI2.transport);
    WPAPI2.site = function(endpoint, routes) {
      return new WPAPI2({
        endpoint,
        routes
      });
    };
    WPAPI2.prototype.url = function(url) {
      return new WPRequest(__spreadProps(__spreadValues({}, this._options), {
        endpoint: url
      }));
    };
    WPAPI2.prototype.root = function(relativePath) {
      relativePath = relativePath || "";
      const options2 = __spreadValues({}, this._options);
      const request = new WPRequest(options2);
      request._path = { "0": relativePath };
      return request;
    };
    WPAPI2.prototype.setHeaders = WPRequest.prototype.setHeaders;
    WPAPI2.prototype.auth = WPRequest.prototype.auth;
    WPAPI2.prototype.registerRoute = require_wp_register_route();
    WPAPI2.prototype.bootstrap = function(routes) {
      let routesByNamespace;
      let endpointFactoriesByNamespace;
      if (!routes) {
        if (!defaultEndpointFactories) {
          routesByNamespace = buildRouteTree(defaultRoutes);
          defaultEndpointFactories = generateEndpointFactories(routesByNamespace);
        }
        endpointFactoriesByNamespace = defaultEndpointFactories;
      } else {
        routesByNamespace = buildRouteTree(routes);
        endpointFactoriesByNamespace = generateEndpointFactories(routesByNamespace);
      }
      return objectReduce(endpointFactoriesByNamespace, (wpInstance, endpointFactories, namespace) => {
        wpInstance._ns[namespace] = objectReduce(endpointFactories, (nsHandlers, handlerFn, methodName) => {
          nsHandlers[methodName] = handlerFn;
          return nsHandlers;
        }, wpInstance._ns[namespace] || {
          _options: wpInstance._options
        });
        if (namespace === apiDefaultNamespace) {
          Object.keys(wpInstance._ns[namespace]).forEach((methodName) => {
            wpInstance[methodName] = wpInstance._ns[namespace][methodName];
          });
        }
        return wpInstance;
      }, this);
    };
    WPAPI2.prototype.namespace = function(namespace) {
      if (!this._ns[namespace]) {
        throw new Error("Error: namespace " + namespace + " is not recognized");
      }
      return this._ns[namespace];
    };
    WPAPI2.discover = (url) => {
      let endpoint;
      const req = WPAPI2.site(url).root();
      return req.headers().catch(() => {
        return req.get();
      }).then(autodiscovery.locateAPIRootHeader).then((apiRootURL) => {
        endpoint = apiRootURL;
        return WPAPI2.site(apiRootURL).root().get();
      }).then((apiRootJSON) => {
        return new WPAPI2({
          endpoint,
          routes: apiRootJSON.routes
        });
      }).catch((err) => {
        console.error(err);
        if (endpoint) {
          console.warn("Endpoint detected, proceeding despite error...");
          console.warn("Binding to " + endpoint + " and assuming default routes");
          return new WPAPI2.site(endpoint);
        }
        throw new Error("Autodiscovery failed");
      });
    };
    module2.exports = WPAPI2;
  }
});

// src/main.ts
__export(exports, {
  default: () => WordpressPlugin
});
var import_obsidian8 = __toModule(require("obsidian"));

// src/settings.ts
var import_obsidian = __toModule(require("obsidian"));
var ApiType;
(function(ApiType2) {
  ApiType2["XML_RPC"] = "xml-rpc";
  ApiType2["RestAPI"] = "restapi";
})(ApiType || (ApiType = {}));
var RestApiPlugin;
(function(RestApiPlugin2) {
  RestApiPlugin2["Authentication_miniOrange"] = "miniOrange";
})(RestApiPlugin || (RestApiPlugin = {}));
var DEFAULT_SETTINGS = {
  apiType: ApiType.XML_RPC,
  endpoint: "",
  saveUserName: false,
  showRibbonIcon: false
};
var WordpressSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Settings for WordPress plugin" });
    new import_obsidian.Setting(containerEl).setName("WordPress URL").setDesc("Full path of installed WordPress, for example, https://example.com/wordpress").addText((text) => text.setPlaceholder("https://example.com/wordpress").setValue(this.plugin.settings.endpoint).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.endpoint = value;
      yield this.plugin.saveSettings();
      this.display();
    })));
    new import_obsidian.Setting(containerEl).setName("API Type").setDesc(`Select which API you want to use.
- XML-RPC: Enabled by default but some host may disable it
- REST API`).addDropdown((dropdown) => {
      dropdown.addOption(ApiType.XML_RPC, "XML-RPC").addOption(ApiType.RestAPI, "REST API").setValue(this.plugin.settings.apiType).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.apiType = value;
        yield this.plugin.saveSettings();
        this.display();
      }));
    });
    if (this.plugin.settings.apiType === ApiType.XML_RPC) {
      new import_obsidian.Setting(containerEl).setName("Save User Name").setDesc(`If enabled, the WordPress user name you typed will be saved in local data.
This might be user name disclosure in synchronize services.`).addToggle((toggle) => toggle.setValue(this.plugin.settings.saveUserName).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.saveUserName = value;
        yield this.plugin.saveSettings();
        this.display();
      })));
      if (this.plugin.settings.saveUserName) {
        new import_obsidian.Setting(containerEl).setName("WordPress User Name").setDesc("User name of WordPress").addText((text) => text.setPlaceholder("User name").setValue(this.plugin.settings.userName).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.userName = value;
          yield this.plugin.saveSettings();
          this.display();
        })));
      } else {
        delete this.plugin.settings.userName;
      }
    } else if (this.plugin.settings.apiType === ApiType.RestAPI) {
      if (!this.plugin.settings.restApiPlugin) {
        this.plugin.settings.restApiPlugin = RestApiPlugin.Authentication_miniOrange;
      }
      new import_obsidian.Setting(containerEl).setName("REST API Plugin").setDesc(`Select which auth plugin for REST API you installed.`).addDropdown((dropdown) => {
        dropdown.addOption(RestApiPlugin.Authentication_miniOrange, "WordPress REST API Authentication by miniOrange").setValue(this.plugin.settings.restApiPlugin).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.restApiPlugin = value;
          yield this.plugin.saveSettings();
          this.display();
        }));
      });
    }
    new import_obsidian.Setting(containerEl).setName("Show icon in sidebar").setDesc(`If enabled, a button which opens publish panel will be added to the Obsidian sidebar.
Changes only take effect on reload.`).addToggle((toggle) => toggle.setValue(this.plugin.settings.showRibbonIcon).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.showRibbonIcon = value;
      yield this.plugin.saveSettings();
      this.display();
    })));
  }
};

// src/icons.ts
var import_obsidian2 = __toModule(require("obsidian"));
var icons = {
  "wp-logo": `
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <g fill="currentColor">
    <path d="M 7.109375 50 C 7.109375 66.976562 16.976562 81.648438 31.28125 88.601562 L 10.820312 32.542969 C 8.441406 37.878906 7.109375 43.78125 7.109375 50 Z M 7.109375 50 "/>
    <path d="M 78.957031 47.835938 C 78.957031 42.535156 77.054688 38.863281 75.421875 36.003906 C 73.246094 32.472656 71.207031 29.480469 71.207031 25.945312 C 71.207031 22.003906 74.199219 18.332031 78.410156 18.332031 C 78.601562 18.332031 78.78125 18.355469 78.96875 18.367188 C 71.335938 11.375 61.167969 7.105469 50 7.105469 C 35.015625 7.105469 21.832031 14.796875 14.164062 26.441406 C 15.167969 26.472656 16.117188 26.492188 16.921875 26.492188 C 21.410156 26.492188 28.355469 25.949219 28.355469 25.949219 C 30.667969 25.8125 30.941406 29.207031 28.628906 29.480469 C 28.628906 29.480469 26.304688 29.753906 23.722656 29.890625 L 39.339844 76.351562 L 48.726562 48.199219 L 42.042969 29.886719 C 39.734375 29.753906 37.546875 29.480469 37.546875 29.480469 C 35.234375 29.34375 35.507812 25.808594 37.816406 25.945312 C 37.816406 25.945312 44.902344 26.492188 49.117188 26.492188 C 53.601562 26.492188 60.546875 25.945312 60.546875 25.945312 C 62.859375 25.808594 63.132812 29.207031 60.824219 29.480469 C 60.824219 29.480469 58.492188 29.753906 55.914062 29.886719 L 71.414062 75.996094 L 75.691406 61.699219 C 77.546875 55.765625 78.957031 51.507812 78.957031 47.835938 Z M 78.957031 47.835938 "/>
    <path d="M 50.753906 53.75 L 37.882812 91.148438 C 41.726562 92.277344 45.789062 92.894531 50 92.894531 C 54.996094 92.894531 59.785156 92.03125 64.246094 90.464844 C 64.128906 90.28125 64.027344 90.085938 63.941406 89.871094 Z M 50.753906 53.75 "/>
    <path d="M 87.636719 29.417969 C 87.824219 30.785156 87.925781 32.253906 87.925781 33.832031 C 87.925781 38.183594 87.113281 43.074219 84.667969 49.195312 L 71.5625 87.074219 C 84.316406 79.640625 92.894531 65.824219 92.894531 50 C 92.894531 42.542969 90.988281 35.53125 87.636719 29.417969 Z M 87.636719 29.417969 "/>
    <path d="M 50 0 C 22.433594 0 0 22.429688 0 50 C 0 77.570312 22.433594 100 50 100 C 77.570312 100 100.003906 77.570312 100.003906 50 C 100.003906 22.429688 77.570312 0 50 0 Z M 50 97.707031 C 23.695312 97.707031 2.292969 76.304688 2.292969 50 C 2.292969 23.695312 23.695312 2.292969 50 2.292969 C 76.304688 2.292969 97.707031 23.695312 97.707031 50 C 97.707031 76.304688 76.304688 97.707031 50 97.707031 Z M 50 97.707031 "/>
  </g>
</svg>`
};
var addIcons = () => {
  Object.keys(icons).forEach((key) => {
    (0, import_obsidian2.addIcon)(key, icons[key]);
  });
};

// src/wp-publish-view.ts
var import_obsidian7 = __toModule(require("obsidian"));

// src/wp-client.ts
var import_obsidian6 = __toModule(require("obsidian"));

// src/wp-xml-rpc-client.ts
var import_xmlrpc = __toModule(require_xmlrpc());
var import_obsidian3 = __toModule(require("obsidian"));

// node_modules/marked/lib/marked.esm.js
function getDefaults() {
  return {
    baseUrl: null,
    breaks: false,
    extensions: null,
    gfm: true,
    headerIds: true,
    headerPrefix: "",
    highlight: null,
    langPrefix: "language-",
    mangle: true,
    pedantic: false,
    renderer: null,
    sanitize: false,
    sanitizer: null,
    silent: false,
    smartLists: false,
    smartypants: false,
    tokenizer: null,
    walkTokens: null,
    xhtml: false
  };
}
var defaults = getDefaults();
function changeDefaults(newDefaults) {
  defaults = newDefaults;
}
var escapeTest = /[&<>"']/;
var escapeReplace = /[&<>"']/g;
var escapeTestNoEncode = /[<>"']|&(?!#?\w+;)/;
var escapeReplaceNoEncode = /[<>"']|&(?!#?\w+;)/g;
var escapeReplacements = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;"
};
var getEscapeReplacement = (ch) => escapeReplacements[ch];
function escape2(html, encode) {
  if (encode) {
    if (escapeTest.test(html)) {
      return html.replace(escapeReplace, getEscapeReplacement);
    }
  } else {
    if (escapeTestNoEncode.test(html)) {
      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);
    }
  }
  return html;
}
var unescapeTest = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;
function unescape2(html) {
  return html.replace(unescapeTest, (_, n) => {
    n = n.toLowerCase();
    if (n === "colon")
      return ":";
    if (n.charAt(0) === "#") {
      return n.charAt(1) === "x" ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));
    }
    return "";
  });
}
var caret = /(^|[^\[])\^/g;
function edit(regex, opt) {
  regex = regex.source || regex;
  opt = opt || "";
  const obj = {
    replace: (name, val) => {
      val = val.source || val;
      val = val.replace(caret, "$1");
      regex = regex.replace(name, val);
      return obj;
    },
    getRegex: () => {
      return new RegExp(regex, opt);
    }
  };
  return obj;
}
var nonWordAndColonTest = /[^\w:]/g;
var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;
function cleanUrl(sanitize, base, href) {
  if (sanitize) {
    let prot;
    try {
      prot = decodeURIComponent(unescape2(href)).replace(nonWordAndColonTest, "").toLowerCase();
    } catch (e) {
      return null;
    }
    if (prot.indexOf("javascript:") === 0 || prot.indexOf("vbscript:") === 0 || prot.indexOf("data:") === 0) {
      return null;
    }
  }
  if (base && !originIndependentUrl.test(href)) {
    href = resolveUrl(base, href);
  }
  try {
    href = encodeURI(href).replace(/%25/g, "%");
  } catch (e) {
    return null;
  }
  return href;
}
var baseUrls = {};
var justDomain = /^[^:]+:\/*[^/]*$/;
var protocol = /^([^:]+:)[\s\S]*$/;
var domain = /^([^:]+:\/*[^/]*)[\s\S]*$/;
function resolveUrl(base, href) {
  if (!baseUrls[" " + base]) {
    if (justDomain.test(base)) {
      baseUrls[" " + base] = base + "/";
    } else {
      baseUrls[" " + base] = rtrim(base, "/", true);
    }
  }
  base = baseUrls[" " + base];
  const relativeBase = base.indexOf(":") === -1;
  if (href.substring(0, 2) === "//") {
    if (relativeBase) {
      return href;
    }
    return base.replace(protocol, "$1") + href;
  } else if (href.charAt(0) === "/") {
    if (relativeBase) {
      return href;
    }
    return base.replace(domain, "$1") + href;
  } else {
    return base + href;
  }
}
var noopTest = { exec: function noopTest2() {
} };
function merge(obj) {
  let i = 1, target, key;
  for (; i < arguments.length; i++) {
    target = arguments[i];
    for (key in target) {
      if (Object.prototype.hasOwnProperty.call(target, key)) {
        obj[key] = target[key];
      }
    }
  }
  return obj;
}
function splitCells(tableRow, count) {
  const row = tableRow.replace(/\|/g, (match, offset, str) => {
    let escaped = false, curr = offset;
    while (--curr >= 0 && str[curr] === "\\")
      escaped = !escaped;
    if (escaped) {
      return "|";
    } else {
      return " |";
    }
  }), cells = row.split(/ \|/);
  let i = 0;
  if (!cells[0].trim()) {
    cells.shift();
  }
  if (!cells[cells.length - 1].trim()) {
    cells.pop();
  }
  if (cells.length > count) {
    cells.splice(count);
  } else {
    while (cells.length < count)
      cells.push("");
  }
  for (; i < cells.length; i++) {
    cells[i] = cells[i].trim().replace(/\\\|/g, "|");
  }
  return cells;
}
function rtrim(str, c, invert) {
  const l = str.length;
  if (l === 0) {
    return "";
  }
  let suffLen = 0;
  while (suffLen < l) {
    const currChar = str.charAt(l - suffLen - 1);
    if (currChar === c && !invert) {
      suffLen++;
    } else if (currChar !== c && invert) {
      suffLen++;
    } else {
      break;
    }
  }
  return str.substr(0, l - suffLen);
}
function findClosingBracket(str, b) {
  if (str.indexOf(b[1]) === -1) {
    return -1;
  }
  const l = str.length;
  let level = 0, i = 0;
  for (; i < l; i++) {
    if (str[i] === "\\") {
      i++;
    } else if (str[i] === b[0]) {
      level++;
    } else if (str[i] === b[1]) {
      level--;
      if (level < 0) {
        return i;
      }
    }
  }
  return -1;
}
function checkSanitizeDeprecation(opt) {
  if (opt && opt.sanitize && !opt.silent) {
    console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options");
  }
}
function repeatString(pattern, count) {
  if (count < 1) {
    return "";
  }
  let result = "";
  while (count > 1) {
    if (count & 1) {
      result += pattern;
    }
    count >>= 1;
    pattern += pattern;
  }
  return result + pattern;
}
function outputLink(cap, link, raw, lexer2) {
  const href = link.href;
  const title = link.title ? escape2(link.title) : null;
  const text = cap[1].replace(/\\([\[\]])/g, "$1");
  if (cap[0].charAt(0) !== "!") {
    lexer2.state.inLink = true;
    const token = {
      type: "link",
      raw,
      href,
      title,
      text,
      tokens: lexer2.inlineTokens(text, [])
    };
    lexer2.state.inLink = false;
    return token;
  } else {
    return {
      type: "image",
      raw,
      href,
      title,
      text: escape2(text)
    };
  }
}
function indentCodeCompensation(raw, text) {
  const matchIndentToCode = raw.match(/^(\s+)(?:```)/);
  if (matchIndentToCode === null) {
    return text;
  }
  const indentToCode = matchIndentToCode[1];
  return text.split("\n").map((node) => {
    const matchIndentInNode = node.match(/^\s+/);
    if (matchIndentInNode === null) {
      return node;
    }
    const [indentInNode] = matchIndentInNode;
    if (indentInNode.length >= indentToCode.length) {
      return node.slice(indentToCode.length);
    }
    return node;
  }).join("\n");
}
var Tokenizer = class {
  constructor(options2) {
    this.options = options2 || defaults;
  }
  space(src) {
    const cap = this.rules.block.newline.exec(src);
    if (cap) {
      if (cap[0].length > 1) {
        return {
          type: "space",
          raw: cap[0]
        };
      }
      return { raw: "\n" };
    }
  }
  code(src) {
    const cap = this.rules.block.code.exec(src);
    if (cap) {
      const text = cap[0].replace(/^ {1,4}/gm, "");
      return {
        type: "code",
        raw: cap[0],
        codeBlockStyle: "indented",
        text: !this.options.pedantic ? rtrim(text, "\n") : text
      };
    }
  }
  fences(src) {
    const cap = this.rules.block.fences.exec(src);
    if (cap) {
      const raw = cap[0];
      const text = indentCodeCompensation(raw, cap[3] || "");
      return {
        type: "code",
        raw,
        lang: cap[2] ? cap[2].trim() : cap[2],
        text
      };
    }
  }
  heading(src) {
    const cap = this.rules.block.heading.exec(src);
    if (cap) {
      let text = cap[2].trim();
      if (/#$/.test(text)) {
        const trimmed = rtrim(text, "#");
        if (this.options.pedantic) {
          text = trimmed.trim();
        } else if (!trimmed || / $/.test(trimmed)) {
          text = trimmed.trim();
        }
      }
      const token = {
        type: "heading",
        raw: cap[0],
        depth: cap[1].length,
        text,
        tokens: []
      };
      this.lexer.inline(token.text, token.tokens);
      return token;
    }
  }
  hr(src) {
    const cap = this.rules.block.hr.exec(src);
    if (cap) {
      return {
        type: "hr",
        raw: cap[0]
      };
    }
  }
  blockquote(src) {
    const cap = this.rules.block.blockquote.exec(src);
    if (cap) {
      const text = cap[0].replace(/^ *> ?/gm, "");
      return {
        type: "blockquote",
        raw: cap[0],
        tokens: this.lexer.blockTokens(text, []),
        text
      };
    }
  }
  list(src) {
    let cap = this.rules.block.list.exec(src);
    if (cap) {
      let raw, istask, ischecked, indent, i, blankLine, endsWithBlankLine, line, nextLine, rawLine, itemContents;
      let bull = cap[1].trim();
      const isordered = bull.length > 1;
      const list = {
        type: "list",
        raw: "",
        ordered: isordered,
        start: isordered ? +bull.slice(0, -1) : "",
        loose: false,
        items: []
      };
      bull = isordered ? `\\d{1,9}\\${bull.slice(-1)}` : `\\${bull}`;
      if (this.options.pedantic) {
        bull = isordered ? bull : "[*+-]";
      }
      const itemRegex = new RegExp(`^( {0,3}${bull})((?: [^\\n]*)?(?:\\n|$))`);
      while (src) {
        if (!(cap = itemRegex.exec(src))) {
          break;
        }
        if (this.rules.block.hr.test(src)) {
          break;
        }
        raw = cap[0];
        src = src.substring(raw.length);
        line = cap[2].split("\n", 1)[0];
        nextLine = src.split("\n", 1)[0];
        if (this.options.pedantic) {
          indent = 2;
          itemContents = line.trimLeft();
        } else {
          indent = cap[2].search(/[^ ]/);
          indent = indent > 4 ? 1 : indent;
          itemContents = line.slice(indent);
          indent += cap[1].length;
        }
        blankLine = false;
        if (!line && /^ *$/.test(nextLine)) {
          raw += nextLine + "\n";
          src = src.substring(nextLine.length + 1);
          list.loose = true;
        }
        const nextBulletRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}(?:[*+-]|\\d{1,9}[.)])`);
        while (src && !list.loose) {
          rawLine = src.split("\n", 1)[0];
          line = rawLine;
          if (this.options.pedantic) {
            line = line.replace(/^ {1,4}(?=( {4})*[^ ])/g, "  ");
          }
          if (nextBulletRegex.test(line)) {
            break;
          }
          if (line.search(/[^ ]/) >= indent || !line.trim()) {
            itemContents += "\n" + line.slice(indent);
          } else if (!blankLine) {
            itemContents += "\n" + line;
          } else {
            break;
          }
          if (!blankLine && !line.trim()) {
            blankLine = true;
          }
          raw += rawLine + "\n";
          src = src.substring(rawLine.length + 1);
        }
        if (!list.loose) {
          if (endsWithBlankLine) {
            list.loose = true;
          } else if (/\n *\n *$/.test(raw)) {
            endsWithBlankLine = true;
          }
        }
        if (this.options.gfm) {
          istask = /^\[[ xX]\] /.exec(itemContents);
          if (istask) {
            ischecked = istask[0] !== "[ ] ";
            itemContents = itemContents.replace(/^\[[ xX]\] +/, "");
          }
        }
        list.items.push({
          type: "list_item",
          raw,
          task: !!istask,
          checked: ischecked,
          loose: false,
          text: itemContents
        });
        list.raw += raw;
      }
      list.items[list.items.length - 1].raw = raw.trimRight();
      list.items[list.items.length - 1].text = itemContents.trimRight();
      list.raw = list.raw.trimRight();
      const l = list.items.length;
      for (i = 0; i < l; i++) {
        this.lexer.state.top = false;
        list.items[i].tokens = this.lexer.blockTokens(list.items[i].text, []);
        if (!list.loose && list.items[i].tokens.some((t) => t.type === "space")) {
          list.loose = true;
          list.items[i].loose = true;
        }
      }
      return list;
    }
  }
  html(src) {
    const cap = this.rules.block.html.exec(src);
    if (cap) {
      const token = {
        type: "html",
        raw: cap[0],
        pre: !this.options.sanitizer && (cap[1] === "pre" || cap[1] === "script" || cap[1] === "style"),
        text: cap[0]
      };
      if (this.options.sanitize) {
        token.type = "paragraph";
        token.text = this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape2(cap[0]);
        token.tokens = [];
        this.lexer.inline(token.text, token.tokens);
      }
      return token;
    }
  }
  def(src) {
    const cap = this.rules.block.def.exec(src);
    if (cap) {
      if (cap[3])
        cap[3] = cap[3].substring(1, cap[3].length - 1);
      const tag = cap[1].toLowerCase().replace(/\s+/g, " ");
      return {
        type: "def",
        tag,
        raw: cap[0],
        href: cap[2],
        title: cap[3]
      };
    }
  }
  table(src) {
    const cap = this.rules.block.table.exec(src);
    if (cap) {
      const item = {
        type: "table",
        header: splitCells(cap[1]).map((c) => {
          return { text: c };
        }),
        align: cap[2].replace(/^ *|\| *$/g, "").split(/ *\| */),
        rows: cap[3] ? cap[3].replace(/\n$/, "").split("\n") : []
      };
      if (item.header.length === item.align.length) {
        item.raw = cap[0];
        let l = item.align.length;
        let i, j, k, row;
        for (i = 0; i < l; i++) {
          if (/^ *-+: *$/.test(item.align[i])) {
            item.align[i] = "right";
          } else if (/^ *:-+: *$/.test(item.align[i])) {
            item.align[i] = "center";
          } else if (/^ *:-+ *$/.test(item.align[i])) {
            item.align[i] = "left";
          } else {
            item.align[i] = null;
          }
        }
        l = item.rows.length;
        for (i = 0; i < l; i++) {
          item.rows[i] = splitCells(item.rows[i], item.header.length).map((c) => {
            return { text: c };
          });
        }
        l = item.header.length;
        for (j = 0; j < l; j++) {
          item.header[j].tokens = [];
          this.lexer.inlineTokens(item.header[j].text, item.header[j].tokens);
        }
        l = item.rows.length;
        for (j = 0; j < l; j++) {
          row = item.rows[j];
          for (k = 0; k < row.length; k++) {
            row[k].tokens = [];
            this.lexer.inlineTokens(row[k].text, row[k].tokens);
          }
        }
        return item;
      }
    }
  }
  lheading(src) {
    const cap = this.rules.block.lheading.exec(src);
    if (cap) {
      const token = {
        type: "heading",
        raw: cap[0],
        depth: cap[2].charAt(0) === "=" ? 1 : 2,
        text: cap[1],
        tokens: []
      };
      this.lexer.inline(token.text, token.tokens);
      return token;
    }
  }
  paragraph(src) {
    const cap = this.rules.block.paragraph.exec(src);
    if (cap) {
      const token = {
        type: "paragraph",
        raw: cap[0],
        text: cap[1].charAt(cap[1].length - 1) === "\n" ? cap[1].slice(0, -1) : cap[1],
        tokens: []
      };
      this.lexer.inline(token.text, token.tokens);
      return token;
    }
  }
  text(src) {
    const cap = this.rules.block.text.exec(src);
    if (cap) {
      const token = {
        type: "text",
        raw: cap[0],
        text: cap[0],
        tokens: []
      };
      this.lexer.inline(token.text, token.tokens);
      return token;
    }
  }
  escape(src) {
    const cap = this.rules.inline.escape.exec(src);
    if (cap) {
      return {
        type: "escape",
        raw: cap[0],
        text: escape2(cap[1])
      };
    }
  }
  tag(src) {
    const cap = this.rules.inline.tag.exec(src);
    if (cap) {
      if (!this.lexer.state.inLink && /^<a /i.test(cap[0])) {
        this.lexer.state.inLink = true;
      } else if (this.lexer.state.inLink && /^<\/a>/i.test(cap[0])) {
        this.lexer.state.inLink = false;
      }
      if (!this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
        this.lexer.state.inRawBlock = true;
      } else if (this.lexer.state.inRawBlock && /^<\/(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
        this.lexer.state.inRawBlock = false;
      }
      return {
        type: this.options.sanitize ? "text" : "html",
        raw: cap[0],
        inLink: this.lexer.state.inLink,
        inRawBlock: this.lexer.state.inRawBlock,
        text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape2(cap[0]) : cap[0]
      };
    }
  }
  link(src) {
    const cap = this.rules.inline.link.exec(src);
    if (cap) {
      const trimmedUrl = cap[2].trim();
      if (!this.options.pedantic && /^</.test(trimmedUrl)) {
        if (!/>$/.test(trimmedUrl)) {
          return;
        }
        const rtrimSlash = rtrim(trimmedUrl.slice(0, -1), "\\");
        if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {
          return;
        }
      } else {
        const lastParenIndex = findClosingBracket(cap[2], "()");
        if (lastParenIndex > -1) {
          const start = cap[0].indexOf("!") === 0 ? 5 : 4;
          const linkLen = start + cap[1].length + lastParenIndex;
          cap[2] = cap[2].substring(0, lastParenIndex);
          cap[0] = cap[0].substring(0, linkLen).trim();
          cap[3] = "";
        }
      }
      let href = cap[2];
      let title = "";
      if (this.options.pedantic) {
        const link = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(href);
        if (link) {
          href = link[1];
          title = link[3];
        }
      } else {
        title = cap[3] ? cap[3].slice(1, -1) : "";
      }
      href = href.trim();
      if (/^</.test(href)) {
        if (this.options.pedantic && !/>$/.test(trimmedUrl)) {
          href = href.slice(1);
        } else {
          href = href.slice(1, -1);
        }
      }
      return outputLink(cap, {
        href: href ? href.replace(this.rules.inline._escapes, "$1") : href,
        title: title ? title.replace(this.rules.inline._escapes, "$1") : title
      }, cap[0], this.lexer);
    }
  }
  reflink(src, links) {
    let cap;
    if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {
      let link = (cap[2] || cap[1]).replace(/\s+/g, " ");
      link = links[link.toLowerCase()];
      if (!link || !link.href) {
        const text = cap[0].charAt(0);
        return {
          type: "text",
          raw: text,
          text
        };
      }
      return outputLink(cap, link, cap[0], this.lexer);
    }
  }
  emStrong(src, maskedSrc, prevChar = "") {
    let match = this.rules.inline.emStrong.lDelim.exec(src);
    if (!match)
      return;
    if (match[3] && prevChar.match(/[\p{L}\p{N}]/u))
      return;
    const nextChar = match[1] || match[2] || "";
    if (!nextChar || nextChar && (prevChar === "" || this.rules.inline.punctuation.exec(prevChar))) {
      const lLength = match[0].length - 1;
      let rDelim, rLength, delimTotal = lLength, midDelimTotal = 0;
      const endReg = match[0][0] === "*" ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;
      endReg.lastIndex = 0;
      maskedSrc = maskedSrc.slice(-1 * src.length + lLength);
      while ((match = endReg.exec(maskedSrc)) != null) {
        rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];
        if (!rDelim)
          continue;
        rLength = rDelim.length;
        if (match[3] || match[4]) {
          delimTotal += rLength;
          continue;
        } else if (match[5] || match[6]) {
          if (lLength % 3 && !((lLength + rLength) % 3)) {
            midDelimTotal += rLength;
            continue;
          }
        }
        delimTotal -= rLength;
        if (delimTotal > 0)
          continue;
        rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal);
        if (Math.min(lLength, rLength) % 2) {
          const text2 = src.slice(1, lLength + match.index + rLength);
          return {
            type: "em",
            raw: src.slice(0, lLength + match.index + rLength + 1),
            text: text2,
            tokens: this.lexer.inlineTokens(text2, [])
          };
        }
        const text = src.slice(2, lLength + match.index + rLength - 1);
        return {
          type: "strong",
          raw: src.slice(0, lLength + match.index + rLength + 1),
          text,
          tokens: this.lexer.inlineTokens(text, [])
        };
      }
    }
  }
  codespan(src) {
    const cap = this.rules.inline.code.exec(src);
    if (cap) {
      let text = cap[2].replace(/\n/g, " ");
      const hasNonSpaceChars = /[^ ]/.test(text);
      const hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);
      if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {
        text = text.substring(1, text.length - 1);
      }
      text = escape2(text, true);
      return {
        type: "codespan",
        raw: cap[0],
        text
      };
    }
  }
  br(src) {
    const cap = this.rules.inline.br.exec(src);
    if (cap) {
      return {
        type: "br",
        raw: cap[0]
      };
    }
  }
  del(src) {
    const cap = this.rules.inline.del.exec(src);
    if (cap) {
      return {
        type: "del",
        raw: cap[0],
        text: cap[2],
        tokens: this.lexer.inlineTokens(cap[2], [])
      };
    }
  }
  autolink(src, mangle2) {
    const cap = this.rules.inline.autolink.exec(src);
    if (cap) {
      let text, href;
      if (cap[2] === "@") {
        text = escape2(this.options.mangle ? mangle2(cap[1]) : cap[1]);
        href = "mailto:" + text;
      } else {
        text = escape2(cap[1]);
        href = text;
      }
      return {
        type: "link",
        raw: cap[0],
        text,
        href,
        tokens: [
          {
            type: "text",
            raw: text,
            text
          }
        ]
      };
    }
  }
  url(src, mangle2) {
    let cap;
    if (cap = this.rules.inline.url.exec(src)) {
      let text, href;
      if (cap[2] === "@") {
        text = escape2(this.options.mangle ? mangle2(cap[0]) : cap[0]);
        href = "mailto:" + text;
      } else {
        let prevCapZero;
        do {
          prevCapZero = cap[0];
          cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];
        } while (prevCapZero !== cap[0]);
        text = escape2(cap[0]);
        if (cap[1] === "www.") {
          href = "http://" + text;
        } else {
          href = text;
        }
      }
      return {
        type: "link",
        raw: cap[0],
        text,
        href,
        tokens: [
          {
            type: "text",
            raw: text,
            text
          }
        ]
      };
    }
  }
  inlineText(src, smartypants2) {
    const cap = this.rules.inline.text.exec(src);
    if (cap) {
      let text;
      if (this.lexer.state.inRawBlock) {
        text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape2(cap[0]) : cap[0];
      } else {
        text = escape2(this.options.smartypants ? smartypants2(cap[0]) : cap[0]);
      }
      return {
        type: "text",
        raw: cap[0],
        text
      };
    }
  }
};
var block = {
  newline: /^(?: *(?:\n|$))+/,
  code: /^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,
  fences: /^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,
  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,
  heading: /^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,
  blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
  list: /^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,
  html: "^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",
  def: /^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,
  table: noopTest,
  lheading: /^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,
  _paragraph: /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,
  text: /^[^\n]+/
};
block._label = /(?!\s*\])(?:\\[\[\]]|[^\[\]])+/;
block._title = /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;
block.def = edit(block.def).replace("label", block._label).replace("title", block._title).getRegex();
block.bullet = /(?:[*+-]|\d{1,9}[.)])/;
block.listItemStart = edit(/^( *)(bull) */).replace("bull", block.bullet).getRegex();
block.list = edit(block.list).replace(/bull/g, block.bullet).replace("hr", "\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def", "\\n+(?=" + block.def.source + ")").getRegex();
block._tag = "address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
block._comment = /<!--(?!-?>)[\s\S]*?(?:-->|$)/;
block.html = edit(block.html, "i").replace("comment", block._comment).replace("tag", block._tag).replace("attribute", / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();
block.paragraph = edit(block._paragraph).replace("hr", block.hr).replace("heading", " {0,3}#{1,6} ").replace("|lheading", "").replace("|table", "").replace("blockquote", " {0,3}>").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", block._tag).getRegex();
block.blockquote = edit(block.blockquote).replace("paragraph", block.paragraph).getRegex();
block.normal = merge({}, block);
block.gfm = merge({}, block.normal, {
  table: "^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"
});
block.gfm.table = edit(block.gfm.table).replace("hr", block.hr).replace("heading", " {0,3}#{1,6} ").replace("blockquote", " {0,3}>").replace("code", " {4}[^\\n]").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", block._tag).getRegex();
block.gfm.paragraph = edit(block._paragraph).replace("hr", block.hr).replace("heading", " {0,3}#{1,6} ").replace("|lheading", "").replace("table", block.gfm.table).replace("blockquote", " {0,3}>").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", block._tag).getRegex();
block.pedantic = merge({}, block.normal, {
  html: edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment", block._comment).replace(/tag/g, "(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),
  def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,
  heading: /^(#{1,6})(.*)(?:\n+|$)/,
  fences: noopTest,
  paragraph: edit(block.normal._paragraph).replace("hr", block.hr).replace("heading", " *#{1,6} *[^\n]").replace("lheading", block.lheading).replace("blockquote", " {0,3}>").replace("|fences", "").replace("|list", "").replace("|html", "").getRegex()
});
var inline = {
  escape: /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,
  autolink: /^<(scheme:[^\s\x00-\x1f<>]*|email)>/,
  url: noopTest,
  tag: "^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",
  link: /^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,
  reflink: /^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,
  nolink: /^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
  reflinkSearch: "reflink|nolink(?!\\()",
  emStrong: {
    lDelim: /^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,
    rDelimAst: /^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,
    rDelimUnd: /^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/
  },
  code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
  br: /^( {2,}|\\)\n(?!\s*$)/,
  del: noopTest,
  text: /^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,
  punctuation: /^([\spunctuation])/
};
inline._punctuation = "!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";
inline.punctuation = edit(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex();
inline.blockSkip = /\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;
inline.escapedEmSt = /\\\*|\\_/g;
inline._comment = edit(block._comment).replace("(?:-->|$)", "-->").getRegex();
inline.emStrong.lDelim = edit(inline.emStrong.lDelim).replace(/punct/g, inline._punctuation).getRegex();
inline.emStrong.rDelimAst = edit(inline.emStrong.rDelimAst, "g").replace(/punct/g, inline._punctuation).getRegex();
inline.emStrong.rDelimUnd = edit(inline.emStrong.rDelimUnd, "g").replace(/punct/g, inline._punctuation).getRegex();
inline._escapes = /\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;
inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;
inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
inline.autolink = edit(inline.autolink).replace("scheme", inline._scheme).replace("email", inline._email).getRegex();
inline._attribute = /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;
inline.tag = edit(inline.tag).replace("comment", inline._comment).replace("attribute", inline._attribute).getRegex();
inline._label = /(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
inline._href = /<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;
inline._title = /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;
inline.link = edit(inline.link).replace("label", inline._label).replace("href", inline._href).replace("title", inline._title).getRegex();
inline.reflink = edit(inline.reflink).replace("label", inline._label).getRegex();
inline.reflinkSearch = edit(inline.reflinkSearch, "g").replace("reflink", inline.reflink).replace("nolink", inline.nolink).getRegex();
inline.normal = merge({}, inline);
inline.pedantic = merge({}, inline.normal, {
  strong: {
    start: /^__|\*\*/,
    middle: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
    endAst: /\*\*(?!\*)/g,
    endUnd: /__(?!_)/g
  },
  em: {
    start: /^_|\*/,
    middle: /^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,
    endAst: /\*(?!\*)/g,
    endUnd: /_(?!_)/g
  },
  link: edit(/^!?\[(label)\]\((.*?)\)/).replace("label", inline._label).getRegex(),
  reflink: edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label", inline._label).getRegex()
});
inline.gfm = merge({}, inline.normal, {
  escape: edit(inline.escape).replace("])", "~|])").getRegex(),
  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,
  url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
  _backpedal: /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
  del: /^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,
  text: /^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/
});
inline.gfm.url = edit(inline.gfm.url, "i").replace("email", inline.gfm._extended_email).getRegex();
inline.breaks = merge({}, inline.gfm, {
  br: edit(inline.br).replace("{2,}", "*").getRegex(),
  text: edit(inline.gfm.text).replace("\\b_", "\\b_| {2,}\\n").replace(/\{2,\}/g, "*").getRegex()
});
function smartypants(text) {
  return text.replace(/---/g, "\u2014").replace(/--/g, "\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g, "$1\u2018").replace(/'/g, "\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1\u201C").replace(/"/g, "\u201D").replace(/\.{3}/g, "\u2026");
}
function mangle(text) {
  let out = "", i, ch;
  const l = text.length;
  for (i = 0; i < l; i++) {
    ch = text.charCodeAt(i);
    if (Math.random() > 0.5) {
      ch = "x" + ch.toString(16);
    }
    out += "&#" + ch + ";";
  }
  return out;
}
var Lexer = class {
  constructor(options2) {
    this.tokens = [];
    this.tokens.links = Object.create(null);
    this.options = options2 || defaults;
    this.options.tokenizer = this.options.tokenizer || new Tokenizer();
    this.tokenizer = this.options.tokenizer;
    this.tokenizer.options = this.options;
    this.tokenizer.lexer = this;
    this.inlineQueue = [];
    this.state = {
      inLink: false,
      inRawBlock: false,
      top: true
    };
    const rules = {
      block: block.normal,
      inline: inline.normal
    };
    if (this.options.pedantic) {
      rules.block = block.pedantic;
      rules.inline = inline.pedantic;
    } else if (this.options.gfm) {
      rules.block = block.gfm;
      if (this.options.breaks) {
        rules.inline = inline.breaks;
      } else {
        rules.inline = inline.gfm;
      }
    }
    this.tokenizer.rules = rules;
  }
  static get rules() {
    return {
      block,
      inline
    };
  }
  static lex(src, options2) {
    const lexer2 = new Lexer(options2);
    return lexer2.lex(src);
  }
  static lexInline(src, options2) {
    const lexer2 = new Lexer(options2);
    return lexer2.inlineTokens(src);
  }
  lex(src) {
    src = src.replace(/\r\n|\r/g, "\n").replace(/\t/g, "    ");
    this.blockTokens(src, this.tokens);
    let next;
    while (next = this.inlineQueue.shift()) {
      this.inlineTokens(next.src, next.tokens);
    }
    return this.tokens;
  }
  blockTokens(src, tokens = []) {
    if (this.options.pedantic) {
      src = src.replace(/^ +$/gm, "");
    }
    let token, lastToken, cutSrc, lastParagraphClipped;
    while (src) {
      if (this.options.extensions && this.options.extensions.block && this.options.extensions.block.some((extTokenizer) => {
        if (token = extTokenizer.call({ lexer: this }, src, tokens)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          return true;
        }
        return false;
      })) {
        continue;
      }
      if (token = this.tokenizer.space(src)) {
        src = src.substring(token.raw.length);
        if (token.type) {
          tokens.push(token);
        }
        continue;
      }
      if (token = this.tokenizer.code(src)) {
        src = src.substring(token.raw.length);
        lastToken = tokens[tokens.length - 1];
        if (lastToken && (lastToken.type === "paragraph" || lastToken.type === "text")) {
          lastToken.raw += "\n" + token.raw;
          lastToken.text += "\n" + token.text;
          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
        } else {
          tokens.push(token);
        }
        continue;
      }
      if (token = this.tokenizer.fences(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.heading(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.hr(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.blockquote(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.list(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.html(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.def(src)) {
        src = src.substring(token.raw.length);
        lastToken = tokens[tokens.length - 1];
        if (lastToken && (lastToken.type === "paragraph" || lastToken.type === "text")) {
          lastToken.raw += "\n" + token.raw;
          lastToken.text += "\n" + token.raw;
          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
        } else if (!this.tokens.links[token.tag]) {
          this.tokens.links[token.tag] = {
            href: token.href,
            title: token.title
          };
        }
        continue;
      }
      if (token = this.tokenizer.table(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.lheading(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      cutSrc = src;
      if (this.options.extensions && this.options.extensions.startBlock) {
        let startIndex = Infinity;
        const tempSrc = src.slice(1);
        let tempStart;
        this.options.extensions.startBlock.forEach(function(getStartIndex) {
          tempStart = getStartIndex.call({ lexer: this }, tempSrc);
          if (typeof tempStart === "number" && tempStart >= 0) {
            startIndex = Math.min(startIndex, tempStart);
          }
        });
        if (startIndex < Infinity && startIndex >= 0) {
          cutSrc = src.substring(0, startIndex + 1);
        }
      }
      if (this.state.top && (token = this.tokenizer.paragraph(cutSrc))) {
        lastToken = tokens[tokens.length - 1];
        if (lastParagraphClipped && lastToken.type === "paragraph") {
          lastToken.raw += "\n" + token.raw;
          lastToken.text += "\n" + token.text;
          this.inlineQueue.pop();
          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
        } else {
          tokens.push(token);
        }
        lastParagraphClipped = cutSrc.length !== src.length;
        src = src.substring(token.raw.length);
        continue;
      }
      if (token = this.tokenizer.text(src)) {
        src = src.substring(token.raw.length);
        lastToken = tokens[tokens.length - 1];
        if (lastToken && lastToken.type === "text") {
          lastToken.raw += "\n" + token.raw;
          lastToken.text += "\n" + token.text;
          this.inlineQueue.pop();
          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
        } else {
          tokens.push(token);
        }
        continue;
      }
      if (src) {
        const errMsg = "Infinite loop on byte: " + src.charCodeAt(0);
        if (this.options.silent) {
          console.error(errMsg);
          break;
        } else {
          throw new Error(errMsg);
        }
      }
    }
    this.state.top = true;
    return tokens;
  }
  inline(src, tokens) {
    this.inlineQueue.push({ src, tokens });
  }
  inlineTokens(src, tokens = []) {
    let token, lastToken, cutSrc;
    let maskedSrc = src;
    let match;
    let keepPrevChar, prevChar;
    if (this.tokens.links) {
      const links = Object.keys(this.tokens.links);
      if (links.length > 0) {
        while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {
          if (links.includes(match[0].slice(match[0].lastIndexOf("[") + 1, -1))) {
            maskedSrc = maskedSrc.slice(0, match.index) + "[" + repeatString("a", match[0].length - 2) + "]" + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);
          }
        }
      }
    }
    while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {
      maskedSrc = maskedSrc.slice(0, match.index) + "[" + repeatString("a", match[0].length - 2) + "]" + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);
    }
    while ((match = this.tokenizer.rules.inline.escapedEmSt.exec(maskedSrc)) != null) {
      maskedSrc = maskedSrc.slice(0, match.index) + "++" + maskedSrc.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);
    }
    while (src) {
      if (!keepPrevChar) {
        prevChar = "";
      }
      keepPrevChar = false;
      if (this.options.extensions && this.options.extensions.inline && this.options.extensions.inline.some((extTokenizer) => {
        if (token = extTokenizer.call({ lexer: this }, src, tokens)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          return true;
        }
        return false;
      })) {
        continue;
      }
      if (token = this.tokenizer.escape(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.tag(src)) {
        src = src.substring(token.raw.length);
        lastToken = tokens[tokens.length - 1];
        if (lastToken && token.type === "text" && lastToken.type === "text") {
          lastToken.raw += token.raw;
          lastToken.text += token.text;
        } else {
          tokens.push(token);
        }
        continue;
      }
      if (token = this.tokenizer.link(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.reflink(src, this.tokens.links)) {
        src = src.substring(token.raw.length);
        lastToken = tokens[tokens.length - 1];
        if (lastToken && token.type === "text" && lastToken.type === "text") {
          lastToken.raw += token.raw;
          lastToken.text += token.text;
        } else {
          tokens.push(token);
        }
        continue;
      }
      if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.codespan(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.br(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.del(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.autolink(src, mangle)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (!this.state.inLink && (token = this.tokenizer.url(src, mangle))) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      cutSrc = src;
      if (this.options.extensions && this.options.extensions.startInline) {
        let startIndex = Infinity;
        const tempSrc = src.slice(1);
        let tempStart;
        this.options.extensions.startInline.forEach(function(getStartIndex) {
          tempStart = getStartIndex.call({ lexer: this }, tempSrc);
          if (typeof tempStart === "number" && tempStart >= 0) {
            startIndex = Math.min(startIndex, tempStart);
          }
        });
        if (startIndex < Infinity && startIndex >= 0) {
          cutSrc = src.substring(0, startIndex + 1);
        }
      }
      if (token = this.tokenizer.inlineText(cutSrc, smartypants)) {
        src = src.substring(token.raw.length);
        if (token.raw.slice(-1) !== "_") {
          prevChar = token.raw.slice(-1);
        }
        keepPrevChar = true;
        lastToken = tokens[tokens.length - 1];
        if (lastToken && lastToken.type === "text") {
          lastToken.raw += token.raw;
          lastToken.text += token.text;
        } else {
          tokens.push(token);
        }
        continue;
      }
      if (src) {
        const errMsg = "Infinite loop on byte: " + src.charCodeAt(0);
        if (this.options.silent) {
          console.error(errMsg);
          break;
        } else {
          throw new Error(errMsg);
        }
      }
    }
    return tokens;
  }
};
var Renderer = class {
  constructor(options2) {
    this.options = options2 || defaults;
  }
  code(code, infostring, escaped) {
    const lang = (infostring || "").match(/\S*/)[0];
    if (this.options.highlight) {
      const out = this.options.highlight(code, lang);
      if (out != null && out !== code) {
        escaped = true;
        code = out;
      }
    }
    code = code.replace(/\n$/, "") + "\n";
    if (!lang) {
      return "<pre><code>" + (escaped ? code : escape2(code, true)) + "</code></pre>\n";
    }
    return '<pre><code class="' + this.options.langPrefix + escape2(lang, true) + '">' + (escaped ? code : escape2(code, true)) + "</code></pre>\n";
  }
  blockquote(quote) {
    return "<blockquote>\n" + quote + "</blockquote>\n";
  }
  html(html) {
    return html;
  }
  heading(text, level, raw, slugger) {
    if (this.options.headerIds) {
      return "<h" + level + ' id="' + this.options.headerPrefix + slugger.slug(raw) + '">' + text + "</h" + level + ">\n";
    }
    return "<h" + level + ">" + text + "</h" + level + ">\n";
  }
  hr() {
    return this.options.xhtml ? "<hr/>\n" : "<hr>\n";
  }
  list(body, ordered, start) {
    const type = ordered ? "ol" : "ul", startatt = ordered && start !== 1 ? ' start="' + start + '"' : "";
    return "<" + type + startatt + ">\n" + body + "</" + type + ">\n";
  }
  listitem(text) {
    return "<li>" + text + "</li>\n";
  }
  checkbox(checked) {
    return "<input " + (checked ? 'checked="" ' : "") + 'disabled="" type="checkbox"' + (this.options.xhtml ? " /" : "") + "> ";
  }
  paragraph(text) {
    return "<p>" + text + "</p>\n";
  }
  table(header, body) {
    if (body)
      body = "<tbody>" + body + "</tbody>";
    return "<table>\n<thead>\n" + header + "</thead>\n" + body + "</table>\n";
  }
  tablerow(content) {
    return "<tr>\n" + content + "</tr>\n";
  }
  tablecell(content, flags) {
    const type = flags.header ? "th" : "td";
    const tag = flags.align ? "<" + type + ' align="' + flags.align + '">' : "<" + type + ">";
    return tag + content + "</" + type + ">\n";
  }
  strong(text) {
    return "<strong>" + text + "</strong>";
  }
  em(text) {
    return "<em>" + text + "</em>";
  }
  codespan(text) {
    return "<code>" + text + "</code>";
  }
  br() {
    return this.options.xhtml ? "<br/>" : "<br>";
  }
  del(text) {
    return "<del>" + text + "</del>";
  }
  link(href, title, text) {
    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);
    if (href === null) {
      return text;
    }
    let out = '<a href="' + escape2(href) + '"';
    if (title) {
      out += ' title="' + title + '"';
    }
    out += ">" + text + "</a>";
    return out;
  }
  image(href, title, text) {
    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);
    if (href === null) {
      return text;
    }
    let out = '<img src="' + href + '" alt="' + text + '"';
    if (title) {
      out += ' title="' + title + '"';
    }
    out += this.options.xhtml ? "/>" : ">";
    return out;
  }
  text(text) {
    return text;
  }
};
var TextRenderer = class {
  strong(text) {
    return text;
  }
  em(text) {
    return text;
  }
  codespan(text) {
    return text;
  }
  del(text) {
    return text;
  }
  html(text) {
    return text;
  }
  text(text) {
    return text;
  }
  link(href, title, text) {
    return "" + text;
  }
  image(href, title, text) {
    return "" + text;
  }
  br() {
    return "";
  }
};
var Slugger = class {
  constructor() {
    this.seen = {};
  }
  serialize(value) {
    return value.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig, "").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g, "").replace(/\s/g, "-");
  }
  getNextSafeSlug(originalSlug, isDryRun) {
    let slug = originalSlug;
    let occurenceAccumulator = 0;
    if (this.seen.hasOwnProperty(slug)) {
      occurenceAccumulator = this.seen[originalSlug];
      do {
        occurenceAccumulator++;
        slug = originalSlug + "-" + occurenceAccumulator;
      } while (this.seen.hasOwnProperty(slug));
    }
    if (!isDryRun) {
      this.seen[originalSlug] = occurenceAccumulator;
      this.seen[slug] = 0;
    }
    return slug;
  }
  slug(value, options2 = {}) {
    const slug = this.serialize(value);
    return this.getNextSafeSlug(slug, options2.dryrun);
  }
};
var Parser = class {
  constructor(options2) {
    this.options = options2 || defaults;
    this.options.renderer = this.options.renderer || new Renderer();
    this.renderer = this.options.renderer;
    this.renderer.options = this.options;
    this.textRenderer = new TextRenderer();
    this.slugger = new Slugger();
  }
  static parse(tokens, options2) {
    const parser2 = new Parser(options2);
    return parser2.parse(tokens);
  }
  static parseInline(tokens, options2) {
    const parser2 = new Parser(options2);
    return parser2.parseInline(tokens);
  }
  parse(tokens, top = true) {
    let out = "", i, j, k, l2, l3, row, cell, header, body, token, ordered, start, loose, itemBody, item, checked, task, checkbox, ret;
    const l = tokens.length;
    for (i = 0; i < l; i++) {
      token = tokens[i];
      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {
        ret = this.options.extensions.renderers[token.type].call({ parser: this }, token);
        if (ret !== false || !["space", "hr", "heading", "code", "table", "blockquote", "list", "html", "paragraph", "text"].includes(token.type)) {
          out += ret || "";
          continue;
        }
      }
      switch (token.type) {
        case "space": {
          continue;
        }
        case "hr": {
          out += this.renderer.hr();
          continue;
        }
        case "heading": {
          out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape2(this.parseInline(token.tokens, this.textRenderer)), this.slugger);
          continue;
        }
        case "code": {
          out += this.renderer.code(token.text, token.lang, token.escaped);
          continue;
        }
        case "table": {
          header = "";
          cell = "";
          l2 = token.header.length;
          for (j = 0; j < l2; j++) {
            cell += this.renderer.tablecell(this.parseInline(token.header[j].tokens), { header: true, align: token.align[j] });
          }
          header += this.renderer.tablerow(cell);
          body = "";
          l2 = token.rows.length;
          for (j = 0; j < l2; j++) {
            row = token.rows[j];
            cell = "";
            l3 = row.length;
            for (k = 0; k < l3; k++) {
              cell += this.renderer.tablecell(this.parseInline(row[k].tokens), { header: false, align: token.align[k] });
            }
            body += this.renderer.tablerow(cell);
          }
          out += this.renderer.table(header, body);
          continue;
        }
        case "blockquote": {
          body = this.parse(token.tokens);
          out += this.renderer.blockquote(body);
          continue;
        }
        case "list": {
          ordered = token.ordered;
          start = token.start;
          loose = token.loose;
          l2 = token.items.length;
          body = "";
          for (j = 0; j < l2; j++) {
            item = token.items[j];
            checked = item.checked;
            task = item.task;
            itemBody = "";
            if (item.task) {
              checkbox = this.renderer.checkbox(checked);
              if (loose) {
                if (item.tokens.length > 0 && item.tokens[0].type === "paragraph") {
                  item.tokens[0].text = checkbox + " " + item.tokens[0].text;
                  if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === "text") {
                    item.tokens[0].tokens[0].text = checkbox + " " + item.tokens[0].tokens[0].text;
                  }
                } else {
                  item.tokens.unshift({
                    type: "text",
                    text: checkbox
                  });
                }
              } else {
                itemBody += checkbox;
              }
            }
            itemBody += this.parse(item.tokens, loose);
            body += this.renderer.listitem(itemBody, task, checked);
          }
          out += this.renderer.list(body, ordered, start);
          continue;
        }
        case "html": {
          out += this.renderer.html(token.text);
          continue;
        }
        case "paragraph": {
          out += this.renderer.paragraph(this.parseInline(token.tokens));
          continue;
        }
        case "text": {
          body = token.tokens ? this.parseInline(token.tokens) : token.text;
          while (i + 1 < l && tokens[i + 1].type === "text") {
            token = tokens[++i];
            body += "\n" + (token.tokens ? this.parseInline(token.tokens) : token.text);
          }
          out += top ? this.renderer.paragraph(body) : body;
          continue;
        }
        default: {
          const errMsg = 'Token with "' + token.type + '" type was not found.';
          if (this.options.silent) {
            console.error(errMsg);
            return;
          } else {
            throw new Error(errMsg);
          }
        }
      }
    }
    return out;
  }
  parseInline(tokens, renderer) {
    renderer = renderer || this.renderer;
    let out = "", i, token, ret;
    const l = tokens.length;
    for (i = 0; i < l; i++) {
      token = tokens[i];
      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {
        ret = this.options.extensions.renderers[token.type].call({ parser: this }, token);
        if (ret !== false || !["escape", "html", "link", "image", "strong", "em", "codespan", "br", "del", "text"].includes(token.type)) {
          out += ret || "";
          continue;
        }
      }
      switch (token.type) {
        case "escape": {
          out += renderer.text(token.text);
          break;
        }
        case "html": {
          out += renderer.html(token.text);
          break;
        }
        case "link": {
          out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));
          break;
        }
        case "image": {
          out += renderer.image(token.href, token.title, token.text);
          break;
        }
        case "strong": {
          out += renderer.strong(this.parseInline(token.tokens, renderer));
          break;
        }
        case "em": {
          out += renderer.em(this.parseInline(token.tokens, renderer));
          break;
        }
        case "codespan": {
          out += renderer.codespan(token.text);
          break;
        }
        case "br": {
          out += renderer.br();
          break;
        }
        case "del": {
          out += renderer.del(this.parseInline(token.tokens, renderer));
          break;
        }
        case "text": {
          out += renderer.text(token.text);
          break;
        }
        default: {
          const errMsg = 'Token with "' + token.type + '" type was not found.';
          if (this.options.silent) {
            console.error(errMsg);
            return;
          } else {
            throw new Error(errMsg);
          }
        }
      }
    }
    return out;
  }
};
function marked(src, opt, callback) {
  if (typeof src === "undefined" || src === null) {
    throw new Error("marked(): input parameter is undefined or null");
  }
  if (typeof src !== "string") {
    throw new Error("marked(): input parameter is of type " + Object.prototype.toString.call(src) + ", string expected");
  }
  if (typeof opt === "function") {
    callback = opt;
    opt = null;
  }
  opt = merge({}, marked.defaults, opt || {});
  checkSanitizeDeprecation(opt);
  if (callback) {
    const highlight = opt.highlight;
    let tokens;
    try {
      tokens = Lexer.lex(src, opt);
    } catch (e) {
      return callback(e);
    }
    const done = function(err) {
      let out;
      if (!err) {
        try {
          if (opt.walkTokens) {
            marked.walkTokens(tokens, opt.walkTokens);
          }
          out = Parser.parse(tokens, opt);
        } catch (e) {
          err = e;
        }
      }
      opt.highlight = highlight;
      return err ? callback(err) : callback(null, out);
    };
    if (!highlight || highlight.length < 3) {
      return done();
    }
    delete opt.highlight;
    if (!tokens.length)
      return done();
    let pending = 0;
    marked.walkTokens(tokens, function(token) {
      if (token.type === "code") {
        pending++;
        setTimeout(() => {
          highlight(token.text, token.lang, function(err, code) {
            if (err) {
              return done(err);
            }
            if (code != null && code !== token.text) {
              token.text = code;
              token.escaped = true;
            }
            pending--;
            if (pending === 0) {
              done();
            }
          });
        }, 0);
      }
    });
    if (pending === 0) {
      done();
    }
    return;
  }
  try {
    const tokens = Lexer.lex(src, opt);
    if (opt.walkTokens) {
      marked.walkTokens(tokens, opt.walkTokens);
    }
    return Parser.parse(tokens, opt);
  } catch (e) {
    e.message += "\nPlease report this to https://github.com/markedjs/marked.";
    if (opt.silent) {
      return "<p>An error occurred:</p><pre>" + escape2(e.message + "", true) + "</pre>";
    }
    throw e;
  }
}
marked.options = marked.setOptions = function(opt) {
  merge(marked.defaults, opt);
  changeDefaults(marked.defaults);
  return marked;
};
marked.getDefaults = getDefaults;
marked.defaults = defaults;
marked.use = function(...args) {
  const opts = merge({}, ...args);
  const extensions = marked.defaults.extensions || { renderers: {}, childTokens: {} };
  let hasExtensions;
  args.forEach((pack) => {
    if (pack.extensions) {
      hasExtensions = true;
      pack.extensions.forEach((ext) => {
        if (!ext.name) {
          throw new Error("extension name required");
        }
        if (ext.renderer) {
          const prevRenderer = extensions.renderers ? extensions.renderers[ext.name] : null;
          if (prevRenderer) {
            extensions.renderers[ext.name] = function(...args2) {
              let ret = ext.renderer.apply(this, args2);
              if (ret === false) {
                ret = prevRenderer.apply(this, args2);
              }
              return ret;
            };
          } else {
            extensions.renderers[ext.name] = ext.renderer;
          }
        }
        if (ext.tokenizer) {
          if (!ext.level || ext.level !== "block" && ext.level !== "inline") {
            throw new Error("extension level must be 'block' or 'inline'");
          }
          if (extensions[ext.level]) {
            extensions[ext.level].unshift(ext.tokenizer);
          } else {
            extensions[ext.level] = [ext.tokenizer];
          }
          if (ext.start) {
            if (ext.level === "block") {
              if (extensions.startBlock) {
                extensions.startBlock.push(ext.start);
              } else {
                extensions.startBlock = [ext.start];
              }
            } else if (ext.level === "inline") {
              if (extensions.startInline) {
                extensions.startInline.push(ext.start);
              } else {
                extensions.startInline = [ext.start];
              }
            }
          }
        }
        if (ext.childTokens) {
          extensions.childTokens[ext.name] = ext.childTokens;
        }
      });
    }
    if (pack.renderer) {
      const renderer = marked.defaults.renderer || new Renderer();
      for (const prop in pack.renderer) {
        const prevRenderer = renderer[prop];
        renderer[prop] = (...args2) => {
          let ret = pack.renderer[prop].apply(renderer, args2);
          if (ret === false) {
            ret = prevRenderer.apply(renderer, args2);
          }
          return ret;
        };
      }
      opts.renderer = renderer;
    }
    if (pack.tokenizer) {
      const tokenizer = marked.defaults.tokenizer || new Tokenizer();
      for (const prop in pack.tokenizer) {
        const prevTokenizer = tokenizer[prop];
        tokenizer[prop] = (...args2) => {
          let ret = pack.tokenizer[prop].apply(tokenizer, args2);
          if (ret === false) {
            ret = prevTokenizer.apply(tokenizer, args2);
          }
          return ret;
        };
      }
      opts.tokenizer = tokenizer;
    }
    if (pack.walkTokens) {
      const walkTokens2 = marked.defaults.walkTokens;
      opts.walkTokens = function(token) {
        pack.walkTokens.call(this, token);
        if (walkTokens2) {
          walkTokens2.call(this, token);
        }
      };
    }
    if (hasExtensions) {
      opts.extensions = extensions;
    }
    marked.setOptions(opts);
  });
};
marked.walkTokens = function(tokens, callback) {
  for (const token of tokens) {
    callback.call(marked, token);
    switch (token.type) {
      case "table": {
        for (const cell of token.header) {
          marked.walkTokens(cell.tokens, callback);
        }
        for (const row of token.rows) {
          for (const cell of row) {
            marked.walkTokens(cell.tokens, callback);
          }
        }
        break;
      }
      case "list": {
        marked.walkTokens(token.items, callback);
        break;
      }
      default: {
        if (marked.defaults.extensions && marked.defaults.extensions.childTokens && marked.defaults.extensions.childTokens[token.type]) {
          marked.defaults.extensions.childTokens[token.type].forEach(function(childTokens) {
            marked.walkTokens(token[childTokens], callback);
          });
        } else if (token.tokens) {
          marked.walkTokens(token.tokens, callback);
        }
      }
    }
  }
};
marked.parseInline = function(src, opt) {
  if (typeof src === "undefined" || src === null) {
    throw new Error("marked.parseInline(): input parameter is undefined or null");
  }
  if (typeof src !== "string") {
    throw new Error("marked.parseInline(): input parameter is of type " + Object.prototype.toString.call(src) + ", string expected");
  }
  opt = merge({}, marked.defaults, opt || {});
  checkSanitizeDeprecation(opt);
  try {
    const tokens = Lexer.lexInline(src, opt);
    if (opt.walkTokens) {
      marked.walkTokens(tokens, opt.walkTokens);
    }
    return Parser.parseInline(tokens, opt);
  } catch (e) {
    e.message += "\nPlease report this to https://github.com/markedjs/marked.";
    if (opt.silent) {
      return "<p>An error occurred:</p><pre>" + escape2(e.message + "", true) + "</pre>";
    }
    throw e;
  }
};
marked.Parser = Parser;
marked.parser = Parser.parse;
marked.Renderer = Renderer;
marked.TextRenderer = TextRenderer;
marked.Lexer = Lexer;
marked.lexer = Lexer.lex;
marked.Tokenizer = Tokenizer;
marked.Slugger = Slugger;
marked.parse = marked;
var options = marked.options;
var setOptions = marked.setOptions;
var use = marked.use;
var walkTokens = marked.walkTokens;
var parseInline = marked.parseInline;
var parser = Parser.parse;
var lexer = Lexer.lex;

// src/wp-xml-rpc-client.ts
var WpXmlRpcClient = class {
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
    const url = new URL(plugin.settings.endpoint);
    if (url.protocol === "https:") {
      this.client = (0, import_xmlrpc.createSecureClient)({
        host: url.hostname,
        port: 443,
        path: `${url.pathname}xmlrpc.php`
      });
    } else {
      this.client = (0, import_xmlrpc.createClient)({
        host: url.hostname,
        port: 80,
        path: `${url.pathname}xmlrpc.php`
      });
    }
  }
  newPost() {
    return new Promise((resolve, reject) => {
      const { workspace } = this.app;
      const activeView = workspace.getActiveViewOfType(import_obsidian3.MarkdownView);
      if (activeView) {
        new WpLoginModal(this.app, this.plugin, (userName, password, modal) => {
          this.app.vault.read(activeView.file).then((content) => {
            var _a;
            const title = activeView.file.basename;
            this.client.methodCall("wp.newPost", [
              0,
              userName,
              password,
              {
                post_type: "post",
                post_status: "draft",
                post_title: title != null ? title : "A post from Obsidian!",
                post_content: (_a = marked.parse(content)) != null ? _a : ""
              }
            ], (error, value) => {
              console.log("Method response for 'wp.newPost': ", value, error);
              if (error) {
                new import_obsidian3.Notice(`[Error] ${error.message}`);
                reject(error);
              } else {
                new import_obsidian3.Notice("Post published successfully!");
                modal.close();
                resolve({
                  code: WordPressClientReturnCode.OK,
                  data: value
                });
              }
            });
          }).catch((error) => {
            console.log("Reading file content for 'wp.newPost' failed: ", error);
          });
        }).open();
      } else {
        const error = "There is no editor found. Nothing will be published.";
        console.warn(error);
        reject(new Error(error));
      }
    });
  }
};
var WpLoginModal = class extends import_obsidian3.Modal {
  constructor(app, plugin, onSubmit) {
    super(app);
    this.plugin = plugin;
    this.onSubmit = onSubmit;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h1", { text: "WordPress Login" });
    let password = "";
    new import_obsidian3.Setting(contentEl).setName("User Name").setDesc(`User name for ${this.plugin.settings.endpoint}`).addText((text) => {
      var _a;
      return text.setValue((_a = this.plugin.settings.userName) != null ? _a : "").onChange((value) => __async(this, null, function* () {
        if (this.plugin.settings.saveUserName) {
          this.plugin.settings.userName = value;
          yield this.plugin.saveSettings();
        }
      }));
    });
    new import_obsidian3.Setting(contentEl).setName("Password").addText((text) => text.onChange((value) => __async(this, null, function* () {
      password = value;
    })));
    new import_obsidian3.Setting(contentEl).addButton((button) => button.setButtonText("Publish").setClass("mod-cta").onClick(() => {
      this.onSubmit(this.plugin.settings.userName, password, this);
    }));
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/wp-rest-jetpack-client.ts
var import_obsidian4 = __toModule(require("obsidian"));
var import_wpapi = __toModule(require_wpapi());
var WpRestJetpackClient = class {
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
    const url = new URL(plugin.settings.endpoint);
    console.log(url);
  }
  newPost() {
    return new Promise((resolve, reject) => {
      const { workspace } = this.app;
      const activeView = workspace.getActiveViewOfType(import_obsidian4.MarkdownView);
      if (activeView) {
        const endpoint = "https://public-api.wordpress.com/rest/v1/sites/devbean.great-site.net/posts/";
        const wp = new import_wpapi.default({ endpoint });
        wp.posts().then(function(data) {
          console.log(data);
        }).catch(function(err) {
          console.log(err);
        });
        resolve({
          code: WordPressClientReturnCode.OK,
          data: ""
        });
      } else {
        const error = "There is no editor found. Nothing will be published.";
        console.warn(error);
        reject(new Error(error));
      }
    });
  }
};

// src/wp-rest-oauth2-client.ts
var import_obsidian5 = __toModule(require("obsidian"));
var WpRestOAuth2Client = class {
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
    const url = new URL(plugin.settings.endpoint);
    console.log(url);
  }
  newPost() {
    return new Promise((resolve, reject) => {
      const { workspace } = this.app;
      const activeView = workspace.getActiveViewOfType(import_obsidian5.MarkdownView);
      if (activeView) {
        resolve({
          code: WordPressClientReturnCode.OK,
          data: ""
        });
      } else {
        const error = "There is no editor found. Nothing will be published.";
        console.warn(error);
        reject(new Error(error));
      }
    });
  }
};

// src/wp-client.ts
var WordPressClientReturnCode;
(function(WordPressClientReturnCode2) {
  WordPressClientReturnCode2[WordPressClientReturnCode2["OK"] = 0] = "OK";
  WordPressClientReturnCode2[WordPressClientReturnCode2["Error"] = 1] = "Error";
})(WordPressClientReturnCode || (WordPressClientReturnCode = {}));
function createWordPressClient(app, plugin) {
  const type = plugin.settings.apiType;
  switch (type) {
    case ApiType.XML_RPC:
      return new WpXmlRpcClient(app, plugin);
    case ApiType.RestAPI_Jetpack:
      return new WpRestJetpackClient(app, plugin);
    case ApiType.RestAPI_OAuth2:
      return new WpRestOAuth2Client(app, plugin);
    default:
      new import_obsidian6.Notice("No approved WordPress API.\nPlease check it in settings.");
      return null;
  }
}

// src/wp-publish-view.ts
var WordPressPublishViewType = "wp-publish-options";
var WordPressPublishView = class extends import_obsidian7.ItemView {
  constructor(leaf, plugin) {
    super(leaf);
    this.plugin = plugin;
  }
  getDisplayText() {
    return "WordPress Publish";
  }
  getViewType() {
    return WordPressPublishViewType;
  }
  getIcon() {
    return "wp-logo";
  }
  load() {
    super.load();
    this.draw();
  }
  draw() {
    const actionButtonsControlDiv = this.contentEl.createEl("div");
    new import_obsidian7.ButtonComponent(actionButtonsControlDiv).setButtonText("Publish").setClass("mod-cta").onClick(() => {
      const client = createWordPressClient(this.app, this.plugin);
      if (client) {
        client.newPost().then();
      }
    });
  }
};

// src/main.ts
var WordpressPlugin = class extends import_obsidian8.Plugin {
  onload() {
    return __async(this, null, function* () {
      console.log("loading obsidian-wordpress plugin");
      yield this.loadSettings();
      this.registerView(WordPressPublishViewType, (leaf) => new WordPressPublishView(leaf, this));
      addIcons();
      if (this.settings.showRibbonIcon) {
        this.addRibbonIcon("wp-logo", "WordPress Publish", () => {
          this.toggleWordPressPublishView();
        });
      }
      this.addCommand({
        id: "publish",
        name: "Publish current document",
        editorCallback: (editor, view) => {
          const client = createWordPressClient(this.app, this);
          if (client) {
            client.newPost().then();
          }
        }
      });
      this.addSettingTab(new WordpressSettingTab(this.app, this));
    });
  }
  onunload() {
  }
  loadSettings() {
    return __async(this, null, function* () {
      this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
    });
  }
  saveSettings() {
    return __async(this, null, function* () {
      yield this.saveData(this.settings);
    });
  }
  toggleWordPressPublishView() {
    return __async(this, null, function* () {
      const existing = this.app.workspace.getLeavesOfType(WordPressPublishViewType);
      if (existing.length) {
        this.app.workspace.revealLeaf(existing[0]);
        return;
      }
      yield this.app.workspace.getRightLeaf(false).setViewState({
        type: WordPressPublishViewType,
        active: true
      });
      this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(WordPressPublishViewType)[0]);
    });
  }
};
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */
/**
 * A WP REST API client for Node.js
 *
 * @example
 *     var wp = new WPAPI({ endpoint: 'http://src.wordpress-develop.dev/wp-json' });
 *     wp.posts().then(function( posts ) {
 *         console.log( posts );
 *     }).catch(function( err ) {
 *         console.error( err );
 *     });
 *
 * @license MIT
 })
 */
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1V0aWxpdHkuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTEF0dHJpYnV0ZS5qcyIsICJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MRWxlbWVudC5qcyIsICJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MQ0RhdGEuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTENvbW1lbnQuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTERlY2xhcmF0aW9uLmpzIiwgIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxEVERBdHRMaXN0LmpzIiwgIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxEVERFbnRpdHkuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTERUREVsZW1lbnQuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTERURE5vdGF0aW9uLmpzIiwgIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxEb2NUeXBlLmpzIiwgIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxSYXcuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTFRleHQuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbi5qcyIsICJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MTm9kZS5qcyIsICJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MU3RyaW5naWZpZXIuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTFdyaXRlckJhc2UuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTFN0cmluZ1dyaXRlci5qcyIsICJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MRG9jdW1lbnQuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTERvY3VtZW50Q0IuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTFN0cmVhbVdyaXRlci5qcyIsICJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL3htbHJwYy9saWIvZGF0ZV9mb3JtYXR0ZXIuanMiLCAibm9kZV9tb2R1bGVzL3htbHJwYy9saWIvY3VzdG9tdHlwZS5qcyIsICJub2RlX21vZHVsZXMveG1scnBjL2xpYi9zZXJpYWxpemVyLmpzIiwgIm5vZGVfbW9kdWxlcy9zYXgvbGliL3NheC5qcyIsICJub2RlX21vZHVsZXMveG1scnBjL2xpYi9kZXNlcmlhbGl6ZXIuanMiLCAibm9kZV9tb2R1bGVzL3htbHJwYy9saWIvY29va2llcy5qcyIsICJub2RlX21vZHVsZXMveG1scnBjL2xpYi9jbGllbnQuanMiLCAibm9kZV9tb2R1bGVzL3htbHJwYy9saWIvc2VydmVyLmpzIiwgIm5vZGVfbW9kdWxlcy94bWxycGMvbGliL3htbHJwYy5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL3V0aWwvb2JqZWN0LXJlZHVjZS5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL3V0aWwvbmFtZWQtZ3JvdXAtcmVnZXhwLmpzIiwgIm5vZGVfbW9kdWxlcy93cGFwaS9saWIvdXRpbC9zcGxpdC1wYXRoLmpzIiwgIm5vZGVfbW9kdWxlcy93cGFwaS9saWIvdXRpbC9lbnN1cmUuanMiLCAibm9kZV9tb2R1bGVzL3dwYXBpL2xpYi9yb3V0ZS10cmVlLmpzIiwgIm5vZGVfbW9kdWxlcy93cGFwaS9saWIvcGF0aC1wYXJ0LXNldHRlci5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL3Jlc291cmNlLWhhbmRsZXItc3BlYy5qcyIsICJub2RlX21vZHVsZXMvaGFzLXN5bWJvbHMvc2hhbXMuanMiLCAibm9kZV9tb2R1bGVzL2hhcy1zeW1ib2xzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9mdW5jdGlvbi1iaW5kL2ltcGxlbWVudGF0aW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9mdW5jdGlvbi1iaW5kL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9oYXMvc3JjL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9nZXQtaW50cmluc2ljL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jYWxsLWJpbmQvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NhbGwtYmluZC9jYWxsQm91bmQuanMiLCAibm9kZV9tb2R1bGVzL29iamVjdC1pbnNwZWN0L3V0aWwuaW5zcGVjdCIsICJub2RlX21vZHVsZXMvb2JqZWN0LWluc3BlY3QvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL3NpZGUtY2hhbm5lbC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvcXMvbGliL2Zvcm1hdHMuanMiLCAibm9kZV9tb2R1bGVzL3FzL2xpYi91dGlscy5qcyIsICJub2RlX21vZHVsZXMvcXMvbGliL3N0cmluZ2lmeS5qcyIsICJub2RlX21vZHVsZXMvcXMvbGliL3BhcnNlLmpzIiwgIm5vZGVfbW9kdWxlcy9xcy9saWIvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL3dwYXBpL2xpYi91dGlsL2FscGhhbnVtZXJpYy1zb3J0LmpzIiwgIm5vZGVfbW9kdWxlcy93cGFwaS9saWIvdXRpbC9rZXktdmFsLXRvLW9iai5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL3V0aWwvcGFyYW1ldGVyLXNldHRlci5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL3V0aWwvdW5pcXVlLmpzIiwgIm5vZGVfbW9kdWxlcy93cGFwaS9saWIvY29uc3RydWN0b3JzL3dwLXJlcXVlc3QuanMiLCAibm9kZV9tb2R1bGVzL3dwYXBpL2xpYi9taXhpbnMvZmlsdGVycy5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL3V0aWwvYXJndW1lbnQtaXMtbnVtZXJpYy5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL21peGlucy9wYXJhbWV0ZXJzLmpzIiwgIm5vZGVfbW9kdWxlcy93cGFwaS9saWIvbWl4aW5zL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy93cGFwaS9saWIvdXRpbC9hcHBseS1taXhpbi5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL2VuZHBvaW50LXJlcXVlc3QuanMiLCAibm9kZV9tb2R1bGVzL3dwYXBpL2xpYi9lbmRwb2ludC1mYWN0b3JpZXMuanMiLCAibm9kZV9tb2R1bGVzL2xpL2xpYi9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL2F1dG9kaXNjb3ZlcnkuanMiLCAibm9kZV9tb2R1bGVzL2NvbXBvbmVudC1lbWl0dGVyL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9zdXBlcmFnZW50L2xpYi9pcy1vYmplY3QuanMiLCAibm9kZV9tb2R1bGVzL3N1cGVyYWdlbnQvbGliL3JlcXVlc3QtYmFzZS5qcyIsICJub2RlX21vZHVsZXMvc3VwZXJhZ2VudC9saWIvdXRpbHMuanMiLCAibm9kZV9tb2R1bGVzL3N1cGVyYWdlbnQvbGliL3Jlc3BvbnNlLWJhc2UuanMiLCAibm9kZV9tb2R1bGVzL3N1cGVyYWdlbnQvbGliL2FnZW50LWJhc2UuanMiLCAibm9kZV9tb2R1bGVzL3N1cGVyYWdlbnQvbGliL2NsaWVudC5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL3V0aWwvY2hlY2stbWV0aG9kLXN1cHBvcnQuanMiLCAibm9kZV9tb2R1bGVzL3dwYXBpL2xpYi91dGlsL2lzLWVtcHR5LW9iamVjdC5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL2h0dHAtdHJhbnNwb3J0LmpzIiwgIm5vZGVfbW9kdWxlcy93cGFwaS9saWIvd3AtcmVnaXN0ZXItcm91dGUuanMiLCAibm9kZV9tb2R1bGVzL3dwYXBpL3dwYXBpLmpzIiwgInNyYy9tYWluLnRzIiwgInNyYy9zZXR0aW5ncy50cyIsICJzcmMvaWNvbnMudHMiLCAic3JjL3dwLXB1Ymxpc2gtdmlldy50cyIsICJzcmMvd3AtY2xpZW50LnRzIiwgInNyYy93cC14bWwtcnBjLWNsaWVudC50cyIsICJub2RlX21vZHVsZXMvbWFya2VkL2xpYi9tYXJrZWQuZXNtLmpzIiwgInNyYy93cC1yZXN0LWpldHBhY2stY2xpZW50LnRzIiwgInNyYy93cC1yZXN0LW9hdXRoMi1jbGllbnQudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBhc3NpZ24sIGNhbWVsQ2FzZSwgY2FwaXRhbGl6ZSwgaXNBcnJheSwgaXNFbXB0eSwgaXNGdW5jdGlvbiwgaXNPYmplY3QsIGlzUGxhaW5PYmplY3QsIGtlYmFiQ2FzZSwgc25ha2VDYXNlLCB0aXRsZUNhc2UsIHdvcmRzLFxuICAgIHNsaWNlID0gW10uc2xpY2UsXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIGFzc2lnbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpLCBrZXksIGxlbiwgc291cmNlLCBzb3VyY2VzLCB0YXJnZXQ7XG4gICAgdGFyZ2V0ID0gYXJndW1lbnRzWzBdLCBzb3VyY2VzID0gMiA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpIDogW107XG4gICAgaWYgKGlzRnVuY3Rpb24oT2JqZWN0LmFzc2lnbikpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gMCwgbGVuID0gc291cmNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzb3VyY2UgPSBzb3VyY2VzW2ldO1xuICAgICAgICBpZiAoc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmICghaGFzUHJvcC5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIGlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWwpIHtcbiAgICByZXR1cm4gISF2YWwgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG4gIH07XG5cbiAgaXNPYmplY3QgPSBmdW5jdGlvbih2YWwpIHtcbiAgICB2YXIgcmVmO1xuICAgIHJldHVybiAhIXZhbCAmJiAoKHJlZiA9IHR5cGVvZiB2YWwpID09PSAnZnVuY3Rpb24nIHx8IHJlZiA9PT0gJ29iamVjdCcpO1xuICB9O1xuXG4gIGlzQXJyYXkgPSBmdW5jdGlvbih2YWwpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihBcnJheS5pc0FycmF5KSkge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH1cbiAgfTtcblxuICBpc0VtcHR5ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgdmFyIGtleTtcbiAgICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICByZXR1cm4gIXZhbC5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoa2V5IGluIHZhbCkge1xuICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbCh2YWwsIGtleSkpIGNvbnRpbnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgaXNQbGFpbk9iamVjdCA9IGZ1bmN0aW9uKHZhbCkge1xuICAgIHZhciBjdG9yLCBwcm90bztcbiAgICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiAocHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsKSkgJiYgKGN0b3IgPSBwcm90by5jb25zdHJ1Y3RvcikgJiYgKHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nKSAmJiAoY3RvciBpbnN0YW5jZW9mIGN0b3IpICYmIChGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjdG9yKSA9PT0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoT2JqZWN0KSk7XG4gIH07XG5cbiAgd29yZHMgPSBmdW5jdGlvbih2YWwpIHtcbiAgICByZXR1cm4gKHZhbC5zcGxpdCgvWy1fXFxzXSt8KD89W0EtWl1bYS16XSkvKSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uKG4pIHtcbiAgICAgIHJldHVybiAhIW47XG4gICAgfSk7XG4gIH07XG5cbiAgY2FtZWxDYXNlID0gZnVuY3Rpb24odmFsKSB7XG4gICAgdmFyIGksIGluZGV4LCBsZW4sIHIsIHJlZiwgd29yZDtcbiAgICByID0gJyc7XG4gICAgcmVmID0gd29yZHModmFsKTtcbiAgICBmb3IgKGluZGV4ID0gaSA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGkgPCBsZW47IGluZGV4ID0gKytpKSB7XG4gICAgICB3b3JkID0gcmVmW2luZGV4XTtcbiAgICAgIHIgKz0gaW5kZXggPyBjYXBpdGFsaXplKHdvcmQudG9Mb3dlckNhc2UoKSkgOiB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9O1xuXG4gIHRpdGxlQ2FzZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgIHZhciBpLCBpbmRleCwgbGVuLCByLCByZWYsIHdvcmQ7XG4gICAgciA9ICcnO1xuICAgIHJlZiA9IHdvcmRzKHZhbCk7XG4gICAgZm9yIChpbmRleCA9IGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpbmRleCA9ICsraSkge1xuICAgICAgd29yZCA9IHJlZltpbmRleF07XG4gICAgICByICs9IGNhcGl0YWxpemUod29yZC50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH07XG5cbiAga2ViYWJDYXNlID0gZnVuY3Rpb24odmFsKSB7XG4gICAgdmFyIGksIGluZGV4LCBsZW4sIHIsIHJlZiwgd29yZDtcbiAgICByID0gJyc7XG4gICAgcmVmID0gd29yZHModmFsKTtcbiAgICBmb3IgKGluZGV4ID0gaSA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGkgPCBsZW47IGluZGV4ID0gKytpKSB7XG4gICAgICB3b3JkID0gcmVmW2luZGV4XTtcbiAgICAgIHIgKz0gKGluZGV4ID8gJy0nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfTtcblxuICBzbmFrZUNhc2UgPSBmdW5jdGlvbih2YWwpIHtcbiAgICB2YXIgaSwgaW5kZXgsIGxlbiwgciwgcmVmLCB3b3JkO1xuICAgIHIgPSAnJztcbiAgICByZWYgPSB3b3Jkcyh2YWwpO1xuICAgIGZvciAoaW5kZXggPSBpID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaSA8IGxlbjsgaW5kZXggPSArK2kpIHtcbiAgICAgIHdvcmQgPSByZWZbaW5kZXhdO1xuICAgICAgciArPSAoaW5kZXggPyAnXycgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9O1xuXG4gIGNhcGl0YWxpemUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICByZXR1cm4gdmFsLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdmFsLnNsaWNlKDEpO1xuICB9O1xuXG4gIG1vZHVsZS5leHBvcnRzLmFzc2lnbiA9IGFzc2lnbjtcblxuICBtb2R1bGUuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblxuICBtb2R1bGUuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG4gIG1vZHVsZS5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXG4gIG1vZHVsZS5leHBvcnRzLmlzRW1wdHkgPSBpc0VtcHR5O1xuXG4gIG1vZHVsZS5leHBvcnRzLmlzUGxhaW5PYmplY3QgPSBpc1BsYWluT2JqZWN0O1xuXG4gIG1vZHVsZS5leHBvcnRzLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcblxuICBtb2R1bGUuZXhwb3J0cy50aXRsZUNhc2UgPSB0aXRsZUNhc2U7XG5cbiAgbW9kdWxlLmV4cG9ydHMua2ViYWJDYXNlID0ga2ViYWJDYXNlO1xuXG4gIG1vZHVsZS5leHBvcnRzLnNuYWtlQ2FzZSA9IHNuYWtlQ2FzZTtcblxuICBtb2R1bGUuZXhwb3J0cy5jYXBpdGFsaXplID0gY2FwaXRhbGl6ZTtcblxuICBtb2R1bGUuZXhwb3J0cy53b3JkcyA9IHdvcmRzO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxBdHRyaWJ1dGU7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxBdHRyaWJ1dGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gWE1MQXR0cmlidXRlKHBhcmVudCwgbmFtZSwgdmFsdWUpIHtcbiAgICAgIHRoaXMub3B0aW9ucyA9IHBhcmVudC5vcHRpb25zO1xuICAgICAgdGhpcy5zdHJpbmdpZnkgPSBwYXJlbnQuc3RyaW5naWZ5O1xuICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGF0dHJpYnV0ZSBuYW1lIG9mIGVsZW1lbnQgXCIgKyBwYXJlbnQubmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGF0dHJpYnV0ZSB2YWx1ZSBmb3IgYXR0cmlidXRlIFwiICsgbmFtZSArIFwiIG9mIGVsZW1lbnQgXCIgKyBwYXJlbnQubmFtZSk7XG4gICAgICB9XG4gICAgICB0aGlzLm5hbWUgPSB0aGlzLnN0cmluZ2lmeS5hdHROYW1lKG5hbWUpO1xuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuc3RyaW5naWZ5LmF0dFZhbHVlKHZhbHVlKTtcbiAgICB9XG5cbiAgICBYTUxBdHRyaWJ1dGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcbiAgICB9O1xuXG4gICAgWE1MQXR0cmlidXRlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnNldChvcHRpb25zKS5hdHRyaWJ1dGUodGhpcyk7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxBdHRyaWJ1dGU7XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MQXR0cmlidXRlLCBYTUxFbGVtZW50LCBYTUxOb2RlLCBpc0Z1bmN0aW9uLCBpc09iamVjdCwgcmVmLFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgcmVmID0gcmVxdWlyZSgnLi9VdGlsaXR5JyksIGlzT2JqZWN0ID0gcmVmLmlzT2JqZWN0LCBpc0Z1bmN0aW9uID0gcmVmLmlzRnVuY3Rpb247XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIFhNTEF0dHJpYnV0ZSA9IHJlcXVpcmUoJy4vWE1MQXR0cmlidXRlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxFbGVtZW50ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoWE1MRWxlbWVudCwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxFbGVtZW50KHBhcmVudCwgbmFtZSwgYXR0cmlidXRlcykge1xuICAgICAgWE1MRWxlbWVudC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGVsZW1lbnQgbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubmFtZSA9IHRoaXMuc3RyaW5naWZ5LmVsZU5hbWUobmFtZSk7XG4gICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgIGlmIChhdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGUoYXR0cmlidXRlcyk7XG4gICAgICB9XG4gICAgICBpZiAocGFyZW50LmlzRG9jdW1lbnQpIHtcbiAgICAgICAgdGhpcy5pc1Jvb3QgPSB0cnVlO1xuICAgICAgICB0aGlzLmRvY3VtZW50T2JqZWN0ID0gcGFyZW50O1xuICAgICAgICBwYXJlbnQucm9vdE9iamVjdCA9IHRoaXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgWE1MRWxlbWVudC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhdHQsIGF0dE5hbWUsIGNsb25lZFNlbGYsIHJlZjE7XG4gICAgICBjbG9uZWRTZWxmID0gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcbiAgICAgIGlmIChjbG9uZWRTZWxmLmlzUm9vdCkge1xuICAgICAgICBjbG9uZWRTZWxmLmRvY3VtZW50T2JqZWN0ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNsb25lZFNlbGYuYXR0cmlidXRlcyA9IHt9O1xuICAgICAgcmVmMSA9IHRoaXMuYXR0cmlidXRlcztcbiAgICAgIGZvciAoYXR0TmFtZSBpbiByZWYxKSB7XG4gICAgICAgIGlmICghaGFzUHJvcC5jYWxsKHJlZjEsIGF0dE5hbWUpKSBjb250aW51ZTtcbiAgICAgICAgYXR0ID0gcmVmMVthdHROYW1lXTtcbiAgICAgICAgY2xvbmVkU2VsZi5hdHRyaWJ1dGVzW2F0dE5hbWVdID0gYXR0LmNsb25lKCk7XG4gICAgICB9XG4gICAgICBjbG9uZWRTZWxmLmNoaWxkcmVuID0gW107XG4gICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgdmFyIGNsb25lZENoaWxkO1xuICAgICAgICBjbG9uZWRDaGlsZCA9IGNoaWxkLmNsb25lKCk7XG4gICAgICAgIGNsb25lZENoaWxkLnBhcmVudCA9IGNsb25lZFNlbGY7XG4gICAgICAgIHJldHVybiBjbG9uZWRTZWxmLmNoaWxkcmVuLnB1c2goY2xvbmVkQ2hpbGQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gY2xvbmVkU2VsZjtcbiAgICB9O1xuXG4gICAgWE1MRWxlbWVudC5wcm90b3R5cGUuYXR0cmlidXRlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHZhciBhdHROYW1lLCBhdHRWYWx1ZTtcbiAgICAgIGlmIChuYW1lICE9IG51bGwpIHtcbiAgICAgICAgbmFtZSA9IG5hbWUudmFsdWVPZigpO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XG4gICAgICAgIGZvciAoYXR0TmFtZSBpbiBuYW1lKSB7XG4gICAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwobmFtZSwgYXR0TmFtZSkpIGNvbnRpbnVlO1xuICAgICAgICAgIGF0dFZhbHVlID0gbmFtZVthdHROYW1lXTtcbiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZShhdHROYW1lLCBhdHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUuYXBwbHkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5za2lwTnVsbEF0dHJpYnV0ZXMgfHwgKHZhbHVlICE9IG51bGwpKSB7XG4gICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzW25hbWVdID0gbmV3IFhNTEF0dHJpYnV0ZSh0aGlzLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGUgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXIgYXR0TmFtZSwgaSwgbGVuO1xuICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGF0dHJpYnV0ZSBuYW1lXCIpO1xuICAgICAgfVxuICAgICAgbmFtZSA9IG5hbWUudmFsdWVPZigpO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZSkpIHtcbiAgICAgICAgZm9yIChpID0gMCwgbGVuID0gbmFtZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGF0dE5hbWUgPSBuYW1lW2ldO1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbYXR0TmFtZV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbbmFtZV07XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRWxlbWVudC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLndyaXRlci5zZXQob3B0aW9ucykuZWxlbWVudCh0aGlzKTtcbiAgICB9O1xuXG4gICAgWE1MRWxlbWVudC5wcm90b3R5cGUuYXR0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTEVsZW1lbnQucHJvdG90eXBlLmEgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTEVsZW1lbnQ7XG5cbiAgfSkoWE1MTm9kZSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEwLjBcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTENEYXRhLCBYTUxOb2RlLFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MQ0RhdGEgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxDRGF0YSwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxDRGF0YShwYXJlbnQsIHRleHQpIHtcbiAgICAgIFhNTENEYXRhLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICBpZiAodGV4dCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgQ0RBVEEgdGV4dFwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudGV4dCA9IHRoaXMuc3RyaW5naWZ5LmNkYXRhKHRleHQpO1xuICAgIH1cblxuICAgIFhNTENEYXRhLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5jcmVhdGUodGhpcyk7XG4gICAgfTtcblxuICAgIFhNTENEYXRhLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnNldChvcHRpb25zKS5jZGF0YSh0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTENEYXRhO1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxDb21tZW50LCBYTUxOb2RlLFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MQ29tbWVudCA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTENvbW1lbnQsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gWE1MQ29tbWVudChwYXJlbnQsIHRleHQpIHtcbiAgICAgIFhNTENvbW1lbnQuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyZW50KTtcbiAgICAgIGlmICh0ZXh0ID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBjb21tZW50IHRleHRcIik7XG4gICAgICB9XG4gICAgICB0aGlzLnRleHQgPSB0aGlzLnN0cmluZ2lmeS5jb21tZW50KHRleHQpO1xuICAgIH1cblxuICAgIFhNTENvbW1lbnQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcbiAgICB9O1xuXG4gICAgWE1MQ29tbWVudC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLndyaXRlci5zZXQob3B0aW9ucykuY29tbWVudCh0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTENvbW1lbnQ7XG5cbiAgfSkoWE1MTm9kZSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEwLjBcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTERlY2xhcmF0aW9uLCBYTUxOb2RlLCBpc09iamVjdCxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9VdGlsaXR5JykuaXNPYmplY3Q7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MRGVjbGFyYXRpb24gPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxEZWNsYXJhdGlvbiwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxEZWNsYXJhdGlvbihwYXJlbnQsIHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKSB7XG4gICAgICB2YXIgcmVmO1xuICAgICAgWE1MRGVjbGFyYXRpb24uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyZW50KTtcbiAgICAgIGlmIChpc09iamVjdCh2ZXJzaW9uKSkge1xuICAgICAgICByZWYgPSB2ZXJzaW9uLCB2ZXJzaW9uID0gcmVmLnZlcnNpb24sIGVuY29kaW5nID0gcmVmLmVuY29kaW5nLCBzdGFuZGFsb25lID0gcmVmLnN0YW5kYWxvbmU7XG4gICAgICB9XG4gICAgICBpZiAoIXZlcnNpb24pIHtcbiAgICAgICAgdmVyc2lvbiA9ICcxLjAnO1xuICAgICAgfVxuICAgICAgdGhpcy52ZXJzaW9uID0gdGhpcy5zdHJpbmdpZnkueG1sVmVyc2lvbih2ZXJzaW9uKTtcbiAgICAgIGlmIChlbmNvZGluZyAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuZW5jb2RpbmcgPSB0aGlzLnN0cmluZ2lmeS54bWxFbmNvZGluZyhlbmNvZGluZyk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhbmRhbG9uZSAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3RhbmRhbG9uZSA9IHRoaXMuc3RyaW5naWZ5LnhtbFN0YW5kYWxvbmUoc3RhbmRhbG9uZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgWE1MRGVjbGFyYXRpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuc2V0KG9wdGlvbnMpLmRlY2xhcmF0aW9uKHRoaXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MRGVjbGFyYXRpb247XG5cbiAgfSkoWE1MTm9kZSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEwLjBcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTERUREF0dExpc3QsIFhNTE5vZGUsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxEVERBdHRMaXN0ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoWE1MRFREQXR0TGlzdCwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxEVERBdHRMaXN0KHBhcmVudCwgZWxlbWVudE5hbWUsIGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVR5cGUsIGRlZmF1bHRWYWx1ZVR5cGUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgWE1MRFREQXR0TGlzdC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgaWYgKGVsZW1lbnROYW1lID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBEVEQgZWxlbWVudCBuYW1lXCIpO1xuICAgICAgfVxuICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIERURCBhdHRyaWJ1dGUgbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghYXR0cmlidXRlVHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIERURCBhdHRyaWJ1dGUgdHlwZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghZGVmYXVsdFZhbHVlVHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIERURCBhdHRyaWJ1dGUgZGVmYXVsdFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChkZWZhdWx0VmFsdWVUeXBlLmluZGV4T2YoJyMnKSAhPT0gMCkge1xuICAgICAgICBkZWZhdWx0VmFsdWVUeXBlID0gJyMnICsgZGVmYXVsdFZhbHVlVHlwZTtcbiAgICAgIH1cbiAgICAgIGlmICghZGVmYXVsdFZhbHVlVHlwZS5tYXRjaCgvXigjUkVRVUlSRUR8I0lNUExJRUR8I0ZJWEVEfCNERUZBVUxUKSQvKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRlZmF1bHQgdmFsdWUgdHlwZTsgZXhwZWN0ZWQ6ICNSRVFVSVJFRCwgI0lNUExJRUQsICNGSVhFRCBvciAjREVGQVVMVFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChkZWZhdWx0VmFsdWUgJiYgIWRlZmF1bHRWYWx1ZVR5cGUubWF0Y2goL14oI0ZJWEVEfCNERUZBVUxUKSQvKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEZWZhdWx0IHZhbHVlIG9ubHkgYXBwbGllcyB0byAjRklYRUQgb3IgI0RFRkFVTFRcIik7XG4gICAgICB9XG4gICAgICB0aGlzLmVsZW1lbnROYW1lID0gdGhpcy5zdHJpbmdpZnkuZWxlTmFtZShlbGVtZW50TmFtZSk7XG4gICAgICB0aGlzLmF0dHJpYnV0ZU5hbWUgPSB0aGlzLnN0cmluZ2lmeS5hdHROYW1lKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgdGhpcy5hdHRyaWJ1dGVUeXBlID0gdGhpcy5zdHJpbmdpZnkuZHRkQXR0VHlwZShhdHRyaWJ1dGVUeXBlKTtcbiAgICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gdGhpcy5zdHJpbmdpZnkuZHRkQXR0RGVmYXVsdChkZWZhdWx0VmFsdWUpO1xuICAgICAgdGhpcy5kZWZhdWx0VmFsdWVUeXBlID0gZGVmYXVsdFZhbHVlVHlwZTtcbiAgICB9XG5cbiAgICBYTUxEVERBdHRMaXN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnNldChvcHRpb25zKS5kdGRBdHRMaXN0KHRoaXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MRFREQXR0TGlzdDtcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MRFRERW50aXR5LCBYTUxOb2RlLCBpc09iamVjdCxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9VdGlsaXR5JykuaXNPYmplY3Q7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MRFRERW50aXR5ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoWE1MRFRERW50aXR5LCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTERUREVudGl0eShwYXJlbnQsIHBlLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgWE1MRFRERW50aXR5Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICBpZiAobmFtZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgZW50aXR5IG5hbWVcIik7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGVudGl0eSB2YWx1ZVwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGUgPSAhIXBlO1xuICAgICAgdGhpcy5uYW1lID0gdGhpcy5zdHJpbmdpZnkuZWxlTmFtZShuYW1lKTtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnN0cmluZ2lmeS5kdGRFbnRpdHlWYWx1ZSh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXZhbHVlLnB1YklEICYmICF2YWx1ZS5zeXNJRCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlB1YmxpYyBhbmQvb3Igc3lzdGVtIGlkZW50aWZpZXJzIGFyZSByZXF1aXJlZCBmb3IgYW4gZXh0ZXJuYWwgZW50aXR5XCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZS5wdWJJRCAmJiAhdmFsdWUuc3lzSUQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTeXN0ZW0gaWRlbnRpZmllciBpcyByZXF1aXJlZCBmb3IgYSBwdWJsaWMgZXh0ZXJuYWwgZW50aXR5XCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZS5wdWJJRCAhPSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5wdWJJRCA9IHRoaXMuc3RyaW5naWZ5LmR0ZFB1YklEKHZhbHVlLnB1YklEKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUuc3lzSUQgIT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuc3lzSUQgPSB0aGlzLnN0cmluZ2lmeS5kdGRTeXNJRCh2YWx1ZS5zeXNJRCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlLm5EYXRhICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLm5EYXRhID0gdGhpcy5zdHJpbmdpZnkuZHRkTkRhdGEodmFsdWUubkRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBlICYmIHRoaXMubkRhdGEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3RhdGlvbiBkZWNsYXJhdGlvbiBpcyBub3QgYWxsb3dlZCBpbiBhIHBhcmFtZXRlciBlbnRpdHlcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBYTUxEVERFbnRpdHkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuc2V0KG9wdGlvbnMpLmR0ZEVudGl0eSh0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTERUREVudGl0eTtcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MRFRERWxlbWVudCwgWE1MTm9kZSxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIFhNTE5vZGUgPSByZXF1aXJlKCcuL1hNTE5vZGUnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTERUREVsZW1lbnQgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxEVERFbGVtZW50LCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTERUREVsZW1lbnQocGFyZW50LCBuYW1lLCB2YWx1ZSkge1xuICAgICAgWE1MRFRERWxlbWVudC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIERURCBlbGVtZW50IG5hbWVcIik7XG4gICAgICB9XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gJygjUENEQVRBKSc7XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSAnKCcgKyB2YWx1ZS5qb2luKCcsJykgKyAnKSc7XG4gICAgICB9XG4gICAgICB0aGlzLm5hbWUgPSB0aGlzLnN0cmluZ2lmeS5lbGVOYW1lKG5hbWUpO1xuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuc3RyaW5naWZ5LmR0ZEVsZW1lbnRWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgWE1MRFRERWxlbWVudC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLndyaXRlci5zZXQob3B0aW9ucykuZHRkRWxlbWVudCh0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTERUREVsZW1lbnQ7XG5cbiAgfSkoWE1MTm9kZSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEwLjBcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTERURE5vdGF0aW9uLCBYTUxOb2RlLFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MRFRETm90YXRpb24gPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxEVEROb3RhdGlvbiwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxEVEROb3RhdGlvbihwYXJlbnQsIG5hbWUsIHZhbHVlKSB7XG4gICAgICBYTUxEVEROb3RhdGlvbi5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIG5vdGF0aW9uIG5hbWVcIik7XG4gICAgICB9XG4gICAgICBpZiAoIXZhbHVlLnB1YklEICYmICF2YWx1ZS5zeXNJRCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQdWJsaWMgb3Igc3lzdGVtIGlkZW50aWZpZXJzIGFyZSByZXF1aXJlZCBmb3IgYW4gZXh0ZXJuYWwgZW50aXR5XCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5uYW1lID0gdGhpcy5zdHJpbmdpZnkuZWxlTmFtZShuYW1lKTtcbiAgICAgIGlmICh2YWx1ZS5wdWJJRCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMucHViSUQgPSB0aGlzLnN0cmluZ2lmeS5kdGRQdWJJRCh2YWx1ZS5wdWJJRCk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUuc3lzSUQgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnN5c0lEID0gdGhpcy5zdHJpbmdpZnkuZHRkU3lzSUQodmFsdWUuc3lzSUQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIFhNTERURE5vdGF0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnNldChvcHRpb25zKS5kdGROb3RhdGlvbih0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTERURE5vdGF0aW9uO1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxEVERBdHRMaXN0LCBYTUxEVERFbGVtZW50LCBYTUxEVERFbnRpdHksIFhNTERURE5vdGF0aW9uLCBYTUxEb2NUeXBlLCBYTUxOb2RlLCBpc09iamVjdCxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9VdGlsaXR5JykuaXNPYmplY3Q7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIFhNTERUREF0dExpc3QgPSByZXF1aXJlKCcuL1hNTERUREF0dExpc3QnKTtcblxuICBYTUxEVERFbnRpdHkgPSByZXF1aXJlKCcuL1hNTERUREVudGl0eScpO1xuXG4gIFhNTERUREVsZW1lbnQgPSByZXF1aXJlKCcuL1hNTERUREVsZW1lbnQnKTtcblxuICBYTUxEVEROb3RhdGlvbiA9IHJlcXVpcmUoJy4vWE1MRFRETm90YXRpb24nKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTERvY1R5cGUgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxEb2NUeXBlLCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTERvY1R5cGUocGFyZW50LCBwdWJJRCwgc3lzSUQpIHtcbiAgICAgIHZhciByZWYsIHJlZjE7XG4gICAgICBYTUxEb2NUeXBlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICB0aGlzLmRvY3VtZW50T2JqZWN0ID0gcGFyZW50O1xuICAgICAgaWYgKGlzT2JqZWN0KHB1YklEKSkge1xuICAgICAgICByZWYgPSBwdWJJRCwgcHViSUQgPSByZWYucHViSUQsIHN5c0lEID0gcmVmLnN5c0lEO1xuICAgICAgfVxuICAgICAgaWYgKHN5c0lEID09IG51bGwpIHtcbiAgICAgICAgcmVmMSA9IFtwdWJJRCwgc3lzSURdLCBzeXNJRCA9IHJlZjFbMF0sIHB1YklEID0gcmVmMVsxXTtcbiAgICAgIH1cbiAgICAgIGlmIChwdWJJRCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMucHViSUQgPSB0aGlzLnN0cmluZ2lmeS5kdGRQdWJJRChwdWJJRCk7XG4gICAgICB9XG4gICAgICBpZiAoc3lzSUQgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnN5c0lEID0gdGhpcy5zdHJpbmdpZnkuZHRkU3lzSUQoc3lzSUQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLmVsZW1lbnQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MRFRERWxlbWVudCh0aGlzLCBuYW1lLCB2YWx1ZSk7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLmF0dExpc3QgPSBmdW5jdGlvbihlbGVtZW50TmFtZSwgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVHlwZSwgZGVmYXVsdFZhbHVlVHlwZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICB2YXIgY2hpbGQ7XG4gICAgICBjaGlsZCA9IG5ldyBYTUxEVERBdHRMaXN0KHRoaXMsIGVsZW1lbnROYW1lLCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVUeXBlLCBkZWZhdWx0VmFsdWVUeXBlLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS5lbnRpdHkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MRFRERW50aXR5KHRoaXMsIGZhbHNlLCBuYW1lLCB2YWx1ZSk7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLnBFbnRpdHkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MRFRERW50aXR5KHRoaXMsIHRydWUsIG5hbWUsIHZhbHVlKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jVHlwZS5wcm90b3R5cGUubm90YXRpb24gPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MRFRETm90YXRpb24odGhpcywgbmFtZSwgdmFsdWUpO1xuICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnNldChvcHRpb25zKS5kb2NUeXBlKHRoaXMpO1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS5lbGUgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudChuYW1lLCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLmF0dCA9IGZ1bmN0aW9uKGVsZW1lbnROYW1lLCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVUeXBlLCBkZWZhdWx0VmFsdWVUeXBlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmF0dExpc3QoZWxlbWVudE5hbWUsIGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVR5cGUsIGRlZmF1bHRWYWx1ZVR5cGUsIGRlZmF1bHRWYWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLmVudCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbnRpdHkobmFtZSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS5wZW50ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnBFbnRpdHkobmFtZSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS5ub3QgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMubm90YXRpb24obmFtZSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS51cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMucm9vdCgpIHx8IHRoaXMuZG9jdW1lbnRPYmplY3Q7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxEb2NUeXBlO1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxOb2RlLCBYTUxSYXcsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxSYXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxSYXcsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gWE1MUmF3KHBhcmVudCwgdGV4dCkge1xuICAgICAgWE1MUmF3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICBpZiAodGV4dCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmF3IHRleHRcIik7XG4gICAgICB9XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy5zdHJpbmdpZnkucmF3KHRleHQpO1xuICAgIH1cblxuICAgIFhNTFJhdy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBPYmplY3QuY3JlYXRlKHRoaXMpO1xuICAgIH07XG5cbiAgICBYTUxSYXcucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuc2V0KG9wdGlvbnMpLnJhdyh0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTFJhdztcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MTm9kZSwgWE1MVGV4dCxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIFhNTE5vZGUgPSByZXF1aXJlKCcuL1hNTE5vZGUnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTFRleHQgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxUZXh0LCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTFRleHQocGFyZW50LCB0ZXh0KSB7XG4gICAgICBYTUxUZXh0Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICBpZiAodGV4dCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgZWxlbWVudCB0ZXh0XCIpO1xuICAgICAgfVxuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuc3RyaW5naWZ5LmVsZVRleHQodGV4dCk7XG4gICAgfVxuXG4gICAgWE1MVGV4dC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBPYmplY3QuY3JlYXRlKHRoaXMpO1xuICAgIH07XG5cbiAgICBYTUxUZXh0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnNldChvcHRpb25zKS50ZXh0KHRoaXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MVGV4dDtcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MTm9kZSwgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbihwYXJlbnQsIHRhcmdldCwgdmFsdWUpIHtcbiAgICAgIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbi5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgaWYgKHRhcmdldCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgaW5zdHJ1Y3Rpb24gdGFyZ2V0XCIpO1xuICAgICAgfVxuICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLnN0cmluZ2lmeS5pbnNUYXJnZXQodGFyZ2V0KTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5zdHJpbmdpZnkuaW5zVmFsdWUodmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBPYmplY3QuY3JlYXRlKHRoaXMpO1xuICAgIH07XG5cbiAgICBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuc2V0KG9wdGlvbnMpLnByb2Nlc3NpbmdJbnN0cnVjdGlvbih0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbjtcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MQ0RhdGEsIFhNTENvbW1lbnQsIFhNTERlY2xhcmF0aW9uLCBYTUxEb2NUeXBlLCBYTUxFbGVtZW50LCBYTUxOb2RlLCBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24sIFhNTFJhdywgWE1MVGV4dCwgaXNFbXB0eSwgaXNGdW5jdGlvbiwgaXNPYmplY3QsIHJlZixcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgcmVmID0gcmVxdWlyZSgnLi9VdGlsaXR5JyksIGlzT2JqZWN0ID0gcmVmLmlzT2JqZWN0LCBpc0Z1bmN0aW9uID0gcmVmLmlzRnVuY3Rpb24sIGlzRW1wdHkgPSByZWYuaXNFbXB0eTtcblxuICBYTUxFbGVtZW50ID0gbnVsbDtcblxuICBYTUxDRGF0YSA9IG51bGw7XG5cbiAgWE1MQ29tbWVudCA9IG51bGw7XG5cbiAgWE1MRGVjbGFyYXRpb24gPSBudWxsO1xuXG4gIFhNTERvY1R5cGUgPSBudWxsO1xuXG4gIFhNTFJhdyA9IG51bGw7XG5cbiAgWE1MVGV4dCA9IG51bGw7XG5cbiAgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uID0gbnVsbDtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTE5vZGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gWE1MTm9kZShwYXJlbnQpIHtcbiAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHRoaXMucGFyZW50Lm9wdGlvbnM7XG4gICAgICAgIHRoaXMuc3RyaW5naWZ5ID0gdGhpcy5wYXJlbnQuc3RyaW5naWZ5O1xuICAgICAgfVxuICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgaWYgKCFYTUxFbGVtZW50KSB7XG4gICAgICAgIFhNTEVsZW1lbnQgPSByZXF1aXJlKCcuL1hNTEVsZW1lbnQnKTtcbiAgICAgICAgWE1MQ0RhdGEgPSByZXF1aXJlKCcuL1hNTENEYXRhJyk7XG4gICAgICAgIFhNTENvbW1lbnQgPSByZXF1aXJlKCcuL1hNTENvbW1lbnQnKTtcbiAgICAgICAgWE1MRGVjbGFyYXRpb24gPSByZXF1aXJlKCcuL1hNTERlY2xhcmF0aW9uJyk7XG4gICAgICAgIFhNTERvY1R5cGUgPSByZXF1aXJlKCcuL1hNTERvY1R5cGUnKTtcbiAgICAgICAgWE1MUmF3ID0gcmVxdWlyZSgnLi9YTUxSYXcnKTtcbiAgICAgICAgWE1MVGV4dCA9IHJlcXVpcmUoJy4vWE1MVGV4dCcpO1xuICAgICAgICBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSByZXF1aXJlKCcuL1hNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmVsZW1lbnQgPSBmdW5jdGlvbihuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KSB7XG4gICAgICB2YXIgY2hpbGROb2RlLCBpdGVtLCBqLCBrLCBrZXksIGxhc3RDaGlsZCwgbGVuLCBsZW4xLCByZWYxLCB2YWw7XG4gICAgICBsYXN0Q2hpbGQgPSBudWxsO1xuICAgICAgaWYgKGF0dHJpYnV0ZXMgPT0gbnVsbCkge1xuICAgICAgICBhdHRyaWJ1dGVzID0ge307XG4gICAgICB9XG4gICAgICBhdHRyaWJ1dGVzID0gYXR0cmlidXRlcy52YWx1ZU9mKCk7XG4gICAgICBpZiAoIWlzT2JqZWN0KGF0dHJpYnV0ZXMpKSB7XG4gICAgICAgIHJlZjEgPSBbYXR0cmlidXRlcywgdGV4dF0sIHRleHQgPSByZWYxWzBdLCBhdHRyaWJ1dGVzID0gcmVmMVsxXTtcbiAgICAgIH1cbiAgICAgIGlmIChuYW1lICE9IG51bGwpIHtcbiAgICAgICAgbmFtZSA9IG5hbWUudmFsdWVPZigpO1xuICAgICAgfVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZSkpIHtcbiAgICAgICAgZm9yIChqID0gMCwgbGVuID0gbmFtZS5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICAgIGl0ZW0gPSBuYW1lW2pdO1xuICAgICAgICAgIGxhc3RDaGlsZCA9IHRoaXMuZWxlbWVudChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKG5hbWUpKSB7XG4gICAgICAgIGxhc3RDaGlsZCA9IHRoaXMuZWxlbWVudChuYW1lLmFwcGx5KCkpO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChuYW1lKSkge1xuICAgICAgICBmb3IgKGtleSBpbiBuYW1lKSB7XG4gICAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwobmFtZSwga2V5KSkgY29udGludWU7XG4gICAgICAgICAgdmFsID0gbmFtZVtrZXldO1xuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbCkpIHtcbiAgICAgICAgICAgIHZhbCA9IHZhbC5hcHBseSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoKGlzT2JqZWN0KHZhbCkpICYmIChpc0VtcHR5KHZhbCkpKSB7XG4gICAgICAgICAgICB2YWwgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5pZ25vcmVEZWNvcmF0b3JzICYmIHRoaXMuc3RyaW5naWZ5LmNvbnZlcnRBdHRLZXkgJiYga2V5LmluZGV4T2YodGhpcy5zdHJpbmdpZnkuY29udmVydEF0dEtleSkgPT09IDApIHtcbiAgICAgICAgICAgIGxhc3RDaGlsZCA9IHRoaXMuYXR0cmlidXRlKGtleS5zdWJzdHIodGhpcy5zdHJpbmdpZnkuY29udmVydEF0dEtleS5sZW5ndGgpLCB2YWwpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMub3B0aW9ucy5zZXBhcmF0ZUFycmF5SXRlbXMgJiYgQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICBmb3IgKGsgPSAwLCBsZW4xID0gdmFsLmxlbmd0aDsgayA8IGxlbjE7IGsrKykge1xuICAgICAgICAgICAgICBpdGVtID0gdmFsW2tdO1xuICAgICAgICAgICAgICBjaGlsZE5vZGUgPSB7fTtcbiAgICAgICAgICAgICAgY2hpbGROb2RlW2tleV0gPSBpdGVtO1xuICAgICAgICAgICAgICBsYXN0Q2hpbGQgPSB0aGlzLmVsZW1lbnQoY2hpbGROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkpIHtcbiAgICAgICAgICAgIGxhc3RDaGlsZCA9IHRoaXMuZWxlbWVudChrZXkpO1xuICAgICAgICAgICAgbGFzdENoaWxkLmVsZW1lbnQodmFsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5lbGVtZW50KGtleSwgdmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydFRleHRLZXkgJiYgbmFtZS5pbmRleE9mKHRoaXMuc3RyaW5naWZ5LmNvbnZlcnRUZXh0S2V5KSA9PT0gMCkge1xuICAgICAgICAgIGxhc3RDaGlsZCA9IHRoaXMudGV4dCh0ZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydENEYXRhS2V5ICYmIG5hbWUuaW5kZXhPZih0aGlzLnN0cmluZ2lmeS5jb252ZXJ0Q0RhdGFLZXkpID09PSAwKSB7XG4gICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5jZGF0YSh0ZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydENvbW1lbnRLZXkgJiYgbmFtZS5pbmRleE9mKHRoaXMuc3RyaW5naWZ5LmNvbnZlcnRDb21tZW50S2V5KSA9PT0gMCkge1xuICAgICAgICAgIGxhc3RDaGlsZCA9IHRoaXMuY29tbWVudCh0ZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydFJhd0tleSAmJiBuYW1lLmluZGV4T2YodGhpcy5zdHJpbmdpZnkuY29udmVydFJhd0tleSkgPT09IDApIHtcbiAgICAgICAgICBsYXN0Q2hpbGQgPSB0aGlzLnJhdyh0ZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydFBJS2V5ICYmIG5hbWUuaW5kZXhPZih0aGlzLnN0cmluZ2lmeS5jb252ZXJ0UElLZXkpID09PSAwKSB7XG4gICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5pbnN0cnVjdGlvbihuYW1lLnN1YnN0cih0aGlzLnN0cmluZ2lmeS5jb252ZXJ0UElLZXkubGVuZ3RoKSwgdGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5ub2RlKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobGFzdENoaWxkID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGNyZWF0ZSBhbnkgZWxlbWVudHMgd2l0aDogXCIgKyBuYW1lKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsYXN0Q2hpbGQ7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmluc2VydEJlZm9yZSA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIHZhciBjaGlsZCwgaSwgcmVtb3ZlZDtcbiAgICAgIGlmICh0aGlzLmlzUm9vdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgaW5zZXJ0IGVsZW1lbnRzIGF0IHJvb3QgbGV2ZWxcIik7XG4gICAgICB9XG4gICAgICBpID0gdGhpcy5wYXJlbnQuY2hpbGRyZW4uaW5kZXhPZih0aGlzKTtcbiAgICAgIHJlbW92ZWQgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaSk7XG4gICAgICBjaGlsZCA9IHRoaXMucGFyZW50LmVsZW1lbnQobmFtZSwgYXR0cmlidXRlcywgdGV4dCk7XG4gICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLnBhcmVudC5jaGlsZHJlbiwgcmVtb3ZlZCk7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmluc2VydEFmdGVyID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgdmFyIGNoaWxkLCBpLCByZW1vdmVkO1xuICAgICAgaWYgKHRoaXMuaXNSb290KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBpbnNlcnQgZWxlbWVudHMgYXQgcm9vdCBsZXZlbFwiKTtcbiAgICAgIH1cbiAgICAgIGkgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICAgICAgcmVtb3ZlZCA9IHRoaXMucGFyZW50LmNoaWxkcmVuLnNwbGljZShpICsgMSk7XG4gICAgICBjaGlsZCA9IHRoaXMucGFyZW50LmVsZW1lbnQobmFtZSwgYXR0cmlidXRlcywgdGV4dCk7XG4gICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLnBhcmVudC5jaGlsZHJlbiwgcmVtb3ZlZCk7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGksIHJlZjE7XG4gICAgICBpZiAodGhpcy5pc1Jvb3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlbW92ZSB0aGUgcm9vdCBlbGVtZW50XCIpO1xuICAgICAgfVxuICAgICAgaSA9IHRoaXMucGFyZW50LmNoaWxkcmVuLmluZGV4T2YodGhpcyk7XG4gICAgICBbXS5zcGxpY2UuYXBwbHkodGhpcy5wYXJlbnQuY2hpbGRyZW4sIFtpLCBpIC0gaSArIDFdLmNvbmNhdChyZWYxID0gW10pKSwgcmVmMTtcbiAgICAgIHJldHVybiB0aGlzLnBhcmVudDtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUubm9kZSA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIHZhciBjaGlsZCwgcmVmMTtcbiAgICAgIGlmIChuYW1lICE9IG51bGwpIHtcbiAgICAgICAgbmFtZSA9IG5hbWUudmFsdWVPZigpO1xuICAgICAgfVxuICAgICAgYXR0cmlidXRlcyB8fCAoYXR0cmlidXRlcyA9IHt9KTtcbiAgICAgIGF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzLnZhbHVlT2YoKTtcbiAgICAgIGlmICghaXNPYmplY3QoYXR0cmlidXRlcykpIHtcbiAgICAgICAgcmVmMSA9IFthdHRyaWJ1dGVzLCB0ZXh0XSwgdGV4dCA9IHJlZjFbMF0sIGF0dHJpYnV0ZXMgPSByZWYxWzFdO1xuICAgICAgfVxuICAgICAgY2hpbGQgPSBuZXcgWE1MRWxlbWVudCh0aGlzLCBuYW1lLCBhdHRyaWJ1dGVzKTtcbiAgICAgIGlmICh0ZXh0ICE9IG51bGwpIHtcbiAgICAgICAgY2hpbGQudGV4dCh0ZXh0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MVGV4dCh0aGlzLCB2YWx1ZSk7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmNkYXRhID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBjaGlsZDtcbiAgICAgIGNoaWxkID0gbmV3IFhNTENEYXRhKHRoaXMsIHZhbHVlKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuY29tbWVudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgY2hpbGQ7XG4gICAgICBjaGlsZCA9IG5ldyBYTUxDb21tZW50KHRoaXMsIHZhbHVlKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuY29tbWVudEJlZm9yZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgY2hpbGQsIGksIHJlbW92ZWQ7XG4gICAgICBpID0gdGhpcy5wYXJlbnQuY2hpbGRyZW4uaW5kZXhPZih0aGlzKTtcbiAgICAgIHJlbW92ZWQgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaSk7XG4gICAgICBjaGlsZCA9IHRoaXMucGFyZW50LmNvbW1lbnQodmFsdWUpO1xuICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkodGhpcy5wYXJlbnQuY2hpbGRyZW4sIHJlbW92ZWQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmNvbW1lbnRBZnRlciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgY2hpbGQsIGksIHJlbW92ZWQ7XG4gICAgICBpID0gdGhpcy5wYXJlbnQuY2hpbGRyZW4uaW5kZXhPZih0aGlzKTtcbiAgICAgIHJlbW92ZWQgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaSArIDEpO1xuICAgICAgY2hpbGQgPSB0aGlzLnBhcmVudC5jb21tZW50KHZhbHVlKTtcbiAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMucGFyZW50LmNoaWxkcmVuLCByZW1vdmVkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5yYXcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MUmF3KHRoaXMsIHZhbHVlKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaW5zdHJ1Y3Rpb24gPSBmdW5jdGlvbih0YXJnZXQsIHZhbHVlKSB7XG4gICAgICB2YXIgaW5zVGFyZ2V0LCBpbnNWYWx1ZSwgaW5zdHJ1Y3Rpb24sIGosIGxlbjtcbiAgICAgIGlmICh0YXJnZXQgIT0gbnVsbCkge1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQudmFsdWVPZigpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS52YWx1ZU9mKCk7XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgIGZvciAoaiA9IDAsIGxlbiA9IHRhcmdldC5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICAgIGluc1RhcmdldCA9IHRhcmdldFtqXTtcbiAgICAgICAgICB0aGlzLmluc3RydWN0aW9uKGluc1RhcmdldCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodGFyZ2V0KSkge1xuICAgICAgICBmb3IgKGluc1RhcmdldCBpbiB0YXJnZXQpIHtcbiAgICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbCh0YXJnZXQsIGluc1RhcmdldCkpIGNvbnRpbnVlO1xuICAgICAgICAgIGluc1ZhbHVlID0gdGFyZ2V0W2luc1RhcmdldF07XG4gICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbihpbnNUYXJnZXQsIGluc1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5hcHBseSgpO1xuICAgICAgICB9XG4gICAgICAgIGluc3RydWN0aW9uID0gbmV3IFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbih0aGlzLCB0YXJnZXQsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGluc3RydWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5pbnN0cnVjdGlvbkJlZm9yZSA9IGZ1bmN0aW9uKHRhcmdldCwgdmFsdWUpIHtcbiAgICAgIHZhciBjaGlsZCwgaSwgcmVtb3ZlZDtcbiAgICAgIGkgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICAgICAgcmVtb3ZlZCA9IHRoaXMucGFyZW50LmNoaWxkcmVuLnNwbGljZShpKTtcbiAgICAgIGNoaWxkID0gdGhpcy5wYXJlbnQuaW5zdHJ1Y3Rpb24odGFyZ2V0LCB2YWx1ZSk7XG4gICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLnBhcmVudC5jaGlsZHJlbiwgcmVtb3ZlZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaW5zdHJ1Y3Rpb25BZnRlciA9IGZ1bmN0aW9uKHRhcmdldCwgdmFsdWUpIHtcbiAgICAgIHZhciBjaGlsZCwgaSwgcmVtb3ZlZDtcbiAgICAgIGkgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICAgICAgcmVtb3ZlZCA9IHRoaXMucGFyZW50LmNoaWxkcmVuLnNwbGljZShpICsgMSk7XG4gICAgICBjaGlsZCA9IHRoaXMucGFyZW50Lmluc3RydWN0aW9uKHRhcmdldCwgdmFsdWUpO1xuICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkodGhpcy5wYXJlbnQuY2hpbGRyZW4sIHJlbW92ZWQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmRlY2xhcmF0aW9uID0gZnVuY3Rpb24odmVyc2lvbiwgZW5jb2RpbmcsIHN0YW5kYWxvbmUpIHtcbiAgICAgIHZhciBkb2MsIHhtbGRlYztcbiAgICAgIGRvYyA9IHRoaXMuZG9jdW1lbnQoKTtcbiAgICAgIHhtbGRlYyA9IG5ldyBYTUxEZWNsYXJhdGlvbihkb2MsIHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKTtcbiAgICAgIGlmIChkb2MuY2hpbGRyZW5bMF0gaW5zdGFuY2VvZiBYTUxEZWNsYXJhdGlvbikge1xuICAgICAgICBkb2MuY2hpbGRyZW5bMF0gPSB4bWxkZWM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2MuY2hpbGRyZW4udW5zaGlmdCh4bWxkZWMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRvYy5yb290KCkgfHwgZG9jO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5kb2N0eXBlID0gZnVuY3Rpb24ocHViSUQsIHN5c0lEKSB7XG4gICAgICB2YXIgY2hpbGQsIGRvYywgZG9jdHlwZSwgaSwgaiwgaywgbGVuLCBsZW4xLCByZWYxLCByZWYyO1xuICAgICAgZG9jID0gdGhpcy5kb2N1bWVudCgpO1xuICAgICAgZG9jdHlwZSA9IG5ldyBYTUxEb2NUeXBlKGRvYywgcHViSUQsIHN5c0lEKTtcbiAgICAgIHJlZjEgPSBkb2MuY2hpbGRyZW47XG4gICAgICBmb3IgKGkgPSBqID0gMCwgbGVuID0gcmVmMS5sZW5ndGg7IGogPCBsZW47IGkgPSArK2opIHtcbiAgICAgICAgY2hpbGQgPSByZWYxW2ldO1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBYTUxEb2NUeXBlKSB7XG4gICAgICAgICAgZG9jLmNoaWxkcmVuW2ldID0gZG9jdHlwZTtcbiAgICAgICAgICByZXR1cm4gZG9jdHlwZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVmMiA9IGRvYy5jaGlsZHJlbjtcbiAgICAgIGZvciAoaSA9IGsgPSAwLCBsZW4xID0gcmVmMi5sZW5ndGg7IGsgPCBsZW4xOyBpID0gKytrKSB7XG4gICAgICAgIGNoaWxkID0gcmVmMltpXTtcbiAgICAgICAgaWYgKGNoaWxkLmlzUm9vdCkge1xuICAgICAgICAgIGRvYy5jaGlsZHJlbi5zcGxpY2UoaSwgMCwgZG9jdHlwZSk7XG4gICAgICAgICAgcmV0dXJuIGRvY3R5cGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRvYy5jaGlsZHJlbi5wdXNoKGRvY3R5cGUpO1xuICAgICAgcmV0dXJuIGRvY3R5cGU7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLnVwID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5pc1Jvb3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHJvb3Qgbm9kZSBoYXMgbm8gcGFyZW50LiBVc2UgZG9jKCkgaWYgeW91IG5lZWQgdG8gZ2V0IHRoZSBkb2N1bWVudCBvYmplY3QuXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucGFyZW50O1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5yb290ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIG5vZGUgPSB0aGlzO1xuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUuaXNEb2N1bWVudCkge1xuICAgICAgICAgIHJldHVybiBub2RlLnJvb3RPYmplY3Q7XG4gICAgICAgIH0gZWxzZSBpZiAobm9kZS5pc1Jvb3QpIHtcbiAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuZG9jdW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBub2RlO1xuICAgICAgbm9kZSA9IHRoaXM7XG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5pc0RvY3VtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50KCkuZW5kKG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5wcmV2ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaTtcbiAgICAgIGkgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICAgICAgaWYgKGkgPCAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFscmVhZHkgYXQgdGhlIGZpcnN0IG5vZGVcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnQuY2hpbGRyZW5baSAtIDFdO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaTtcbiAgICAgIGkgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICAgICAgaWYgKGkgPT09IC0xIHx8IGkgPT09IHRoaXMucGFyZW50LmNoaWxkcmVuLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWxyZWFkeSBhdCB0aGUgbGFzdCBub2RlXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmNoaWxkcmVuW2kgKyAxXTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaW1wb3J0RG9jdW1lbnQgPSBmdW5jdGlvbihkb2MpIHtcbiAgICAgIHZhciBjbG9uZWRSb290O1xuICAgICAgY2xvbmVkUm9vdCA9IGRvYy5yb290KCkuY2xvbmUoKTtcbiAgICAgIGNsb25lZFJvb3QucGFyZW50ID0gdGhpcztcbiAgICAgIGNsb25lZFJvb3QuaXNSb290ID0gZmFsc2U7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2xvbmVkUm9vdCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuZWxlID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudChuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUubm9kID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMubm9kZShuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUudHh0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQodmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5kYXQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2RhdGEodmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5jb20gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29tbWVudCh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmlucyA9IGZ1bmN0aW9uKHRhcmdldCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmluc3RydWN0aW9uKHRhcmdldCwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5kb2MgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50KCk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmRlYyA9IGZ1bmN0aW9uKHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWNsYXJhdGlvbih2ZXJzaW9uLCBlbmNvZGluZywgc3RhbmRhbG9uZSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmR0ZCA9IGZ1bmN0aW9uKHB1YklELCBzeXNJRCkge1xuICAgICAgcmV0dXJuIHRoaXMuZG9jdHlwZShwdWJJRCwgc3lzSUQpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5lID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudChuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUubiA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLm5vZGUobmFtZSwgYXR0cmlidXRlcywgdGV4dCk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2RhdGEodmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5jID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbW1lbnQodmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJhdyh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmkgPSBmdW5jdGlvbih0YXJnZXQsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnN0cnVjdGlvbih0YXJnZXQsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUudSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudXAoKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaW1wb3J0WE1MQnVpbGRlciA9IGZ1bmN0aW9uKGRvYykge1xuICAgICAgcmV0dXJuIHRoaXMuaW1wb3J0RG9jdW1lbnQoZG9jKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTE5vZGU7XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MU3RyaW5naWZpZXIsIGNhbWVsQ2FzZSwga2ViYWJDYXNlLCByZWYsIHNuYWtlQ2FzZSwgdGl0bGVDYXNlLFxuICAgIGJpbmQgPSBmdW5jdGlvbihmbiwgbWUpeyByZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuIGZuLmFwcGx5KG1lLCBhcmd1bWVudHMpOyB9OyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICByZWYgPSByZXF1aXJlKCcuL1V0aWxpdHknKSwgY2FtZWxDYXNlID0gcmVmLmNhbWVsQ2FzZSwgdGl0bGVDYXNlID0gcmVmLnRpdGxlQ2FzZSwga2ViYWJDYXNlID0gcmVmLmtlYmFiQ2FzZSwgc25ha2VDYXNlID0gcmVmLnNuYWtlQ2FzZTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTFN0cmluZ2lmaWVyID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIFhNTFN0cmluZ2lmaWVyKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuYXNzZXJ0TGVnYWxDaGFyID0gYmluZCh0aGlzLmFzc2VydExlZ2FsQ2hhciwgdGhpcyk7XG4gICAgICB2YXIga2V5LCByZWYxLCB2YWx1ZTtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgICB0aGlzLmFsbG93U3Vycm9nYXRlQ2hhcnMgPSBvcHRpb25zLmFsbG93U3Vycm9nYXRlQ2hhcnM7XG4gICAgICB0aGlzLm5vRG91YmxlRW5jb2RpbmcgPSBvcHRpb25zLm5vRG91YmxlRW5jb2Rpbmc7XG4gICAgICB0aGlzLnRleHRDYXNlID0gb3B0aW9ucy50ZXh0Q2FzZTtcbiAgICAgIHJlZjEgPSBvcHRpb25zLnN0cmluZ2lmeSB8fCB7fTtcbiAgICAgIGZvciAoa2V5IGluIHJlZjEpIHtcbiAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwocmVmMSwga2V5KSkgY29udGludWU7XG4gICAgICAgIHZhbHVlID0gcmVmMVtrZXldO1xuICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuZWxlTmFtZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgdmFsID0gJycgKyB2YWwgfHwgJyc7XG4gICAgICB2YWwgPSB0aGlzLmFwcGx5Q2FzZSh2YWwpO1xuICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0TGVnYWxDaGFyKHZhbCk7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5lbGVUZXh0ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICB2YWwgPSAnJyArIHZhbCB8fCAnJztcbiAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcih0aGlzLmVsRXNjYXBlKHZhbCkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuY2RhdGEgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHZhbCA9ICcnICsgdmFsIHx8ICcnO1xuICAgICAgdmFsID0gdmFsLnJlcGxhY2UoJ11dPicsICddXV1dPjwhW0NEQVRBWz4nKTtcbiAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcih2YWwpO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuY29tbWVudCA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgdmFsID0gJycgKyB2YWwgfHwgJyc7XG4gICAgICBpZiAodmFsLm1hdGNoKC8tLS8pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbW1lbnQgdGV4dCBjYW5ub3QgY29udGFpbiBkb3VibGUtaHlwZW46IFwiICsgdmFsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcih2YWwpO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUucmF3ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICByZXR1cm4gJycgKyB2YWwgfHwgJyc7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5hdHROYW1lID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICB2YWwgPSAnJyArIHZhbCB8fCAnJztcbiAgICAgIHJldHVybiB2YWwgPSB0aGlzLmFwcGx5Q2FzZSh2YWwpO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuYXR0VmFsdWUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHZhbCA9ICcnICsgdmFsIHx8ICcnO1xuICAgICAgcmV0dXJuIHRoaXMuYXR0RXNjYXBlKHZhbCk7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5pbnNUYXJnZXQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHJldHVybiAnJyArIHZhbCB8fCAnJztcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmluc1ZhbHVlID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICB2YWwgPSAnJyArIHZhbCB8fCAnJztcbiAgICAgIGlmICh2YWwubWF0Y2goL1xcPz4vKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gdmFsdWU6IFwiICsgdmFsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS54bWxWZXJzaW9uID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICB2YWwgPSAnJyArIHZhbCB8fCAnJztcbiAgICAgIGlmICghdmFsLm1hdGNoKC8xXFwuWzAtOV0rLykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2ZXJzaW9uIG51bWJlcjogXCIgKyB2YWwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLnhtbEVuY29kaW5nID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICB2YWwgPSAnJyArIHZhbCB8fCAnJztcbiAgICAgIGlmICghdmFsLm1hdGNoKC9eW0EtWmEtel0oPzpbQS1aYS16MC05Ll8tXXwtKSokLykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBlbmNvZGluZzogXCIgKyB2YWwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLnhtbFN0YW5kYWxvbmUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIFwieWVzXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJub1wiO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuZHRkUHViSUQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHJldHVybiAnJyArIHZhbCB8fCAnJztcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmR0ZFN5c0lEID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICByZXR1cm4gJycgKyB2YWwgfHwgJyc7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5kdGRFbGVtZW50VmFsdWUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHJldHVybiAnJyArIHZhbCB8fCAnJztcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmR0ZEF0dFR5cGUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHJldHVybiAnJyArIHZhbCB8fCAnJztcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmR0ZEF0dERlZmF1bHQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmICh2YWwgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJycgKyB2YWwgfHwgJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuZHRkRW50aXR5VmFsdWUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHJldHVybiAnJyArIHZhbCB8fCAnJztcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmR0ZE5EYXRhID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICByZXR1cm4gJycgKyB2YWwgfHwgJyc7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5jb252ZXJ0QXR0S2V5ID0gJ0AnO1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmNvbnZlcnRQSUtleSA9ICc/JztcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5jb252ZXJ0VGV4dEtleSA9ICcjdGV4dCc7XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuY29udmVydENEYXRhS2V5ID0gJyNjZGF0YSc7XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuY29udmVydENvbW1lbnRLZXkgPSAnI2NvbW1lbnQnO1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmNvbnZlcnRSYXdLZXkgPSAnI3Jhdyc7XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuYXNzZXJ0TGVnYWxDaGFyID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICB2YXIgY2hhcnMsIGNocjtcbiAgICAgIGlmICh0aGlzLmFsbG93U3Vycm9nYXRlQ2hhcnMpIHtcbiAgICAgICAgY2hhcnMgPSAvW1xcdTAwMDAtXFx1MDAwOFxcdTAwMEItXFx1MDAwQ1xcdTAwMEUtXFx1MDAxRlxcdUZGRkUtXFx1RkZGRl0vO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hhcnMgPSAvW1xcdTAwMDAtXFx1MDAwOFxcdTAwMEItXFx1MDAwQ1xcdTAwMEUtXFx1MDAxRlxcdUQ4MDAtXFx1REZGRlxcdUZGRkUtXFx1RkZGRl0vO1xuICAgICAgfVxuICAgICAgY2hyID0gc3RyLm1hdGNoKGNoYXJzKTtcbiAgICAgIGlmIChjaHIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjaGFyYWN0ZXIgKFwiICsgY2hyICsgXCIpIGluIHN0cmluZzogXCIgKyBzdHIgKyBcIiBhdCBpbmRleCBcIiArIGNoci5pbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuYXBwbHlDYXNlID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICBzd2l0Y2ggKHRoaXMudGV4dENhc2UpIHtcbiAgICAgICAgY2FzZSBcImNhbWVsXCI6XG4gICAgICAgICAgcmV0dXJuIGNhbWVsQ2FzZShzdHIpO1xuICAgICAgICBjYXNlIFwidGl0bGVcIjpcbiAgICAgICAgICByZXR1cm4gdGl0bGVDYXNlKHN0cik7XG4gICAgICAgIGNhc2UgXCJrZWJhYlwiOlxuICAgICAgICBjYXNlIFwibG93ZXJcIjpcbiAgICAgICAgICByZXR1cm4ga2ViYWJDYXNlKHN0cik7XG4gICAgICAgIGNhc2UgXCJzbmFrZVwiOlxuICAgICAgICAgIHJldHVybiBzbmFrZUNhc2Uoc3RyKTtcbiAgICAgICAgY2FzZSBcInVwcGVyXCI6XG4gICAgICAgICAgcmV0dXJuIGtlYmFiQ2FzZShzdHIpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmVsRXNjYXBlID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICB2YXIgYW1wcmVnZXg7XG4gICAgICBhbXByZWdleCA9IHRoaXMubm9Eb3VibGVFbmNvZGluZyA/IC8oPyEmXFxTKzspJi9nIDogLyYvZztcbiAgICAgIHJldHVybiBzdHIucmVwbGFjZShhbXByZWdleCwgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKS5yZXBsYWNlKC9cXHIvZywgJyYjeEQ7Jyk7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5hdHRFc2NhcGUgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgIHZhciBhbXByZWdleDtcbiAgICAgIGFtcHJlZ2V4ID0gdGhpcy5ub0RvdWJsZUVuY29kaW5nID8gLyg/ISZcXFMrOykmL2cgOiAvJi9nO1xuICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKGFtcHJlZ2V4LCAnJmFtcDsnKS5yZXBsYWNlKC88L2csICcmbHQ7JykucmVwbGFjZSgvXCIvZywgJyZxdW90OycpLnJlcGxhY2UoL1xcdC9nLCAnJiN4OTsnKS5yZXBsYWNlKC9cXG4vZywgJyYjeEE7JykucmVwbGFjZSgvXFxyL2csICcmI3hEOycpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MU3RyaW5naWZpZXI7XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MV3JpdGVyQmFzZSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxXcml0ZXJCYXNlID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIFhNTFdyaXRlckJhc2Uob3B0aW9ucykge1xuICAgICAgdmFyIGtleSwgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZWY0LCB2YWx1ZTtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgICB0aGlzLnByZXR0eSA9IG9wdGlvbnMucHJldHR5IHx8IGZhbHNlO1xuICAgICAgdGhpcy5hbGxvd0VtcHR5ID0gKHJlZiA9IG9wdGlvbnMuYWxsb3dFbXB0eSkgIT0gbnVsbCA/IHJlZiA6IGZhbHNlO1xuICAgICAgaWYgKHRoaXMucHJldHR5KSB7XG4gICAgICAgIHRoaXMuaW5kZW50ID0gKHJlZjEgPSBvcHRpb25zLmluZGVudCkgIT0gbnVsbCA/IHJlZjEgOiAnICAnO1xuICAgICAgICB0aGlzLm5ld2xpbmUgPSAocmVmMiA9IG9wdGlvbnMubmV3bGluZSkgIT0gbnVsbCA/IHJlZjIgOiAnXFxuJztcbiAgICAgICAgdGhpcy5vZmZzZXQgPSAocmVmMyA9IG9wdGlvbnMub2Zmc2V0KSAhPSBudWxsID8gcmVmMyA6IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmluZGVudCA9ICcnO1xuICAgICAgICB0aGlzLm5ld2xpbmUgPSAnJztcbiAgICAgICAgdGhpcy5vZmZzZXQgPSAwO1xuICAgICAgfVxuICAgICAgcmVmNCA9IG9wdGlvbnMud3JpdGVyIHx8IHt9O1xuICAgICAgZm9yIChrZXkgaW4gcmVmNCkge1xuICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChyZWY0LCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgdmFsdWUgPSByZWY0W2tleV07XG4gICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIFhNTFdyaXRlckJhc2UucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBrZXksIHJlZiwgdmFsdWU7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuICAgICAgaWYgKFwicHJldHR5XCIgaW4gb3B0aW9ucykge1xuICAgICAgICB0aGlzLnByZXR0eSA9IG9wdGlvbnMucHJldHR5O1xuICAgICAgfVxuICAgICAgaWYgKFwiYWxsb3dFbXB0eVwiIGluIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hbGxvd0VtcHR5ID0gb3B0aW9ucy5hbGxvd0VtcHR5O1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucHJldHR5KSB7XG4gICAgICAgIHRoaXMuaW5kZW50ID0gXCJpbmRlbnRcIiBpbiBvcHRpb25zID8gb3B0aW9ucy5pbmRlbnQgOiAnICAnO1xuICAgICAgICB0aGlzLm5ld2xpbmUgPSBcIm5ld2xpbmVcIiBpbiBvcHRpb25zID8gb3B0aW9ucy5uZXdsaW5lIDogJ1xcbic7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gXCJvZmZzZXRcIiBpbiBvcHRpb25zID8gb3B0aW9ucy5vZmZzZXQgOiAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbmRlbnQgPSAnJztcbiAgICAgICAgdGhpcy5uZXdsaW5lID0gJyc7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gMDtcbiAgICAgIH1cbiAgICAgIHJlZiA9IG9wdGlvbnMud3JpdGVyIHx8IHt9O1xuICAgICAgZm9yIChrZXkgaW4gcmVmKSB7XG4gICAgICAgIGlmICghaGFzUHJvcC5jYWxsKHJlZiwga2V5KSkgY29udGludWU7XG4gICAgICAgIHZhbHVlID0gcmVmW2tleV07XG4gICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTFdyaXRlckJhc2UucHJvdG90eXBlLnNwYWNlID0gZnVuY3Rpb24obGV2ZWwpIHtcbiAgICAgIGlmICh0aGlzLnByZXR0eSkge1xuICAgICAgICByZXR1cm4gbmV3IEFycmF5KChsZXZlbCB8fCAwKSArIHRoaXMub2Zmc2V0ICsgMSkuam9pbih0aGlzLmluZGVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxXcml0ZXJCYXNlO1xuXG4gIH0pKCk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEwLjBcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTENEYXRhLCBYTUxDb21tZW50LCBYTUxEVERBdHRMaXN0LCBYTUxEVERFbGVtZW50LCBYTUxEVERFbnRpdHksIFhNTERURE5vdGF0aW9uLCBYTUxEZWNsYXJhdGlvbiwgWE1MRG9jVHlwZSwgWE1MRWxlbWVudCwgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLCBYTUxSYXcsIFhNTFN0cmluZ1dyaXRlciwgWE1MVGV4dCwgWE1MV3JpdGVyQmFzZSxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIFhNTERlY2xhcmF0aW9uID0gcmVxdWlyZSgnLi9YTUxEZWNsYXJhdGlvbicpO1xuXG4gIFhNTERvY1R5cGUgPSByZXF1aXJlKCcuL1hNTERvY1R5cGUnKTtcblxuICBYTUxDRGF0YSA9IHJlcXVpcmUoJy4vWE1MQ0RhdGEnKTtcblxuICBYTUxDb21tZW50ID0gcmVxdWlyZSgnLi9YTUxDb21tZW50Jyk7XG5cbiAgWE1MRWxlbWVudCA9IHJlcXVpcmUoJy4vWE1MRWxlbWVudCcpO1xuXG4gIFhNTFJhdyA9IHJlcXVpcmUoJy4vWE1MUmF3Jyk7XG5cbiAgWE1MVGV4dCA9IHJlcXVpcmUoJy4vWE1MVGV4dCcpO1xuXG4gIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbiA9IHJlcXVpcmUoJy4vWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uJyk7XG5cbiAgWE1MRFREQXR0TGlzdCA9IHJlcXVpcmUoJy4vWE1MRFREQXR0TGlzdCcpO1xuXG4gIFhNTERUREVsZW1lbnQgPSByZXF1aXJlKCcuL1hNTERUREVsZW1lbnQnKTtcblxuICBYTUxEVERFbnRpdHkgPSByZXF1aXJlKCcuL1hNTERUREVudGl0eScpO1xuXG4gIFhNTERURE5vdGF0aW9uID0gcmVxdWlyZSgnLi9YTUxEVEROb3RhdGlvbicpO1xuXG4gIFhNTFdyaXRlckJhc2UgPSByZXF1aXJlKCcuL1hNTFdyaXRlckJhc2UnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTFN0cmluZ1dyaXRlciA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTFN0cmluZ1dyaXRlciwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxTdHJpbmdXcml0ZXIob3B0aW9ucykge1xuICAgICAgWE1MU3RyaW5nV3JpdGVyLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUuZG9jdW1lbnQgPSBmdW5jdGlvbihkb2MpIHtcbiAgICAgIHZhciBjaGlsZCwgaSwgbGVuLCByLCByZWY7XG4gICAgICByID0gJyc7XG4gICAgICByZWYgPSBkb2MuY2hpbGRyZW47XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY2hpbGQgPSByZWZbaV07XG4gICAgICAgIHIgKz0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTERlY2xhcmF0aW9uKTpcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjbGFyYXRpb24oY2hpbGQpO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRG9jVHlwZSk6XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmRvY1R5cGUoY2hpbGQpO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MQ29tbWVudCk6XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbW1lbnQoY2hpbGQpO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uKTpcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc2luZ0luc3RydWN0aW9uKGNoaWxkKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQoY2hpbGQsIDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkuY2FsbCh0aGlzKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnByZXR0eSAmJiByLnNsaWNlKC10aGlzLm5ld2xpbmUubGVuZ3RoKSA9PT0gdGhpcy5uZXdsaW5lKSB7XG4gICAgICAgIHIgPSByLnNsaWNlKDAsIC10aGlzLm5ld2xpbmUubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdXcml0ZXIucHJvdG90eXBlLmF0dHJpYnV0ZSA9IGZ1bmN0aW9uKGF0dCkge1xuICAgICAgcmV0dXJuICcgJyArIGF0dC5uYW1lICsgJz1cIicgKyBhdHQudmFsdWUgKyAnXCInO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdXcml0ZXIucHJvdG90eXBlLmNkYXRhID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnNwYWNlKGxldmVsKSArICc8IVtDREFUQVsnICsgbm9kZS50ZXh0ICsgJ11dPicgKyB0aGlzLm5ld2xpbmU7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUuY29tbWVudCA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICByZXR1cm4gdGhpcy5zcGFjZShsZXZlbCkgKyAnPCEtLSAnICsgbm9kZS50ZXh0ICsgJyAtLT4nICsgdGhpcy5uZXdsaW5lO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdXcml0ZXIucHJvdG90eXBlLmRlY2xhcmF0aW9uID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHZhciByO1xuICAgICAgciA9IHRoaXMuc3BhY2UobGV2ZWwpO1xuICAgICAgciArPSAnPD94bWwgdmVyc2lvbj1cIicgKyBub2RlLnZlcnNpb24gKyAnXCInO1xuICAgICAgaWYgKG5vZGUuZW5jb2RpbmcgIT0gbnVsbCkge1xuICAgICAgICByICs9ICcgZW5jb2Rpbmc9XCInICsgbm9kZS5lbmNvZGluZyArICdcIic7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5zdGFuZGFsb25lICE9IG51bGwpIHtcbiAgICAgICAgciArPSAnIHN0YW5kYWxvbmU9XCInICsgbm9kZS5zdGFuZGFsb25lICsgJ1wiJztcbiAgICAgIH1cbiAgICAgIHIgKz0gJz8+JztcbiAgICAgIHIgKz0gdGhpcy5uZXdsaW5lO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUuZG9jVHlwZSA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICB2YXIgY2hpbGQsIGksIGxlbiwgciwgcmVmO1xuICAgICAgbGV2ZWwgfHwgKGxldmVsID0gMCk7XG4gICAgICByID0gdGhpcy5zcGFjZShsZXZlbCk7XG4gICAgICByICs9ICc8IURPQ1RZUEUgJyArIG5vZGUucm9vdCgpLm5hbWU7XG4gICAgICBpZiAobm9kZS5wdWJJRCAmJiBub2RlLnN5c0lEKSB7XG4gICAgICAgIHIgKz0gJyBQVUJMSUMgXCInICsgbm9kZS5wdWJJRCArICdcIiBcIicgKyBub2RlLnN5c0lEICsgJ1wiJztcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5zeXNJRCkge1xuICAgICAgICByICs9ICcgU1lTVEVNIFwiJyArIG5vZGUuc3lzSUQgKyAnXCInO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICByICs9ICcgWyc7XG4gICAgICAgIHIgKz0gdGhpcy5uZXdsaW5lO1xuICAgICAgICByZWYgPSBub2RlLmNoaWxkcmVuO1xuICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBjaGlsZCA9IHJlZltpXTtcbiAgICAgICAgICByICs9IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRFREQXR0TGlzdCk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHRkQXR0TGlzdChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRFRERWxlbWVudCk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHRkRWxlbWVudChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRFRERW50aXR5KTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kdGRFbnRpdHkoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTERURE5vdGF0aW9uKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kdGROb3RhdGlvbihjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MQ0RhdGEpOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNkYXRhKGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxDb21tZW50KTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb21tZW50KGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24pOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NpbmdJbnN0cnVjdGlvbihjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIERURCBub2RlIHR5cGU6IFwiICsgY2hpbGQuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByICs9ICddJztcbiAgICAgIH1cbiAgICAgIHIgKz0gJz4nO1xuICAgICAgciArPSB0aGlzLm5ld2xpbmU7XG4gICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5nV3JpdGVyLnByb3RvdHlwZS5lbGVtZW50ID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHZhciBhdHQsIGNoaWxkLCBpLCBsZW4sIG5hbWUsIHIsIHJlZiwgcmVmMSwgc3BhY2U7XG4gICAgICBsZXZlbCB8fCAobGV2ZWwgPSAwKTtcbiAgICAgIHNwYWNlID0gdGhpcy5zcGFjZShsZXZlbCk7XG4gICAgICByID0gJyc7XG4gICAgICByICs9IHNwYWNlICsgJzwnICsgbm9kZS5uYW1lO1xuICAgICAgcmVmID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgZm9yIChuYW1lIGluIHJlZikge1xuICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChyZWYsIG5hbWUpKSBjb250aW51ZTtcbiAgICAgICAgYXR0ID0gcmVmW25hbWVdO1xuICAgICAgICByICs9IHRoaXMuYXR0cmlidXRlKGF0dCk7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDAgfHwgbm9kZS5jaGlsZHJlbi5ldmVyeShmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiBlLnZhbHVlID09PSAnJztcbiAgICAgIH0pKSB7XG4gICAgICAgIGlmICh0aGlzLmFsbG93RW1wdHkpIHtcbiAgICAgICAgICByICs9ICc+PC8nICsgbm9kZS5uYW1lICsgJz4nICsgdGhpcy5uZXdsaW5lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHIgKz0gJy8+JyArIHRoaXMubmV3bGluZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXR0eSAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJiAobm9kZS5jaGlsZHJlblswXS52YWx1ZSAhPSBudWxsKSkge1xuICAgICAgICByICs9ICc+JztcbiAgICAgICAgciArPSBub2RlLmNoaWxkcmVuWzBdLnZhbHVlO1xuICAgICAgICByICs9ICc8LycgKyBub2RlLm5hbWUgKyAnPicgKyB0aGlzLm5ld2xpbmU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByICs9ICc+JyArIHRoaXMubmV3bGluZTtcbiAgICAgICAgcmVmMSA9IG5vZGUuY2hpbGRyZW47XG4gICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlZjEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBjaGlsZCA9IHJlZjFbaV07XG4gICAgICAgICAgciArPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGZhbHNlKSB7XG4gICAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTENEYXRhKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jZGF0YShjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MQ29tbWVudCk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tbWVudChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRWxlbWVudCk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MUmF3KTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yYXcoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTFRleHQpOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHQoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbik6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc2luZ0luc3RydWN0aW9uKGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gWE1MIG5vZGUgdHlwZTogXCIgKyBjaGlsZC5jb25zdHJ1Y3Rvci5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHIgKz0gc3BhY2UgKyAnPC8nICsgbm9kZS5uYW1lICsgJz4nICsgdGhpcy5uZXdsaW5lO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUucHJvY2Vzc2luZ0luc3RydWN0aW9uID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHZhciByO1xuICAgICAgciA9IHRoaXMuc3BhY2UobGV2ZWwpICsgJzw/JyArIG5vZGUudGFyZ2V0O1xuICAgICAgaWYgKG5vZGUudmFsdWUpIHtcbiAgICAgICAgciArPSAnICcgKyBub2RlLnZhbHVlO1xuICAgICAgfVxuICAgICAgciArPSAnPz4nICsgdGhpcy5uZXdsaW5lO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUucmF3ID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnNwYWNlKGxldmVsKSArIG5vZGUudmFsdWUgKyB0aGlzLm5ld2xpbmU7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUudGV4dCA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICByZXR1cm4gdGhpcy5zcGFjZShsZXZlbCkgKyBub2RlLnZhbHVlICsgdGhpcy5uZXdsaW5lO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdXcml0ZXIucHJvdG90eXBlLmR0ZEF0dExpc3QgPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgdmFyIHI7XG4gICAgICByID0gdGhpcy5zcGFjZShsZXZlbCkgKyAnPCFBVFRMSVNUICcgKyBub2RlLmVsZW1lbnROYW1lICsgJyAnICsgbm9kZS5hdHRyaWJ1dGVOYW1lICsgJyAnICsgbm9kZS5hdHRyaWJ1dGVUeXBlO1xuICAgICAgaWYgKG5vZGUuZGVmYXVsdFZhbHVlVHlwZSAhPT0gJyNERUZBVUxUJykge1xuICAgICAgICByICs9ICcgJyArIG5vZGUuZGVmYXVsdFZhbHVlVHlwZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmRlZmF1bHRWYWx1ZSkge1xuICAgICAgICByICs9ICcgXCInICsgbm9kZS5kZWZhdWx0VmFsdWUgKyAnXCInO1xuICAgICAgfVxuICAgICAgciArPSAnPicgKyB0aGlzLm5ld2xpbmU7XG4gICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5nV3JpdGVyLnByb3RvdHlwZS5kdGRFbGVtZW50ID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnNwYWNlKGxldmVsKSArICc8IUVMRU1FTlQgJyArIG5vZGUubmFtZSArICcgJyArIG5vZGUudmFsdWUgKyAnPicgKyB0aGlzLm5ld2xpbmU7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUuZHRkRW50aXR5ID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHZhciByO1xuICAgICAgciA9IHRoaXMuc3BhY2UobGV2ZWwpICsgJzwhRU5USVRZJztcbiAgICAgIGlmIChub2RlLnBlKSB7XG4gICAgICAgIHIgKz0gJyAlJztcbiAgICAgIH1cbiAgICAgIHIgKz0gJyAnICsgbm9kZS5uYW1lO1xuICAgICAgaWYgKG5vZGUudmFsdWUpIHtcbiAgICAgICAgciArPSAnIFwiJyArIG5vZGUudmFsdWUgKyAnXCInO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG5vZGUucHViSUQgJiYgbm9kZS5zeXNJRCkge1xuICAgICAgICAgIHIgKz0gJyBQVUJMSUMgXCInICsgbm9kZS5wdWJJRCArICdcIiBcIicgKyBub2RlLnN5c0lEICsgJ1wiJztcbiAgICAgICAgfSBlbHNlIGlmIChub2RlLnN5c0lEKSB7XG4gICAgICAgICAgciArPSAnIFNZU1RFTSBcIicgKyBub2RlLnN5c0lEICsgJ1wiJztcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5uRGF0YSkge1xuICAgICAgICAgIHIgKz0gJyBOREFUQSAnICsgbm9kZS5uRGF0YTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgciArPSAnPicgKyB0aGlzLm5ld2xpbmU7XG4gICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5nV3JpdGVyLnByb3RvdHlwZS5kdGROb3RhdGlvbiA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICB2YXIgcjtcbiAgICAgIHIgPSB0aGlzLnNwYWNlKGxldmVsKSArICc8IU5PVEFUSU9OICcgKyBub2RlLm5hbWU7XG4gICAgICBpZiAobm9kZS5wdWJJRCAmJiBub2RlLnN5c0lEKSB7XG4gICAgICAgIHIgKz0gJyBQVUJMSUMgXCInICsgbm9kZS5wdWJJRCArICdcIiBcIicgKyBub2RlLnN5c0lEICsgJ1wiJztcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5wdWJJRCkge1xuICAgICAgICByICs9ICcgUFVCTElDIFwiJyArIG5vZGUucHViSUQgKyAnXCInO1xuICAgICAgfSBlbHNlIGlmIChub2RlLnN5c0lEKSB7XG4gICAgICAgIHIgKz0gJyBTWVNURU0gXCInICsgbm9kZS5zeXNJRCArICdcIic7XG4gICAgICB9XG4gICAgICByICs9ICc+JyArIHRoaXMubmV3bGluZTtcbiAgICAgIHJldHVybiByO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdXcml0ZXIucHJvdG90eXBlLm9wZW5Ob2RlID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHZhciBhdHQsIG5hbWUsIHIsIHJlZjtcbiAgICAgIGxldmVsIHx8IChsZXZlbCA9IDApO1xuICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBYTUxFbGVtZW50KSB7XG4gICAgICAgIHIgPSB0aGlzLnNwYWNlKGxldmVsKSArICc8JyArIG5vZGUubmFtZTtcbiAgICAgICAgcmVmID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgICBmb3IgKG5hbWUgaW4gcmVmKSB7XG4gICAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwocmVmLCBuYW1lKSkgY29udGludWU7XG4gICAgICAgICAgYXR0ID0gcmVmW25hbWVdO1xuICAgICAgICAgIHIgKz0gdGhpcy5hdHRyaWJ1dGUoYXR0KTtcbiAgICAgICAgfVxuICAgICAgICByICs9IChub2RlLmNoaWxkcmVuID8gJz4nIDogJy8+JykgKyB0aGlzLm5ld2xpbmU7XG4gICAgICAgIHJldHVybiByO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgciA9IHRoaXMuc3BhY2UobGV2ZWwpICsgJzwhRE9DVFlQRSAnICsgbm9kZS5yb290Tm9kZU5hbWU7XG4gICAgICAgIGlmIChub2RlLnB1YklEICYmIG5vZGUuc3lzSUQpIHtcbiAgICAgICAgICByICs9ICcgUFVCTElDIFwiJyArIG5vZGUucHViSUQgKyAnXCIgXCInICsgbm9kZS5zeXNJRCArICdcIic7XG4gICAgICAgIH0gZWxzZSBpZiAobm9kZS5zeXNJRCkge1xuICAgICAgICAgIHIgKz0gJyBTWVNURU0gXCInICsgbm9kZS5zeXNJRCArICdcIic7XG4gICAgICAgIH1cbiAgICAgICAgciArPSAobm9kZS5jaGlsZHJlbiA/ICcgWycgOiAnPicpICsgdGhpcy5uZXdsaW5lO1xuICAgICAgICByZXR1cm4gcjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MU3RyaW5nV3JpdGVyLnByb3RvdHlwZS5jbG9zZU5vZGUgPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgbGV2ZWwgfHwgKGxldmVsID0gMCk7XG4gICAgICBzd2l0Y2ggKGZhbHNlKSB7XG4gICAgICAgIGNhc2UgIShub2RlIGluc3RhbmNlb2YgWE1MRWxlbWVudCk6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3BhY2UobGV2ZWwpICsgJzwvJyArIG5vZGUubmFtZSArICc+JyArIHRoaXMubmV3bGluZTtcbiAgICAgICAgY2FzZSAhKG5vZGUgaW5zdGFuY2VvZiBYTUxEb2NUeXBlKTpcbiAgICAgICAgICByZXR1cm4gdGhpcy5zcGFjZShsZXZlbCkgKyAnXT4nICsgdGhpcy5uZXdsaW5lO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gWE1MU3RyaW5nV3JpdGVyO1xuXG4gIH0pKFhNTFdyaXRlckJhc2UpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxEb2N1bWVudCwgWE1MTm9kZSwgWE1MU3RyaW5nV3JpdGVyLCBYTUxTdHJpbmdpZmllciwgaXNQbGFpbk9iamVjdCxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIGlzUGxhaW5PYmplY3QgPSByZXF1aXJlKCcuL1V0aWxpdHknKS5pc1BsYWluT2JqZWN0O1xuXG4gIFhNTE5vZGUgPSByZXF1aXJlKCcuL1hNTE5vZGUnKTtcblxuICBYTUxTdHJpbmdpZmllciA9IHJlcXVpcmUoJy4vWE1MU3RyaW5naWZpZXInKTtcblxuICBYTUxTdHJpbmdXcml0ZXIgPSByZXF1aXJlKCcuL1hNTFN0cmluZ1dyaXRlcicpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MRG9jdW1lbnQgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxEb2N1bWVudCwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxEb2N1bWVudChvcHRpb25zKSB7XG4gICAgICBYTUxEb2N1bWVudC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBudWxsKTtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgICBpZiAoIW9wdGlvbnMud3JpdGVyKSB7XG4gICAgICAgIG9wdGlvbnMud3JpdGVyID0gbmV3IFhNTFN0cmluZ1dyaXRlcigpO1xuICAgICAgfVxuICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgIHRoaXMuc3RyaW5naWZ5ID0gbmV3IFhNTFN0cmluZ2lmaWVyKG9wdGlvbnMpO1xuICAgICAgdGhpcy5pc0RvY3VtZW50ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBYTUxEb2N1bWVudC5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24od3JpdGVyKSB7XG4gICAgICB2YXIgd3JpdGVyT3B0aW9ucztcbiAgICAgIGlmICghd3JpdGVyKSB7XG4gICAgICAgIHdyaXRlciA9IHRoaXMub3B0aW9ucy53cml0ZXI7XG4gICAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qod3JpdGVyKSkge1xuICAgICAgICB3cml0ZXJPcHRpb25zID0gd3JpdGVyO1xuICAgICAgICB3cml0ZXIgPSB0aGlzLm9wdGlvbnMud3JpdGVyLnNldCh3cml0ZXJPcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cml0ZXIuZG9jdW1lbnQodGhpcyk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnNldChvcHRpb25zKS5kb2N1bWVudCh0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTERvY3VtZW50O1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxBdHRyaWJ1dGUsIFhNTENEYXRhLCBYTUxDb21tZW50LCBYTUxEVERBdHRMaXN0LCBYTUxEVERFbGVtZW50LCBYTUxEVERFbnRpdHksIFhNTERURE5vdGF0aW9uLCBYTUxEZWNsYXJhdGlvbiwgWE1MRG9jVHlwZSwgWE1MRG9jdW1lbnRDQiwgWE1MRWxlbWVudCwgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLCBYTUxSYXcsIFhNTFN0cmluZ1dyaXRlciwgWE1MU3RyaW5naWZpZXIsIFhNTFRleHQsIGlzRnVuY3Rpb24sIGlzT2JqZWN0LCBpc1BsYWluT2JqZWN0LCByZWYsXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIHJlZiA9IHJlcXVpcmUoJy4vVXRpbGl0eScpLCBpc09iamVjdCA9IHJlZi5pc09iamVjdCwgaXNGdW5jdGlvbiA9IHJlZi5pc0Z1bmN0aW9uLCBpc1BsYWluT2JqZWN0ID0gcmVmLmlzUGxhaW5PYmplY3Q7XG5cbiAgWE1MRWxlbWVudCA9IHJlcXVpcmUoJy4vWE1MRWxlbWVudCcpO1xuXG4gIFhNTENEYXRhID0gcmVxdWlyZSgnLi9YTUxDRGF0YScpO1xuXG4gIFhNTENvbW1lbnQgPSByZXF1aXJlKCcuL1hNTENvbW1lbnQnKTtcblxuICBYTUxSYXcgPSByZXF1aXJlKCcuL1hNTFJhdycpO1xuXG4gIFhNTFRleHQgPSByZXF1aXJlKCcuL1hNTFRleHQnKTtcblxuICBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSByZXF1aXJlKCcuL1hNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbicpO1xuXG4gIFhNTERlY2xhcmF0aW9uID0gcmVxdWlyZSgnLi9YTUxEZWNsYXJhdGlvbicpO1xuXG4gIFhNTERvY1R5cGUgPSByZXF1aXJlKCcuL1hNTERvY1R5cGUnKTtcblxuICBYTUxEVERBdHRMaXN0ID0gcmVxdWlyZSgnLi9YTUxEVERBdHRMaXN0Jyk7XG5cbiAgWE1MRFRERW50aXR5ID0gcmVxdWlyZSgnLi9YTUxEVERFbnRpdHknKTtcblxuICBYTUxEVERFbGVtZW50ID0gcmVxdWlyZSgnLi9YTUxEVERFbGVtZW50Jyk7XG5cbiAgWE1MRFRETm90YXRpb24gPSByZXF1aXJlKCcuL1hNTERURE5vdGF0aW9uJyk7XG5cbiAgWE1MQXR0cmlidXRlID0gcmVxdWlyZSgnLi9YTUxBdHRyaWJ1dGUnKTtcblxuICBYTUxTdHJpbmdpZmllciA9IHJlcXVpcmUoJy4vWE1MU3RyaW5naWZpZXInKTtcblxuICBYTUxTdHJpbmdXcml0ZXIgPSByZXF1aXJlKCcuL1hNTFN0cmluZ1dyaXRlcicpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MRG9jdW1lbnRDQiA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBYTUxEb2N1bWVudENCKG9wdGlvbnMsIG9uRGF0YSwgb25FbmQpIHtcbiAgICAgIHZhciB3cml0ZXJPcHRpb25zO1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KTtcbiAgICAgIGlmICghb3B0aW9ucy53cml0ZXIpIHtcbiAgICAgICAgb3B0aW9ucy53cml0ZXIgPSBuZXcgWE1MU3RyaW5nV3JpdGVyKG9wdGlvbnMpO1xuICAgICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KG9wdGlvbnMud3JpdGVyKSkge1xuICAgICAgICB3cml0ZXJPcHRpb25zID0gb3B0aW9ucy53cml0ZXI7XG4gICAgICAgIG9wdGlvbnMud3JpdGVyID0gbmV3IFhNTFN0cmluZ1dyaXRlcih3cml0ZXJPcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICB0aGlzLndyaXRlciA9IG9wdGlvbnMud3JpdGVyO1xuICAgICAgdGhpcy5zdHJpbmdpZnkgPSBuZXcgWE1MU3RyaW5naWZpZXIob3B0aW9ucyk7XG4gICAgICB0aGlzLm9uRGF0YUNhbGxiYWNrID0gb25EYXRhIHx8IGZ1bmN0aW9uKCkge307XG4gICAgICB0aGlzLm9uRW5kQ2FsbGJhY2sgPSBvbkVuZCB8fCBmdW5jdGlvbigpIHt9O1xuICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IG51bGw7XG4gICAgICB0aGlzLmN1cnJlbnRMZXZlbCA9IC0xO1xuICAgICAgdGhpcy5vcGVuVGFncyA9IHt9O1xuICAgICAgdGhpcy5kb2N1bWVudFN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuZG9jdW1lbnRDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMucm9vdCA9IG51bGw7XG4gICAgfVxuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUubm9kZSA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIHZhciByZWYxO1xuICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIG5vZGUgbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnJvb3QgJiYgdGhpcy5jdXJyZW50TGV2ZWwgPT09IC0xKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRvY3VtZW50IGNhbiBvbmx5IGhhdmUgb25lIHJvb3Qgbm9kZVwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIG5hbWUgPSBuYW1lLnZhbHVlT2YoKTtcbiAgICAgIGlmIChhdHRyaWJ1dGVzID09IG51bGwpIHtcbiAgICAgICAgYXR0cmlidXRlcyA9IHt9O1xuICAgICAgfVxuICAgICAgYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXMudmFsdWVPZigpO1xuICAgICAgaWYgKCFpc09iamVjdChhdHRyaWJ1dGVzKSkge1xuICAgICAgICByZWYxID0gW2F0dHJpYnV0ZXMsIHRleHRdLCB0ZXh0ID0gcmVmMVswXSwgYXR0cmlidXRlcyA9IHJlZjFbMV07XG4gICAgICB9XG4gICAgICB0aGlzLmN1cnJlbnROb2RlID0gbmV3IFhNTEVsZW1lbnQodGhpcywgbmFtZSwgYXR0cmlidXRlcyk7XG4gICAgICB0aGlzLmN1cnJlbnROb2RlLmNoaWxkcmVuID0gZmFsc2U7XG4gICAgICB0aGlzLmN1cnJlbnRMZXZlbCsrO1xuICAgICAgdGhpcy5vcGVuVGFnc1t0aGlzLmN1cnJlbnRMZXZlbF0gPSB0aGlzLmN1cnJlbnROb2RlO1xuICAgICAgaWYgKHRleHQgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnRleHQodGV4dCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZWxlbWVudCA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnROb2RlICYmIHRoaXMuY3VycmVudE5vZGUgaW5zdGFuY2VvZiBYTUxEb2NUeXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmR0ZEVsZW1lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGUobmFtZSwgYXR0cmlidXRlcywgdGV4dCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmF0dHJpYnV0ZSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgYXR0TmFtZSwgYXR0VmFsdWU7XG4gICAgICBpZiAoIXRoaXMuY3VycmVudE5vZGUgfHwgdGhpcy5jdXJyZW50Tm9kZS5jaGlsZHJlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhdHQoKSBjYW4gb25seSBiZSB1c2VkIGltbWVkaWF0ZWx5IGFmdGVyIGFuIGVsZSgpIGNhbGwgaW4gY2FsbGJhY2sgbW9kZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuYW1lICE9IG51bGwpIHtcbiAgICAgICAgbmFtZSA9IG5hbWUudmFsdWVPZigpO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XG4gICAgICAgIGZvciAoYXR0TmFtZSBpbiBuYW1lKSB7XG4gICAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwobmFtZSwgYXR0TmFtZSkpIGNvbnRpbnVlO1xuICAgICAgICAgIGF0dFZhbHVlID0gbmFtZVthdHROYW1lXTtcbiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZShhdHROYW1lLCBhdHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUuYXBwbHkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5za2lwTnVsbEF0dHJpYnV0ZXMgfHwgKHZhbHVlICE9IG51bGwpKSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZS5hdHRyaWJ1dGVzW25hbWVdID0gbmV3IFhNTEF0dHJpYnV0ZSh0aGlzLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS50ZXh0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBub2RlO1xuICAgICAgdGhpcy5vcGVuQ3VycmVudCgpO1xuICAgICAgbm9kZSA9IG5ldyBYTUxUZXh0KHRoaXMsIHZhbHVlKTtcbiAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLnRleHQobm9kZSwgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuY2RhdGEgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBub2RlID0gbmV3IFhNTENEYXRhKHRoaXMsIHZhbHVlKTtcbiAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLmNkYXRhKG5vZGUsIHRoaXMuY3VycmVudExldmVsICsgMSkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmNvbW1lbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBub2RlID0gbmV3IFhNTENvbW1lbnQodGhpcywgdmFsdWUpO1xuICAgICAgdGhpcy5vbkRhdGEodGhpcy53cml0ZXIuY29tbWVudChub2RlLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5yYXcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBub2RlID0gbmV3IFhNTFJhdyh0aGlzLCB2YWx1ZSk7XG4gICAgICB0aGlzLm9uRGF0YSh0aGlzLndyaXRlci5yYXcobm9kZSwgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuaW5zdHJ1Y3Rpb24gPSBmdW5jdGlvbih0YXJnZXQsIHZhbHVlKSB7XG4gICAgICB2YXIgaSwgaW5zVGFyZ2V0LCBpbnNWYWx1ZSwgbGVuLCBub2RlO1xuICAgICAgdGhpcy5vcGVuQ3VycmVudCgpO1xuICAgICAgaWYgKHRhcmdldCAhPSBudWxsKSB7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldC52YWx1ZU9mKCk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnZhbHVlT2YoKTtcbiAgICAgIH1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgZm9yIChpID0gMCwgbGVuID0gdGFyZ2V0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgaW5zVGFyZ2V0ID0gdGFyZ2V0W2ldO1xuICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb24oaW5zVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc09iamVjdCh0YXJnZXQpKSB7XG4gICAgICAgIGZvciAoaW5zVGFyZ2V0IGluIHRhcmdldCkge1xuICAgICAgICAgIGlmICghaGFzUHJvcC5jYWxsKHRhcmdldCwgaW5zVGFyZ2V0KSkgY29udGludWU7XG4gICAgICAgICAgaW5zVmFsdWUgPSB0YXJnZXRbaW5zVGFyZ2V0XTtcbiAgICAgICAgICB0aGlzLmluc3RydWN0aW9uKGluc1RhcmdldCwgaW5zVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmFwcGx5KCk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5ldyBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24odGhpcywgdGFyZ2V0LCB2YWx1ZSk7XG4gICAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLnByb2Nlc3NpbmdJbnN0cnVjdGlvbihub2RlLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5kZWNsYXJhdGlvbiA9IGZ1bmN0aW9uKHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIGlmICh0aGlzLmRvY3VtZW50U3RhcnRlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJkZWNsYXJhdGlvbigpIG11c3QgYmUgdGhlIGZpcnN0IG5vZGVcIik7XG4gICAgICB9XG4gICAgICBub2RlID0gbmV3IFhNTERlY2xhcmF0aW9uKHRoaXMsIHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKTtcbiAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLmRlY2xhcmF0aW9uKG5vZGUsIHRoaXMuY3VycmVudExldmVsICsgMSkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmRvY3R5cGUgPSBmdW5jdGlvbihyb290LCBwdWJJRCwgc3lzSUQpIHtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIGlmIChyb290ID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByb290IG5vZGUgbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnJvb3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZHRkKCkgbXVzdCBjb21lIGJlZm9yZSB0aGUgcm9vdCBub2RlXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IG5ldyBYTUxEb2NUeXBlKHRoaXMsIHB1YklELCBzeXNJRCk7XG4gICAgICB0aGlzLmN1cnJlbnROb2RlLnJvb3ROb2RlTmFtZSA9IHJvb3Q7XG4gICAgICB0aGlzLmN1cnJlbnROb2RlLmNoaWxkcmVuID0gZmFsc2U7XG4gICAgICB0aGlzLmN1cnJlbnRMZXZlbCsrO1xuICAgICAgdGhpcy5vcGVuVGFnc1t0aGlzLmN1cnJlbnRMZXZlbF0gPSB0aGlzLmN1cnJlbnROb2RlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmR0ZEVsZW1lbnQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBub2RlID0gbmV3IFhNTERUREVsZW1lbnQodGhpcywgbmFtZSwgdmFsdWUpO1xuICAgICAgdGhpcy5vbkRhdGEodGhpcy53cml0ZXIuZHRkRWxlbWVudChub2RlLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5hdHRMaXN0ID0gZnVuY3Rpb24oZWxlbWVudE5hbWUsIGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVR5cGUsIGRlZmF1bHRWYWx1ZVR5cGUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBub2RlID0gbmV3IFhNTERUREF0dExpc3QodGhpcywgZWxlbWVudE5hbWUsIGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVR5cGUsIGRlZmF1bHRWYWx1ZVR5cGUsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICB0aGlzLm9uRGF0YSh0aGlzLndyaXRlci5kdGRBdHRMaXN0KG5vZGUsIHRoaXMuY3VycmVudExldmVsICsgMSkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmVudGl0eSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIG5vZGUgPSBuZXcgWE1MRFRERW50aXR5KHRoaXMsIGZhbHNlLCBuYW1lLCB2YWx1ZSk7XG4gICAgICB0aGlzLm9uRGF0YSh0aGlzLndyaXRlci5kdGRFbnRpdHkobm9kZSwgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUucEVudGl0eSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIG5vZGUgPSBuZXcgWE1MRFRERW50aXR5KHRoaXMsIHRydWUsIG5hbWUsIHZhbHVlKTtcbiAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLmR0ZEVudGl0eShub2RlLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5ub3RhdGlvbiA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIG5vZGUgPSBuZXcgWE1MRFRETm90YXRpb24odGhpcywgbmFtZSwgdmFsdWUpO1xuICAgICAgdGhpcy5vbkRhdGEodGhpcy53cml0ZXIuZHRkTm90YXRpb24obm9kZSwgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUudXAgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRMZXZlbCA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGRvY3VtZW50IG5vZGUgaGFzIG5vIHBhcmVudFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmN1cnJlbnROb2RlKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnROb2RlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZU5vZGUodGhpcy5jdXJyZW50Tm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5vcGVuTm9kZSh0aGlzLmN1cnJlbnROb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2xvc2VOb2RlKHRoaXMub3BlblRhZ3NbdGhpcy5jdXJyZW50TGV2ZWxdKTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSB0aGlzLm9wZW5UYWdzW3RoaXMuY3VycmVudExldmVsXTtcbiAgICAgIHRoaXMuY3VycmVudExldmVsLS07XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICB3aGlsZSAodGhpcy5jdXJyZW50TGV2ZWwgPj0gMCkge1xuICAgICAgICB0aGlzLnVwKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5vbkVuZCgpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5vcGVuQ3VycmVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuY3VycmVudE5vZGUpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZS5jaGlsZHJlbiA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzLm9wZW5Ob2RlKHRoaXMuY3VycmVudE5vZGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5vcGVuTm9kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIGlmICghbm9kZS5pc09wZW4pIHtcbiAgICAgICAgaWYgKCF0aGlzLnJvb3QgJiYgdGhpcy5jdXJyZW50TGV2ZWwgPT09IDAgJiYgbm9kZSBpbnN0YW5jZW9mIFhNTEVsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLnJvb3QgPSBub2RlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLm9wZW5Ob2RlKG5vZGUsIHRoaXMuY3VycmVudExldmVsKSk7XG4gICAgICAgIHJldHVybiBub2RlLmlzT3BlbiA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmNsb3NlTm9kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIGlmICghbm9kZS5pc0Nsb3NlZCkge1xuICAgICAgICB0aGlzLm9uRGF0YSh0aGlzLndyaXRlci5jbG9zZU5vZGUobm9kZSwgdGhpcy5jdXJyZW50TGV2ZWwpKTtcbiAgICAgICAgcmV0dXJuIG5vZGUuaXNDbG9zZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5vbkRhdGEgPSBmdW5jdGlvbihjaHVuaykge1xuICAgICAgdGhpcy5kb2N1bWVudFN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXMub25EYXRhQ2FsbGJhY2soY2h1bmspO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5vbkVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb2N1bWVudENvbXBsZXRlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcy5vbkVuZENhbGxiYWNrKCk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmVsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5ub2QgPSBmdW5jdGlvbihuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5ub2RlKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS50eHQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmRhdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jZGF0YSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmNvbSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb21tZW50KHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuaW5zID0gZnVuY3Rpb24odGFyZ2V0LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5zdHJ1Y3Rpb24odGFyZ2V0LCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmRlYyA9IGZ1bmN0aW9uKHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWNsYXJhdGlvbih2ZXJzaW9uLCBlbmNvZGluZywgc3RhbmRhbG9uZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmR0ZCA9IGZ1bmN0aW9uKHJvb3QsIHB1YklELCBzeXNJRCkge1xuICAgICAgcmV0dXJuIHRoaXMuZG9jdHlwZShyb290LCBwdWJJRCwgc3lzSUQpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5lID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudChuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUubiA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLm5vZGUobmFtZSwgYXR0cmlidXRlcywgdGV4dCk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2RhdGEodmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5jID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbW1lbnQodmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJhdyh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmkgPSBmdW5jdGlvbih0YXJnZXQsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnN0cnVjdGlvbih0YXJnZXQsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuYXR0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50Tm9kZSAmJiB0aGlzLmN1cnJlbnROb2RlIGluc3RhbmNlb2YgWE1MRG9jVHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRMaXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuYSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuY3VycmVudE5vZGUgJiYgdGhpcy5jdXJyZW50Tm9kZSBpbnN0YW5jZW9mIFhNTERvY1R5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0TGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmVudCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbnRpdHkobmFtZSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5wZW50ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnBFbnRpdHkobmFtZSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5ub3QgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMubm90YXRpb24obmFtZSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MRG9jdW1lbnRDQjtcblxuICB9KSgpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxDRGF0YSwgWE1MQ29tbWVudCwgWE1MRFREQXR0TGlzdCwgWE1MRFRERWxlbWVudCwgWE1MRFRERW50aXR5LCBYTUxEVEROb3RhdGlvbiwgWE1MRGVjbGFyYXRpb24sIFhNTERvY1R5cGUsIFhNTEVsZW1lbnQsIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbiwgWE1MUmF3LCBYTUxTdHJlYW1Xcml0ZXIsIFhNTFRleHQsIFhNTFdyaXRlckJhc2UsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBYTUxEZWNsYXJhdGlvbiA9IHJlcXVpcmUoJy4vWE1MRGVjbGFyYXRpb24nKTtcblxuICBYTUxEb2NUeXBlID0gcmVxdWlyZSgnLi9YTUxEb2NUeXBlJyk7XG5cbiAgWE1MQ0RhdGEgPSByZXF1aXJlKCcuL1hNTENEYXRhJyk7XG5cbiAgWE1MQ29tbWVudCA9IHJlcXVpcmUoJy4vWE1MQ29tbWVudCcpO1xuXG4gIFhNTEVsZW1lbnQgPSByZXF1aXJlKCcuL1hNTEVsZW1lbnQnKTtcblxuICBYTUxSYXcgPSByZXF1aXJlKCcuL1hNTFJhdycpO1xuXG4gIFhNTFRleHQgPSByZXF1aXJlKCcuL1hNTFRleHQnKTtcblxuICBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSByZXF1aXJlKCcuL1hNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbicpO1xuXG4gIFhNTERUREF0dExpc3QgPSByZXF1aXJlKCcuL1hNTERUREF0dExpc3QnKTtcblxuICBYTUxEVERFbGVtZW50ID0gcmVxdWlyZSgnLi9YTUxEVERFbGVtZW50Jyk7XG5cbiAgWE1MRFRERW50aXR5ID0gcmVxdWlyZSgnLi9YTUxEVERFbnRpdHknKTtcblxuICBYTUxEVEROb3RhdGlvbiA9IHJlcXVpcmUoJy4vWE1MRFRETm90YXRpb24nKTtcblxuICBYTUxXcml0ZXJCYXNlID0gcmVxdWlyZSgnLi9YTUxXcml0ZXJCYXNlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxTdHJlYW1Xcml0ZXIgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxTdHJlYW1Xcml0ZXIsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gWE1MU3RyZWFtV3JpdGVyKHN0cmVhbSwgb3B0aW9ucykge1xuICAgICAgdGhpcy5zdHJlYW0gPSBzdHJlYW07XG4gICAgICBYTUxTdHJlYW1Xcml0ZXIuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5kb2N1bWVudCA9IGZ1bmN0aW9uKGRvYykge1xuICAgICAgdmFyIGNoaWxkLCBpLCBqLCBsZW4sIGxlbjEsIHJlZiwgcmVmMSwgcmVzdWx0cztcbiAgICAgIHJlZiA9IGRvYy5jaGlsZHJlbjtcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjaGlsZCA9IHJlZltpXTtcbiAgICAgICAgY2hpbGQuaXNMYXN0Um9vdE5vZGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGRvYy5jaGlsZHJlbltkb2MuY2hpbGRyZW4ubGVuZ3RoIC0gMV0uaXNMYXN0Um9vdE5vZGUgPSB0cnVlO1xuICAgICAgcmVmMSA9IGRvYy5jaGlsZHJlbjtcbiAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgIGZvciAoaiA9IDAsIGxlbjEgPSByZWYxLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuICAgICAgICBjaGlsZCA9IHJlZjFbal07XG4gICAgICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxEZWNsYXJhdGlvbik6XG4gICAgICAgICAgICByZXN1bHRzLnB1c2godGhpcy5kZWNsYXJhdGlvbihjaGlsZCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRG9jVHlwZSk6XG4gICAgICAgICAgICByZXN1bHRzLnB1c2godGhpcy5kb2NUeXBlKGNoaWxkKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxDb21tZW50KTpcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCh0aGlzLmNvbW1lbnQoY2hpbGQpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbik6XG4gICAgICAgICAgICByZXN1bHRzLnB1c2godGhpcy5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24oY2hpbGQpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXN1bHRzLnB1c2godGhpcy5lbGVtZW50KGNoaWxkKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmF0dHJpYnV0ZSA9IGZ1bmN0aW9uKGF0dCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKCcgJyArIGF0dC5uYW1lICsgJz1cIicgKyBhdHQudmFsdWUgKyAnXCInKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5jZGF0YSA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUodGhpcy5zcGFjZShsZXZlbCkgKyAnPCFbQ0RBVEFbJyArIG5vZGUudGV4dCArICddXT4nICsgdGhpcy5lbmRsaW5lKG5vZGUpKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5jb21tZW50ID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlKGxldmVsKSArICc8IS0tICcgKyBub2RlLnRleHQgKyAnIC0tPicgKyB0aGlzLmVuZGxpbmUobm9kZSkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmRlY2xhcmF0aW9uID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHRoaXMuc3RyZWFtLndyaXRlKHRoaXMuc3BhY2UobGV2ZWwpKTtcbiAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCc8P3htbCB2ZXJzaW9uPVwiJyArIG5vZGUudmVyc2lvbiArICdcIicpO1xuICAgICAgaWYgKG5vZGUuZW5jb2RpbmcgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnIGVuY29kaW5nPVwiJyArIG5vZGUuZW5jb2RpbmcgKyAnXCInKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLnN0YW5kYWxvbmUgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnIHN0YW5kYWxvbmU9XCInICsgbm9kZS5zdGFuZGFsb25lICsgJ1wiJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSgnPz4nKTtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLmVuZGxpbmUobm9kZSkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmRvY1R5cGUgPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgdmFyIGNoaWxkLCBpLCBsZW4sIHJlZjtcbiAgICAgIGxldmVsIHx8IChsZXZlbCA9IDApO1xuICAgICAgdGhpcy5zdHJlYW0ud3JpdGUodGhpcy5zcGFjZShsZXZlbCkpO1xuICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJzwhRE9DVFlQRSAnICsgbm9kZS5yb290KCkubmFtZSk7XG4gICAgICBpZiAobm9kZS5wdWJJRCAmJiBub2RlLnN5c0lEKSB7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCcgUFVCTElDIFwiJyArIG5vZGUucHViSUQgKyAnXCIgXCInICsgbm9kZS5zeXNJRCArICdcIicpO1xuICAgICAgfSBlbHNlIGlmIChub2RlLnN5c0lEKSB7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCcgU1lTVEVNIFwiJyArIG5vZGUuc3lzSUQgKyAnXCInKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyBbJyk7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKHRoaXMuZW5kbGluZShub2RlKSk7XG4gICAgICAgIHJlZiA9IG5vZGUuY2hpbGRyZW47XG4gICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGNoaWxkID0gcmVmW2ldO1xuICAgICAgICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTERUREF0dExpc3QpOlxuICAgICAgICAgICAgICB0aGlzLmR0ZEF0dExpc3QoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRFRERWxlbWVudCk6XG4gICAgICAgICAgICAgIHRoaXMuZHRkRWxlbWVudChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxEVERFbnRpdHkpOlxuICAgICAgICAgICAgICB0aGlzLmR0ZEVudGl0eShjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxEVEROb3RhdGlvbik6XG4gICAgICAgICAgICAgIHRoaXMuZHRkTm90YXRpb24oY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MQ0RhdGEpOlxuICAgICAgICAgICAgICB0aGlzLmNkYXRhKGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTENvbW1lbnQpOlxuICAgICAgICAgICAgICB0aGlzLmNvbW1lbnQoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uKTpcbiAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24oY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBEVEQgbm9kZSB0eXBlOiBcIiArIGNoaWxkLmNvbnN0cnVjdG9yLm5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnXScpO1xuICAgICAgfVxuICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJz4nKTtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLmVuZGxpbmUobm9kZSkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmVsZW1lbnQgPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgdmFyIGF0dCwgY2hpbGQsIGksIGxlbiwgbmFtZSwgcmVmLCByZWYxLCBzcGFjZTtcbiAgICAgIGxldmVsIHx8IChsZXZlbCA9IDApO1xuICAgICAgc3BhY2UgPSB0aGlzLnNwYWNlKGxldmVsKTtcbiAgICAgIHRoaXMuc3RyZWFtLndyaXRlKHNwYWNlICsgJzwnICsgbm9kZS5uYW1lKTtcbiAgICAgIHJlZiA9IG5vZGUuYXR0cmlidXRlcztcbiAgICAgIGZvciAobmFtZSBpbiByZWYpIHtcbiAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwocmVmLCBuYW1lKSkgY29udGludWU7XG4gICAgICAgIGF0dCA9IHJlZltuYW1lXTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGUoYXR0KTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCB8fCBub2RlLmNoaWxkcmVuLmV2ZXJ5KGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmV0dXJuIGUudmFsdWUgPT09ICcnO1xuICAgICAgfSkpIHtcbiAgICAgICAgaWYgKHRoaXMuYWxsb3dFbXB0eSkge1xuICAgICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCc+PC8nICsgbm9kZS5uYW1lICsgJz4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnLz4nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXR0eSAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJiAobm9kZS5jaGlsZHJlblswXS52YWx1ZSAhPSBudWxsKSkge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnPicpO1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZShub2RlLmNoaWxkcmVuWzBdLnZhbHVlKTtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJzwvJyArIG5vZGUubmFtZSArICc+Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnPicgKyB0aGlzLm5ld2xpbmUpO1xuICAgICAgICByZWYxID0gbm9kZS5jaGlsZHJlbjtcbiAgICAgICAgZm9yIChpID0gMCwgbGVuID0gcmVmMS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGNoaWxkID0gcmVmMVtpXTtcbiAgICAgICAgICBzd2l0Y2ggKGZhbHNlKSB7XG4gICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxDRGF0YSk6XG4gICAgICAgICAgICAgIHRoaXMuY2RhdGEoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MQ29tbWVudCk6XG4gICAgICAgICAgICAgIHRoaXMuY29tbWVudChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxFbGVtZW50KTpcbiAgICAgICAgICAgICAgdGhpcy5lbGVtZW50KGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTFJhdyk6XG4gICAgICAgICAgICAgIHRoaXMucmF3KGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTFRleHQpOlxuICAgICAgICAgICAgICB0aGlzLnRleHQoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uKTpcbiAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24oY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBYTUwgbm9kZSB0eXBlOiBcIiArIGNoaWxkLmNvbnN0cnVjdG9yLm5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZShzcGFjZSArICc8LycgKyBub2RlLm5hbWUgKyAnPicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKHRoaXMuZW5kbGluZShub2RlKSk7XG4gICAgfTtcblxuICAgIFhNTFN0cmVhbVdyaXRlci5wcm90b3R5cGUucHJvY2Vzc2luZ0luc3RydWN0aW9uID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHRoaXMuc3RyZWFtLndyaXRlKHRoaXMuc3BhY2UobGV2ZWwpICsgJzw/JyArIG5vZGUudGFyZ2V0KTtcbiAgICAgIGlmIChub2RlLnZhbHVlKSB7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCcgJyArIG5vZGUudmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKCc/PicgKyB0aGlzLmVuZGxpbmUobm9kZSkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLnJhdyA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUodGhpcy5zcGFjZShsZXZlbCkgKyBub2RlLnZhbHVlICsgdGhpcy5lbmRsaW5lKG5vZGUpKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS50ZXh0ID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlKGxldmVsKSArIG5vZGUudmFsdWUgKyB0aGlzLmVuZGxpbmUobm9kZSkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmR0ZEF0dExpc3QgPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgdGhpcy5zdHJlYW0ud3JpdGUodGhpcy5zcGFjZShsZXZlbCkgKyAnPCFBVFRMSVNUICcgKyBub2RlLmVsZW1lbnROYW1lICsgJyAnICsgbm9kZS5hdHRyaWJ1dGVOYW1lICsgJyAnICsgbm9kZS5hdHRyaWJ1dGVUeXBlKTtcbiAgICAgIGlmIChub2RlLmRlZmF1bHRWYWx1ZVR5cGUgIT09ICcjREVGQVVMVCcpIHtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyAnICsgbm9kZS5kZWZhdWx0VmFsdWVUeXBlKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmRlZmF1bHRWYWx1ZSkge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnIFwiJyArIG5vZGUuZGVmYXVsdFZhbHVlICsgJ1wiJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUoJz4nICsgdGhpcy5lbmRsaW5lKG5vZGUpKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5kdGRFbGVtZW50ID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlKGxldmVsKSArICc8IUVMRU1FTlQgJyArIG5vZGUubmFtZSArICcgJyArIG5vZGUudmFsdWUgKyAnPicgKyB0aGlzLmVuZGxpbmUobm9kZSkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmR0ZEVudGl0eSA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlKGxldmVsKSArICc8IUVOVElUWScpO1xuICAgICAgaWYgKG5vZGUucGUpIHtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyAlJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSgnICcgKyBub2RlLm5hbWUpO1xuICAgICAgaWYgKG5vZGUudmFsdWUpIHtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyBcIicgKyBub2RlLnZhbHVlICsgJ1wiJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobm9kZS5wdWJJRCAmJiBub2RlLnN5c0lEKSB7XG4gICAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyBQVUJMSUMgXCInICsgbm9kZS5wdWJJRCArICdcIiBcIicgKyBub2RlLnN5c0lEICsgJ1wiJyk7XG4gICAgICAgIH0gZWxzZSBpZiAobm9kZS5zeXNJRCkge1xuICAgICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCcgU1lTVEVNIFwiJyArIG5vZGUuc3lzSUQgKyAnXCInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5uRGF0YSkge1xuICAgICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCcgTkRBVEEgJyArIG5vZGUubkRhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUoJz4nICsgdGhpcy5lbmRsaW5lKG5vZGUpKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5kdGROb3RhdGlvbiA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlKGxldmVsKSArICc8IU5PVEFUSU9OICcgKyBub2RlLm5hbWUpO1xuICAgICAgaWYgKG5vZGUucHViSUQgJiYgbm9kZS5zeXNJRCkge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnIFBVQkxJQyBcIicgKyBub2RlLnB1YklEICsgJ1wiIFwiJyArIG5vZGUuc3lzSUQgKyAnXCInKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5wdWJJRCkge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnIFBVQkxJQyBcIicgKyBub2RlLnB1YklEICsgJ1wiJyk7XG4gICAgICB9IGVsc2UgaWYgKG5vZGUuc3lzSUQpIHtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyBTWVNURU0gXCInICsgbm9kZS5zeXNJRCArICdcIicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKCc+JyArIHRoaXMuZW5kbGluZShub2RlKSk7XG4gICAgfTtcblxuICAgIFhNTFN0cmVhbVdyaXRlci5wcm90b3R5cGUuZW5kbGluZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIGlmICghbm9kZS5pc0xhc3RSb290Tm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZXdsaW5lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gWE1MU3RyZWFtV3JpdGVyO1xuXG4gIH0pKFhNTFdyaXRlckJhc2UpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxEb2N1bWVudCwgWE1MRG9jdW1lbnRDQiwgWE1MU3RyZWFtV3JpdGVyLCBYTUxTdHJpbmdXcml0ZXIsIGFzc2lnbiwgaXNGdW5jdGlvbiwgcmVmO1xuXG4gIHJlZiA9IHJlcXVpcmUoJy4vVXRpbGl0eScpLCBhc3NpZ24gPSByZWYuYXNzaWduLCBpc0Z1bmN0aW9uID0gcmVmLmlzRnVuY3Rpb247XG5cbiAgWE1MRG9jdW1lbnQgPSByZXF1aXJlKCcuL1hNTERvY3VtZW50Jyk7XG5cbiAgWE1MRG9jdW1lbnRDQiA9IHJlcXVpcmUoJy4vWE1MRG9jdW1lbnRDQicpO1xuXG4gIFhNTFN0cmluZ1dyaXRlciA9IHJlcXVpcmUoJy4vWE1MU3RyaW5nV3JpdGVyJyk7XG5cbiAgWE1MU3RyZWFtV3JpdGVyID0gcmVxdWlyZSgnLi9YTUxTdHJlYW1Xcml0ZXInKTtcblxuICBtb2R1bGUuZXhwb3J0cy5jcmVhdGUgPSBmdW5jdGlvbihuYW1lLCB4bWxkZWMsIGRvY3R5cGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgZG9jLCByb290O1xuICAgIGlmIChuYW1lID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJvb3QgZWxlbWVudCBuZWVkcyBhIG5hbWVcIik7XG4gICAgfVxuICAgIG9wdGlvbnMgPSBhc3NpZ24oe30sIHhtbGRlYywgZG9jdHlwZSwgb3B0aW9ucyk7XG4gICAgZG9jID0gbmV3IFhNTERvY3VtZW50KG9wdGlvbnMpO1xuICAgIHJvb3QgPSBkb2MuZWxlbWVudChuYW1lKTtcbiAgICBpZiAoIW9wdGlvbnMuaGVhZGxlc3MpIHtcbiAgICAgIGRvYy5kZWNsYXJhdGlvbihvcHRpb25zKTtcbiAgICAgIGlmICgob3B0aW9ucy5wdWJJRCAhPSBudWxsKSB8fCAob3B0aW9ucy5zeXNJRCAhPSBudWxsKSkge1xuICAgICAgICBkb2MuZG9jdHlwZShvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJvb3Q7XG4gIH07XG5cbiAgbW9kdWxlLmV4cG9ydHMuYmVnaW4gPSBmdW5jdGlvbihvcHRpb25zLCBvbkRhdGEsIG9uRW5kKSB7XG4gICAgdmFyIHJlZjE7XG4gICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICAgIHJlZjEgPSBbb3B0aW9ucywgb25EYXRhXSwgb25EYXRhID0gcmVmMVswXSwgb25FbmQgPSByZWYxWzFdO1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBpZiAob25EYXRhKSB7XG4gICAgICByZXR1cm4gbmV3IFhNTERvY3VtZW50Q0Iob3B0aW9ucywgb25EYXRhLCBvbkVuZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgWE1MRG9jdW1lbnQob3B0aW9ucyk7XG4gICAgfVxuICB9O1xuXG4gIG1vZHVsZS5leHBvcnRzLnN0cmluZ1dyaXRlciA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFhNTFN0cmluZ1dyaXRlcihvcHRpb25zKTtcbiAgfTtcblxuICBtb2R1bGUuZXhwb3J0cy5zdHJlYW1Xcml0ZXIgPSBmdW5jdGlvbihzdHJlYW0sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFhNTFN0cmVhbVdyaXRlcihzdHJlYW0sIG9wdGlvbnMpO1xuICB9O1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8qKlxuICogQGNsYXNzIERhdGVGb3JtYXR0ZXJcbiAqIFRoZSBEYXRlRm9ybWF0dGVyIHN1cHBvcnRzIGRlY29kaW5nIGZyb20gYW5kIGVuY29kaW5nIHRvXG4gKiBJU084NjAxIGZvcm1hdHRlZCBzdHJpbmdzLiBBY2NlcHRzIGZvcm1hdHMgd2l0aCBhbmQgd2l0aG91dFxuICogaHlwaGVuL2NvbG9uIHNlcGFyYXRvcnMgYW5kIGNvcnJlY3RseSBwYXJzZXMgem9uaW5nIGluZm8uXG4gKi9cbnZhciBEYXRlRm9ybWF0dGVyID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgdGhpcy5vcHRzID0ge31cbiAgdGhpcy5zZXRPcHRzKG9wdHMpXG59XG5cbi8qKlxuICogRGVmYXVsdCBvcHRpb25zIGZvciBEYXRlRm9ybWF0dGVyXG4gKiBAc3RhdGljXG4gKiBAc2VlIERhdGVGb3JtYXR0ZXIjc2V0T3B0c1xuICovXG5EYXRlRm9ybWF0dGVyLkRFRkFVTFRfT1BUSU9OUyA9IHtcbiAgY29sb25zOiB0cnVlXG4sIGh5cGhlbnM6IGZhbHNlXG4sIGxvY2FsOiB0cnVlXG4sIG1zOiBmYWxzZVxuLCBvZmZzZXQ6IGZhbHNlXG59XG5cbi8qKlxuICogUmVndWxhciBFeHByZXNzaW9uIHRoYXQgZGlzZWN0cyBJU08gODYwMSBmb3JtYXR0ZWQgc3RyaW5ncyBpbnRvXG4gKiBhbiBhcnJheSBvZiBwYXJ0cy5cbiAqIEBzdGF0aWNcbiAqL1xuRGF0ZUZvcm1hdHRlci5JU084NjAxID0gbmV3IFJlZ0V4cChcbiAgJyhbMC05XXs0fSkoWy1dPyhbMC05XXsyfSkpKFstXT8oWzAtOV17Mn0pKSdcbisgJyhUKFswLTldezJ9KSgoKDo/KFswLTldezJ9KSk/KCg6PyhbMC05XXsyfSkpPyhcXC4oWzAtOV0rKSk/KSk/KSdcbisgJyhafChbKy1dKFswLTldezJ9KDo/KFswLTldezJ9KSk/KSkpPyk/J1xuKVxuXG4vKipcbiAqIFNldHMgb3B0aW9ucyBmb3IgZW5jb2RpbmcgRGF0ZSBvYmplY3RzIHRvIElTTzg2MDEgc3RyaW5ncy5cbiAqICAgIE9taXR0aW5nIHRoZSAnb3B0cycgYXJndW1lbnQgd2lsbCByZXNldCBhbGwgb3B0aW9ucyB0byB0aGUgZGVmYXVsdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIE9wdGlvbnMgKG9wdGlvbmFsKVxuICogQHBhcmFtIHtCb29sZWFufSBvcHRzLmNvbG9ucyAgLSBFbmFibGUvZGlzYWJsZSBmb3JtYXR0aW5nIHRoZSB0aW1lIHBvcnRpb25cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aCBhIGNvbG9uIGFzIHNlcGFyYXRvciAoZGVmYXVsdDogdHJ1ZSlcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0cy5oeXBoZW5zIC0gRW5hYmxlL2Rpc2FibGUgZm9ybWF0dGluZyB0aGUgZGF0ZSBwb3J0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggYSBoeXBoZW4gYXMgc2VwYXJhdG9yIChkZWZhdWx0OiBmYWxzZSlcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0cy5sb2NhbCAgIC0gRW5jb2RlIGFzIGxvY2FsIHRpbWUgaW5zdGVhZCBvZiBVVENcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRlZmF1bHQ6IHRydWUpXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9wdHMubXMgICAgICAtIEVuYWJsZS9EaXNhYmxlIG91dHB1dCBvZiBtaWxsaXNlY29uZHNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRlZmF1bHQ6IGZhbHNlKVxuICogQHBhcmFtIHtCb29sZWFufSBvcHRzLm9mZnNldCAgLSBFbmFibGUvRGlzYWJsZSBvdXRwdXQgb2YgVVRDIG9mZnNldFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZGVmYXVsdDogZmFsc2UpXG4gKi9cbkRhdGVGb3JtYXR0ZXIucHJvdG90eXBlLnNldE9wdHMgPSBmdW5jdGlvbiAob3B0cykge1xuICBpZiAoIW9wdHMpIG9wdHMgPSBEYXRlRm9ybWF0dGVyLkRFRkFVTFRfT1BUSU9OU1xuXG4gIHZhciBjdHggPSB0aGlzXG4gIE9iamVjdC5rZXlzKERhdGVGb3JtYXR0ZXIuREVGQVVMVF9PUFRJT05TKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgY3R4Lm9wdHNba10gPSBvcHRzLmhhc093blByb3BlcnR5KGspID9cbiAgICAgIG9wdHNba10gOiBEYXRlRm9ybWF0dGVyLkRFRkFVTFRfT1BUSU9OU1trXVxuICB9KVxufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgZGF0ZSB0aW1lIHN0YW1wIGZvbGxvd2luZyB0aGUgSVNPODYwMSBmb3JtYXQgdG8gYSBKYXZhU2NyaXB0IERhdGVcbiAqIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdGltZSAtIFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aW1lc3RhbXAuXG4gKiBAcmV0dXJuIHtEYXRlfSAgICAgICAtIERhdGUgb2JqZWN0IGZyb20gdGltZXN0YW1wLlxuICovXG5EYXRlRm9ybWF0dGVyLnByb3RvdHlwZS5kZWNvZGVJc284NjAxID0gZnVuY3Rpb24odGltZSkge1xuICB2YXIgZGF0ZVBhcnRzID0gdGltZS50b1N0cmluZygpLm1hdGNoKERhdGVGb3JtYXR0ZXIuSVNPODYwMSlcbiAgaWYgKCFkYXRlUGFydHMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGEgSVNPODYwMSBkYXRldGltZSBidXQgZ290IFxcJycgKyB0aW1lICsgJ1xcJycpXG4gIH1cblxuICB2YXIgZGF0ZSA9IFtcbiAgICBbZGF0ZVBhcnRzWzFdLCBkYXRlUGFydHNbM10gfHwgJzAxJywgZGF0ZVBhcnRzWzVdIHx8ICcwMSddLmpvaW4oJy0nKVxuICAgICwgJ1QnXG4gICAgLCBbXG4gICAgICAgIGRhdGVQYXJ0c1s3XSB8fCAnMDAnXG4gICAgICAsIGRhdGVQYXJ0c1sxMV0gfHwgJzAwJ1xuICAgICAgLCBkYXRlUGFydHNbMTRdIHx8ICcwMCdcbiAgICAgIF0uam9pbignOicpXG4gICAgLCAnLidcbiAgICAsIGRhdGVQYXJ0c1sxNl0gfHwgJzAwMCdcbiAgXS5qb2luKCcnKVxuXG4gIGRhdGUgKz0gKGRhdGVQYXJ0c1sxN10gIT09IHVuZGVmaW5lZCkgP1xuICAgIGRhdGVQYXJ0c1sxN10gK1xuICAgICAgKChkYXRlUGFydHNbMTldICYmIGRhdGVQYXJ0c1syMF0gPT09IHVuZGVmaW5lZCkgPyAnMDAnIDogJycpIDpcbiAgICBEYXRlRm9ybWF0dGVyLmZvcm1hdEN1cnJlbnRPZmZzZXQobmV3IERhdGUoZGF0ZSkpXG5cbiAgcmV0dXJuIG5ldyBEYXRlKGRhdGUpXG59XG5cbi8qKlxuICogQ29udmVydHMgYSBKYXZhU2NyaXB0IERhdGUgb2JqZWN0IHRvIGFuIElTTzg2MDEgdGltZXN0YW1wLlxuICpcbiAqIEBwYXJhbSB7RGF0ZX0gZGF0ZSAtIERhdGUgb2JqZWN0LlxuICogQHJldHVybiB7U3RyaW5nfSAgIC0gU3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRpbWVzdGFtcC5cbiAqL1xuRGF0ZUZvcm1hdHRlci5wcm90b3R5cGUuZW5jb2RlSXNvODYwMSA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgdmFyIHBhcnRzID0gdGhpcy5vcHRzLmxvY2FsID9cbiAgICBEYXRlRm9ybWF0dGVyLmdldExvY2FsRGF0ZVBhcnRzKGRhdGUpIDpcbiAgICBEYXRlRm9ybWF0dGVyLmdldFVUQ0RhdGVQYXJ0cyhkYXRlKVxuXG4gIHJldHVybiBbXG4gICAgW3BhcnRzWzBdLHBhcnRzWzFdLHBhcnRzWzJdXS5qb2luKHRoaXMub3B0cy5oeXBoZW5zID8gJy0nIDogJycpXG4gICwgJ1QnXG4gICwgW3BhcnRzWzNdLHBhcnRzWzRdLHBhcnRzWzVdXS5qb2luKHRoaXMub3B0cy5jb2xvbnMgPyAnOicgOiAnJylcbiAgLCAodGhpcy5vcHRzLm1zKSA/ICcuJyArIHBhcnRzWzZdIDogJydcbiAgLCAodGhpcy5vcHRzLmxvY2FsKSA/ICgodGhpcy5vcHRzLm9mZnNldCkgP1xuICAgICAgRGF0ZUZvcm1hdHRlci5mb3JtYXRDdXJyZW50T2Zmc2V0KGRhdGUpIDogJycpIDogJ1onXG4gIF0uam9pbignJylcbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGFuIGFycmF5IG9mIHplcm8tcGFkZGVkIGRhdGUgcGFydHMsXG4gKiBpbiBVVENcbiAqXG4gKiBAcGFyYW0ge0RhdGV9IGRhdGUgLSBEYXRlIE9iamVjdFxuICogQHJldHVybiB7U3RyaW5nW119XG4gKi9cbkRhdGVGb3JtYXR0ZXIuZ2V0VVRDRGF0ZVBhcnRzID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgcmV0dXJuIFtcbiAgICBkYXRlLmdldFVUQ0Z1bGxZZWFyKClcbiAgLCBEYXRlRm9ybWF0dGVyLnplcm9QYWQoZGF0ZS5nZXRVVENNb250aCgpKzEsMilcbiAgLCBEYXRlRm9ybWF0dGVyLnplcm9QYWQoZGF0ZS5nZXRVVENEYXRlKCksMilcbiAgLCBEYXRlRm9ybWF0dGVyLnplcm9QYWQoZGF0ZS5nZXRVVENIb3VycygpLCAyKVxuICAsIERhdGVGb3JtYXR0ZXIuemVyb1BhZChkYXRlLmdldFVUQ01pbnV0ZXMoKSwgMilcbiAgLCBEYXRlRm9ybWF0dGVyLnplcm9QYWQoZGF0ZS5nZXRVVENTZWNvbmRzKCksIDIpXG4gICwgRGF0ZUZvcm1hdHRlci56ZXJvUGFkKGRhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCksIDMpXVxufVxuXG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBhbiBhcnJheSBvZiB6ZXJvLXBhZGRlZCBkYXRlIHBhcnRzLFxuICogaW4gdGhlIGxvY2FsIHRpbWUgem9uZVxuICpcbiAqIEBwYXJhbSB7RGF0ZX0gZGF0ZSAtIERhdGUgT2JqZWN0XG4gKiBAcmV0dXJuIHtTdHJpbmdbXX1cbiAqL1xuRGF0ZUZvcm1hdHRlci5nZXRMb2NhbERhdGVQYXJ0cyA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gIHJldHVybiBbXG4gICAgZGF0ZS5nZXRGdWxsWWVhcigpXG4gICwgRGF0ZUZvcm1hdHRlci56ZXJvUGFkKGRhdGUuZ2V0TW9udGgoKSsxLDIpXG4gICwgRGF0ZUZvcm1hdHRlci56ZXJvUGFkKGRhdGUuZ2V0RGF0ZSgpLDIpXG4gICwgRGF0ZUZvcm1hdHRlci56ZXJvUGFkKGRhdGUuZ2V0SG91cnMoKSwgMilcbiAgLCBEYXRlRm9ybWF0dGVyLnplcm9QYWQoZGF0ZS5nZXRNaW51dGVzKCksIDIpXG4gICwgRGF0ZUZvcm1hdHRlci56ZXJvUGFkKGRhdGUuZ2V0U2Vjb25kcygpLCAyKVxuICAsIERhdGVGb3JtYXR0ZXIuemVyb1BhZChkYXRlLmdldE1pbGxpc2Vjb25kcygpLCAzKV1cbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gcGFkIHRoZSBkaWdpdHMgd2l0aCAwcyB0byBtZWV0IGRhdGUgZm9ybWF0dGluZ1xuICogcmVxdWlyZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCAgLSBUaGUgbnVtYmVyIHRvIHBhZC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBsZW5ndGggLSBMZW5ndGggb2YgZGlnaXQgc3RyaW5nLCBwcmVmaXggd2l0aCAwcyBpZiBub3RcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBhbHJlYWR5IGxlbmd0aC5cbiAqIEByZXR1cm4ge1N0cmluZ30gICAgICAgLSBTdHJpbmcgd2l0aCB0aGUgcGFkZGVkIGRpZ2l0XG4gKi9cbkRhdGVGb3JtYXR0ZXIuemVyb1BhZCA9IGZ1bmN0aW9uIChkaWdpdCwgbGVuZ3RoKSB7XG4gIHZhciBwYWRkZWQgPSAnJyArIGRpZ2l0XG4gIHdoaWxlIChwYWRkZWQubGVuZ3RoIDwgbGVuZ3RoKSB7XG4gICAgcGFkZGVkID0gJzAnICsgcGFkZGVkXG4gIH1cblxuICByZXR1cm4gcGFkZGVkXG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGdldCB0aGUgY3VycmVudCB0aW1lem9uZSB0byBkZWZhdWx0IGRlY29kaW5nIHRvXG4gKiByYXRoZXIgdGhhbiBVVEMuIChmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IC0gaW4gdGhlIGZvcm1hdCAvWnxbKy1dXFxkezJ9OlxcZHsyfS9cbiAqL1xuRGF0ZUZvcm1hdHRlci5mb3JtYXRDdXJyZW50T2Zmc2V0ID0gZnVuY3Rpb24gKGQpIHtcbiAgdmFyIG9mZnNldCA9IChkIHx8IG5ldyBEYXRlKCkpLmdldFRpbWV6b25lT2Zmc2V0KClcbiAgcmV0dXJuIChvZmZzZXQgPT09IDApID8gJ1onIDogW1xuICAgICAgKG9mZnNldCA8IDApID8gJysnIDogJy0nXG4gICAgLCBEYXRlRm9ybWF0dGVyLnplcm9QYWQoTWF0aC5hYnMoTWF0aC5mbG9vcihvZmZzZXQvNjApKSwyKVxuICAgICwgJzonXG4gICAgLCBEYXRlRm9ybWF0dGVyLnplcm9QYWQoTWF0aC5hYnMob2Zmc2V0JTYwKSwyKVxuICBdLmpvaW4oJycpXG59XG5cbi8vIGV4cG9ydCBhbiBpbnN0YW5jZSBvZiBEYXRlRm9ybWF0dGVyIG9ubHkuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBEYXRlRm9ybWF0dGVyKClcbiIsICJ2YXIgQ3VzdG9tVHlwZSA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocmF3KSB7XG4gIHRoaXMucmF3ID0gcmF3XG59XG5cbkN1c3RvbVR5cGUucHJvdG90eXBlLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uKHhtbCkge1xuICByZXR1cm4geG1sLmVsZSh0aGlzLnRhZ05hbWUpLnR4dCh0aGlzLnJhdylcbn1cblxuQ3VzdG9tVHlwZS5wcm90b3R5cGUudGFnTmFtZSA9ICdjdXN0b21UeXBlJ1xuXG4iLCAidmFyIHhtbEJ1aWxkZXIgICAgPSByZXF1aXJlKCd4bWxidWlsZGVyJylcbiAgLCBkYXRlRm9ybWF0dGVyID0gcmVxdWlyZSgnLi9kYXRlX2Zvcm1hdHRlcicpXG4gICwgQ3VzdG9tVHlwZSAgICA9IHJlcXVpcmUoJy4vY3VzdG9tdHlwZScpXG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgWE1MIGZvciBhbiBYTUwtUlBDIG1ldGhvZCBjYWxsLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2QgICAgIC0gVGhlIG1ldGhvZCBuYW1lLlxuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zICAgICAgLSBQYXJhbXMgdG8gcGFzcyBpbiB0aGUgY2FsbC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gZnVuY3Rpb24gKGVycm9yLCB4bWwpIHsgLi4uIH1cbiAqICAgLSB7T2JqZWN0fG51bGx9IGVycm9yICAgIC0gQW55IGVycm9ycyB0aGF0IG9jY3VycmVkIHdoaWxlIGJ1aWxkaW5nIHRoZSBYTUwsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyd2lzZSBudWxsLlxuICogICAtIHtTdHJpbmd9IHhtbCAgICAgICAgICAgLSBUaGUgbWV0aG9kIGNhbGwgWE1MLlxuICovXG5leHBvcnRzLnNlcmlhbGl6ZU1ldGhvZENhbGwgPSBmdW5jdGlvbihtZXRob2QsIHBhcmFtcywgZW5jb2RpbmcpIHtcbiAgdmFyIHBhcmFtcyA9IHBhcmFtcyB8fCBbXVxuXG4gIHZhciBvcHRpb25zID0geyB2ZXJzaW9uOiAnMS4wJywgYWxsb3dTdXJyb2dhdGVDaGFyczogdHJ1ZSB9XG5cbiAgaWYgKGVuY29kaW5nKSB7XG4gICAgb3B0aW9ucy5lbmNvZGluZyA9IGVuY29kaW5nXG4gIH1cblxuICB2YXIgeG1sID0geG1sQnVpbGRlci5jcmVhdGUoJ21ldGhvZENhbGwnLCBvcHRpb25zKVxuICAgIC5lbGUoJ21ldGhvZE5hbWUnKVxuICAgICAgLnR4dChtZXRob2QpXG4gICAgLnVwKClcbiAgICAuZWxlKCdwYXJhbXMnKVxuXG4gIHBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uKHBhcmFtKSB7XG4gICAgc2VyaWFsaXplVmFsdWUocGFyYW0sIHhtbC5lbGUoJ3BhcmFtJykpXG4gIH0pXG5cbiAgLy8gSW5jbHVkZXMgdGhlIDw/eG1sIC4uLj4gZGVjbGFyYXRpb25cbiAgcmV0dXJuIHhtbC5kb2MoKS50b1N0cmluZygpXG59XG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgWE1MIGZvciBhbiBYTUwtUlBDIG1ldGhvZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge21peGVkfSB2YWx1ZSAgICAgICAtIFRoZSB2YWx1ZSB0byBwYXNzIGluIHRoZSByZXNwb25zZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gZnVuY3Rpb24gKGVycm9yLCB4bWwpIHsgLi4uIH1cbiAqICAgLSB7T2JqZWN0fG51bGx9IGVycm9yICAgIC0gQW55IGVycm9ycyB0aGF0IG9jY3VycmVkIHdoaWxlIGJ1aWxkaW5nIHRoZSBYTUwsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyd2lzZSBudWxsLlxuICogICAtIHtTdHJpbmd9IHhtbCAgICAgICAgICAgLSBUaGUgbWV0aG9kIHJlc3BvbnNlIFhNTC5cbiAqL1xuZXhwb3J0cy5zZXJpYWxpemVNZXRob2RSZXNwb25zZSA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuICB2YXIgeG1sID0geG1sQnVpbGRlci5jcmVhdGUoJ21ldGhvZFJlc3BvbnNlJywgeyB2ZXJzaW9uOiAnMS4wJywgYWxsb3dTdXJyb2dhdGVDaGFyczogdHJ1ZSB9KVxuICAgIC5lbGUoJ3BhcmFtcycpXG4gICAgICAuZWxlKCdwYXJhbScpXG5cbiAgc2VyaWFsaXplVmFsdWUocmVzdWx0LCB4bWwpXG5cbiAgLy8gSW5jbHVkZXMgdGhlIDw/eG1sIC4uLj4gZGVjbGFyYXRpb25cbiAgcmV0dXJuIHhtbC5kb2MoKS50b1N0cmluZygpXG59XG5cbmV4cG9ydHMuc2VyaWFsaXplRmF1bHQgPSBmdW5jdGlvbihmYXVsdCkge1xuICB2YXIgeG1sID0geG1sQnVpbGRlci5jcmVhdGUoJ21ldGhvZFJlc3BvbnNlJywgeyB2ZXJzaW9uOiAnMS4wJywgYWxsb3dTdXJyb2dhdGVDaGFyczogdHJ1ZSB9KVxuICAgIC5lbGUoJ2ZhdWx0JylcblxuICBzZXJpYWxpemVWYWx1ZShmYXVsdCwgeG1sKVxuXG4gIC8vIEluY2x1ZGVzIHRoZSA8P3htbCAuLi4+IGRlY2xhcmF0aW9uXG4gIHJldHVybiB4bWwuZG9jKCkudG9TdHJpbmcoKVxufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVWYWx1ZSh2YWx1ZSwgeG1sKSB7XG4gIHZhciBzdGFjayAgICAgPSBbIHsgdmFsdWU6IHZhbHVlLCB4bWw6IHhtbCB9IF1cbiAgICAsIGN1cnJlbnQgICA9IG51bGxcbiAgICAsIHZhbHVlTm9kZSA9IG51bGxcbiAgICAsIG5leHQgICAgICA9IG51bGxcblxuICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgIGN1cnJlbnQgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXVxuXG4gICAgaWYgKGN1cnJlbnQuaW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gSXRlcmF0aW5nIGEgY29tcG91bmRcbiAgICAgIG5leHQgPSBnZXROZXh0SXRlbXNGcmFtZShjdXJyZW50KVxuICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgc3RhY2sucHVzaChuZXh0KVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN0YWNrLnBvcCgpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gd2UncmUgYWJvdXQgdG8gYWRkIGEgbmV3IHZhbHVlIChjb21wb3VuZCBvciBzaW1wbGUpXG4gICAgICB2YWx1ZU5vZGUgPSBjdXJyZW50LnhtbC5lbGUoJ3ZhbHVlJylcbiAgICAgIHN3aXRjaCh0eXBlb2YgY3VycmVudC52YWx1ZSkge1xuICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICBhcHBlbmRCb29sZWFuKGN1cnJlbnQudmFsdWUsIHZhbHVlTm9kZSlcbiAgICAgICAgICBzdGFjay5wb3AoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgYXBwZW5kU3RyaW5nKGN1cnJlbnQudmFsdWUsIHZhbHVlTm9kZSlcbiAgICAgICAgICBzdGFjay5wb3AoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgYXBwZW5kTnVtYmVyKGN1cnJlbnQudmFsdWUsIHZhbHVlTm9kZSlcbiAgICAgICAgICBzdGFjay5wb3AoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgaWYgKGN1cnJlbnQudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhbHVlTm9kZS5lbGUoJ25pbCcpXG4gICAgICAgICAgICBzdGFjay5wb3AoKVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChjdXJyZW50LnZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgYXBwZW5kRGF0ZXRpbWUoY3VycmVudC52YWx1ZSwgdmFsdWVOb2RlKVxuICAgICAgICAgICAgc3RhY2sucG9wKClcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoQnVmZmVyLmlzQnVmZmVyKGN1cnJlbnQudmFsdWUpKSB7XG4gICAgICAgICAgICBhcHBlbmRCdWZmZXIoY3VycmVudC52YWx1ZSwgdmFsdWVOb2RlKVxuICAgICAgICAgICAgc3RhY2sucG9wKClcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoY3VycmVudC52YWx1ZSBpbnN0YW5jZW9mIEN1c3RvbVR5cGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnQudmFsdWUuc2VyaWFsaXplKHZhbHVlTm9kZSlcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY3VycmVudC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgY3VycmVudC54bWwgPSB2YWx1ZU5vZGUuZWxlKCdhcnJheScpLmVsZSgnZGF0YScpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgY3VycmVudC54bWwgPSB2YWx1ZU5vZGUuZWxlKCdzdHJ1Y3QnKVxuICAgICAgICAgICAgICBjdXJyZW50LmtleXMgPSBPYmplY3Qua2V5cyhjdXJyZW50LnZhbHVlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudC5pbmRleCA9IDBcbiAgICAgICAgICAgIG5leHQgPSBnZXROZXh0SXRlbXNGcmFtZShjdXJyZW50KVxuICAgICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgICAgc3RhY2sucHVzaChuZXh0KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHN0YWNrLnBvcCgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgc3RhY2sucG9wKClcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXROZXh0SXRlbXNGcmFtZShmcmFtZSkge1xuICB2YXIgbmV4dEZyYW1lID0gbnVsbFxuXG4gIGlmIChmcmFtZS5rZXlzKSB7XG4gICAgaWYgKGZyYW1lLmluZGV4IDwgZnJhbWUua2V5cy5sZW5ndGgpIHtcbiAgICAgIHZhciBrZXkgICAgPSBmcmFtZS5rZXlzW2ZyYW1lLmluZGV4KytdXG4gICAgICAgICwgbWVtYmVyID0gZnJhbWUueG1sLmVsZSgnbWVtYmVyJykuZWxlKCduYW1lJykudGV4dChrZXkpLnVwKClcbiAgICAgIG5leHRGcmFtZSA9IHtcbiAgICAgICAgdmFsdWU6IGZyYW1lLnZhbHVlW2tleV1cbiAgICAgICwgeG1sOiBtZW1iZXJcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZWxzZSBpZiAoZnJhbWUuaW5kZXggPCBmcmFtZS52YWx1ZS5sZW5ndGgpIHtcbiAgICBuZXh0RnJhbWUgPSB7XG4gICAgICB2YWx1ZTogZnJhbWUudmFsdWVbZnJhbWUuaW5kZXhdXG4gICAgLCB4bWw6IGZyYW1lLnhtbFxuICAgIH1cbiAgICBmcmFtZS5pbmRleCsrXG4gIH1cblxuICByZXR1cm4gbmV4dEZyYW1lXG59XG5cbmZ1bmN0aW9uIGFwcGVuZEJvb2xlYW4odmFsdWUsIHhtbCkge1xuICB4bWwuZWxlKCdib29sZWFuJykudHh0KHZhbHVlID8gMSA6IDApXG59XG5cbnZhciBpbGxlZ2FsQ2hhcnMgPSAvXig/IVtePCZdKl1dPltePCZdKilbXjwmXSokL1xuZnVuY3Rpb24gYXBwZW5kU3RyaW5nKHZhbHVlLCB4bWwpIHtcbiAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgIHhtbC5lbGUoJ3N0cmluZycpXG4gIH1cbiAgZWxzZSBpZiAoIWlsbGVnYWxDaGFycy50ZXN0KHZhbHVlKSkge1xuICAgIHhtbC5lbGUoJ3N0cmluZycpLmQodmFsdWUpXG4gIH1cbiAgZWxzZSB7XG4gICAgeG1sLmVsZSgnc3RyaW5nJykudHh0KHZhbHVlKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGVuZE51bWJlcih2YWx1ZSwgeG1sKSB7XG4gIGlmICh2YWx1ZSAlIDEgPT0gMCkge1xuICAgIHhtbC5lbGUoJ2ludCcpLnR4dCh2YWx1ZSlcbiAgfVxuICBlbHNlIHtcbiAgICB4bWwuZWxlKCdkb3VibGUnKS50eHQodmFsdWUpXG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwZW5kRGF0ZXRpbWUodmFsdWUsIHhtbCkge1xuICB4bWwuZWxlKCdkYXRlVGltZS5pc284NjAxJykudHh0KGRhdGVGb3JtYXR0ZXIuZW5jb2RlSXNvODYwMSh2YWx1ZSkpXG59XG5cbmZ1bmN0aW9uIGFwcGVuZEJ1ZmZlcih2YWx1ZSwgeG1sKSB7XG4gIHhtbC5lbGUoJ2Jhc2U2NCcpLnR4dCh2YWx1ZS50b1N0cmluZygnYmFzZTY0JykpXG59XG4iLCAiOyhmdW5jdGlvbiAoc2F4KSB7IC8vIHdyYXBwZXIgZm9yIG5vbi1ub2RlIGVudnNcbiAgc2F4LnBhcnNlciA9IGZ1bmN0aW9uIChzdHJpY3QsIG9wdCkgeyByZXR1cm4gbmV3IFNBWFBhcnNlcihzdHJpY3QsIG9wdCkgfVxuICBzYXguU0FYUGFyc2VyID0gU0FYUGFyc2VyXG4gIHNheC5TQVhTdHJlYW0gPSBTQVhTdHJlYW1cbiAgc2F4LmNyZWF0ZVN0cmVhbSA9IGNyZWF0ZVN0cmVhbVxuXG4gIC8vIFdoZW4gd2UgcGFzcyB0aGUgTUFYX0JVRkZFUl9MRU5HVEggcG9zaXRpb24sIHN0YXJ0IGNoZWNraW5nIGZvciBidWZmZXIgb3ZlcnJ1bnMuXG4gIC8vIFdoZW4gd2UgY2hlY2ssIHNjaGVkdWxlIHRoZSBuZXh0IGNoZWNrIGZvciBNQVhfQlVGRkVSX0xFTkdUSCAtIChtYXgoYnVmZmVyIGxlbmd0aHMpKSxcbiAgLy8gc2luY2UgdGhhdCdzIHRoZSBlYXJsaWVzdCB0aGF0IGEgYnVmZmVyIG92ZXJydW4gY291bGQgb2NjdXIuICBUaGlzIHdheSwgY2hlY2tzIGFyZVxuICAvLyBhcyByYXJlIGFzIHJlcXVpcmVkLCBidXQgYXMgb2Z0ZW4gYXMgbmVjZXNzYXJ5IHRvIGVuc3VyZSBuZXZlciBjcm9zc2luZyB0aGlzIGJvdW5kLlxuICAvLyBGdXJ0aGVybW9yZSwgYnVmZmVycyBhcmUgb25seSB0ZXN0ZWQgYXQgbW9zdCBvbmNlIHBlciB3cml0ZSgpLCBzbyBwYXNzaW5nIGEgdmVyeVxuICAvLyBsYXJnZSBzdHJpbmcgaW50byB3cml0ZSgpIG1pZ2h0IGhhdmUgdW5kZXNpcmFibGUgZWZmZWN0cywgYnV0IHRoaXMgaXMgbWFuYWdlYWJsZSBieVxuICAvLyB0aGUgY2FsbGVyLCBzbyBpdCBpcyBhc3N1bWVkIHRvIGJlIHNhZmUuICBUaHVzLCBhIGNhbGwgdG8gd3JpdGUoKSBtYXksIGluIHRoZSBleHRyZW1lXG4gIC8vIGVkZ2UgY2FzZSwgcmVzdWx0IGluIGNyZWF0aW5nIGF0IG1vc3Qgb25lIGNvbXBsZXRlIGNvcHkgb2YgdGhlIHN0cmluZyBwYXNzZWQgaW4uXG4gIC8vIFNldCB0byBJbmZpbml0eSB0byBoYXZlIHVubGltaXRlZCBidWZmZXJzLlxuICBzYXguTUFYX0JVRkZFUl9MRU5HVEggPSA2NCAqIDEwMjRcblxuICB2YXIgYnVmZmVycyA9IFtcbiAgICAnY29tbWVudCcsICdzZ21sRGVjbCcsICd0ZXh0Tm9kZScsICd0YWdOYW1lJywgJ2RvY3R5cGUnLFxuICAgICdwcm9jSW5zdE5hbWUnLCAncHJvY0luc3RCb2R5JywgJ2VudGl0eScsICdhdHRyaWJOYW1lJyxcbiAgICAnYXR0cmliVmFsdWUnLCAnY2RhdGEnLCAnc2NyaXB0J1xuICBdXG5cbiAgc2F4LkVWRU5UUyA9IFtcbiAgICAndGV4dCcsXG4gICAgJ3Byb2Nlc3NpbmdpbnN0cnVjdGlvbicsXG4gICAgJ3NnbWxkZWNsYXJhdGlvbicsXG4gICAgJ2RvY3R5cGUnLFxuICAgICdjb21tZW50JyxcbiAgICAnb3BlbnRhZ3N0YXJ0JyxcbiAgICAnYXR0cmlidXRlJyxcbiAgICAnb3BlbnRhZycsXG4gICAgJ2Nsb3NldGFnJyxcbiAgICAnb3BlbmNkYXRhJyxcbiAgICAnY2RhdGEnLFxuICAgICdjbG9zZWNkYXRhJyxcbiAgICAnZXJyb3InLFxuICAgICdlbmQnLFxuICAgICdyZWFkeScsXG4gICAgJ3NjcmlwdCcsXG4gICAgJ29wZW5uYW1lc3BhY2UnLFxuICAgICdjbG9zZW5hbWVzcGFjZSdcbiAgXVxuXG4gIGZ1bmN0aW9uIFNBWFBhcnNlciAoc3RyaWN0LCBvcHQpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU0FYUGFyc2VyKSkge1xuICAgICAgcmV0dXJuIG5ldyBTQVhQYXJzZXIoc3RyaWN0LCBvcHQpXG4gICAgfVxuXG4gICAgdmFyIHBhcnNlciA9IHRoaXNcbiAgICBjbGVhckJ1ZmZlcnMocGFyc2VyKVxuICAgIHBhcnNlci5xID0gcGFyc2VyLmMgPSAnJ1xuICAgIHBhcnNlci5idWZmZXJDaGVja1Bvc2l0aW9uID0gc2F4Lk1BWF9CVUZGRVJfTEVOR1RIXG4gICAgcGFyc2VyLm9wdCA9IG9wdCB8fCB7fVxuICAgIHBhcnNlci5vcHQubG93ZXJjYXNlID0gcGFyc2VyLm9wdC5sb3dlcmNhc2UgfHwgcGFyc2VyLm9wdC5sb3dlcmNhc2V0YWdzXG4gICAgcGFyc2VyLmxvb3NlQ2FzZSA9IHBhcnNlci5vcHQubG93ZXJjYXNlID8gJ3RvTG93ZXJDYXNlJyA6ICd0b1VwcGVyQ2FzZSdcbiAgICBwYXJzZXIudGFncyA9IFtdXG4gICAgcGFyc2VyLmNsb3NlZCA9IHBhcnNlci5jbG9zZWRSb290ID0gcGFyc2VyLnNhd1Jvb3QgPSBmYWxzZVxuICAgIHBhcnNlci50YWcgPSBwYXJzZXIuZXJyb3IgPSBudWxsXG4gICAgcGFyc2VyLnN0cmljdCA9ICEhc3RyaWN0XG4gICAgcGFyc2VyLm5vc2NyaXB0ID0gISEoc3RyaWN0IHx8IHBhcnNlci5vcHQubm9zY3JpcHQpXG4gICAgcGFyc2VyLnN0YXRlID0gUy5CRUdJTlxuICAgIHBhcnNlci5zdHJpY3RFbnRpdGllcyA9IHBhcnNlci5vcHQuc3RyaWN0RW50aXRpZXNcbiAgICBwYXJzZXIuRU5USVRJRVMgPSBwYXJzZXIuc3RyaWN0RW50aXRpZXMgPyBPYmplY3QuY3JlYXRlKHNheC5YTUxfRU5USVRJRVMpIDogT2JqZWN0LmNyZWF0ZShzYXguRU5USVRJRVMpXG4gICAgcGFyc2VyLmF0dHJpYkxpc3QgPSBbXVxuXG4gICAgLy8gbmFtZXNwYWNlcyBmb3JtIGEgcHJvdG90eXBlIGNoYWluLlxuICAgIC8vIGl0IGFsd2F5cyBwb2ludHMgYXQgdGhlIGN1cnJlbnQgdGFnLFxuICAgIC8vIHdoaWNoIHByb3RvcyB0byBpdHMgcGFyZW50IHRhZy5cbiAgICBpZiAocGFyc2VyLm9wdC54bWxucykge1xuICAgICAgcGFyc2VyLm5zID0gT2JqZWN0LmNyZWF0ZShyb290TlMpXG4gICAgfVxuXG4gICAgLy8gbW9zdGx5IGp1c3QgZm9yIGVycm9yIHJlcG9ydGluZ1xuICAgIHBhcnNlci50cmFja1Bvc2l0aW9uID0gcGFyc2VyLm9wdC5wb3NpdGlvbiAhPT0gZmFsc2VcbiAgICBpZiAocGFyc2VyLnRyYWNrUG9zaXRpb24pIHtcbiAgICAgIHBhcnNlci5wb3NpdGlvbiA9IHBhcnNlci5saW5lID0gcGFyc2VyLmNvbHVtbiA9IDBcbiAgICB9XG4gICAgZW1pdChwYXJzZXIsICdvbnJlYWR5JylcbiAgfVxuXG4gIGlmICghT2JqZWN0LmNyZWF0ZSkge1xuICAgIE9iamVjdC5jcmVhdGUgPSBmdW5jdGlvbiAobykge1xuICAgICAgZnVuY3Rpb24gRiAoKSB7fVxuICAgICAgRi5wcm90b3R5cGUgPSBvXG4gICAgICB2YXIgbmV3ZiA9IG5ldyBGKClcbiAgICAgIHJldHVybiBuZXdmXG4gICAgfVxuICB9XG5cbiAgaWYgKCFPYmplY3Qua2V5cykge1xuICAgIE9iamVjdC5rZXlzID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgIHZhciBhID0gW11cbiAgICAgIGZvciAodmFyIGkgaW4gbykgaWYgKG8uaGFzT3duUHJvcGVydHkoaSkpIGEucHVzaChpKVxuICAgICAgcmV0dXJuIGFcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0J1ZmZlckxlbmd0aCAocGFyc2VyKSB7XG4gICAgdmFyIG1heEFsbG93ZWQgPSBNYXRoLm1heChzYXguTUFYX0JVRkZFUl9MRU5HVEgsIDEwKVxuICAgIHZhciBtYXhBY3R1YWwgPSAwXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBidWZmZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGxlbiA9IHBhcnNlcltidWZmZXJzW2ldXS5sZW5ndGhcbiAgICAgIGlmIChsZW4gPiBtYXhBbGxvd2VkKSB7XG4gICAgICAgIC8vIFRleHQvY2RhdGEgbm9kZXMgY2FuIGdldCBiaWcsIGFuZCBzaW5jZSB0aGV5J3JlIGJ1ZmZlcmVkLFxuICAgICAgICAvLyB3ZSBjYW4gZ2V0IGhlcmUgdW5kZXIgbm9ybWFsIGNvbmRpdGlvbnMuXG4gICAgICAgIC8vIEF2b2lkIGlzc3VlcyBieSBlbWl0dGluZyB0aGUgdGV4dCBub2RlIG5vdyxcbiAgICAgICAgLy8gc28gYXQgbGVhc3QgaXQgd29uJ3QgZ2V0IGFueSBiaWdnZXIuXG4gICAgICAgIHN3aXRjaCAoYnVmZmVyc1tpXSkge1xuICAgICAgICAgIGNhc2UgJ3RleHROb2RlJzpcbiAgICAgICAgICAgIGNsb3NlVGV4dChwYXJzZXIpXG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgY2FzZSAnY2RhdGEnOlxuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jZGF0YScsIHBhcnNlci5jZGF0YSlcbiAgICAgICAgICAgIHBhcnNlci5jZGF0YSA9ICcnXG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgY2FzZSAnc2NyaXB0JzpcbiAgICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uc2NyaXB0JywgcGFyc2VyLnNjcmlwdClcbiAgICAgICAgICAgIHBhcnNlci5zY3JpcHQgPSAnJ1xuICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBlcnJvcihwYXJzZXIsICdNYXggYnVmZmVyIGxlbmd0aCBleGNlZWRlZDogJyArIGJ1ZmZlcnNbaV0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1heEFjdHVhbCA9IE1hdGgubWF4KG1heEFjdHVhbCwgbGVuKVxuICAgIH1cbiAgICAvLyBzY2hlZHVsZSB0aGUgbmV4dCBjaGVjayBmb3IgdGhlIGVhcmxpZXN0IHBvc3NpYmxlIGJ1ZmZlciBvdmVycnVuLlxuICAgIHZhciBtID0gc2F4Lk1BWF9CVUZGRVJfTEVOR1RIIC0gbWF4QWN0dWFsXG4gICAgcGFyc2VyLmJ1ZmZlckNoZWNrUG9zaXRpb24gPSBtICsgcGFyc2VyLnBvc2l0aW9uXG4gIH1cblxuICBmdW5jdGlvbiBjbGVhckJ1ZmZlcnMgKHBhcnNlcikge1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYnVmZmVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHBhcnNlcltidWZmZXJzW2ldXSA9ICcnXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2hCdWZmZXJzIChwYXJzZXIpIHtcbiAgICBjbG9zZVRleHQocGFyc2VyKVxuICAgIGlmIChwYXJzZXIuY2RhdGEgIT09ICcnKSB7XG4gICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNkYXRhJywgcGFyc2VyLmNkYXRhKVxuICAgICAgcGFyc2VyLmNkYXRhID0gJydcbiAgICB9XG4gICAgaWYgKHBhcnNlci5zY3JpcHQgIT09ICcnKSB7XG4gICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbnNjcmlwdCcsIHBhcnNlci5zY3JpcHQpXG4gICAgICBwYXJzZXIuc2NyaXB0ID0gJydcbiAgICB9XG4gIH1cblxuICBTQVhQYXJzZXIucHJvdG90eXBlID0ge1xuICAgIGVuZDogZnVuY3Rpb24gKCkgeyBlbmQodGhpcykgfSxcbiAgICB3cml0ZTogd3JpdGUsXG4gICAgcmVzdW1lOiBmdW5jdGlvbiAoKSB7IHRoaXMuZXJyb3IgPSBudWxsOyByZXR1cm4gdGhpcyB9LFxuICAgIGNsb3NlOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLndyaXRlKG51bGwpIH0sXG4gICAgZmx1c2g6IGZ1bmN0aW9uICgpIHsgZmx1c2hCdWZmZXJzKHRoaXMpIH1cbiAgfVxuXG4gIHZhciBTdHJlYW1cbiAgdHJ5IHtcbiAgICBTdHJlYW0gPSByZXF1aXJlKCdzdHJlYW0nKS5TdHJlYW1cbiAgfSBjYXRjaCAoZXgpIHtcbiAgICBTdHJlYW0gPSBmdW5jdGlvbiAoKSB7fVxuICB9XG5cbiAgdmFyIHN0cmVhbVdyYXBzID0gc2F4LkVWRU5UUy5maWx0ZXIoZnVuY3Rpb24gKGV2KSB7XG4gICAgcmV0dXJuIGV2ICE9PSAnZXJyb3InICYmIGV2ICE9PSAnZW5kJ1xuICB9KVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVN0cmVhbSAoc3RyaWN0LCBvcHQpIHtcbiAgICByZXR1cm4gbmV3IFNBWFN0cmVhbShzdHJpY3QsIG9wdClcbiAgfVxuXG4gIGZ1bmN0aW9uIFNBWFN0cmVhbSAoc3RyaWN0LCBvcHQpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU0FYU3RyZWFtKSkge1xuICAgICAgcmV0dXJuIG5ldyBTQVhTdHJlYW0oc3RyaWN0LCBvcHQpXG4gICAgfVxuXG4gICAgU3RyZWFtLmFwcGx5KHRoaXMpXG5cbiAgICB0aGlzLl9wYXJzZXIgPSBuZXcgU0FYUGFyc2VyKHN0cmljdCwgb3B0KVxuICAgIHRoaXMud3JpdGFibGUgPSB0cnVlXG4gICAgdGhpcy5yZWFkYWJsZSA9IHRydWVcblxuICAgIHZhciBtZSA9IHRoaXNcblxuICAgIHRoaXMuX3BhcnNlci5vbmVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIG1lLmVtaXQoJ2VuZCcpXG4gICAgfVxuXG4gICAgdGhpcy5fcGFyc2VyLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXIpIHtcbiAgICAgIG1lLmVtaXQoJ2Vycm9yJywgZXIpXG5cbiAgICAgIC8vIGlmIGRpZG4ndCB0aHJvdywgdGhlbiBtZWFucyBlcnJvciB3YXMgaGFuZGxlZC5cbiAgICAgIC8vIGdvIGFoZWFkIGFuZCBjbGVhciBlcnJvciwgc28gd2UgY2FuIHdyaXRlIGFnYWluLlxuICAgICAgbWUuX3BhcnNlci5lcnJvciA9IG51bGxcbiAgICB9XG5cbiAgICB0aGlzLl9kZWNvZGVyID0gbnVsbFxuXG4gICAgc3RyZWFtV3JhcHMuZm9yRWFjaChmdW5jdGlvbiAoZXYpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtZSwgJ29uJyArIGV2LCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBtZS5fcGFyc2VyWydvbicgKyBldl1cbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoaCkge1xuICAgICAgICAgIGlmICghaCkge1xuICAgICAgICAgICAgbWUucmVtb3ZlQWxsTGlzdGVuZXJzKGV2KVxuICAgICAgICAgICAgbWUuX3BhcnNlclsnb24nICsgZXZdID0gaFxuICAgICAgICAgICAgcmV0dXJuIGhcbiAgICAgICAgICB9XG4gICAgICAgICAgbWUub24oZXYsIGgpXG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIFNBWFN0cmVhbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0cmVhbS5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IFNBWFN0cmVhbVxuICAgIH1cbiAgfSlcblxuICBTQVhTdHJlYW0ucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAodHlwZW9mIEJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgdHlwZW9mIEJ1ZmZlci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgQnVmZmVyLmlzQnVmZmVyKGRhdGEpKSB7XG4gICAgICBpZiAoIXRoaXMuX2RlY29kZXIpIHtcbiAgICAgICAgdmFyIFNEID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXInKS5TdHJpbmdEZWNvZGVyXG4gICAgICAgIHRoaXMuX2RlY29kZXIgPSBuZXcgU0QoJ3V0ZjgnKVxuICAgICAgfVxuICAgICAgZGF0YSA9IHRoaXMuX2RlY29kZXIud3JpdGUoZGF0YSlcbiAgICB9XG5cbiAgICB0aGlzLl9wYXJzZXIud3JpdGUoZGF0YS50b1N0cmluZygpKVxuICAgIHRoaXMuZW1pdCgnZGF0YScsIGRhdGEpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIFNBWFN0cmVhbS5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgaWYgKGNodW5rICYmIGNodW5rLmxlbmd0aCkge1xuICAgICAgdGhpcy53cml0ZShjaHVuaylcbiAgICB9XG4gICAgdGhpcy5fcGFyc2VyLmVuZCgpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIFNBWFN0cmVhbS5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXYsIGhhbmRsZXIpIHtcbiAgICB2YXIgbWUgPSB0aGlzXG4gICAgaWYgKCFtZS5fcGFyc2VyWydvbicgKyBldl0gJiYgc3RyZWFtV3JhcHMuaW5kZXhPZihldikgIT09IC0xKSB7XG4gICAgICBtZS5fcGFyc2VyWydvbicgKyBldl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IFthcmd1bWVudHNbMF1dIDogQXJyYXkuYXBwbHkobnVsbCwgYXJndW1lbnRzKVxuICAgICAgICBhcmdzLnNwbGljZSgwLCAwLCBldilcbiAgICAgICAgbWUuZW1pdC5hcHBseShtZSwgYXJncylcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gU3RyZWFtLnByb3RvdHlwZS5vbi5jYWxsKG1lLCBldiwgaGFuZGxlcilcbiAgfVxuXG4gIC8vIHRoaXMgcmVhbGx5IG5lZWRzIHRvIGJlIHJlcGxhY2VkIHdpdGggY2hhcmFjdGVyIGNsYXNzZXMuXG4gIC8vIFhNTCBhbGxvd3MgYWxsIG1hbm5lciBvZiByaWRpY3Vsb3VzIG51bWJlcnMgYW5kIGRpZ2l0cy5cbiAgdmFyIENEQVRBID0gJ1tDREFUQVsnXG4gIHZhciBET0NUWVBFID0gJ0RPQ1RZUEUnXG4gIHZhciBYTUxfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSdcbiAgdmFyIFhNTE5TX05BTUVTUEFDRSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zLydcbiAgdmFyIHJvb3ROUyA9IHsgeG1sOiBYTUxfTkFNRVNQQUNFLCB4bWxuczogWE1MTlNfTkFNRVNQQUNFIH1cblxuICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMteG1sLyNOVC1OYW1lU3RhcnRDaGFyXG4gIC8vIFRoaXMgaW1wbGVtZW50YXRpb24gd29ya3Mgb24gc3RyaW5ncywgYSBzaW5nbGUgY2hhcmFjdGVyIGF0IGEgdGltZVxuICAvLyBhcyBzdWNoLCBpdCBjYW5ub3QgZXZlciBzdXBwb3J0IGFzdHJhbC1wbGFuZSBjaGFyYWN0ZXJzICgxMDAwMC1FRkZGRilcbiAgLy8gd2l0aG91dCBhIHNpZ25pZmljYW50IGJyZWFraW5nIGNoYW5nZSB0byBlaXRoZXIgdGhpcyAgcGFyc2VyLCBvciB0aGVcbiAgLy8gSmF2YVNjcmlwdCBsYW5ndWFnZS4gIEltcGxlbWVudGF0aW9uIG9mIGFuIGVtb2ppLWNhcGFibGUgeG1sIHBhcnNlclxuICAvLyBpcyBsZWZ0IGFzIGFuIGV4ZXJjaXNlIGZvciB0aGUgcmVhZGVyLlxuICB2YXIgbmFtZVN0YXJ0ID0gL1s6X0EtWmEtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRF0vXG5cbiAgdmFyIG5hbWVCb2R5ID0gL1s6X0EtWmEtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRFxcdTAwQjdcXHUwMzAwLVxcdTAzNkZcXHUyMDNGLVxcdTIwNDAuXFxkLV0vXG5cbiAgdmFyIGVudGl0eVN0YXJ0ID0gL1sjOl9BLVphLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRdL1xuICB2YXIgZW50aXR5Qm9keSA9IC9bIzpfQS1aYS16XFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkZGXFx1MDM3MC1cXHUwMzdEXFx1MDM3Ri1cXHUxRkZGXFx1MjAwQy1cXHUyMDBEXFx1MjA3MC1cXHUyMThGXFx1MkMwMC1cXHUyRkVGXFx1MzAwMS1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkZEXFx1MDBCN1xcdTAzMDAtXFx1MDM2RlxcdTIwM0YtXFx1MjA0MC5cXGQtXS9cblxuICBmdW5jdGlvbiBpc1doaXRlc3BhY2UgKGMpIHtcbiAgICByZXR1cm4gYyA9PT0gJyAnIHx8IGMgPT09ICdcXG4nIHx8IGMgPT09ICdcXHInIHx8IGMgPT09ICdcXHQnXG4gIH1cblxuICBmdW5jdGlvbiBpc1F1b3RlIChjKSB7XG4gICAgcmV0dXJuIGMgPT09ICdcIicgfHwgYyA9PT0gJ1xcJydcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQXR0cmliRW5kIChjKSB7XG4gICAgcmV0dXJuIGMgPT09ICc+JyB8fCBpc1doaXRlc3BhY2UoYylcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzTWF0Y2ggKHJlZ2V4LCBjKSB7XG4gICAgcmV0dXJuIHJlZ2V4LnRlc3QoYylcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vdE1hdGNoIChyZWdleCwgYykge1xuICAgIHJldHVybiAhaXNNYXRjaChyZWdleCwgYylcbiAgfVxuXG4gIHZhciBTID0gMFxuICBzYXguU1RBVEUgPSB7XG4gICAgQkVHSU46IFMrKywgLy8gbGVhZGluZyBieXRlIG9yZGVyIG1hcmsgb3Igd2hpdGVzcGFjZVxuICAgIEJFR0lOX1dISVRFU1BBQ0U6IFMrKywgLy8gbGVhZGluZyB3aGl0ZXNwYWNlXG4gICAgVEVYVDogUysrLCAvLyBnZW5lcmFsIHN0dWZmXG4gICAgVEVYVF9FTlRJVFk6IFMrKywgLy8gJmFtcCBhbmQgc3VjaC5cbiAgICBPUEVOX1dBS0E6IFMrKywgLy8gPFxuICAgIFNHTUxfREVDTDogUysrLCAvLyA8IUJMQVJHXG4gICAgU0dNTF9ERUNMX1FVT1RFRDogUysrLCAvLyA8IUJMQVJHIGZvbyBcImJhclxuICAgIERPQ1RZUEU6IFMrKywgLy8gPCFET0NUWVBFXG4gICAgRE9DVFlQRV9RVU9URUQ6IFMrKywgLy8gPCFET0NUWVBFIFwiLy9ibGFoXG4gICAgRE9DVFlQRV9EVEQ6IFMrKywgLy8gPCFET0NUWVBFIFwiLy9ibGFoXCIgWyAuLi5cbiAgICBET0NUWVBFX0RURF9RVU9URUQ6IFMrKywgLy8gPCFET0NUWVBFIFwiLy9ibGFoXCIgWyBcImZvb1xuICAgIENPTU1FTlRfU1RBUlRJTkc6IFMrKywgLy8gPCEtXG4gICAgQ09NTUVOVDogUysrLCAvLyA8IS0tXG4gICAgQ09NTUVOVF9FTkRJTkc6IFMrKywgLy8gPCEtLSBibGFoIC1cbiAgICBDT01NRU5UX0VOREVEOiBTKyssIC8vIDwhLS0gYmxhaCAtLVxuICAgIENEQVRBOiBTKyssIC8vIDwhW0NEQVRBWyBzb21ldGhpbmdcbiAgICBDREFUQV9FTkRJTkc6IFMrKywgLy8gXVxuICAgIENEQVRBX0VORElOR18yOiBTKyssIC8vIF1dXG4gICAgUFJPQ19JTlNUOiBTKyssIC8vIDw/aGlcbiAgICBQUk9DX0lOU1RfQk9EWTogUysrLCAvLyA8P2hpIHRoZXJlXG4gICAgUFJPQ19JTlNUX0VORElORzogUysrLCAvLyA8P2hpIFwidGhlcmVcIiA/XG4gICAgT1BFTl9UQUc6IFMrKywgLy8gPHN0cm9uZ1xuICAgIE9QRU5fVEFHX1NMQVNIOiBTKyssIC8vIDxzdHJvbmcgL1xuICAgIEFUVFJJQjogUysrLCAvLyA8YVxuICAgIEFUVFJJQl9OQU1FOiBTKyssIC8vIDxhIGZvb1xuICAgIEFUVFJJQl9OQU1FX1NBV19XSElURTogUysrLCAvLyA8YSBmb28gX1xuICAgIEFUVFJJQl9WQUxVRTogUysrLCAvLyA8YSBmb289XG4gICAgQVRUUklCX1ZBTFVFX1FVT1RFRDogUysrLCAvLyA8YSBmb289XCJiYXJcbiAgICBBVFRSSUJfVkFMVUVfQ0xPU0VEOiBTKyssIC8vIDxhIGZvbz1cImJhclwiXG4gICAgQVRUUklCX1ZBTFVFX1VOUVVPVEVEOiBTKyssIC8vIDxhIGZvbz1iYXJcbiAgICBBVFRSSUJfVkFMVUVfRU5USVRZX1E6IFMrKywgLy8gPGZvbyBiYXI9XCImcXVvdDtcIlxuICAgIEFUVFJJQl9WQUxVRV9FTlRJVFlfVTogUysrLCAvLyA8Zm9vIGJhcj0mcXVvdFxuICAgIENMT1NFX1RBRzogUysrLCAvLyA8L2FcbiAgICBDTE9TRV9UQUdfU0FXX1dISVRFOiBTKyssIC8vIDwvYSAgID5cbiAgICBTQ1JJUFQ6IFMrKywgLy8gPHNjcmlwdD4gLi4uXG4gICAgU0NSSVBUX0VORElORzogUysrIC8vIDxzY3JpcHQ+IC4uLiA8XG4gIH1cblxuICBzYXguWE1MX0VOVElUSUVTID0ge1xuICAgICdhbXAnOiAnJicsXG4gICAgJ2d0JzogJz4nLFxuICAgICdsdCc6ICc8JyxcbiAgICAncXVvdCc6ICdcIicsXG4gICAgJ2Fwb3MnOiBcIidcIlxuICB9XG5cbiAgc2F4LkVOVElUSUVTID0ge1xuICAgICdhbXAnOiAnJicsXG4gICAgJ2d0JzogJz4nLFxuICAgICdsdCc6ICc8JyxcbiAgICAncXVvdCc6ICdcIicsXG4gICAgJ2Fwb3MnOiBcIidcIixcbiAgICAnQUVsaWcnOiAxOTgsXG4gICAgJ0FhY3V0ZSc6IDE5MyxcbiAgICAnQWNpcmMnOiAxOTQsXG4gICAgJ0FncmF2ZSc6IDE5MixcbiAgICAnQXJpbmcnOiAxOTcsXG4gICAgJ0F0aWxkZSc6IDE5NSxcbiAgICAnQXVtbCc6IDE5NixcbiAgICAnQ2NlZGlsJzogMTk5LFxuICAgICdFVEgnOiAyMDgsXG4gICAgJ0VhY3V0ZSc6IDIwMSxcbiAgICAnRWNpcmMnOiAyMDIsXG4gICAgJ0VncmF2ZSc6IDIwMCxcbiAgICAnRXVtbCc6IDIwMyxcbiAgICAnSWFjdXRlJzogMjA1LFxuICAgICdJY2lyYyc6IDIwNixcbiAgICAnSWdyYXZlJzogMjA0LFxuICAgICdJdW1sJzogMjA3LFxuICAgICdOdGlsZGUnOiAyMDksXG4gICAgJ09hY3V0ZSc6IDIxMSxcbiAgICAnT2NpcmMnOiAyMTIsXG4gICAgJ09ncmF2ZSc6IDIxMCxcbiAgICAnT3NsYXNoJzogMjE2LFxuICAgICdPdGlsZGUnOiAyMTMsXG4gICAgJ091bWwnOiAyMTQsXG4gICAgJ1RIT1JOJzogMjIyLFxuICAgICdVYWN1dGUnOiAyMTgsXG4gICAgJ1VjaXJjJzogMjE5LFxuICAgICdVZ3JhdmUnOiAyMTcsXG4gICAgJ1V1bWwnOiAyMjAsXG4gICAgJ1lhY3V0ZSc6IDIyMSxcbiAgICAnYWFjdXRlJzogMjI1LFxuICAgICdhY2lyYyc6IDIyNixcbiAgICAnYWVsaWcnOiAyMzAsXG4gICAgJ2FncmF2ZSc6IDIyNCxcbiAgICAnYXJpbmcnOiAyMjksXG4gICAgJ2F0aWxkZSc6IDIyNyxcbiAgICAnYXVtbCc6IDIyOCxcbiAgICAnY2NlZGlsJzogMjMxLFxuICAgICdlYWN1dGUnOiAyMzMsXG4gICAgJ2VjaXJjJzogMjM0LFxuICAgICdlZ3JhdmUnOiAyMzIsXG4gICAgJ2V0aCc6IDI0MCxcbiAgICAnZXVtbCc6IDIzNSxcbiAgICAnaWFjdXRlJzogMjM3LFxuICAgICdpY2lyYyc6IDIzOCxcbiAgICAnaWdyYXZlJzogMjM2LFxuICAgICdpdW1sJzogMjM5LFxuICAgICdudGlsZGUnOiAyNDEsXG4gICAgJ29hY3V0ZSc6IDI0MyxcbiAgICAnb2NpcmMnOiAyNDQsXG4gICAgJ29ncmF2ZSc6IDI0MixcbiAgICAnb3NsYXNoJzogMjQ4LFxuICAgICdvdGlsZGUnOiAyNDUsXG4gICAgJ291bWwnOiAyNDYsXG4gICAgJ3N6bGlnJzogMjIzLFxuICAgICd0aG9ybic6IDI1NCxcbiAgICAndWFjdXRlJzogMjUwLFxuICAgICd1Y2lyYyc6IDI1MSxcbiAgICAndWdyYXZlJzogMjQ5LFxuICAgICd1dW1sJzogMjUyLFxuICAgICd5YWN1dGUnOiAyNTMsXG4gICAgJ3l1bWwnOiAyNTUsXG4gICAgJ2NvcHknOiAxNjksXG4gICAgJ3JlZyc6IDE3NCxcbiAgICAnbmJzcCc6IDE2MCxcbiAgICAnaWV4Y2wnOiAxNjEsXG4gICAgJ2NlbnQnOiAxNjIsXG4gICAgJ3BvdW5kJzogMTYzLFxuICAgICdjdXJyZW4nOiAxNjQsXG4gICAgJ3llbic6IDE2NSxcbiAgICAnYnJ2YmFyJzogMTY2LFxuICAgICdzZWN0JzogMTY3LFxuICAgICd1bWwnOiAxNjgsXG4gICAgJ29yZGYnOiAxNzAsXG4gICAgJ2xhcXVvJzogMTcxLFxuICAgICdub3QnOiAxNzIsXG4gICAgJ3NoeSc6IDE3MyxcbiAgICAnbWFjcic6IDE3NSxcbiAgICAnZGVnJzogMTc2LFxuICAgICdwbHVzbW4nOiAxNzcsXG4gICAgJ3N1cDEnOiAxODUsXG4gICAgJ3N1cDInOiAxNzgsXG4gICAgJ3N1cDMnOiAxNzksXG4gICAgJ2FjdXRlJzogMTgwLFxuICAgICdtaWNybyc6IDE4MSxcbiAgICAncGFyYSc6IDE4MixcbiAgICAnbWlkZG90JzogMTgzLFxuICAgICdjZWRpbCc6IDE4NCxcbiAgICAnb3JkbSc6IDE4NixcbiAgICAncmFxdW8nOiAxODcsXG4gICAgJ2ZyYWMxNCc6IDE4OCxcbiAgICAnZnJhYzEyJzogMTg5LFxuICAgICdmcmFjMzQnOiAxOTAsXG4gICAgJ2lxdWVzdCc6IDE5MSxcbiAgICAndGltZXMnOiAyMTUsXG4gICAgJ2RpdmlkZSc6IDI0NyxcbiAgICAnT0VsaWcnOiAzMzgsXG4gICAgJ29lbGlnJzogMzM5LFxuICAgICdTY2Fyb24nOiAzNTIsXG4gICAgJ3NjYXJvbic6IDM1MyxcbiAgICAnWXVtbCc6IDM3NixcbiAgICAnZm5vZic6IDQwMixcbiAgICAnY2lyYyc6IDcxMCxcbiAgICAndGlsZGUnOiA3MzIsXG4gICAgJ0FscGhhJzogOTEzLFxuICAgICdCZXRhJzogOTE0LFxuICAgICdHYW1tYSc6IDkxNSxcbiAgICAnRGVsdGEnOiA5MTYsXG4gICAgJ0Vwc2lsb24nOiA5MTcsXG4gICAgJ1pldGEnOiA5MTgsXG4gICAgJ0V0YSc6IDkxOSxcbiAgICAnVGhldGEnOiA5MjAsXG4gICAgJ0lvdGEnOiA5MjEsXG4gICAgJ0thcHBhJzogOTIyLFxuICAgICdMYW1iZGEnOiA5MjMsXG4gICAgJ011JzogOTI0LFxuICAgICdOdSc6IDkyNSxcbiAgICAnWGknOiA5MjYsXG4gICAgJ09taWNyb24nOiA5MjcsXG4gICAgJ1BpJzogOTI4LFxuICAgICdSaG8nOiA5MjksXG4gICAgJ1NpZ21hJzogOTMxLFxuICAgICdUYXUnOiA5MzIsXG4gICAgJ1Vwc2lsb24nOiA5MzMsXG4gICAgJ1BoaSc6IDkzNCxcbiAgICAnQ2hpJzogOTM1LFxuICAgICdQc2knOiA5MzYsXG4gICAgJ09tZWdhJzogOTM3LFxuICAgICdhbHBoYSc6IDk0NSxcbiAgICAnYmV0YSc6IDk0NixcbiAgICAnZ2FtbWEnOiA5NDcsXG4gICAgJ2RlbHRhJzogOTQ4LFxuICAgICdlcHNpbG9uJzogOTQ5LFxuICAgICd6ZXRhJzogOTUwLFxuICAgICdldGEnOiA5NTEsXG4gICAgJ3RoZXRhJzogOTUyLFxuICAgICdpb3RhJzogOTUzLFxuICAgICdrYXBwYSc6IDk1NCxcbiAgICAnbGFtYmRhJzogOTU1LFxuICAgICdtdSc6IDk1NixcbiAgICAnbnUnOiA5NTcsXG4gICAgJ3hpJzogOTU4LFxuICAgICdvbWljcm9uJzogOTU5LFxuICAgICdwaSc6IDk2MCxcbiAgICAncmhvJzogOTYxLFxuICAgICdzaWdtYWYnOiA5NjIsXG4gICAgJ3NpZ21hJzogOTYzLFxuICAgICd0YXUnOiA5NjQsXG4gICAgJ3Vwc2lsb24nOiA5NjUsXG4gICAgJ3BoaSc6IDk2NixcbiAgICAnY2hpJzogOTY3LFxuICAgICdwc2knOiA5NjgsXG4gICAgJ29tZWdhJzogOTY5LFxuICAgICd0aGV0YXN5bSc6IDk3NyxcbiAgICAndXBzaWgnOiA5NzgsXG4gICAgJ3Bpdic6IDk4MixcbiAgICAnZW5zcCc6IDgxOTQsXG4gICAgJ2Vtc3AnOiA4MTk1LFxuICAgICd0aGluc3AnOiA4MjAxLFxuICAgICd6d25qJzogODIwNCxcbiAgICAnendqJzogODIwNSxcbiAgICAnbHJtJzogODIwNixcbiAgICAncmxtJzogODIwNyxcbiAgICAnbmRhc2gnOiA4MjExLFxuICAgICdtZGFzaCc6IDgyMTIsXG4gICAgJ2xzcXVvJzogODIxNixcbiAgICAncnNxdW8nOiA4MjE3LFxuICAgICdzYnF1byc6IDgyMTgsXG4gICAgJ2xkcXVvJzogODIyMCxcbiAgICAncmRxdW8nOiA4MjIxLFxuICAgICdiZHF1byc6IDgyMjIsXG4gICAgJ2RhZ2dlcic6IDgyMjQsXG4gICAgJ0RhZ2dlcic6IDgyMjUsXG4gICAgJ2J1bGwnOiA4MjI2LFxuICAgICdoZWxsaXAnOiA4MjMwLFxuICAgICdwZXJtaWwnOiA4MjQwLFxuICAgICdwcmltZSc6IDgyNDIsXG4gICAgJ1ByaW1lJzogODI0MyxcbiAgICAnbHNhcXVvJzogODI0OSxcbiAgICAncnNhcXVvJzogODI1MCxcbiAgICAnb2xpbmUnOiA4MjU0LFxuICAgICdmcmFzbCc6IDgyNjAsXG4gICAgJ2V1cm8nOiA4MzY0LFxuICAgICdpbWFnZSc6IDg0NjUsXG4gICAgJ3dlaWVycCc6IDg0NzIsXG4gICAgJ3JlYWwnOiA4NDc2LFxuICAgICd0cmFkZSc6IDg0ODIsXG4gICAgJ2FsZWZzeW0nOiA4NTAxLFxuICAgICdsYXJyJzogODU5MixcbiAgICAndWFycic6IDg1OTMsXG4gICAgJ3JhcnInOiA4NTk0LFxuICAgICdkYXJyJzogODU5NSxcbiAgICAnaGFycic6IDg1OTYsXG4gICAgJ2NyYXJyJzogODYyOSxcbiAgICAnbEFycic6IDg2NTYsXG4gICAgJ3VBcnInOiA4NjU3LFxuICAgICdyQXJyJzogODY1OCxcbiAgICAnZEFycic6IDg2NTksXG4gICAgJ2hBcnInOiA4NjYwLFxuICAgICdmb3JhbGwnOiA4NzA0LFxuICAgICdwYXJ0JzogODcwNixcbiAgICAnZXhpc3QnOiA4NzA3LFxuICAgICdlbXB0eSc6IDg3MDksXG4gICAgJ25hYmxhJzogODcxMSxcbiAgICAnaXNpbic6IDg3MTIsXG4gICAgJ25vdGluJzogODcxMyxcbiAgICAnbmknOiA4NzE1LFxuICAgICdwcm9kJzogODcxOSxcbiAgICAnc3VtJzogODcyMSxcbiAgICAnbWludXMnOiA4NzIyLFxuICAgICdsb3dhc3QnOiA4NzI3LFxuICAgICdyYWRpYyc6IDg3MzAsXG4gICAgJ3Byb3AnOiA4NzMzLFxuICAgICdpbmZpbic6IDg3MzQsXG4gICAgJ2FuZyc6IDg3MzYsXG4gICAgJ2FuZCc6IDg3NDMsXG4gICAgJ29yJzogODc0NCxcbiAgICAnY2FwJzogODc0NSxcbiAgICAnY3VwJzogODc0NixcbiAgICAnaW50JzogODc0NyxcbiAgICAndGhlcmU0JzogODc1NixcbiAgICAnc2ltJzogODc2NCxcbiAgICAnY29uZyc6IDg3NzMsXG4gICAgJ2FzeW1wJzogODc3NixcbiAgICAnbmUnOiA4ODAwLFxuICAgICdlcXVpdic6IDg4MDEsXG4gICAgJ2xlJzogODgwNCxcbiAgICAnZ2UnOiA4ODA1LFxuICAgICdzdWInOiA4ODM0LFxuICAgICdzdXAnOiA4ODM1LFxuICAgICduc3ViJzogODgzNixcbiAgICAnc3ViZSc6IDg4MzgsXG4gICAgJ3N1cGUnOiA4ODM5LFxuICAgICdvcGx1cyc6IDg4NTMsXG4gICAgJ290aW1lcyc6IDg4NTUsXG4gICAgJ3BlcnAnOiA4ODY5LFxuICAgICdzZG90JzogODkwMSxcbiAgICAnbGNlaWwnOiA4OTY4LFxuICAgICdyY2VpbCc6IDg5NjksXG4gICAgJ2xmbG9vcic6IDg5NzAsXG4gICAgJ3JmbG9vcic6IDg5NzEsXG4gICAgJ2xhbmcnOiA5MDAxLFxuICAgICdyYW5nJzogOTAwMixcbiAgICAnbG96JzogOTY3NCxcbiAgICAnc3BhZGVzJzogOTgyNCxcbiAgICAnY2x1YnMnOiA5ODI3LFxuICAgICdoZWFydHMnOiA5ODI5LFxuICAgICdkaWFtcyc6IDk4MzBcbiAgfVxuXG4gIE9iamVjdC5rZXlzKHNheC5FTlRJVElFUykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIGUgPSBzYXguRU5USVRJRVNba2V5XVxuICAgIHZhciBzID0gdHlwZW9mIGUgPT09ICdudW1iZXInID8gU3RyaW5nLmZyb21DaGFyQ29kZShlKSA6IGVcbiAgICBzYXguRU5USVRJRVNba2V5XSA9IHNcbiAgfSlcblxuICBmb3IgKHZhciBzIGluIHNheC5TVEFURSkge1xuICAgIHNheC5TVEFURVtzYXguU1RBVEVbc11dID0gc1xuICB9XG5cbiAgLy8gc2hvcnRoYW5kXG4gIFMgPSBzYXguU1RBVEVcblxuICBmdW5jdGlvbiBlbWl0IChwYXJzZXIsIGV2ZW50LCBkYXRhKSB7XG4gICAgcGFyc2VyW2V2ZW50XSAmJiBwYXJzZXJbZXZlbnRdKGRhdGEpXG4gIH1cblxuICBmdW5jdGlvbiBlbWl0Tm9kZSAocGFyc2VyLCBub2RlVHlwZSwgZGF0YSkge1xuICAgIGlmIChwYXJzZXIudGV4dE5vZGUpIGNsb3NlVGV4dChwYXJzZXIpXG4gICAgZW1pdChwYXJzZXIsIG5vZGVUeXBlLCBkYXRhKVxuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VUZXh0IChwYXJzZXIpIHtcbiAgICBwYXJzZXIudGV4dE5vZGUgPSB0ZXh0b3B0cyhwYXJzZXIub3B0LCBwYXJzZXIudGV4dE5vZGUpXG4gICAgaWYgKHBhcnNlci50ZXh0Tm9kZSkgZW1pdChwYXJzZXIsICdvbnRleHQnLCBwYXJzZXIudGV4dE5vZGUpXG4gICAgcGFyc2VyLnRleHROb2RlID0gJydcbiAgfVxuXG4gIGZ1bmN0aW9uIHRleHRvcHRzIChvcHQsIHRleHQpIHtcbiAgICBpZiAob3B0LnRyaW0pIHRleHQgPSB0ZXh0LnRyaW0oKVxuICAgIGlmIChvcHQubm9ybWFsaXplKSB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXHMrL2csICcgJylcbiAgICByZXR1cm4gdGV4dFxuICB9XG5cbiAgZnVuY3Rpb24gZXJyb3IgKHBhcnNlciwgZXIpIHtcbiAgICBjbG9zZVRleHQocGFyc2VyKVxuICAgIGlmIChwYXJzZXIudHJhY2tQb3NpdGlvbikge1xuICAgICAgZXIgKz0gJ1xcbkxpbmU6ICcgKyBwYXJzZXIubGluZSArXG4gICAgICAgICdcXG5Db2x1bW46ICcgKyBwYXJzZXIuY29sdW1uICtcbiAgICAgICAgJ1xcbkNoYXI6ICcgKyBwYXJzZXIuY1xuICAgIH1cbiAgICBlciA9IG5ldyBFcnJvcihlcilcbiAgICBwYXJzZXIuZXJyb3IgPSBlclxuICAgIGVtaXQocGFyc2VyLCAnb25lcnJvcicsIGVyKVxuICAgIHJldHVybiBwYXJzZXJcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZCAocGFyc2VyKSB7XG4gICAgaWYgKHBhcnNlci5zYXdSb290ICYmICFwYXJzZXIuY2xvc2VkUm9vdCkgc3RyaWN0RmFpbChwYXJzZXIsICdVbmNsb3NlZCByb290IHRhZycpXG4gICAgaWYgKChwYXJzZXIuc3RhdGUgIT09IFMuQkVHSU4pICYmXG4gICAgICAocGFyc2VyLnN0YXRlICE9PSBTLkJFR0lOX1dISVRFU1BBQ0UpICYmXG4gICAgICAocGFyc2VyLnN0YXRlICE9PSBTLlRFWFQpKSB7XG4gICAgICBlcnJvcihwYXJzZXIsICdVbmV4cGVjdGVkIGVuZCcpXG4gICAgfVxuICAgIGNsb3NlVGV4dChwYXJzZXIpXG4gICAgcGFyc2VyLmMgPSAnJ1xuICAgIHBhcnNlci5jbG9zZWQgPSB0cnVlXG4gICAgZW1pdChwYXJzZXIsICdvbmVuZCcpXG4gICAgU0FYUGFyc2VyLmNhbGwocGFyc2VyLCBwYXJzZXIuc3RyaWN0LCBwYXJzZXIub3B0KVxuICAgIHJldHVybiBwYXJzZXJcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmljdEZhaWwgKHBhcnNlciwgbWVzc2FnZSkge1xuICAgIGlmICh0eXBlb2YgcGFyc2VyICE9PSAnb2JqZWN0JyB8fCAhKHBhcnNlciBpbnN0YW5jZW9mIFNBWFBhcnNlcikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIGNhbGwgdG8gc3RyaWN0RmFpbCcpXG4gICAgfVxuICAgIGlmIChwYXJzZXIuc3RyaWN0KSB7XG4gICAgICBlcnJvcihwYXJzZXIsIG1lc3NhZ2UpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbmV3VGFnIChwYXJzZXIpIHtcbiAgICBpZiAoIXBhcnNlci5zdHJpY3QpIHBhcnNlci50YWdOYW1lID0gcGFyc2VyLnRhZ05hbWVbcGFyc2VyLmxvb3NlQ2FzZV0oKVxuICAgIHZhciBwYXJlbnQgPSBwYXJzZXIudGFnc1twYXJzZXIudGFncy5sZW5ndGggLSAxXSB8fCBwYXJzZXJcbiAgICB2YXIgdGFnID0gcGFyc2VyLnRhZyA9IHsgbmFtZTogcGFyc2VyLnRhZ05hbWUsIGF0dHJpYnV0ZXM6IHt9IH1cblxuICAgIC8vIHdpbGwgYmUgb3ZlcnJpZGRlbiBpZiB0YWcgY29udGFpbHMgYW4geG1sbnM9XCJmb29cIiBvciB4bWxuczpmb289XCJiYXJcIlxuICAgIGlmIChwYXJzZXIub3B0LnhtbG5zKSB7XG4gICAgICB0YWcubnMgPSBwYXJlbnQubnNcbiAgICB9XG4gICAgcGFyc2VyLmF0dHJpYkxpc3QubGVuZ3RoID0gMFxuICAgIGVtaXROb2RlKHBhcnNlciwgJ29ub3BlbnRhZ3N0YXJ0JywgdGFnKVxuICB9XG5cbiAgZnVuY3Rpb24gcW5hbWUgKG5hbWUsIGF0dHJpYnV0ZSkge1xuICAgIHZhciBpID0gbmFtZS5pbmRleE9mKCc6JylcbiAgICB2YXIgcXVhbE5hbWUgPSBpIDwgMCA/IFsgJycsIG5hbWUgXSA6IG5hbWUuc3BsaXQoJzonKVxuICAgIHZhciBwcmVmaXggPSBxdWFsTmFtZVswXVxuICAgIHZhciBsb2NhbCA9IHF1YWxOYW1lWzFdXG5cbiAgICAvLyA8eCBcInhtbG5zXCI9XCJodHRwOi8vZm9vXCI+XG4gICAgaWYgKGF0dHJpYnV0ZSAmJiBuYW1lID09PSAneG1sbnMnKSB7XG4gICAgICBwcmVmaXggPSAneG1sbnMnXG4gICAgICBsb2NhbCA9ICcnXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgcHJlZml4OiBwcmVmaXgsIGxvY2FsOiBsb2NhbCB9XG4gIH1cblxuICBmdW5jdGlvbiBhdHRyaWIgKHBhcnNlcikge1xuICAgIGlmICghcGFyc2VyLnN0cmljdCkge1xuICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBwYXJzZXIuYXR0cmliTmFtZVtwYXJzZXIubG9vc2VDYXNlXSgpXG4gICAgfVxuXG4gICAgaWYgKHBhcnNlci5hdHRyaWJMaXN0LmluZGV4T2YocGFyc2VyLmF0dHJpYk5hbWUpICE9PSAtMSB8fFxuICAgICAgcGFyc2VyLnRhZy5hdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KHBhcnNlci5hdHRyaWJOYW1lKSkge1xuICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBwYXJzZXIuYXR0cmliVmFsdWUgPSAnJ1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHBhcnNlci5vcHQueG1sbnMpIHtcbiAgICAgIHZhciBxbiA9IHFuYW1lKHBhcnNlci5hdHRyaWJOYW1lLCB0cnVlKVxuICAgICAgdmFyIHByZWZpeCA9IHFuLnByZWZpeFxuICAgICAgdmFyIGxvY2FsID0gcW4ubG9jYWxcblxuICAgICAgaWYgKHByZWZpeCA9PT0gJ3htbG5zJykge1xuICAgICAgICAvLyBuYW1lc3BhY2UgYmluZGluZyBhdHRyaWJ1dGUuIHB1c2ggdGhlIGJpbmRpbmcgaW50byBzY29wZVxuICAgICAgICBpZiAobG9jYWwgPT09ICd4bWwnICYmIHBhcnNlci5hdHRyaWJWYWx1ZSAhPT0gWE1MX05BTUVTUEFDRSkge1xuICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLFxuICAgICAgICAgICAgJ3htbDogcHJlZml4IG11c3QgYmUgYm91bmQgdG8gJyArIFhNTF9OQU1FU1BBQ0UgKyAnXFxuJyArXG4gICAgICAgICAgICAnQWN0dWFsOiAnICsgcGFyc2VyLmF0dHJpYlZhbHVlKVxuICAgICAgICB9IGVsc2UgaWYgKGxvY2FsID09PSAneG1sbnMnICYmIHBhcnNlci5hdHRyaWJWYWx1ZSAhPT0gWE1MTlNfTkFNRVNQQUNFKSB7XG4gICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsXG4gICAgICAgICAgICAneG1sbnM6IHByZWZpeCBtdXN0IGJlIGJvdW5kIHRvICcgKyBYTUxOU19OQU1FU1BBQ0UgKyAnXFxuJyArXG4gICAgICAgICAgICAnQWN0dWFsOiAnICsgcGFyc2VyLmF0dHJpYlZhbHVlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciB0YWcgPSBwYXJzZXIudGFnXG4gICAgICAgICAgdmFyIHBhcmVudCA9IHBhcnNlci50YWdzW3BhcnNlci50YWdzLmxlbmd0aCAtIDFdIHx8IHBhcnNlclxuICAgICAgICAgIGlmICh0YWcubnMgPT09IHBhcmVudC5ucykge1xuICAgICAgICAgICAgdGFnLm5zID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQubnMpXG4gICAgICAgICAgfVxuICAgICAgICAgIHRhZy5uc1tsb2NhbF0gPSBwYXJzZXIuYXR0cmliVmFsdWVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBkZWZlciBvbmF0dHJpYnV0ZSBldmVudHMgdW50aWwgYWxsIGF0dHJpYnV0ZXMgaGF2ZSBiZWVuIHNlZW5cbiAgICAgIC8vIHNvIGFueSBuZXcgYmluZGluZ3MgY2FuIHRha2UgZWZmZWN0LiBwcmVzZXJ2ZSBhdHRyaWJ1dGUgb3JkZXJcbiAgICAgIC8vIHNvIGRlZmVycmVkIGV2ZW50cyBjYW4gYmUgZW1pdHRlZCBpbiBkb2N1bWVudCBvcmRlclxuICAgICAgcGFyc2VyLmF0dHJpYkxpc3QucHVzaChbcGFyc2VyLmF0dHJpYk5hbWUsIHBhcnNlci5hdHRyaWJWYWx1ZV0pXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGluIG5vbi14bWxucyBtb2RlLCB3ZSBjYW4gZW1pdCB0aGUgZXZlbnQgcmlnaHQgYXdheVxuICAgICAgcGFyc2VyLnRhZy5hdHRyaWJ1dGVzW3BhcnNlci5hdHRyaWJOYW1lXSA9IHBhcnNlci5hdHRyaWJWYWx1ZVxuICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25hdHRyaWJ1dGUnLCB7XG4gICAgICAgIG5hbWU6IHBhcnNlci5hdHRyaWJOYW1lLFxuICAgICAgICB2YWx1ZTogcGFyc2VyLmF0dHJpYlZhbHVlXG4gICAgICB9KVxuICAgIH1cblxuICAgIHBhcnNlci5hdHRyaWJOYW1lID0gcGFyc2VyLmF0dHJpYlZhbHVlID0gJydcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5UYWcgKHBhcnNlciwgc2VsZkNsb3NpbmcpIHtcbiAgICBpZiAocGFyc2VyLm9wdC54bWxucykge1xuICAgICAgLy8gZW1pdCBuYW1lc3BhY2UgYmluZGluZyBldmVudHNcbiAgICAgIHZhciB0YWcgPSBwYXJzZXIudGFnXG5cbiAgICAgIC8vIGFkZCBuYW1lc3BhY2UgaW5mbyB0byB0YWdcbiAgICAgIHZhciBxbiA9IHFuYW1lKHBhcnNlci50YWdOYW1lKVxuICAgICAgdGFnLnByZWZpeCA9IHFuLnByZWZpeFxuICAgICAgdGFnLmxvY2FsID0gcW4ubG9jYWxcbiAgICAgIHRhZy51cmkgPSB0YWcubnNbcW4ucHJlZml4XSB8fCAnJ1xuXG4gICAgICBpZiAodGFnLnByZWZpeCAmJiAhdGFnLnVyaSkge1xuICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1VuYm91bmQgbmFtZXNwYWNlIHByZWZpeDogJyArXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkocGFyc2VyLnRhZ05hbWUpKVxuICAgICAgICB0YWcudXJpID0gcW4ucHJlZml4XG4gICAgICB9XG5cbiAgICAgIHZhciBwYXJlbnQgPSBwYXJzZXIudGFnc1twYXJzZXIudGFncy5sZW5ndGggLSAxXSB8fCBwYXJzZXJcbiAgICAgIGlmICh0YWcubnMgJiYgcGFyZW50Lm5zICE9PSB0YWcubnMpIHtcbiAgICAgICAgT2JqZWN0LmtleXModGFnLm5zKS5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25vcGVubmFtZXNwYWNlJywge1xuICAgICAgICAgICAgcHJlZml4OiBwLFxuICAgICAgICAgICAgdXJpOiB0YWcubnNbcF1cbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICAvLyBoYW5kbGUgZGVmZXJyZWQgb25hdHRyaWJ1dGUgZXZlbnRzXG4gICAgICAvLyBOb3RlOiBkbyBub3QgYXBwbHkgZGVmYXVsdCBucyB0byBhdHRyaWJ1dGVzOlxuICAgICAgLy8gICBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMteG1sLW5hbWVzLyNkZWZhdWx0aW5nXG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgbnYgPSBwYXJzZXIuYXR0cmliTGlzdFtpXVxuICAgICAgICB2YXIgbmFtZSA9IG52WzBdXG4gICAgICAgIHZhciB2YWx1ZSA9IG52WzFdXG4gICAgICAgIHZhciBxdWFsTmFtZSA9IHFuYW1lKG5hbWUsIHRydWUpXG4gICAgICAgIHZhciBwcmVmaXggPSBxdWFsTmFtZS5wcmVmaXhcbiAgICAgICAgdmFyIGxvY2FsID0gcXVhbE5hbWUubG9jYWxcbiAgICAgICAgdmFyIHVyaSA9IHByZWZpeCA9PT0gJycgPyAnJyA6ICh0YWcubnNbcHJlZml4XSB8fCAnJylcbiAgICAgICAgdmFyIGEgPSB7XG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgcHJlZml4OiBwcmVmaXgsXG4gICAgICAgICAgbG9jYWw6IGxvY2FsLFxuICAgICAgICAgIHVyaTogdXJpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGVyZSdzIGFueSBhdHRyaWJ1dGVzIHdpdGggYW4gdW5kZWZpbmVkIG5hbWVzcGFjZSxcbiAgICAgICAgLy8gdGhlbiBmYWlsIG9uIHRoZW0gbm93LlxuICAgICAgICBpZiAocHJlZml4ICYmIHByZWZpeCAhPT0gJ3htbG5zJyAmJiAhdXJpKSB7XG4gICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdVbmJvdW5kIG5hbWVzcGFjZSBwcmVmaXg6ICcgK1xuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJlZml4KSlcbiAgICAgICAgICBhLnVyaSA9IHByZWZpeFxuICAgICAgICB9XG4gICAgICAgIHBhcnNlci50YWcuYXR0cmlidXRlc1tuYW1lXSA9IGFcbiAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25hdHRyaWJ1dGUnLCBhKVxuICAgICAgfVxuICAgICAgcGFyc2VyLmF0dHJpYkxpc3QubGVuZ3RoID0gMFxuICAgIH1cblxuICAgIHBhcnNlci50YWcuaXNTZWxmQ2xvc2luZyA9ICEhc2VsZkNsb3NpbmdcblxuICAgIC8vIHByb2Nlc3MgdGhlIHRhZ1xuICAgIHBhcnNlci5zYXdSb290ID0gdHJ1ZVxuICAgIHBhcnNlci50YWdzLnB1c2gocGFyc2VyLnRhZylcbiAgICBlbWl0Tm9kZShwYXJzZXIsICdvbm9wZW50YWcnLCBwYXJzZXIudGFnKVxuICAgIGlmICghc2VsZkNsb3NpbmcpIHtcbiAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgPHNjcmlwdD4gaW4gbm9uLXN0cmljdCBtb2RlLlxuICAgICAgaWYgKCFwYXJzZXIubm9zY3JpcHQgJiYgcGFyc2VyLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3NjcmlwdCcpIHtcbiAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TQ1JJUFRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVFxuICAgICAgfVxuICAgICAgcGFyc2VyLnRhZyA9IG51bGxcbiAgICAgIHBhcnNlci50YWdOYW1lID0gJydcbiAgICB9XG4gICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBwYXJzZXIuYXR0cmliVmFsdWUgPSAnJ1xuICAgIHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aCA9IDBcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlVGFnIChwYXJzZXIpIHtcbiAgICBpZiAoIXBhcnNlci50YWdOYW1lKSB7XG4gICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1dlaXJkIGVtcHR5IGNsb3NlIHRhZy4nKVxuICAgICAgcGFyc2VyLnRleHROb2RlICs9ICc8Lz4nXG4gICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChwYXJzZXIuc2NyaXB0KSB7XG4gICAgICBpZiAocGFyc2VyLnRhZ05hbWUgIT09ICdzY3JpcHQnKSB7XG4gICAgICAgIHBhcnNlci5zY3JpcHQgKz0gJzwvJyArIHBhcnNlci50YWdOYW1lICsgJz4nXG4gICAgICAgIHBhcnNlci50YWdOYW1lID0gJydcbiAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TQ1JJUFRcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbnNjcmlwdCcsIHBhcnNlci5zY3JpcHQpXG4gICAgICBwYXJzZXIuc2NyaXB0ID0gJydcbiAgICB9XG5cbiAgICAvLyBmaXJzdCBtYWtlIHN1cmUgdGhhdCB0aGUgY2xvc2luZyB0YWcgYWN0dWFsbHkgZXhpc3RzLlxuICAgIC8vIDxhPjxiPjwvYz48L2I+PC9hPiB3aWxsIGNsb3NlIGV2ZXJ5dGhpbmcsIG90aGVyd2lzZS5cbiAgICB2YXIgdCA9IHBhcnNlci50YWdzLmxlbmd0aFxuICAgIHZhciB0YWdOYW1lID0gcGFyc2VyLnRhZ05hbWVcbiAgICBpZiAoIXBhcnNlci5zdHJpY3QpIHtcbiAgICAgIHRhZ05hbWUgPSB0YWdOYW1lW3BhcnNlci5sb29zZUNhc2VdKClcbiAgICB9XG4gICAgdmFyIGNsb3NlVG8gPSB0YWdOYW1lXG4gICAgd2hpbGUgKHQtLSkge1xuICAgICAgdmFyIGNsb3NlID0gcGFyc2VyLnRhZ3NbdF1cbiAgICAgIGlmIChjbG9zZS5uYW1lICE9PSBjbG9zZVRvKSB7XG4gICAgICAgIC8vIGZhaWwgdGhlIGZpcnN0IHRpbWUgaW4gc3RyaWN0IG1vZGVcbiAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdVbmV4cGVjdGVkIGNsb3NlIHRhZycpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRpZG4ndCBmaW5kIGl0LiAgd2UgYWxyZWFkeSBmYWlsZWQgZm9yIHN0cmljdCwgc28ganVzdCBhYm9ydC5cbiAgICBpZiAodCA8IDApIHtcbiAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVW5tYXRjaGVkIGNsb3NpbmcgdGFnOiAnICsgcGFyc2VyLnRhZ05hbWUpXG4gICAgICBwYXJzZXIudGV4dE5vZGUgKz0gJzwvJyArIHBhcnNlci50YWdOYW1lICsgJz4nXG4gICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBwYXJzZXIudGFnTmFtZSA9IHRhZ05hbWVcbiAgICB2YXIgcyA9IHBhcnNlci50YWdzLmxlbmd0aFxuICAgIHdoaWxlIChzLS0gPiB0KSB7XG4gICAgICB2YXIgdGFnID0gcGFyc2VyLnRhZyA9IHBhcnNlci50YWdzLnBvcCgpXG4gICAgICBwYXJzZXIudGFnTmFtZSA9IHBhcnNlci50YWcubmFtZVxuICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jbG9zZXRhZycsIHBhcnNlci50YWdOYW1lKVxuXG4gICAgICB2YXIgeCA9IHt9XG4gICAgICBmb3IgKHZhciBpIGluIHRhZy5ucykge1xuICAgICAgICB4W2ldID0gdGFnLm5zW2ldXG4gICAgICB9XG5cbiAgICAgIHZhciBwYXJlbnQgPSBwYXJzZXIudGFnc1twYXJzZXIudGFncy5sZW5ndGggLSAxXSB8fCBwYXJzZXJcbiAgICAgIGlmIChwYXJzZXIub3B0LnhtbG5zICYmIHRhZy5ucyAhPT0gcGFyZW50Lm5zKSB7XG4gICAgICAgIC8vIHJlbW92ZSBuYW1lc3BhY2UgYmluZGluZ3MgaW50cm9kdWNlZCBieSB0YWdcbiAgICAgICAgT2JqZWN0LmtleXModGFnLm5zKS5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgdmFyIG4gPSB0YWcubnNbcF1cbiAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNsb3NlbmFtZXNwYWNlJywgeyBwcmVmaXg6IHAsIHVyaTogbiB9KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodCA9PT0gMCkgcGFyc2VyLmNsb3NlZFJvb3QgPSB0cnVlXG4gICAgcGFyc2VyLnRhZ05hbWUgPSBwYXJzZXIuYXR0cmliVmFsdWUgPSBwYXJzZXIuYXR0cmliTmFtZSA9ICcnXG4gICAgcGFyc2VyLmF0dHJpYkxpc3QubGVuZ3RoID0gMFxuICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVFxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VFbnRpdHkgKHBhcnNlcikge1xuICAgIHZhciBlbnRpdHkgPSBwYXJzZXIuZW50aXR5XG4gICAgdmFyIGVudGl0eUxDID0gZW50aXR5LnRvTG93ZXJDYXNlKClcbiAgICB2YXIgbnVtXG4gICAgdmFyIG51bVN0ciA9ICcnXG5cbiAgICBpZiAocGFyc2VyLkVOVElUSUVTW2VudGl0eV0pIHtcbiAgICAgIHJldHVybiBwYXJzZXIuRU5USVRJRVNbZW50aXR5XVxuICAgIH1cbiAgICBpZiAocGFyc2VyLkVOVElUSUVTW2VudGl0eUxDXSkge1xuICAgICAgcmV0dXJuIHBhcnNlci5FTlRJVElFU1tlbnRpdHlMQ11cbiAgICB9XG4gICAgZW50aXR5ID0gZW50aXR5TENcbiAgICBpZiAoZW50aXR5LmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICBpZiAoZW50aXR5LmNoYXJBdCgxKSA9PT0gJ3gnKSB7XG4gICAgICAgIGVudGl0eSA9IGVudGl0eS5zbGljZSgyKVxuICAgICAgICBudW0gPSBwYXJzZUludChlbnRpdHksIDE2KVxuICAgICAgICBudW1TdHIgPSBudW0udG9TdHJpbmcoMTYpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbnRpdHkgPSBlbnRpdHkuc2xpY2UoMSlcbiAgICAgICAgbnVtID0gcGFyc2VJbnQoZW50aXR5LCAxMClcbiAgICAgICAgbnVtU3RyID0gbnVtLnRvU3RyaW5nKDEwKVxuICAgICAgfVxuICAgIH1cbiAgICBlbnRpdHkgPSBlbnRpdHkucmVwbGFjZSgvXjArLywgJycpXG4gICAgaWYgKGlzTmFOKG51bSkgfHwgbnVtU3RyLnRvTG93ZXJDYXNlKCkgIT09IGVudGl0eSkge1xuICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGNoYXJhY3RlciBlbnRpdHknKVxuICAgICAgcmV0dXJuICcmJyArIHBhcnNlci5lbnRpdHkgKyAnOydcbiAgICB9XG5cbiAgICByZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQobnVtKVxuICB9XG5cbiAgZnVuY3Rpb24gYmVnaW5XaGl0ZVNwYWNlIChwYXJzZXIsIGMpIHtcbiAgICBpZiAoYyA9PT0gJzwnKSB7XG4gICAgICBwYXJzZXIuc3RhdGUgPSBTLk9QRU5fV0FLQVxuICAgICAgcGFyc2VyLnN0YXJ0VGFnUG9zaXRpb24gPSBwYXJzZXIucG9zaXRpb25cbiAgICB9IGVsc2UgaWYgKCFpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgIC8vIGhhdmUgdG8gcHJvY2VzcyB0aGlzIGFzIGEgdGV4dCBub2RlLlxuICAgICAgLy8gd2VpcmQsIGJ1dCBoYXBwZW5zLlxuICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdOb24td2hpdGVzcGFjZSBiZWZvcmUgZmlyc3QgdGFnLicpXG4gICAgICBwYXJzZXIudGV4dE5vZGUgPSBjXG4gICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaGFyQXQgKGNodW5rLCBpKSB7XG4gICAgdmFyIHJlc3VsdCA9ICcnXG4gICAgaWYgKGkgPCBjaHVuay5sZW5ndGgpIHtcbiAgICAgIHJlc3VsdCA9IGNodW5rLmNoYXJBdChpKVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZSAoY2h1bmspIHtcbiAgICB2YXIgcGFyc2VyID0gdGhpc1xuICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICB0aHJvdyB0aGlzLmVycm9yXG4gICAgfVxuICAgIGlmIChwYXJzZXIuY2xvc2VkKSB7XG4gICAgICByZXR1cm4gZXJyb3IocGFyc2VyLFxuICAgICAgICAnQ2Fubm90IHdyaXRlIGFmdGVyIGNsb3NlLiBBc3NpZ24gYW4gb25yZWFkeSBoYW5kbGVyLicpXG4gICAgfVxuICAgIGlmIChjaHVuayA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGVuZChwYXJzZXIpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2h1bmsgPT09ICdvYmplY3QnKSB7XG4gICAgICBjaHVuayA9IGNodW5rLnRvU3RyaW5nKClcbiAgICB9XG4gICAgdmFyIGkgPSAwXG4gICAgdmFyIGMgPSAnJ1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjID0gY2hhckF0KGNodW5rLCBpKyspXG4gICAgICBwYXJzZXIuYyA9IGNcblxuICAgICAgaWYgKCFjKSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJzZXIudHJhY2tQb3NpdGlvbikge1xuICAgICAgICBwYXJzZXIucG9zaXRpb24rK1xuICAgICAgICBpZiAoYyA9PT0gJ1xcbicpIHtcbiAgICAgICAgICBwYXJzZXIubGluZSsrXG4gICAgICAgICAgcGFyc2VyLmNvbHVtbiA9IDBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJzZXIuY29sdW1uKytcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKHBhcnNlci5zdGF0ZSkge1xuICAgICAgICBjYXNlIFMuQkVHSU46XG4gICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5CRUdJTl9XSElURVNQQUNFXG4gICAgICAgICAgaWYgKGMgPT09ICdcXHVGRUZGJykge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgICAgYmVnaW5XaGl0ZVNwYWNlKHBhcnNlciwgYylcbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5CRUdJTl9XSElURVNQQUNFOlxuICAgICAgICAgIGJlZ2luV2hpdGVTcGFjZShwYXJzZXIsIGMpXG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuVEVYVDpcbiAgICAgICAgICBpZiAocGFyc2VyLnNhd1Jvb3QgJiYgIXBhcnNlci5jbG9zZWRSb290KSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRpID0gaSAtIDFcbiAgICAgICAgICAgIHdoaWxlIChjICYmIGMgIT09ICc8JyAmJiBjICE9PSAnJicpIHtcbiAgICAgICAgICAgICAgYyA9IGNoYXJBdChjaHVuaywgaSsrKVxuICAgICAgICAgICAgICBpZiAoYyAmJiBwYXJzZXIudHJhY2tQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIHBhcnNlci5wb3NpdGlvbisrXG4gICAgICAgICAgICAgICAgaWYgKGMgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgICBwYXJzZXIubGluZSsrXG4gICAgICAgICAgICAgICAgICBwYXJzZXIuY29sdW1uID0gMFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwYXJzZXIuY29sdW1uKytcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlci50ZXh0Tm9kZSArPSBjaHVuay5zdWJzdHJpbmcoc3RhcnRpLCBpIC0gMSlcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGMgPT09ICc8JyAmJiAhKHBhcnNlci5zYXdSb290ICYmIHBhcnNlci5jbG9zZWRSb290ICYmICFwYXJzZXIuc3RyaWN0KSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5PUEVOX1dBS0FcbiAgICAgICAgICAgIHBhcnNlci5zdGFydFRhZ1Bvc2l0aW9uID0gcGFyc2VyLnBvc2l0aW9uXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNXaGl0ZXNwYWNlKGMpICYmICghcGFyc2VyLnNhd1Jvb3QgfHwgcGFyc2VyLmNsb3NlZFJvb3QpKSB7XG4gICAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVGV4dCBkYXRhIG91dHNpZGUgb2Ygcm9vdCBub2RlLicpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA9PT0gJyYnKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVF9FTlRJVFlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhcnNlci50ZXh0Tm9kZSArPSBjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlNDUklQVDpcbiAgICAgICAgICAvLyBvbmx5IG5vbi1zdHJpY3RcbiAgICAgICAgICBpZiAoYyA9PT0gJzwnKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNDUklQVF9FTkRJTkdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnNjcmlwdCArPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlNDUklQVF9FTkRJTkc6XG4gICAgICAgICAgaWYgKGMgPT09ICcvJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DTE9TRV9UQUdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnNjcmlwdCArPSAnPCcgKyBjXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNDUklQVFxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5PUEVOX1dBS0E6XG4gICAgICAgICAgLy8gZWl0aGVyIGEgLywgPywgISwgb3IgdGV4dCBpcyBjb21pbmcgbmV4dC5cbiAgICAgICAgICBpZiAoYyA9PT0gJyEnKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNHTUxfREVDTFxuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsID0gJydcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgLy8gd2FpdCBmb3IgaXQuLi5cbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTWF0Y2gobmFtZVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5PUEVOX1RBR1xuICAgICAgICAgICAgcGFyc2VyLnRhZ05hbWUgPSBjXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnLycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0xPU0VfVEFHXG4gICAgICAgICAgICBwYXJzZXIudGFnTmFtZSA9ICcnXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuUFJPQ19JTlNUXG4gICAgICAgICAgICBwYXJzZXIucHJvY0luc3ROYW1lID0gcGFyc2VyLnByb2NJbnN0Qm9keSA9ICcnXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVW5lbmNvZGVkIDwnKVxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgd2FzIHNvbWUgd2hpdGVzcGFjZSwgdGhlbiBhZGQgdGhhdCBpbi5cbiAgICAgICAgICAgIGlmIChwYXJzZXIuc3RhcnRUYWdQb3NpdGlvbiArIDEgPCBwYXJzZXIucG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgdmFyIHBhZCA9IHBhcnNlci5wb3NpdGlvbiAtIHBhcnNlci5zdGFydFRhZ1Bvc2l0aW9uXG4gICAgICAgICAgICAgIGMgPSBuZXcgQXJyYXkocGFkKS5qb2luKCcgJykgKyBjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZXIudGV4dE5vZGUgKz0gJzwnICsgY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlNHTUxfREVDTDpcbiAgICAgICAgICBpZiAoKHBhcnNlci5zZ21sRGVjbCArIGMpLnRvVXBwZXJDYXNlKCkgPT09IENEQVRBKSB7XG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbm9wZW5jZGF0YScpXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNEQVRBXG4gICAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhID0gJydcbiAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlci5zZ21sRGVjbCArIGMgPT09ICctLScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVFxuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsID0gJydcbiAgICAgICAgICB9IGVsc2UgaWYgKChwYXJzZXIuc2dtbERlY2wgKyBjKS50b1VwcGVyQ2FzZSgpID09PSBET0NUWVBFKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVcbiAgICAgICAgICAgIGlmIChwYXJzZXIuZG9jdHlwZSB8fCBwYXJzZXIuc2F3Um9vdCkge1xuICAgICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlcixcbiAgICAgICAgICAgICAgICAnSW5hcHByb3ByaWF0ZWx5IGxvY2F0ZWQgZG9jdHlwZSBkZWNsYXJhdGlvbicpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZXIuZG9jdHlwZSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgPSAnJ1xuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbnNnbWxkZWNsYXJhdGlvbicsIHBhcnNlci5zZ21sRGVjbClcbiAgICAgICAgICAgIHBhcnNlci5zZ21sRGVjbCA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzUXVvdGUoYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0dNTF9ERUNMX1FVT1RFRFxuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsICs9IGNcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsICs9IGNcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuU0dNTF9ERUNMX1FVT1RFRDpcbiAgICAgICAgICBpZiAoYyA9PT0gcGFyc2VyLnEpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0dNTF9ERUNMXG4gICAgICAgICAgICBwYXJzZXIucSA9ICcnXG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcnNlci5zZ21sRGVjbCArPSBjXG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuRE9DVFlQRTpcbiAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uZG9jdHlwZScsIHBhcnNlci5kb2N0eXBlKVxuICAgICAgICAgICAgcGFyc2VyLmRvY3R5cGUgPSB0cnVlIC8vIGp1c3QgcmVtZW1iZXIgdGhhdCB3ZSBzYXcgaXQuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5kb2N0eXBlICs9IGNcbiAgICAgICAgICAgIGlmIChjID09PSAnWycpIHtcbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFX0RURFxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1F1b3RlKGMpKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRV9RVU9URURcbiAgICAgICAgICAgICAgcGFyc2VyLnEgPSBjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkRPQ1RZUEVfUVVPVEVEOlxuICAgICAgICAgIHBhcnNlci5kb2N0eXBlICs9IGNcbiAgICAgICAgICBpZiAoYyA9PT0gcGFyc2VyLnEpIHtcbiAgICAgICAgICAgIHBhcnNlci5xID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5ET0NUWVBFX0RURDpcbiAgICAgICAgICBwYXJzZXIuZG9jdHlwZSArPSBjXG4gICAgICAgICAgaWYgKGMgPT09ICddJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFXG4gICAgICAgICAgfSBlbHNlIGlmIChpc1F1b3RlKGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVfRFREX1FVT1RFRFxuICAgICAgICAgICAgcGFyc2VyLnEgPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkRPQ1RZUEVfRFREX1FVT1RFRDpcbiAgICAgICAgICBwYXJzZXIuZG9jdHlwZSArPSBjXG4gICAgICAgICAgaWYgKGMgPT09IHBhcnNlci5xKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVfRFREXG4gICAgICAgICAgICBwYXJzZXIucSA9ICcnXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNPTU1FTlQ6XG4gICAgICAgICAgaWYgKGMgPT09ICctJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DT01NRU5UX0VORElOR1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuY29tbWVudCArPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNPTU1FTlRfRU5ESU5HOlxuICAgICAgICAgIGlmIChjID09PSAnLScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVF9FTkRFRFxuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgPSB0ZXh0b3B0cyhwYXJzZXIub3B0LCBwYXJzZXIuY29tbWVudClcbiAgICAgICAgICAgIGlmIChwYXJzZXIuY29tbWVudCkge1xuICAgICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNvbW1lbnQnLCBwYXJzZXIuY29tbWVudClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlci5jb21tZW50ID0gJydcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgKz0gJy0nICsgY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DT01NRU5UXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNPTU1FTlRfRU5ERUQ6XG4gICAgICAgICAgaWYgKGMgIT09ICc+Jykge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdNYWxmb3JtZWQgY29tbWVudCcpXG4gICAgICAgICAgICAvLyBhbGxvdyA8IS0tIGJsYWggLS0gYmxvbyAtLT4gaW4gbm9uLXN0cmljdCBtb2RlLFxuICAgICAgICAgICAgLy8gd2hpY2ggaXMgYSBjb21tZW50IG9mIFwiIGJsYWggLS0gYmxvbyBcIlxuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgKz0gJy0tJyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0RBVEE6XG4gICAgICAgICAgaWYgKGMgPT09ICddJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DREFUQV9FTkRJTkdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhICs9IGNcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0RBVEFfRU5ESU5HOlxuICAgICAgICAgIGlmIChjID09PSAnXScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEFfRU5ESU5HXzJcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhICs9ICddJyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEFcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0RBVEFfRU5ESU5HXzI6XG4gICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgaWYgKHBhcnNlci5jZGF0YSkge1xuICAgICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNkYXRhJywgcGFyc2VyLmNkYXRhKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jbG9zZWNkYXRhJylcbiAgICAgICAgICAgIHBhcnNlci5jZGF0YSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICddJykge1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhICs9ICddJ1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuY2RhdGEgKz0gJ11dJyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEFcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuUFJPQ19JTlNUOlxuICAgICAgICAgIGlmIChjID09PSAnPycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuUFJPQ19JTlNUX0VORElOR1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlBST0NfSU5TVF9CT0RZXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5wcm9jSW5zdE5hbWUgKz0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5QUk9DX0lOU1RfQk9EWTpcbiAgICAgICAgICBpZiAoIXBhcnNlci5wcm9jSW5zdEJvZHkgJiYgaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz8nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlBST0NfSU5TVF9FTkRJTkdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnByb2NJbnN0Qm9keSArPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlBST0NfSU5TVF9FTkRJTkc6XG4gICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25wcm9jZXNzaW5naW5zdHJ1Y3Rpb24nLCB7XG4gICAgICAgICAgICAgIG5hbWU6IHBhcnNlci5wcm9jSW5zdE5hbWUsXG4gICAgICAgICAgICAgIGJvZHk6IHBhcnNlci5wcm9jSW5zdEJvZHlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBwYXJzZXIucHJvY0luc3ROYW1lID0gcGFyc2VyLnByb2NJbnN0Qm9keSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnByb2NJbnN0Qm9keSArPSAnPycgKyBjXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlBST0NfSU5TVF9CT0RZXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLk9QRU5fVEFHOlxuICAgICAgICAgIGlmIChpc01hdGNoKG5hbWVCb2R5LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnRhZ05hbWUgKz0gY1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdUYWcocGFyc2VyKVxuICAgICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgICBvcGVuVGFnKHBhcnNlcilcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJy8nKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9UQUdfU0xBU0hcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICghaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGNoYXJhY3RlciBpbiB0YWcgbmFtZScpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuT1BFTl9UQUdfU0xBU0g6XG4gICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIsIHRydWUpXG4gICAgICAgICAgICBjbG9zZVRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnRm9yd2FyZC1zbGFzaCBpbiBvcGVuaW5nIHRhZyBub3QgZm9sbG93ZWQgYnkgPicpXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQlxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5BVFRSSUI6XG4gICAgICAgICAgLy8gaGF2ZW4ndCByZWFkIHRoZSBhdHRyaWJ1dGUgbmFtZSB5ZXQuXG4gICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnLycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9UQUdfU0xBU0hcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTWF0Y2gobmFtZVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBjXG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliVmFsdWUgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfTkFNRVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgYXR0cmlidXRlIG5hbWUnKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5BVFRSSUJfTkFNRTpcbiAgICAgICAgICBpZiAoYyA9PT0gJz0nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRVxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0F0dHJpYnV0ZSB3aXRob3V0IHZhbHVlJylcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJWYWx1ZSA9IHBhcnNlci5hdHRyaWJOYW1lXG4gICAgICAgICAgICBhdHRyaWIocGFyc2VyKVxuICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX05BTUVfU0FXX1dISVRFXG4gICAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoKG5hbWVCb2R5LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgKz0gY1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgYXR0cmlidXRlIG5hbWUnKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5BVFRSSUJfTkFNRV9TQVdfV0hJVEU6XG4gICAgICAgICAgaWYgKGMgPT09ICc9Jykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUVcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdBdHRyaWJ1dGUgd2l0aG91dCB2YWx1ZScpXG4gICAgICAgICAgICBwYXJzZXIudGFnLmF0dHJpYnV0ZXNbcGFyc2VyLmF0dHJpYk5hbWVdID0gJydcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJWYWx1ZSA9ICcnXG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmF0dHJpYnV0ZScsIHtcbiAgICAgICAgICAgICAgbmFtZTogcGFyc2VyLmF0dHJpYk5hbWUsXG4gICAgICAgICAgICAgIHZhbHVlOiAnJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJOYW1lID0gJydcbiAgICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTWF0Y2gobmFtZVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgICBwYXJzZXIuYXR0cmliTmFtZSA9IGNcbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfTkFNRVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lJylcbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCX1ZBTFVFOlxuICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfSBlbHNlIGlmIChpc1F1b3RlKGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIucSA9IGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX1FVT1RFRFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1VucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZScpXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9VTlFVT1RFRFxuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYlZhbHVlID0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5BVFRSSUJfVkFMVUVfUVVPVEVEOlxuICAgICAgICAgIGlmIChjICE9PSBwYXJzZXIucSkge1xuICAgICAgICAgICAgaWYgKGMgPT09ICcmJykge1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfUVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGFyc2VyLmF0dHJpYlZhbHVlICs9IGNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGF0dHJpYihwYXJzZXIpXG4gICAgICAgICAgcGFyc2VyLnEgPSAnJ1xuICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX0NMT1NFRFxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9DTE9TRUQ6XG4gICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnLycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9UQUdfU0xBU0hcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTWF0Y2gobmFtZVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdObyB3aGl0ZXNwYWNlIGJldHdlZW4gYXR0cmlidXRlcycpXG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliTmFtZSA9IGNcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJWYWx1ZSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9OQU1FXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBhdHRyaWJ1dGUgbmFtZScpXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9VTlFVT1RFRDpcbiAgICAgICAgICBpZiAoIWlzQXR0cmliRW5kKGMpKSB7XG4gICAgICAgICAgICBpZiAoYyA9PT0gJyYnKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX0VOVElUWV9VXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYXJzZXIuYXR0cmliVmFsdWUgKz0gY1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgICAgYXR0cmliKHBhcnNlcilcbiAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBvcGVuVGFnKHBhcnNlcilcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0xPU0VfVEFHOlxuICAgICAgICAgIGlmICghcGFyc2VyLnRhZ05hbWUpIHtcbiAgICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobm90TWF0Y2gobmFtZVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgICBpZiAocGFyc2VyLnNjcmlwdCkge1xuICAgICAgICAgICAgICAgIHBhcnNlci5zY3JpcHQgKz0gJzwvJyArIGNcbiAgICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNDUklQVFxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCB0YWduYW1lIGluIGNsb3NpbmcgdGFnLicpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhcnNlci50YWdOYW1lID0gY1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBjbG9zZVRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoKG5hbWVCb2R5LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnRhZ05hbWUgKz0gY1xuICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VyLnNjcmlwdCkge1xuICAgICAgICAgICAgcGFyc2VyLnNjcmlwdCArPSAnPC8nICsgcGFyc2VyLnRhZ05hbWVcbiAgICAgICAgICAgIHBhcnNlci50YWdOYW1lID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0NSSVBUXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCB0YWduYW1lIGluIGNsb3NpbmcgdGFnJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0xPU0VfVEFHX1NBV19XSElURVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5DTE9TRV9UQUdfU0FXX1dISVRFOlxuICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIGNsb3NlVGFnKHBhcnNlcilcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGNoYXJhY3RlcnMgaW4gY2xvc2luZyB0YWcnKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5URVhUX0VOVElUWTpcbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfUTpcbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfVTpcbiAgICAgICAgICB2YXIgcmV0dXJuU3RhdGVcbiAgICAgICAgICB2YXIgYnVmZmVyXG4gICAgICAgICAgc3dpdGNoIChwYXJzZXIuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgUy5URVhUX0VOVElUWTpcbiAgICAgICAgICAgICAgcmV0dXJuU3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICAgICAgYnVmZmVyID0gJ3RleHROb2RlJ1xuICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICBjYXNlIFMuQVRUUklCX1ZBTFVFX0VOVElUWV9ROlxuICAgICAgICAgICAgICByZXR1cm5TdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX1FVT1RFRFxuICAgICAgICAgICAgICBidWZmZXIgPSAnYXR0cmliVmFsdWUnXG4gICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIGNhc2UgUy5BVFRSSUJfVkFMVUVfRU5USVRZX1U6XG4gICAgICAgICAgICAgIHJldHVyblN0YXRlID0gUy5BVFRSSUJfVkFMVUVfVU5RVU9URURcbiAgICAgICAgICAgICAgYnVmZmVyID0gJ2F0dHJpYlZhbHVlJ1xuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjID09PSAnOycpIHtcbiAgICAgICAgICAgIHBhcnNlcltidWZmZXJdICs9IHBhcnNlRW50aXR5KHBhcnNlcilcbiAgICAgICAgICAgIHBhcnNlci5lbnRpdHkgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gcmV0dXJuU3RhdGVcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTWF0Y2gocGFyc2VyLmVudGl0eS5sZW5ndGggPyBlbnRpdHlCb2R5IDogZW50aXR5U3RhcnQsIGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIuZW50aXR5ICs9IGNcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGNoYXJhY3RlciBpbiBlbnRpdHkgbmFtZScpXG4gICAgICAgICAgICBwYXJzZXJbYnVmZmVyXSArPSAnJicgKyBwYXJzZXIuZW50aXR5ICsgY1xuICAgICAgICAgICAgcGFyc2VyLmVudGl0eSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSByZXR1cm5TdGF0ZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGFyc2VyLCAnVW5rbm93biBzdGF0ZTogJyArIHBhcnNlci5zdGF0ZSlcbiAgICAgIH1cbiAgICB9IC8vIHdoaWxlXG5cbiAgICBpZiAocGFyc2VyLnBvc2l0aW9uID49IHBhcnNlci5idWZmZXJDaGVja1Bvc2l0aW9uKSB7XG4gICAgICBjaGVja0J1ZmZlckxlbmd0aChwYXJzZXIpXG4gICAgfVxuICAgIHJldHVybiBwYXJzZXJcbiAgfVxuXG4gIC8qISBodHRwOi8vbXRocy5iZS9mcm9tY29kZXBvaW50IHYwLjEuMCBieSBAbWF0aGlhcyAqL1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoIVN0cmluZy5mcm9tQ29kZVBvaW50KSB7XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlXG4gICAgICB2YXIgZmxvb3IgPSBNYXRoLmZsb29yXG4gICAgICB2YXIgZnJvbUNvZGVQb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIE1BWF9TSVpFID0gMHg0MDAwXG4gICAgICAgIHZhciBjb2RlVW5pdHMgPSBbXVxuICAgICAgICB2YXIgaGlnaFN1cnJvZ2F0ZVxuICAgICAgICB2YXIgbG93U3Vycm9nYXRlXG4gICAgICAgIHZhciBpbmRleCA9IC0xXG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuICcnXG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGNvZGVQb2ludCA9IE51bWJlcihhcmd1bWVudHNbaW5kZXhdKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFpc0Zpbml0ZShjb2RlUG9pbnQpIHx8IC8vIGBOYU5gLCBgK0luZmluaXR5YCwgb3IgYC1JbmZpbml0eWBcbiAgICAgICAgICAgIGNvZGVQb2ludCA8IDAgfHwgLy8gbm90IGEgdmFsaWQgVW5pY29kZSBjb2RlIHBvaW50XG4gICAgICAgICAgICBjb2RlUG9pbnQgPiAweDEwRkZGRiB8fCAvLyBub3QgYSB2YWxpZCBVbmljb2RlIGNvZGUgcG9pbnRcbiAgICAgICAgICAgIGZsb29yKGNvZGVQb2ludCkgIT09IGNvZGVQb2ludCAvLyBub3QgYW4gaW50ZWdlclxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhyb3cgUmFuZ2VFcnJvcignSW52YWxpZCBjb2RlIHBvaW50OiAnICsgY29kZVBvaW50KVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4RkZGRikgeyAvLyBCTVAgY29kZSBwb2ludFxuICAgICAgICAgICAgY29kZVVuaXRzLnB1c2goY29kZVBvaW50KVxuICAgICAgICAgIH0gZWxzZSB7IC8vIEFzdHJhbCBjb2RlIHBvaW50OyBzcGxpdCBpbiBzdXJyb2dhdGUgaGFsdmVzXG4gICAgICAgICAgICAvLyBodHRwOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nI3N1cnJvZ2F0ZS1mb3JtdWxhZVxuICAgICAgICAgICAgY29kZVBvaW50IC09IDB4MTAwMDBcbiAgICAgICAgICAgIGhpZ2hTdXJyb2dhdGUgPSAoY29kZVBvaW50ID4+IDEwKSArIDB4RDgwMFxuICAgICAgICAgICAgbG93U3Vycm9nYXRlID0gKGNvZGVQb2ludCAlIDB4NDAwKSArIDB4REMwMFxuICAgICAgICAgICAgY29kZVVuaXRzLnB1c2goaGlnaFN1cnJvZ2F0ZSwgbG93U3Vycm9nYXRlKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5kZXggKyAxID09PSBsZW5ndGggfHwgY29kZVVuaXRzLmxlbmd0aCA+IE1BWF9TSVpFKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGNvZGVVbml0cylcbiAgICAgICAgICAgIGNvZGVVbml0cy5sZW5ndGggPSAwXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcsICdmcm9tQ29kZVBvaW50Jywge1xuICAgICAgICAgIHZhbHVlOiBmcm9tQ29kZVBvaW50LFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgU3RyaW5nLmZyb21Db2RlUG9pbnQgPSBmcm9tQ29kZVBvaW50XG4gICAgICB9XG4gICAgfSgpKVxuICB9XG59KSh0eXBlb2YgZXhwb3J0cyA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnNheCA9IHt9IDogZXhwb3J0cylcbiIsICJ2YXIgc2F4ICAgICAgICAgICA9IHJlcXVpcmUoJ3NheCcpXG4gICwgZGF0ZUZvcm1hdHRlciA9IHJlcXVpcmUoJy4vZGF0ZV9mb3JtYXR0ZXInKVxuXG52YXIgRGVzZXJpYWxpemVyID0gZnVuY3Rpb24oZW5jb2RpbmcpIHtcbiAgdGhpcy50eXBlID0gbnVsbFxuICB0aGlzLnJlc3BvbnNlVHlwZSA9IG51bGxcbiAgdGhpcy5zdGFjayA9IFtdXG4gIHRoaXMubWFya3MgPSBbXVxuICB0aGlzLmRhdGEgPSBbXVxuICB0aGlzLm1ldGhvZG5hbWUgPSBudWxsXG4gIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZyB8fCAndXRmOCdcbiAgdGhpcy52YWx1ZSA9IGZhbHNlXG4gIHRoaXMuY2FsbGJhY2sgPSBudWxsXG4gIHRoaXMuZXJyb3IgPSBudWxsXG5cbiAgdGhpcy5wYXJzZXIgPSBzYXguY3JlYXRlU3RyZWFtKClcbiAgdGhpcy5wYXJzZXIub24oJ29wZW50YWcnLCAgdGhpcy5vbk9wZW50YWcuYmluZCh0aGlzKSlcbiAgdGhpcy5wYXJzZXIub24oJ2Nsb3NldGFnJywgdGhpcy5vbkNsb3NldGFnLmJpbmQodGhpcykpXG4gIHRoaXMucGFyc2VyLm9uKCd0ZXh0JywgICAgIHRoaXMub25UZXh0LmJpbmQodGhpcykpXG4gIHRoaXMucGFyc2VyLm9uKCdjZGF0YScsICAgIHRoaXMub25DREFUQS5iaW5kKHRoaXMpKVxuICB0aGlzLnBhcnNlci5vbignZW5kJywgICAgICB0aGlzLm9uRG9uZS5iaW5kKHRoaXMpKVxuICB0aGlzLnBhcnNlci5vbignZXJyb3InLCAgICB0aGlzLm9uRXJyb3IuYmluZCh0aGlzKSlcbn1cblxuRGVzZXJpYWxpemVyLnByb3RvdHlwZS5kZXNlcmlhbGl6ZU1ldGhvZFJlc3BvbnNlID0gZnVuY3Rpb24oc3RyZWFtLCBjYWxsYmFjaykge1xuICB2YXIgdGhhdCA9IHRoaXNcblxuICB0aGlzLmNhbGxiYWNrID0gZnVuY3Rpb24oZXJyb3IsIHJlc3VsdCkge1xuICAgIGlmIChlcnJvcikge1xuICAgICAgY2FsbGJhY2soZXJyb3IpXG4gICAgfVxuICAgIGVsc2UgaWYgKHJlc3VsdC5sZW5ndGggPiAxKSB7XG4gICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ1Jlc3BvbnNlIGhhcyBtb3JlIHRoYW4gb25lIHBhcmFtJykpXG4gICAgfVxuICAgIGVsc2UgaWYgKHRoYXQudHlwZSAhPT0gJ21ldGhvZHJlc3BvbnNlJykge1xuICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdOb3QgYSBtZXRob2QgcmVzcG9uc2UnKSlcbiAgICB9XG4gICAgZWxzZSBpZiAoIXRoYXQucmVzcG9uc2VUeXBlKSB7XG4gICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIHJlc3BvbnNlJykpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0WzBdKVxuICAgIH1cbiAgfVxuXG4gIHN0cmVhbS5zZXRFbmNvZGluZyh0aGlzLmVuY29kaW5nKVxuICBzdHJlYW0ub24oJ2Vycm9yJywgdGhpcy5vbkVycm9yLmJpbmQodGhpcykpXG4gIHN0cmVhbS5waXBlKHRoaXMucGFyc2VyKVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmRlc2VyaWFsaXplTWV0aG9kQ2FsbCA9IGZ1bmN0aW9uKHN0cmVhbSwgY2FsbGJhY2spIHtcbiAgdmFyIHRoYXQgPSB0aGlzXG5cbiAgdGhpcy5jYWxsYmFjayA9IGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpIHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNhbGxiYWNrKGVycm9yKVxuICAgIH1cbiAgICBlbHNlIGlmICh0aGF0LnR5cGUgIT09ICdtZXRob2RjYWxsJykge1xuICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdOb3QgYSBtZXRob2QgY2FsbCcpKVxuICAgIH1cbiAgICBlbHNlIGlmICghdGhhdC5tZXRob2RuYW1lKSB7XG4gICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ01ldGhvZCBjYWxsIGRpZCBub3QgY29udGFpbiBhIG1ldGhvZCBuYW1lJykpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2FsbGJhY2sobnVsbCwgdGhhdC5tZXRob2RuYW1lLCByZXN1bHQpXG4gICAgfVxuICB9XG5cbiAgc3RyZWFtLnNldEVuY29kaW5nKHRoaXMuZW5jb2RpbmcpXG4gIHN0cmVhbS5vbignZXJyb3InLCB0aGlzLm9uRXJyb3IuYmluZCh0aGlzKSlcbiAgc3RyZWFtLnBpcGUodGhpcy5wYXJzZXIpXG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUub25Eb25lID0gZnVuY3Rpb24oKSB7XG4gIHZhciB0aGF0ID0gdGhpc1xuXG4gIGlmICghdGhpcy5lcnJvcikge1xuICAgIGlmICh0aGlzLnR5cGUgPT09IG51bGwgfHwgdGhpcy5tYXJrcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY2FsbGJhY2sobmV3IEVycm9yKCdJbnZhbGlkIFhNTC1SUEMgbWVzc2FnZScpKVxuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLnJlc3BvbnNlVHlwZSA9PT0gJ2ZhdWx0Jykge1xuICAgICAgdmFyIGNyZWF0ZUZhdWx0ID0gZnVuY3Rpb24oZmF1bHQpIHtcbiAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKCdYTUwtUlBDIGZhdWx0JyArIChmYXVsdC5mYXVsdFN0cmluZyA/ICc6ICcgKyBmYXVsdC5mYXVsdFN0cmluZyA6ICcnKSlcbiAgICAgICAgZXJyb3IuY29kZSA9IGZhdWx0LmZhdWx0Q29kZVxuICAgICAgICBlcnJvci5mYXVsdENvZGUgPSBmYXVsdC5mYXVsdENvZGVcbiAgICAgICAgZXJyb3IuZmF1bHRTdHJpbmcgPSBmYXVsdC5mYXVsdFN0cmluZ1xuICAgICAgICByZXR1cm4gZXJyb3JcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FsbGJhY2soY3JlYXRlRmF1bHQodGhpcy5zdGFja1swXSkpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5jYWxsYmFjayh1bmRlZmluZWQsIHRoaXMuc3RhY2spXG4gICAgfVxuICB9XG59XG5cbi8vIFRPRE86XG4vLyBFcnJvciBoYW5kbGluZyBuZWVkcyBhIGxpdHRsZSB0aGlua2luZy4gVGhlcmUgYXJlIHR3byBkaWZmZXJlbnQga2luZHMgb2Zcbi8vIGVycm9yczogXG4vLyAgIDEuIExvdyBsZXZlbCBlcnJvcnMgbGlrZSBuZXR3b3JrLCBzdHJlYW0gb3IgeG1sIGVycm9ycy4gVGhlc2UgZG9uJ3Rcbi8vICAgICAgcmVxdWlyZSBzcGVjaWFsIHRyZWF0bWVudC4gVGhleSBvbmx5IG5lZWQgdG8gYmUgZm9yd2FyZGVkLiBUaGUgSU9cbi8vICAgICAgaXMgYWxyZWFkeSBzdG9wcGVkIGluIHRoZXNlIGNhc2VzLiBcbi8vICAgMi4gUHJvdG9jb2wgZXJyb3JzOiBJbnZhbGlkIHRhZ3MsIGludmFsaWQgdmFsdWVzICZjLiBUaGVzZSBoYXBwZW4gaW5cbi8vICAgICAgb3VyIGNvZGUgYW5kIHdlIHNob3VsZCB0ZWFyIGRvd24gdGhlIElPIGFuZCBzdG9wIHBhcnNpbmcuXG4vLyBDdXJyZW50bHkgYWxsIGVycm9ycyBlbmQgaGVyZS4gR3Vlc3MgSSdsbCBzcGxpdCBpdCB1cC4gXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbihtc2cpIHtcbiAgaWYgKCF0aGlzLmVycm9yKSB7XG4gICAgaWYgKHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmVycm9yID0gbmV3IEVycm9yKG1zZylcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmVycm9yID0gbXNnXG4gICAgfVxuICAgIHRoaXMuY2FsbGJhY2sodGhpcy5lcnJvcilcbiAgfVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLnN0YWNrLnB1c2godmFsdWUpXG59XG5cbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTQVggSGFuZGxlcnNcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUub25PcGVudGFnID0gZnVuY3Rpb24obm9kZSkge1xuICBpZiAobm9kZS5uYW1lID09PSAnQVJSQVknIHx8IG5vZGUubmFtZSA9PT0gJ1NUUlVDVCcpIHtcbiAgICB0aGlzLm1hcmtzLnB1c2godGhpcy5zdGFjay5sZW5ndGgpXG4gIH1cbiAgdGhpcy5kYXRhID0gW11cbiAgdGhpcy52YWx1ZSA9IChub2RlLm5hbWUgPT09ICdWQUxVRScpXG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUub25UZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICB0aGlzLmRhdGEucHVzaCh0ZXh0KVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLm9uQ0RBVEEgPSBmdW5jdGlvbihjZGF0YSkge1xuICB0aGlzLmRhdGEucHVzaChjZGF0YSlcbn1cblxuRGVzZXJpYWxpemVyLnByb3RvdHlwZS5vbkNsb3NldGFnID0gZnVuY3Rpb24oZWwpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLmRhdGEuam9pbignJylcbiAgdHJ5IHtcbiAgICBzd2l0Y2goZWwpIHtcbiAgICAgIGNhc2UgJ0JPT0xFQU4nOlxuICAgICAgICB0aGlzLmVuZEJvb2xlYW4oZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ0lOVCc6XG4gICAgICBjYXNlICdJNCc6XG4gICAgICAgIHRoaXMuZW5kSW50KGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdJOCc6XG4gICAgICAgIHRoaXMuZW5kSTgoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ0RPVUJMRSc6XG4gICAgICAgIHRoaXMuZW5kRG91YmxlKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdTVFJJTkcnOlxuICAgICAgY2FzZSAnTkFNRSc6XG4gICAgICAgIHRoaXMuZW5kU3RyaW5nKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdBUlJBWSc6XG4gICAgICAgIHRoaXMuZW5kQXJyYXkoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ1NUUlVDVCc6XG4gICAgICAgIHRoaXMuZW5kU3RydWN0KGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdCQVNFNjQnOlxuICAgICAgICB0aGlzLmVuZEJhc2U2NChkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnREFURVRJTUUuSVNPODYwMSc6XG4gICAgICAgIHRoaXMuZW5kRGF0ZVRpbWUoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ1ZBTFVFJzpcbiAgICAgICAgdGhpcy5lbmRWYWx1ZShkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnUEFSQU1TJzpcbiAgICAgICAgdGhpcy5lbmRQYXJhbXMoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ0ZBVUxUJzpcbiAgICAgICAgdGhpcy5lbmRGYXVsdChkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnTUVUSE9EUkVTUE9OU0UnOlxuICAgICAgICB0aGlzLmVuZE1ldGhvZFJlc3BvbnNlKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdNRVRIT0ROQU1FJzpcbiAgICAgICAgdGhpcy5lbmRNZXRob2ROYW1lKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdNRVRIT0RDQUxMJzpcbiAgICAgICAgdGhpcy5lbmRNZXRob2RDYWxsKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdOSUwnOlxuICAgICAgICB0aGlzLmVuZE5pbChkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnREFUQSc6XG4gICAgICBjYXNlICdQQVJBTSc6XG4gICAgICBjYXNlICdNRU1CRVInOlxuICAgICAgICAvLyBJZ25vcmVkIGJ5IGRlc2lnblxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5vbkVycm9yKCdVbmtub3duIFhNTC1SUEMgdGFnIFxcJycgKyBlbCArICdcXCcnKVxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuICBjYXRjaCAoZSkge1xuICAgIHRoaXMub25FcnJvcihlKVxuICB9XG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUuZW5kTmlsID0gZnVuY3Rpb24oZGF0YSkge1xuICB0aGlzLnB1c2gobnVsbClcbiAgdGhpcy52YWx1ZSA9IGZhbHNlXG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUuZW5kQm9vbGVhbiA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09ICcxJykge1xuICAgIHRoaXMucHVzaCh0cnVlKVxuICB9XG4gIGVsc2UgaWYgKGRhdGEgPT09ICcwJykge1xuICAgIHRoaXMucHVzaChmYWxzZSlcbiAgfVxuICBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgYm9vbGVhbiB2YWx1ZSBcXCcnICsgZGF0YSArICdcXCcnKVxuICB9XG4gIHRoaXMudmFsdWUgPSBmYWxzZVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmVuZEludCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgdmFyIHZhbHVlID0gcGFyc2VJbnQoZGF0YSwgMTApXG4gIGlmIChpc05hTih2YWx1ZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGFuIGludGVnZXIgYnV0IGdvdCBcXCcnICsgZGF0YSArICdcXCcnKVxuICB9XG4gIGVsc2Uge1xuICAgIHRoaXMucHVzaCh2YWx1ZSlcbiAgICB0aGlzLnZhbHVlID0gZmFsc2VcbiAgfVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmVuZERvdWJsZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgdmFyIHZhbHVlID0gcGFyc2VGbG9hdChkYXRhKVxuICBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBhIGRvdWJsZSBidXQgZ290IFxcJycgKyBkYXRhICsgJ1xcJycpXG4gIH1cbiAgZWxzZSB7XG4gICAgdGhpcy5wdXNoKHZhbHVlKVxuICAgIHRoaXMudmFsdWUgPSBmYWxzZVxuICB9XG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUuZW5kU3RyaW5nID0gZnVuY3Rpb24oZGF0YSkge1xuICB0aGlzLnB1c2goZGF0YSlcbiAgdGhpcy52YWx1ZSA9IGZhbHNlXG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUuZW5kQXJyYXkgPSBmdW5jdGlvbihkYXRhKSB7XG4gIHZhciBtYXJrID0gdGhpcy5tYXJrcy5wb3AoKVxuICB0aGlzLnN0YWNrLnNwbGljZShtYXJrLCB0aGlzLnN0YWNrLmxlbmd0aCAtIG1hcmssIHRoaXMuc3RhY2suc2xpY2UobWFyaykpXG4gIHRoaXMudmFsdWUgPSBmYWxzZVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmVuZFN0cnVjdCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgdmFyIG1hcmsgPSB0aGlzLm1hcmtzLnBvcCgpXG4gICAgLCBzdHJ1Y3QgPSB7fVxuICAgICwgaXRlbXMgPSB0aGlzLnN0YWNrLnNsaWNlKG1hcmspXG4gICAgLCBpID0gMFxuXG4gIGZvciAoOyBpIDwgaXRlbXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBzdHJ1Y3RbaXRlbXNbaV1dID0gaXRlbXNbaSArIDFdXG4gIH1cbiAgdGhpcy5zdGFjay5zcGxpY2UobWFyaywgdGhpcy5zdGFjay5sZW5ndGggLSBtYXJrLCBzdHJ1Y3QpXG4gIHRoaXMudmFsdWUgPSBmYWxzZVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmVuZEJhc2U2NCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgdmFyIGJ1ZmZlciA9IG5ldyBCdWZmZXIoZGF0YSwgJ2Jhc2U2NCcpXG4gIHRoaXMucHVzaChidWZmZXIpXG4gIHRoaXMudmFsdWUgPSBmYWxzZVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmVuZERhdGVUaW1lID0gZnVuY3Rpb24oZGF0YSkge1xuICB2YXIgZGF0ZSA9IGRhdGVGb3JtYXR0ZXIuZGVjb2RlSXNvODYwMShkYXRhKVxuICB0aGlzLnB1c2goZGF0ZSlcbiAgdGhpcy52YWx1ZSA9IGZhbHNlXG59XG5cbnZhciBpc0ludGVnZXIgPSAvXi0/XFxkKyQvXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmVuZEk4ID0gZnVuY3Rpb24oZGF0YSkge1xuICBpZiAoIWlzSW50ZWdlci50ZXN0KGRhdGEpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBpbnRlZ2VyIChJOCkgdmFsdWUgYnV0IGdvdCBcXCcnICsgZGF0YSArICdcXCcnKVxuICB9XG4gIGVsc2Uge1xuICAgIHRoaXMuZW5kU3RyaW5nKGRhdGEpXG4gIH1cbn1cblxuRGVzZXJpYWxpemVyLnByb3RvdHlwZS5lbmRWYWx1ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICB0aGlzLmVuZFN0cmluZyhkYXRhKVxuICB9XG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUuZW5kUGFyYW1zID0gZnVuY3Rpb24oZGF0YSkge1xuICB0aGlzLnJlc3BvbnNlVHlwZSA9ICdwYXJhbXMnXG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUuZW5kRmF1bHQgPSBmdW5jdGlvbihkYXRhKSB7XG4gIHRoaXMucmVzcG9uc2VUeXBlID0gJ2ZhdWx0J1xufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmVuZE1ldGhvZFJlc3BvbnNlID0gZnVuY3Rpb24oZGF0YSkge1xuICB0aGlzLnR5cGUgPSAnbWV0aG9kcmVzcG9uc2UnXG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUuZW5kTWV0aG9kTmFtZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgdGhpcy5tZXRob2RuYW1lID0gZGF0YVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmVuZE1ldGhvZENhbGwgPSBmdW5jdGlvbihkYXRhKSB7XG4gIHRoaXMudHlwZSA9ICdtZXRob2RjYWxsJ1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERlc2VyaWFsaXplclxuXG4iLCAiLyoqXG4gKiBDcmVhdGVzIG9iamVjdCBmb3IgY29va2llcyBtYW5pcHVsYXRpb24gb24gY2xpZW50IHNpZGUuXG4gKiBBbGxvd3MgdG8gcGFyc2Ugc2VydmVyJ3MgcmVzcG9uc2UgaW4gb3JkZXIgdG8gZ2V0IGNvb2tpZXMgYW5kIGNvbXBvc2UgaHR0cCByZXF1ZXN0IHRvIHRyYW5zZmVyIGNvb2tpZXMgdG8gdGhlIHNlcnZlclxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIENvb2tpZXMoKSB7XG4gIHRoaXMuY29va2llcyA9IHt9XG59XG5cbkNvb2tpZXMucHJvdG90eXBlID0ge1xuICAvKipcbiAgICogT2J0YWlucyB2YWx1ZSBvZiB0aGUgY29va2llIHdpdGggc3BlY2lmaWVkIG5hbWUuXG4gICAqIFRoaXMgY2FsbCBjaGVja3MgZXhwaXJhdGlvbiBkYXRlcyBhbmQgZG9lcyBub3QgcmV0dXJuIGV4cGlyZWQgY29va2llcy5cbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgY29va2llIG5hbWVcbiAgICogQHJldHVybiB7U3RyaW5nfSBjb29raWUgdmFsdWUgb3IgbnVsbFxuICAgKi9cbiAgZ2V0OiBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIGNvb2tpZSA9IHRoaXMuY29va2llc1tuYW1lXVxuICAgIGlmIChjb29raWUgJiYgdGhpcy5jaGVja05vdEV4cGlyZWQobmFtZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb2tpZXNbbmFtZV0udmFsdWVcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyBjb29raWUncyB2YWx1ZSBhbmQgb3B0aW9uYWwgb3B0aW9uc1xuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBjb29raWUncyBuYW1lXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSB2YWx1ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyB3aXRoIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuICAgKiAgLSB7Qm9vbGVhbn0gc2VjdXJlIC0gaXMgY29va2llIHNlY3VyZSBvciBub3QgKGRvZXMgbm90IG1lYW4gYW55dGhpbmcgZm9yIG5vdylcbiAgICogIC0ge0RhdGV9IGV4cGlyZXMgLSBjb29raWUncyBleHBpcmF0aW9uIGRhdGUuIElmIHNwZWNpZmllZCB0aGVuIGNvb2tpZSB3aWxsIGRpc2FwcGVhciBhZnRlciB0aGF0IGRhdGVcbiAgICovXG4gIHNldDogZnVuY3Rpb24obmFtZSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICB2YXIgY29va2llID0gdHlwZW9mIG9wdGlvbnMgPT0gJ29iamVjdCdcbiAgICAgICAgPyB7dmFsdWU6IHZhbHVlLCBleHBpcmVzOiBvcHRpb25zLmV4cGlyZXMsIHNlY3VyZTogb3B0aW9ucy5zZWN1cmUgfHwgZmFsc2UsIG5ldzogb3B0aW9ucy5uZXcgfHwgZmFsc2V9XG4gICAgICAgIDoge3ZhbHVlOiB2YWx1ZX1cbiAgICBpZiAodGhpcy5jaGVja05vdEV4cGlyZWQobmFtZSwgY29va2llKSkge1xuICAgICAgdGhpcy5jb29raWVzW25hbWVdID0gY29va2llXG4gICAgfVxuICB9LFxuXG4gIC8vIEZvciB0ZXN0aW5nIHB1cnBvc2VzXG4gIGdldEV4cGlyYXRpb25EYXRlOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuY29va2llc1tuYW1lXSA/IHRoaXMuY29va2llc1tuYW1lXS5leHBpcmVzIDogbnVsbFxuICB9LFxuXG4gIC8vIEludGVybmFsIGZ1bmN0aW9uXG4gIGNoZWNrTm90RXhwaXJlZDogZnVuY3Rpb24obmFtZSwgY29va2llKSB7XG4gICAgaWYgKHR5cGVvZiBjb29raWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb29raWUgPSB0aGlzLmNvb2tpZXNbbmFtZV1cbiAgICB9XG4gICAgdmFyIG5vdyA9IG5ldyBEYXRlKClcbiAgICBpZiAoY29va2llICYmIGNvb2tpZS5leHBpcmVzICYmIG5vdyA+IGNvb2tpZS5leHBpcmVzKSB7XG4gICAgICBkZWxldGUgdGhpcy5jb29raWVzW25hbWVdXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfSxcblxuXG4gIC8qKlxuICAgKiBQYXJzZXMgaGVhZGVycyBmcm9tIHNlcnZlcidzIHJlc3BvbnNlIGZvciAnc2V0LWNvb2tpZScgaGVhZGVyIGFuZCBzdG9yZSBjb29raWUncyB2YWx1ZXMuXG4gICAqIEFsc28gcGFyc2VzIGV4cGlyYXRpb24gZGF0ZVxuICAgKiBAcGFyYW0gaGVhZGVyc1xuICAgKi9cbiAgcGFyc2VSZXNwb25zZTogZnVuY3Rpb24oaGVhZGVycykge1xuICAgIHZhciBjb29raWVzID0gaGVhZGVyc1snc2V0LWNvb2tpZSddXG4gICAgaWYgKGNvb2tpZXMpIHtcbiAgICAgIGNvb2tpZXMuZm9yRWFjaChmdW5jdGlvbihjKSB7XG4gICAgICAgIHZhciBjb29raWVzUGFyYW1zID0gYy5zcGxpdCgnOycpXG4gICAgICAgIHZhciBjb29raWVQYWlyID0gY29va2llc1BhcmFtcy5zaGlmdCgpLnNwbGl0KCc9JylcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7fVxuICAgICAgICBjb29raWVzUGFyYW1zLmZvckVhY2goZnVuY3Rpb24ocGFyYW0pIHtcbiAgICAgICAgICBwYXJhbSA9IHBhcmFtLnRyaW0oKVxuICAgICAgICAgIGlmIChwYXJhbS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2V4cGlyZXMnKSA9PSAwKSB7XG4gICAgICAgICAgICB2YXIgZGF0ZSA9IHBhcmFtLnNwbGl0KCc9JylbMV0udHJpbSgpXG4gICAgICAgICAgICBvcHRpb25zLmV4cGlyZXMgPSBuZXcgRGF0ZShkYXRlKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5zZXQoY29va2llUGFpclswXS50cmltKCksIGNvb2tpZVBhaXJbMV0udHJpbSgpLCBvcHRpb25zKVxuICAgICAgfS5iaW5kKHRoaXMpKVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQWRkcyBjb29raWVzIHRvIHRoZSBwcm92aWRlZCBoZWFkZXJzIGFzIGFycmF5LiBEb2VzIG5vdGhpbmcgaWYgdGhlcmUgYXJlIG5vIGNvb2tpZXMgc3RvcmVkLlxuICAgKiBUaGlzIGNhbGwgY2hlY2tzIGV4cGlyYXRpb24gZGF0ZXMgYW5kIGRvZXMgbm90IGFkZCBleHBpcmVkIGNvb2tpZXMuXG4gICAqIEBwYXJhbSBoZWFkZXJzXG4gICAqL1xuICBjb21wb3NlUmVxdWVzdDogZnVuY3Rpb24oaGVhZGVycykge1xuICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmNvb2tpZXMpLmxlbmd0aCA9PSAwKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaGVhZGVyc1snQ29va2llJ10gPSB0aGlzLnRvU3RyaW5nKClcbiAgfSxcblxuXG4gIC8qKlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IGNvb2tpZXMgYXMgJ25hbWU9dmFsdWUnIHBhaXJzIGpvaW5lZCBieSBzZW1pY29sb25cbiAgICovXG4gIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5jb29raWVzKVxuICAgICAgLmZpbHRlcih0aGlzLmNoZWNrTm90RXhwaXJlZC5iaW5kKHRoaXMpKVxuICAgICAgLm1hcChmdW5jdGlvbihuYW1lKSB7XG4gICAgICByZXR1cm4gbmFtZSArICc9JyArIHRoaXMuY29va2llc1tuYW1lXS52YWx1ZVxuICAgIH0uYmluZCh0aGlzKSkuam9pbignOycpXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDb29raWVzXG4iLCAidmFyIGh0dHAgICAgICAgICA9IHJlcXVpcmUoJ2h0dHAnKVxuICAsIGh0dHBzICAgICAgICA9IHJlcXVpcmUoJ2h0dHBzJylcbiAgLCB1cmwgICAgICAgICAgPSByZXF1aXJlKCd1cmwnKVxuICAsIFNlcmlhbGl6ZXIgICA9IHJlcXVpcmUoJy4vc2VyaWFsaXplcicpXG4gICwgRGVzZXJpYWxpemVyID0gcmVxdWlyZSgnLi9kZXNlcmlhbGl6ZXInKVxuICAsIENvb2tpZXMgICAgICA9IHJlcXVpcmUoJy4vY29va2llcycpXG5cbi8qKlxuICogQ3JlYXRlcyBhIENsaWVudCBvYmplY3QgZm9yIG1ha2luZyBYTUwtUlBDIG1ldGhvZCBjYWxscy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gb3B0aW9ucyAtIFNlcnZlciBvcHRpb25zIHRvIG1ha2UgdGhlIEhUVFAgcmVxdWVzdCB0by5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVpdGhlciBhIFVSSSBzdHJpbmdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLmcuICdodHRwOi8vbG9jYWxob3N0OjkwOTAnKSBvciBhbiBvYmplY3RcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggZmllbGRzOlxuICogICAtIHtTdHJpbmd9IGhvc3QgICAgICAgICAgICAgIC0gKG9wdGlvbmFsKVxuICogICAtIHtOdW1iZXJ9IHBvcnRcbiAqICAgLSB7U3RyaW5nfSB1cmwgICAgICAgICAgICAgICAtIChvcHRpb25hbCkgLSBtYXkgYmUgdXNlZCBpbnN0ZWFkIG9mIGhvc3QvcG9ydCBwYWlyXG4gKiAgIC0ge0Jvb2xlYW59IGNvb2tpZXMgICAgICAgICAgLSAob3B0aW9uYWwpIC0gaWYgdHJ1ZSB0aGVuIGNvb2tpZXMgcmV0dXJuZWQgYnkgc2VydmVyIHdpbGwgYmUgc3RvcmVkIGFuZCBzZW50IGJhY2sgb24gdGhlIG5leHQgY2FsbHMuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbHNvIGl0IHdpbGwgYmUgcG9zc2libGUgdG8gYWNjZXNzL21hbmlwdWxhdGUgY29va2llcyB2aWEgI3NldENvb2tpZS8jZ2V0Q29va2llIG1ldGhvZHNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNTZWN1cmUgICAgICAtIFRydWUgaWYgdXNpbmcgaHR0cHMgZm9yIG1ha2luZyBjYWxscyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyd2lzZSBmYWxzZS5cbiAqIEByZXR1cm4ge0NsaWVudH1cbiAqL1xuZnVuY3Rpb24gQ2xpZW50KG9wdGlvbnMsIGlzU2VjdXJlKSB7XG5cbiAgLy8gSW52b2tlcyB3aXRoIG5ldyBpZiBjYWxsZWQgd2l0aG91dFxuICBpZiAoZmFsc2UgPT09ICh0aGlzIGluc3RhbmNlb2YgQ2xpZW50KSkge1xuICAgIHJldHVybiBuZXcgQ2xpZW50KG9wdGlvbnMsIGlzU2VjdXJlKVxuICB9XG5cbiAgLy8gSWYgYSBzdHJpbmcgVVJJIGlzIHBhc3NlZCBpbiwgY29udmVydHMgdG8gVVJJIGZpZWxkc1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgb3B0aW9ucyA9IHVybC5wYXJzZShvcHRpb25zKVxuICAgIG9wdGlvbnMuaG9zdCA9IG9wdGlvbnMuaG9zdG5hbWVcbiAgICBvcHRpb25zLnBhdGggPSBvcHRpb25zLnBhdGhuYW1lXG4gIH1cblxuICBpZiAodHlwZW9mIG9wdGlvbnMudXJsICE9PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBwYXJzZWRVcmwgPSB1cmwucGFyc2Uob3B0aW9ucy51cmwpO1xuICAgIG9wdGlvbnMuaG9zdCA9IHBhcnNlZFVybC5ob3N0bmFtZTtcbiAgICBvcHRpb25zLnBhdGggPSBwYXJzZWRVcmwucGF0aG5hbWU7XG4gICAgb3B0aW9ucy5wb3J0ID0gcGFyc2VkVXJsLnBvcnQ7XG4gIH1cblxuICAvLyBTZXQgdGhlIEhUVFAgcmVxdWVzdCBoZWFkZXJzXG4gIHZhciBoZWFkZXJzID0ge1xuICAgICdVc2VyLUFnZW50JyAgICAgOiAnTm9kZUpTIFhNTC1SUEMgQ2xpZW50J1xuICAsICdDb250ZW50LVR5cGUnICAgOiAndGV4dC94bWwnXG4gICwgJ0FjY2VwdCcgICAgICAgICA6ICd0ZXh0L3htbCdcbiAgLCAnQWNjZXB0LUNoYXJzZXQnIDogJ1VURjgnXG4gICwgJ0Nvbm5lY3Rpb24nICAgICA6ICdLZWVwLUFsaXZlJ1xuICB9XG4gIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fVxuXG4gIGlmIChvcHRpb25zLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9PSBudWxsICYmXG4gICAgICBvcHRpb25zLmJhc2ljX2F1dGggIT0gbnVsbCAmJlxuICAgICAgb3B0aW9ucy5iYXNpY19hdXRoLnVzZXIgIT0gbnVsbCAmJlxuICAgICAgb3B0aW9ucy5iYXNpY19hdXRoLnBhc3MgIT0gbnVsbClcbiAge1xuICAgIHZhciBhdXRoID0gb3B0aW9ucy5iYXNpY19hdXRoLnVzZXIgKyAnOicgKyBvcHRpb25zLmJhc2ljX2F1dGgucGFzc1xuICAgIG9wdGlvbnMuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gJ0Jhc2ljICcgKyBuZXcgQnVmZmVyKGF1dGgpLnRvU3RyaW5nKCdiYXNlNjQnKVxuICB9XG5cbiAgZm9yICh2YXIgYXR0cmlidXRlIGluIGhlYWRlcnMpIHtcbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzW2F0dHJpYnV0ZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgb3B0aW9ucy5oZWFkZXJzW2F0dHJpYnV0ZV0gPSBoZWFkZXJzW2F0dHJpYnV0ZV1cbiAgICB9XG4gIH1cblxuICBvcHRpb25zLm1ldGhvZCA9ICdQT1NUJ1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG5cbiAgdGhpcy5pc1NlY3VyZSA9IGlzU2VjdXJlXG4gIHRoaXMuaGVhZGVyc1Byb2Nlc3NvcnMgPSB7XG4gICAgcHJvY2Vzc29yczogW10sXG4gICAgY29tcG9zZVJlcXVlc3Q6IGZ1bmN0aW9uKGhlYWRlcnMpIHtcbiAgICAgIHRoaXMucHJvY2Vzc29ycy5mb3JFYWNoKGZ1bmN0aW9uKHApIHtwLmNvbXBvc2VSZXF1ZXN0KGhlYWRlcnMpO30pXG4gICAgfSxcbiAgICBwYXJzZVJlc3BvbnNlOiBmdW5jdGlvbihoZWFkZXJzKSB7XG4gICAgICB0aGlzLnByb2Nlc3NvcnMuZm9yRWFjaChmdW5jdGlvbihwKSB7cC5wYXJzZVJlc3BvbnNlKGhlYWRlcnMpO30pXG4gICAgfVxuICB9O1xuICBpZiAob3B0aW9ucy5jb29raWVzKSB7XG4gICAgdGhpcy5jb29raWVzID0gbmV3IENvb2tpZXMoKTtcbiAgICB0aGlzLmhlYWRlcnNQcm9jZXNzb3JzLnByb2Nlc3NvcnMudW5zaGlmdCh0aGlzLmNvb2tpZXMpO1xuICB9XG59XG5cbi8qKlxuICogTWFrZXMgYW4gWE1MLVJQQyBjYWxsIHRvIHRoZSBzZXJ2ZXIgc3BlY2lmaWVkIGJ5IHRoZSBjb25zdHJ1Y3RvcidzIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZCAgICAgLSBUaGUgbWV0aG9kIG5hbWUuXG4gKiBAcGFyYW0ge0FycmF5fSBwYXJhbXMgICAgICAtIFBhcmFtcyB0byBzZW5kIGluIHRoZSBjYWxsLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBmdW5jdGlvbihlcnJvciwgdmFsdWUpIHsgLi4uIH1cbiAqICAgLSB7T2JqZWN0fG51bGx9IGVycm9yICAgIC0gQW55IGVycm9ycyB3aGVuIG1ha2luZyB0aGUgY2FsbCwgb3RoZXJ3aXNlIG51bGwuXG4gKiAgIC0ge21peGVkfSB2YWx1ZSAgICAgICAgICAtIFRoZSB2YWx1ZSByZXR1cm5lZCBpbiB0aGUgbWV0aG9kIHJlc3BvbnNlLlxuICovXG5DbGllbnQucHJvdG90eXBlLm1ldGhvZENhbGwgPSBmdW5jdGlvbiBtZXRob2RDYWxsKG1ldGhvZCwgcGFyYW1zLCBjYWxsYmFjaykge1xuICB2YXIgb3B0aW9ucyAgID0gdGhpcy5vcHRpb25zXG4gIHZhciB4bWwgICAgICAgPSBTZXJpYWxpemVyLnNlcmlhbGl6ZU1ldGhvZENhbGwobWV0aG9kLCBwYXJhbXMsIG9wdGlvbnMuZW5jb2RpbmcpXG4gIHZhciB0cmFuc3BvcnQgPSB0aGlzLmlzU2VjdXJlID8gaHR0cHMgOiBodHRwXG5cbiAgb3B0aW9ucy5oZWFkZXJzWydDb250ZW50LUxlbmd0aCddID0gQnVmZmVyLmJ5dGVMZW5ndGgoeG1sLCAndXRmOCcpXG4gIHRoaXMuaGVhZGVyc1Byb2Nlc3NvcnMuY29tcG9zZVJlcXVlc3Qob3B0aW9ucy5oZWFkZXJzKVxuICB2YXIgcmVxdWVzdCA9IHRyYW5zcG9ydC5yZXF1ZXN0KG9wdGlvbnMsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cbiAgICB2YXIgYm9keSA9IFtdXG4gICAgcmVzcG9uc2Uub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHsgYm9keS5wdXNoKGNodW5rKSB9KVxuXG4gICAgZnVuY3Rpb24gX19lbnJpY2hFcnJvciAoZXJyKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXJyLCAncmVxJywgeyB2YWx1ZTogcmVxdWVzdCB9KVxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVyciwgJ3JlcycsIHsgdmFsdWU6IHJlc3BvbnNlIH0pXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXJyLCAnYm9keScsIHsgdmFsdWU6IGJvZHkuam9pbignJykgfSlcbiAgICAgIHJldHVybiBlcnJcbiAgICB9XG5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA9PSA0MDQpIHtcbiAgICAgIGNhbGxiYWNrKF9fZW5yaWNoRXJyb3IobmV3IEVycm9yKCdOb3QgRm91bmQnKSkpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5oZWFkZXJzUHJvY2Vzc29ycy5wYXJzZVJlc3BvbnNlKHJlc3BvbnNlLmhlYWRlcnMpXG5cbiAgICAgIHZhciBkZXNlcmlhbGl6ZXIgPSBuZXcgRGVzZXJpYWxpemVyKG9wdGlvbnMucmVzcG9uc2VFbmNvZGluZylcblxuICAgICAgZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplTWV0aG9kUmVzcG9uc2UocmVzcG9uc2UsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBlcnIgPSBfX2VucmljaEVycm9yKGVycilcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhlcnIsIHJlc3VsdClcbiAgICAgIH0pXG4gICAgfVxuICB9LmJpbmQodGhpcykpXG5cbiAgcmVxdWVzdC5vbignZXJyb3InLCBjYWxsYmFjaylcbiAgcmVxdWVzdC53cml0ZSh4bWwsICd1dGY4JylcbiAgcmVxdWVzdC5lbmQoKVxufVxuXG4vKipcbiAqIEdldHMgdGhlIGNvb2tpZSB2YWx1ZSBieSBpdHMgbmFtZS4gVGhlIGxhdGVzdCB2YWx1ZSByZWNlaXZlZCBmcm9tIHNlcnZyIHdpdGggJ1NldC1Db29raWUnIGhlYWRlciBpcyByZXR1cm5lZFxuICogTm90ZSB0aGF0IG1ldGhvZCB0aHJvd3MgYW4gZXJyb3IgaWYgY29va2llcyB3ZXJlIG5vdCB0dXJuZWQgb24gZHVyaW5nIGNsaWVudCBjcmVhdGlvbiAoc2VlIGNvbW1lbnRzIGZvciBjb25zdHJ1Y3RvcilcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBjb29raWUgdG8gYmUgb2J0YWluZWQgb3IgY2hhbmdlZFxuICogQHJldHVybiB7Kn0gY29va2llJ3MgdmFsdWVcbiAqL1xuQ2xpZW50LnByb3RvdHlwZS5nZXRDb29raWUgPSBmdW5jdGlvbiBnZXRDb29raWUobmFtZSkge1xuICBpZiAoIXRoaXMuY29va2llcykge1xuICAgIHRocm93ICdDb29raWVzIHN1cHBvcnQgaXMgbm90IHR1cm5lZCBvbiBmb3IgdGhpcyBjbGllbnQgaW5zdGFuY2UnO1xuICB9XG4gIHJldHVybiB0aGlzLmNvb2tpZXMuZ2V0KG5hbWUpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGNvb2tpZSB2YWx1ZSBieSBpdHMgbmFtZS4gVGhlIGNvb2tpZSB3aWxsIGJlIHNlbnQgdG8gdGhlIHNlcnZlciBkdXJpbmcgdGhlIG5leHQgeG1sLXJwYyBjYWxsLlxuICogVGhlIG1ldGhvZCByZXR1cm5zIGNsaWVudCBpdHNlbGYsIHNvIGl0IGlzIHBvc3NpYmxlIHRvIGNoYWluIGNhbGxzIGxpa2UgdGhlIGZvbGxvd2luZzpcbiAqXG4gKiA8Y29kZT5cbiAqICAgY2xpZW50LmNvb2tpZSgnbG9naW4nLCAnYWxleCcpLmNvb2tpZSgncGFzc3dvcmQnLCAnMTIzJyk7XG4gKiA8L2NvZGU+XG4gKlxuICogTm90ZSB0aGF0IG1ldGhvZCB0aHJvd3MgYW4gZXJyb3IgaWYgY29va2llcyB3ZXJlIG5vdCB0dXJuZWQgb24gZHVyaW5nIGNsaWVudCBjcmVhdGlvbiAoc2VlIGNvbW1lbnRzIGZvciBjb25zdHJ1Y3RvcilcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBjb29raWUgdG8gYmUgY2hhbmdlZFxuICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIHZhbHVlIHRvIGJlIHNldC5cbiAqIEByZXR1cm4geyp9IGNsaWVudCBvYmplY3QgaXRzZWxmXG4gKi9cbkNsaWVudC5wcm90b3R5cGUuc2V0Q29va2llID0gZnVuY3Rpb24gc2V0Q29va2llKG5hbWUsIHZhbHVlKSB7XG4gIGlmICghdGhpcy5jb29raWVzKSB7XG4gICAgdGhyb3cgJ0Nvb2tpZXMgc3VwcG9ydCBpcyBub3QgdHVybmVkIG9uIGZvciB0aGlzIGNsaWVudCBpbnN0YW5jZSc7XG4gIH1cbiAgdGhpcy5jb29raWVzLnNldChuYW1lLCB2YWx1ZSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENsaWVudFxuXG4iLCAidmFyIGh0dHAgICAgICAgICAgICAgPSByZXF1aXJlKCdodHRwJylcbiAgLCBodHRwcyAgICAgICAgICAgID0gcmVxdWlyZSgnaHR0cHMnKVxuICAsIHVybCAgICAgICAgICAgICAgPSByZXF1aXJlKCd1cmwnKVxuICAsIEV2ZW50RW1pdHRlciAgICAgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbiAgLCBTZXJpYWxpemVyICAgICAgID0gcmVxdWlyZSgnLi9zZXJpYWxpemVyJylcbiAgLCBEZXNlcmlhbGl6ZXIgICAgID0gcmVxdWlyZSgnLi9kZXNlcmlhbGl6ZXInKVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgU2VydmVyIG9iamVjdC4gQWxzbyBjcmVhdGVzIGFuIEhUVFAgc2VydmVyIHRvIHN0YXJ0IGxpc3RlbmluZ1xuICogZm9yIFhNTC1SUEMgbWV0aG9kIGNhbGxzLiBXaWxsIGVtaXQgYW4gZXZlbnQgd2l0aCB0aGUgWE1MLVJQQyBjYWxsJ3MgbWV0aG9kXG4gKiBuYW1lIHdoZW4gcmVjZWl2aW5nIGEgbWV0aG9kIGNhbGwuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IG9wdGlvbnMgLSBUaGUgSFRUUCBzZXJ2ZXIgb3B0aW9ucy4gRWl0aGVyIGEgVVJJIHN0cmluZ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUuZy4gJ2h0dHA6Ly9sb2NhbGhvc3Q6OTA5MCcpIG9yIGFuIG9iamVjdFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aCBmaWVsZHM6XG4gKiAgIC0ge1N0cmluZ30gaG9zdCAgICAgICAgICAgICAgLSAob3B0aW9uYWwpXG4gKiAgIC0ge051bWJlcn0gcG9ydFxuICogQHBhcmFtIHtCb29sZWFufSBpc1NlY3VyZSAgICAgIC0gVHJ1ZSBpZiB1c2luZyBodHRwcyBmb3IgbWFraW5nIGNhbGxzLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJ3aXNlIGZhbHNlLlxuICogQHJldHVybiB7U2VydmVyfVxuICovXG5mdW5jdGlvbiBTZXJ2ZXIob3B0aW9ucywgaXNTZWN1cmUsIG9uTGlzdGVuaW5nKSB7XG5cbiAgaWYgKGZhbHNlID09PSAodGhpcyBpbnN0YW5jZW9mIFNlcnZlcikpIHtcbiAgICByZXR1cm4gbmV3IFNlcnZlcihvcHRpb25zLCBpc1NlY3VyZSlcbiAgfVxuICBvbkxpc3RlbmluZyA9IG9uTGlzdGVuaW5nIHx8IGZ1bmN0aW9uKCkge31cbiAgdmFyIHRoYXQgPSB0aGlzXG5cbiAgLy8gSWYgYSBzdHJpbmcgVVJJIGlzIHBhc3NlZCBpbiwgY29udmVydHMgdG8gVVJJIGZpZWxkc1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgb3B0aW9ucyA9IHVybC5wYXJzZShvcHRpb25zKVxuICAgIG9wdGlvbnMuaG9zdCA9IG9wdGlvbnMuaG9zdG5hbWVcbiAgICBvcHRpb25zLnBhdGggPSBvcHRpb25zLnBhdGhuYW1lXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNZXRob2RDYWxsKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgdmFyIGRlc2VyaWFsaXplciA9IG5ldyBEZXNlcmlhbGl6ZXIoKVxuICAgIGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZU1ldGhvZENhbGwocmVxdWVzdCwgZnVuY3Rpb24oZXJyb3IsIG1ldGhvZE5hbWUsIHBhcmFtcykge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGF0Ll9ldmVudHMsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgIHRoYXQuZW1pdChtZXRob2ROYW1lLCBudWxsLCBwYXJhbXMsIGZ1bmN0aW9uKGVycm9yLCB2YWx1ZSkge1xuICAgICAgICAgIHZhciB4bWwgPSBudWxsXG4gICAgICAgICAgaWYgKGVycm9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICB4bWwgPSBTZXJpYWxpemVyLnNlcmlhbGl6ZUZhdWx0KGVycm9yKVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHhtbCA9IFNlcmlhbGl6ZXIuc2VyaWFsaXplTWV0aG9kUmVzcG9uc2UodmFsdWUpXG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3BvbnNlLndyaXRlSGVhZCgyMDAsIHsnQ29udGVudC1UeXBlJzogJ3RleHQveG1sJ30pXG4gICAgICAgICAgcmVzcG9uc2UuZW5kKHhtbClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGF0LmVtaXQoJ05vdEZvdW5kJywgbWV0aG9kTmFtZSwgcGFyYW1zKVxuICAgICAgICByZXNwb25zZS53cml0ZUhlYWQoNDA0KVxuICAgICAgICByZXNwb25zZS5lbmQoKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICB0aGlzLmh0dHBTZXJ2ZXIgPSBpc1NlY3VyZSA/IGh0dHBzLmNyZWF0ZVNlcnZlcihvcHRpb25zLCBoYW5kbGVNZXRob2RDYWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaHR0cC5jcmVhdGVTZXJ2ZXIoaGFuZGxlTWV0aG9kQ2FsbClcblxuICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaHR0cFNlcnZlci5saXN0ZW4ob3B0aW9ucy5wb3J0LCBvcHRpb25zLmhvc3QsIG9uTGlzdGVuaW5nKVxuICB9LmJpbmQodGhpcykpXG4gIHRoaXMuY2xvc2UgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIHRoaXMuaHR0cFNlcnZlci5vbmNlKCdjbG9zZScsIGNhbGxiYWNrKVxuICAgIHRoaXMuaHR0cFNlcnZlci5jbG9zZSgpXG4gIH0uYmluZCh0aGlzKVxufVxuXG4vLyBJbmhlcml0IGZyb20gRXZlbnRFbWl0dGVyIHRvIGVtaXQgYW5kIGxpc3RlblxuU2VydmVyLnByb3RvdHlwZS5fX3Byb3RvX18gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlXG5cbm1vZHVsZS5leHBvcnRzID0gU2VydmVyXG5cbiIsICJ2YXIgQ2xpZW50ID0gcmVxdWlyZSgnLi9jbGllbnQnKVxuICAsIFNlcnZlciA9IHJlcXVpcmUoJy4vc2VydmVyJylcbiAgLCBDdXN0b21UeXBlID0gcmVxdWlyZSgnLi9jdXN0b210eXBlJylcbiAgLCBkYXRlRm9ybWF0dGVyID0gcmVxdWlyZSgnLi9kYXRlX2Zvcm1hdHRlcicpXG5cbnZhciB4bWxycGMgPSBleHBvcnRzXG5cbi8qKlxuICogQ3JlYXRlcyBhbiBYTUwtUlBDIGNsaWVudC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIHNlcnZlciBvcHRpb25zIHRvIG1ha2UgdGhlIEhUVFAgcmVxdWVzdCB0b1xuICogICAtIHtTdHJpbmd9IGhvc3RcbiAqICAgLSB7TnVtYmVyfSBwb3J0XG4gKiAgIC0ge1N0cmluZ30gdXJsXG4gKiAgIC0ge0Jvb2xlYW59IGNvb2tpZXNcbiAqIEByZXR1cm4ge0NsaWVudH1cbiAqIEBzZWUgQ2xpZW50XG4gKi9cbnhtbHJwYy5jcmVhdGVDbGllbnQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgQ2xpZW50KG9wdGlvbnMsIGZhbHNlKVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gWE1MLVJQQyBjbGllbnQgdGhhdCBtYWtlcyBjYWxscyB1c2luZyBIVFRQUy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIHNlcnZlciBvcHRpb25zIHRvIG1ha2UgdGhlIEhUVFAgcmVxdWVzdCB0b1xuICogICAtIHtTdHJpbmd9IGhvc3RcbiAqICAgLSB7TnVtYmVyfSBwb3J0XG4gKiAgIC0ge1N0cmluZ30gdXJsXG4gKiAgIC0ge0Jvb2xlYW59IGNvb2tpZXNcbiAqIEByZXR1cm4ge0NsaWVudH1cbiAqIEBzZWUgQ2xpZW50XG4gKi9cbnhtbHJwYy5jcmVhdGVTZWN1cmVDbGllbnQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgQ2xpZW50KG9wdGlvbnMsIHRydWUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBYTUwtUlBDIHNlcnZlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH1vcHRpb25zIC0gdGhlIEhUVFAgc2VydmVyIG9wdGlvbnNcbiAqICAgLSB7U3RyaW5nfSBob3N0XG4gKiAgIC0ge051bWJlcn0gcG9ydFxuICogQHJldHVybiB7U2VydmVyfVxuICogQHNlZSBTZXJ2ZXJcbiAqL1xueG1scnBjLmNyZWF0ZVNlcnZlciA9IGZ1bmN0aW9uKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBuZXcgU2VydmVyKG9wdGlvbnMsIGZhbHNlLCBjYWxsYmFjaylcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIFhNTC1SUEMgc2VydmVyIHRoYXQgdXNlcyBIVFRQUy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH1vcHRpb25zIC0gdGhlIEhUVFAgc2VydmVyIG9wdGlvbnNcbiAqICAgLSB7U3RyaW5nfSBob3N0XG4gKiAgIC0ge051bWJlcn0gcG9ydFxuICogQHJldHVybiB7U2VydmVyfVxuICogQHNlZSBTZXJ2ZXJcbiAqL1xueG1scnBjLmNyZWF0ZVNlY3VyZVNlcnZlciA9IGZ1bmN0aW9uKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBuZXcgU2VydmVyKG9wdGlvbnMsIHRydWUsIGNhbGxiYWNrKVxufVxuXG54bWxycGMuQ3VzdG9tVHlwZSA9IEN1c3RvbVR5cGVcbnhtbHJwYy5kYXRlRm9ybWF0dGVyID0gZGF0ZUZvcm1hdHRlclxuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVdGlsaXR5IG1ldGhvZCB0byBwZXJtaXQgQXJyYXkjcmVkdWNlLWxpa2Ugb3BlcmF0aW9ucyBvdmVyIG9iamVjdHNcbiAqXG4gKiBUaGlzIGlzIGxpa2VseSB0byBiZSBzbGlnaHRseSBtb3JlIGluZWZmaWNpZW50IHRoYW4gdXNpbmcgbG9kYXNoLnJlZHVjZSxcbiAqIGJ1dCByZXN1bHRzIGluIH41MGtiIGxlc3Mgc2l6ZSBpbiB0aGUgcmVzdWx0aW5nIGJ1bmRsZWQgY29kZSBiZWZvcmVcbiAqIG1pbmlmaWNhdGlvbiBhbmQgfjEya2Igb2Ygc2F2aW5ncyB3aXRoIG1pbmlmaWNhdGlvbi5cbiAqXG4gKiBVbmxpa2UgbG9kYXNoLnJlZHVjZSgpLCB0aGUgaXRlcmF0b3IgYW5kIGluaXRpYWwgdmFsdWUgcHJvcGVydGllcyBhcmUgTk9UXG4gKiBvcHRpb25hbDogdGhpcyBpcyBkb25lIHRvIHNpbXBsaWZ5IHRoZSBjb2RlLCB0aGlzIG1vZHVsZSBpcyBub3QgaW50ZW5kZWQgdG9cbiAqIGJlIGEgZnVsbCByZXBsYWNlbWVudCBmb3IgbG9kYXNoLnJlZHVjZSBhbmQgaW5zdGVhZCBwcmlvcml0aXplcyBzaW1wbGljaXR5XG4gKiBmb3IgYSBzcGVjaWZpYyBjb21tb24gY2FzZS5cbiAqXG4gKiBAbW9kdWxlIHV0aWwvb2JqZWN0LXJlZHVjZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogQW4gb2JqZWN0IG9mIGtleS12YWx1ZSBwYWlyc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3IgQSBmdW5jdGlvbiB0byB1c2UgdG8gcmVkdWNlIHRoZSBvYmplY3RcbiAqIEBwYXJhbSB7Kn0gaW5pdGlhbFN0YXRlIFRoZSBpbml0aWFsIHZhbHVlIHRvIHBhc3MgdG8gdGhlIHJlZHVjZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIFRoZSByZXN1bHQgb2YgdGhlIHJlZHVjdGlvbiBvcGVyYXRpb25cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAoIG9iaiwgaXRlcmF0b3IsIGluaXRpYWxTdGF0ZSApID0+IE9iamVjdFxuXHQua2V5cyggb2JqIClcblx0LnJlZHVjZShcblx0XHQoIG1lbW8sIGtleSApID0+IGl0ZXJhdG9yKCBtZW1vLCBvYmpbIGtleSBdLCBrZXkgKSxcblx0XHRpbml0aWFsU3RhdGVcblx0KTtcbiIsICIvKipcbiAqIEBtb2R1bGUgdXRpbC9uYW1lZC1ncm91cC1yZWdleHBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBwYXR0ZXJuID0gW1xuXHQvLyBDYXB0dXJlIGdyb3VwIHN0YXJ0XG5cdCdcXFxcKFxcXFw/Jyxcblx0Ly8gQ2FwdHVyZSBncm91cCBuYW1lIGJlZ2lucyBlaXRoZXIgYFA8YCwgYDxgIG9yIGAnYFxuXHQnKD86UDx8PHxcXCcpJyxcblx0Ly8gRXZlcnl0aGluZyB1cCB0byB0aGUgbmV4dCBgPmBgIG9yIGAnYCAoZGVwZW5kaW5nKSB3aWxsIGJlIHRoZSBjYXB0dXJlIGdyb3VwIG5hbWVcblx0JyhbXj5cXCddKyknLFxuXHQvLyBDYXB0dXJlIGdyb3VwIGVuZFxuXHQnWz5cXCddJyxcblx0Ly8gR2V0IGV2ZXJ5dGhpbmcgdXAgdG8gdGhlIGVuZCBvZiB0aGUgY2FwdHVyZSBncm91cDogdGhpcyBpcyB0aGUgUmVnRXhwIHVzZWRcblx0Ly8gd2hlbiBtYXRjaGluZyBVUkxzIHRvIHRoaXMgcm91dGUsIHdoaWNoIHdlIGNhbiB1c2UgZm9yIHZhbGlkYXRpb24gcHVycG9zZXMuXG5cdCcoW15cXFxcKV0qKFxcXFwpKT9cXFxcPz8pJyxcblx0Ly8gQ2FwdHVyZSBncm91cCBlbmRcblx0J1xcXFwpJyxcbl0uam9pbiggJycgKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdC8qKlxuXHQgKiBTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGV4cG9ydGVkIFJlZ3VsYXIgRXhwcmVzc2lvbjsgd2UgY29uc3RydWN0IHRoaXNcblx0ICogUmVnRXhwIGZyb20gYSBzdHJpbmcgdG8gZW5hYmxlIG1vcmUgZGV0YWlsZWQgYW5ub3RhdGlvbiBhbmQgcGVybXV0YXRpb25cblx0ICpcblx0ICogQHByb3Age1N0cmluZ30gcGF0dGVyblxuXHQgKi9cblx0cGF0dGVybjogcGF0dGVybixcblxuXHQvKipcblx0ICogUmVndWxhciBFeHByZXNzaW9uIHRvIGlkZW50aWZ5IGEgY2FwdHVyZSBncm91cCBpbiBQQ1JFIGZvcm1hdHNcblx0ICogYCg/PG5hbWU+cmVnZXgpYCwgYCg/J25hbWUncmVnZXgpYCBvciBgKD9QPG5hbWU+cmVnZXgpYCAoc2VlXG5cdCAqIHJlZ3VsYXItZXhwcmVzc2lvbnMuaW5mby9yZWZleHQuaHRtbClcblx0ICpcblx0ICogQHByb3Age1JlZ0V4cH0gbmFtZWRHcm91cFJFXG5cdCAqL1xuXHRuYW1lZEdyb3VwUkU6IG5ldyBSZWdFeHAoIHBhdHRlcm4gKSxcbn07XG4iLCAiLyoqXG4gKiBAbW9kdWxlIHV0aWwvc3BsaXQtcGF0aFxuICovXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IG5hbWVkR3JvdXBQYXR0ZXJuID0gcmVxdWlyZSggJy4vbmFtZWQtZ3JvdXAtcmVnZXhwJyApLnBhdHRlcm47XG5cbi8vIENvbnZlcnQgY2FwdHVyZSBncm91cHMgdG8gbm9uLW1hdGNoaW5nIGdyb3VwcywgYmVjYXVzZSBhbGwgY2FwdHVyZSBncm91cHNcbi8vIGFyZSBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0aW5nIGFycmF5IHdoZW4gYW4gUkUgaXMgcGFzc2VkIHRvIGAuc3BsaXQoKWBcbi8vIChXZSByZS11c2UgdGhlIGV4aXN0aW5nIG5hbWVkIGdyb3VwJ3MgY2FwdHVyZSBwYXR0ZXJuIGluc3RlYWQgb2YgY3JlYXRpbmdcbi8vIGEgbmV3IFJlZ0V4cCBqdXN0IGZvciB0aGlzIHB1cnBvc2UpXG5jb25zdCBwYXR0ZXJuV2l0aG91dFN1Ymdyb3VwcyA9IG5hbWVkR3JvdXBQYXR0ZXJuXG5cdC5yZXBsYWNlKCAvKFteXFxcXF0pXFwoKFteP10pL2csICckMSg/OiQyJyApO1xuXG4vLyBNYWtlIGEgbmV3IFJlZ0V4cCB1c2luZyB0aGUgc2FtZSBwYXR0ZXJuIGFzIG9uZSBzaW5nbGUgdW5pZmllZCBjYXB0dXJlIGdyb3VwLFxuLy8gc28gdGhlIG1hdGNoIGFzIGEgd2hvbGUgd2lsbCBiZSBwcmVzZXJ2ZWQgYWZ0ZXIgYC5zcGxpdCgpYC4gUGVybWl0IG5vbi1zbGFzaFxuLy8gY2hhcmFjdGVycyBiZWZvcmUgb3IgYWZ0ZXIgdGhlIG5hbWVkIGNhcHR1cmUgZ3JvdXAsIGFsdGhvdWdoIHRob3NlIGNvbXBvbmVudHNcbi8vIHdpbGwgbm90IHlpZWxkIGZ1bmN0aW9uaW5nIHNldHRlcnMuXG5jb25zdCBuYW1lZEdyb3VwUkUgPSBuZXcgUmVnRXhwKCAnKFteL10qJyArIHBhdHRlcm5XaXRob3V0U3ViZ3JvdXBzICsgJ1teL10qKScgKTtcblxuLyoqXG4gKiBEaXZpZGUgYSByb3V0ZSBzdHJpbmcgdXAgaW50byBoaWVyYXJjaGljYWwgY29tcG9uZW50cyBieSBicmVha2luZyBpdCBhcGFydFxuICogb24gZm9yd2FyZCBzbGFzaCBjaGFyYWN0ZXJzLlxuICpcbiAqIFRoZXJlIGFyZSBwbHVnaW5zIChpbmNsdWRpbmcgSmV0cGFjaykgdGhhdCByZWdpc3RlciByb3V0ZXMgd2l0aCByZWdleCBjYXB0dXJlXG4gKiBncm91cHMgd2hpY2ggYWxzbyBjb250YWluIGZvcndhcmQgc2xhc2hlcywgc28gdGhvc2UgZ3JvdXBzIGhhdmUgdG8gYmUgcHVsbGVkXG4gKiBvdXQgZmlyc3QgYmVmb3JlIHRoZSByZW1haW5kZXIgb2YgdGhlIHN0cmluZyBjYW4gYmUgLnNwbGl0KCkgYXMgbm9ybWFsLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoU3RyIEEgcm91dGUgcGF0aCBzdHJpbmcgdG8gYnJlYWsgaW50byBjb21wb25lbnRzXG4gKiBAcmV0dXJucyB7U3RyaW5nW119IEFuIGFycmF5IG9mIHJvdXRlIGNvbXBvbmVudCBzdHJpbmdzXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gcGF0aFN0ciA9PiBwYXRoU3RyXG5cdC8vIERpdmlkZSBhIHN0cmluZyBsaWtlIFwiL3NvbWUvcGF0aC8oP1A8d2l0aF9uYW1lZF9ncm91cHM+KS9ldGNcIiBpbnRvIGFuXG5cdC8vIGFycmF5IGBbIFwiL3NvbWUvcGF0aC9cIiwgXCIoP1A8d2l0aF9uYW1lZF9ncm91cHM+KVwiLCBcIi9ldGNcIiBdYC5cblx0LnNwbGl0KCBuYW1lZEdyb3VwUkUgKVxuXHQvLyBUaGVuLCByZWR1Y2UgdGhyb3VnaCB0aGUgYXJyYXkgb2YgcGFydHMsIHNwbGl0dGluZyBhbnkgbm9uLWNhcHR1cmUtZ3JvdXBcblx0Ly8gcGFydHMgb24gZm9yd2FyZCBzbGFzaGVzIGFuZCBkaXNjYXJkaW5nIGVtcHR5IHN0cmluZ3MgdG8gY3JlYXRlIHRoZSBmaW5hbFxuXHQvLyBhcnJheSBvZiBwYXRoIGNvbXBvbmVudHMuXG5cdC5yZWR1Y2UoICggY29tcG9uZW50cywgcGFydCApID0+IHtcblx0XHRpZiAoICEgcGFydCApIHtcblx0XHRcdC8vIElnbm9yZSBlbXB0eSBzdHJpbmdzIHBhcnRzXG5cdFx0XHRyZXR1cm4gY29tcG9uZW50cztcblx0XHR9XG5cblx0XHRpZiAoIG5hbWVkR3JvdXBSRS50ZXN0KCBwYXJ0ICkgKSB7XG5cdFx0XHQvLyBJbmNsdWRlIG5hbWVkIGNhcHR1cmUgZ3JvdXBzIGFzLWlzXG5cdFx0XHRyZXR1cm4gY29tcG9uZW50cy5jb25jYXQoIHBhcnQgKTtcblx0XHR9XG5cblx0XHQvLyBTcGxpdCB0aGUgcGFydCBvbiAvIGFuZCBmaWx0ZXIgb3V0IGVtcHR5IHN0cmluZ3Ncblx0XHRyZXR1cm4gY29tcG9uZW50cy5jb25jYXQoIHBhcnQuc3BsaXQoICcvJyApLmZpbHRlciggQm9vbGVhbiApICk7XG5cdH0sIFtdICk7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEVuc3VyZSB0aGF0IGEgcHJvcGVydHkgaXMgcHJlc2VudCBpbiBhbiBvYmplY3QsIGluaXRpYWxpemluZyBpdCB0byBhIGRlZmF1bHRcbiAqIHZhbHVlIGlmIGl0IGlzIG5vdCBhbHJlYWR5IGRlZmluZWQuIE1vZGlmaWVzIHRoZSBwcm92aWRlZCBvYmplY3QgYnkgcmVmZXJlbmNlLlxuICpcbiAqIEBtb2R1bGUgdXRpbC9lbnN1cmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmogICAgICAgICAgICAgIFRoZSBvYmplY3QgaW4gd2hpY2ggdG8gZW5zdXJlIGEgcHJvcGVydHkgZXhpc3RzXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcCAgICAgICAgICAgICBUaGUgcHJvcGVydHkga2V5IHRvIGVuc3VyZVxuICogQHBhcmFtIHt9ICAgICAgIHByb3BEZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSBwcm9wZXJ0eVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gKCBvYmosIHByb3AsIHByb3BEZWZhdWx0VmFsdWUgKSA9PiB7XG5cdGlmICggb2JqICYmIG9ialsgcHJvcCBdID09PSB1bmRlZmluZWQgKSB7XG5cdFx0b2JqWyBwcm9wIF0gPSBwcm9wRGVmYXVsdFZhbHVlO1xuXHR9XG59O1xuIiwgIi8qKlxuICogQG1vZHVsZSByb3V0ZS10cmVlXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgbmFtZWRHcm91cFJFID0gcmVxdWlyZSggJy4vdXRpbC9uYW1lZC1ncm91cC1yZWdleHAnICkubmFtZWRHcm91cFJFO1xuY29uc3Qgc3BsaXRQYXRoID0gcmVxdWlyZSggJy4vdXRpbC9zcGxpdC1wYXRoJyApO1xuY29uc3QgZW5zdXJlID0gcmVxdWlyZSggJy4vdXRpbC9lbnN1cmUnICk7XG5jb25zdCBvYmplY3RSZWR1Y2UgPSByZXF1aXJlKCAnLi91dGlsL29iamVjdC1yZWR1Y2UnICk7XG5cbi8qKlxuICogTWV0aG9kIHRvIHVzZSB3aGVuIHJlZHVjaW5nIHJvdXRlIGNvbXBvbmVudHMgYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fSByb3V0ZU9iaiAgICAgQSByb3V0ZSBkZWZpbml0aW9uIG9iamVjdCAoc2V0IHZpYSAuYmluZCBwYXJ0aWFsIGFwcGxpY2F0aW9uKVxuICogQHBhcmFtIHtvYmplY3R9IHRvcExldmVsICAgICBUaGUgdG9wLWxldmVsIHJvdXRlIHRyZWUgb2JqZWN0IGZvciB0aGlzIHNldCBvZiByb3V0ZXMgKHNldFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWEgLmJpbmQgcGFydGlhbCBhcHBsaWNhdGlvbilcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYXJlbnRMZXZlbCAgVGhlIG1lbW8gb2JqZWN0LCB3aGljaCBpcyBtdXRhdGVkIGFzIHRoZSByZWR1Y2VyIGFkZHNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSBuZXcgbGV2ZWwgaGFuZGxlciBmb3IgZWFjaCBsZXZlbCBpbiB0aGUgcm91dGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnQgICAgVGhlIHN0cmluZyBkZWZpbmluZyB0aGlzIHJvdXRlIGNvbXBvbmVudFxuICogQHBhcmFtIHtudW1iZXJ9IGlkeCAgICAgICAgICBUaGUgaW5kZXggb2YgdGhpcyBjb21wb25lbnQgd2l0aGluIHRoZSBjb21wb25lbnRzIGFycmF5XG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBjb21wb25lbnRzIFRoZSBhcnJheSBvZiBhbGwgY29tcG9uZW50c1xuICogQHJldHVybnMge29iamVjdH0gVGhlIGNoaWxkIG9iamVjdCBvZiB0aGUgbGV2ZWwgYmVpbmcgcmVkdWNlZFxuICovXG5mdW5jdGlvbiByZWR1Y2VSb3V0ZUNvbXBvbmVudHMoIHJvdXRlT2JqLCB0b3BMZXZlbCwgcGFyZW50TGV2ZWwsIGNvbXBvbmVudCwgaWR4LCBjb21wb25lbnRzICkge1xuXHQvLyBDaGVjayB0byBzZWUgaWYgdGhpcyBjb21wb25lbnQgaXMgYSBkeW5hbWljIFVSTCBzZWdtZW50IChpLmUuIGRlZmluZWQgYnlcblx0Ly8gYSBuYW1lZCBjYXB0dXJlIGdyb3VwIHJlZ3VsYXIgZXhwcmVzc2lvbikuIG5hbWVkR3JvdXAgd2lsbCBiZSBgbnVsbGAgaWZcblx0Ly8gdGhlIHJlZ2V4cCBkb2VzIG5vdCBtYXRjaCwgb3IgZWxzZSBhbiBhcnJheSBkZWZpbmluZyB0aGUgUmVnRXhwIG1hdGNoLCBlLmcuXG5cdC8vIFtcblx0Ly8gICAnUDxpZD5bXFxcXGRdKyknLFxuXHQvLyAgICdpZCcsIC8vIE5hbWUgb2YgdGhlIGdyb3VwXG5cdC8vICAgJ1tcXFxcZF0rJywgLy8gcmVndWxhciBleHByZXNzaW9uIGZvciB0aGlzIFVSTCBzZWdtZW50J3MgY29udGVudHNcblx0Ly8gICBpbmRleDogMTUsXG5cdC8vICAgaW5wdXQ6ICcvd3AvdjIvcG9zdHMvKD9QPGlkPltcXFxcZF0rKSdcblx0Ly8gXVxuXHRjb25zdCBuYW1lZEdyb3VwID0gY29tcG9uZW50Lm1hdGNoKCBuYW1lZEdyb3VwUkUgKTtcblx0Ly8gUHVsbCBvdXQgcmVmZXJlbmNlcyB0byB0aGUgcmVsZXZhbnQgaW5kaWNlcyBvZiB0aGUgbWF0Y2gsIGZvciB1dGlsaXR5OlxuXHQvLyBgbnVsbGAgY2hlY2tpbmcgaXMgbmVjZXNzYXJ5IGluIGNhc2UgdGhlIGNvbXBvbmVudCBkaWQgbm90IG1hdGNoIHRoZSBSRSxcblx0Ly8gaGVuY2UgdGhlIGBuYW1lZEdyb3VwICYmYC5cblx0Y29uc3QgZ3JvdXBOYW1lID0gbmFtZWRHcm91cCAmJiBuYW1lZEdyb3VwWyAxIF07XG5cdGNvbnN0IGdyb3VwUGF0dGVybiA9IG5hbWVkR3JvdXAgJiYgbmFtZWRHcm91cFsgMiBdO1xuXG5cdC8vIFdoZW4gYnJhbmNoaW5nIGJhc2VkIG9uIGEgZHluYW1pYyBjYXB0dXJlIGdyb3VwIHdlIHVzZWQgdGhlIGdyb3VwJ3MgUkVcblx0Ly8gcGF0dGVybiBhcyB0aGUgdW5pcXVlIGlkZW50aWZpZXI6IHRoaXMgaXMgZG9uZSBiZWNhdXNlIHRoZSBzYW1lIGdyb3VwXG5cdC8vIGNvdWxkIGJlIGFzc2lnbmVkIGRpZmZlcmVudCBuYW1lcyBpbiBkaWZmZXJlbnQgZW5kcG9pbnQgaGFuZGxlcnMsIGUuZy5cblx0Ly8gXCJpZFwiIGZvciBwb3N0cy86aWQgdnMgXCJwYXJlbnRfaWRcIiBmb3IgcG9zdHMvOnBhcmVudF9pZC9yZXZpc2lvbnMuXG5cdC8vXG5cdC8vIFRoZXJlIGlzIGFuIGVkZ2UgY2FzZSB3aGVyZSBncm91cFBhdHRlcm4gd2lsbCBiZSBcIlwiIGlmIHdlIGFyZSByZWdpc3RlcmluZ1xuXHQvLyBhIGN1c3RvbSByb3V0ZSB2aWEgYC5yZWdpc3RlclJvdXRlYCB0aGF0IGRvZXMgbm90IGluY2x1ZGUgcGFyYW1ldGVyXG5cdC8vIHZhbGlkYXRpb24uIEluIHRoaXMgY2FzZSB3ZSBhc3N1bWUgdGhlIGdyb3VwTmFtZSBpcyBzdWZmaWNpZW50bHkgdW5pcXVlLFxuXHQvLyBhbmQgZmFsbCBiYWNrIHRvIGB8fCBncm91cE5hbWVgIGZvciB0aGUgbGV2ZWxLZXkgc3RyaW5nLlxuXHRjb25zdCBsZXZlbEtleSA9IG5hbWVkR3JvdXAgPyAoIGdyb3VwUGF0dGVybiB8fCBncm91cE5hbWUgKSA6IGNvbXBvbmVudDtcblxuXHQvLyBMZXZlbCBuYW1lIG9uIHRoZSBvdGhlciBoYW5kIHRha2VzIGl0cyB2YWx1ZSBmcm9tIHRoZSBncm91cCdzIG5hbWUsIGlmXG5cdC8vIGRlZmluZWQsIGFuZCBmYWxscyBiYWNrIHRvIHRoZSBjb21wb25lbnQgc3RyaW5nIHRvIGhhbmRsZSBzaXR1YXRpb25zIHdoZXJlXG5cdC8vIGBjb21wb25lbnRgIGlzIGEgY29sbGVjdGlvbiAoZS5nLiBcInJldmlzaW9uc1wiKVxuXHRjb25zdCBsZXZlbE5hbWUgPSBuYW1lZEdyb3VwID8gZ3JvdXBOYW1lIDogY29tcG9uZW50O1xuXG5cdC8vIENoZWNrIHdoZXRoZXIgd2UgaGF2ZSBhIHByZWV4aXN0aW5nIG5vZGUgYXQgdGhpcyBsZXZlbCBvZiB0aGUgdHJlZSwgYW5kXG5cdC8vIGNyZWF0ZSBhIG5ldyBsZXZlbCBvYmplY3QgaWYgbm90LiBUaGUgY29tcG9uZW50IHN0cmluZyBpcyBpbmNsdWRlZCBzbyB0aGF0XG5cdC8vIHZhbGlkYXRvcnMgY2FuIHRocm93IG1lYW5pbmdmdWwgZXJyb3JzIGFzIGFwcHJvcHJpYXRlLlxuXHRjb25zdCBjdXJyZW50TGV2ZWwgPSBwYXJlbnRMZXZlbFsgbGV2ZWxLZXkgXSB8fCB7XG5cdFx0Y29tcG9uZW50OiBjb21wb25lbnQsXG5cdFx0bmFtZWRHcm91cDogbmFtZWRHcm91cCA/IHRydWUgOiBmYWxzZSxcblx0XHRsZXZlbDogaWR4LFxuXHRcdG5hbWVzOiBbXSxcblx0fTtcblxuXHQvLyBBIGxldmVsJ3MgXCJuYW1lc1wiIGNvcnJlc3BvbmQgdG8gdGhlIGxpc3Qgb2Ygc3RyaW5ncyB3aGljaCBjb3VsZCBkZXNjcmliZVxuXHQvLyBhbiBlbmRwb2ludCdzIGNvbXBvbmVudCBzZXR0ZXIgZnVuY3Rpb25zOiBcImlkXCIsIFwicmV2aXNpb25zXCIsIGV0Yy5cblx0aWYgKCBjdXJyZW50TGV2ZWwubmFtZXMuaW5kZXhPZiggbGV2ZWxOYW1lICkgPCAwICkge1xuXHRcdGN1cnJlbnRMZXZlbC5uYW1lcy5wdXNoKCBsZXZlbE5hbWUgKTtcblx0fVxuXG5cdC8vIEEgbGV2ZWwncyB2YWxpZGF0ZSBtZXRob2QgaXMgY2FsbGVkIHRvIGNoZWNrIHdoZXRoZXIgYSB2YWx1ZSBiZWluZyBzZXRcblx0Ly8gb24gdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBwcm9wZXIgdHlwZSBmb3IgdGhlIGxvY2F0aW9uIGluIHdoaWNoIGl0XG5cdC8vIGlzIHNwZWNpZmllZC4gSWYgYSBncm91cCBwYXR0ZXJuIHdhcyBmb3VuZCwgdGhlIHZhbGlkYXRvciBjaGVja3Mgd2hldGhlclxuXHQvLyB0aGUgaW5wdXQgc3RyaW5nIGV4YWN0bHkgbWF0Y2hlcyB0aGUgZ3JvdXAgcGF0dGVybi5cblx0Y29uc3QgZ3JvdXBQYXR0ZXJuUkUgPSBncm91cFBhdHRlcm4gPT09ICcnID9cblx0XHQvLyBJZiBncm91cFBhdHRlcm4gaXMgYW4gZW1wdHkgc3RyaW5nLCBhY2NlcHQgYW55IGlucHV0IHdpdGhvdXQgdmFsaWRhdGlvblxuXHRcdC8uKi8gOlxuXHRcdC8vIE90aGVyd2lzZSwgdmFsaWRhdGUgYWdhaW5zdCB0aGUgZ3JvdXAgcGF0dGVybiBvciB0aGUgY29tcG9uZW50IHN0cmluZ1xuXHRcdG5ldyBSZWdFeHAoIGdyb3VwUGF0dGVybiA/ICdeJyArIGdyb3VwUGF0dGVybiArICckJyA6IGNvbXBvbmVudCwgJ2knICk7XG5cblx0Ly8gT25seSBvbmUgdmFsaWRhdGUgZnVuY3Rpb24gaXMgbWFpbnRhaW5lZCBmb3IgZWFjaCBub2RlLCBiZWNhdXNlIGVhY2ggbm9kZVxuXHQvLyBpcyBkZWZpbmVkIGVpdGhlciBieSBhIHN0cmluZyBsaXRlcmFsIG9yIGJ5IGEgc3BlY2lmaWMgcmVndWxhciBleHByZXNzaW9uLlxuXHRjdXJyZW50TGV2ZWwudmFsaWRhdGUgPSBpbnB1dCA9PiBncm91cFBhdHRlcm5SRS50ZXN0KCBpbnB1dCApO1xuXG5cdC8vIENoZWNrIHRvIHNlZSB3aGV0aGVyIHRvIGV4cGVjdCBtb3JlIG5vZGVzIHdpdGhpbiB0aGlzIGJyYW5jaCBvZiB0aGUgdHJlZSxcblx0aWYgKCBjb21wb25lbnRzWyBpZHggKyAxIF0gKSB7XG5cdFx0Ly8gYW5kIGNyZWF0ZSBhIFwiY2hpbGRyZW5cIiBvYmplY3QgdG8gaG9sZCB0aG9zZSBub2RlcyBpZiBuZWNlc3Nhcnlcblx0XHRjdXJyZW50TGV2ZWwuY2hpbGRyZW4gPSBjdXJyZW50TGV2ZWwuY2hpbGRyZW4gfHwge307XG5cdH0gZWxzZSB7XG5cdFx0Ly8gQXQgbGVhZiBub2Rlcywgc3BlY2lmeSB0aGUgbWV0aG9kIGNhcGFiaWxpdGllcyBvZiB0aGlzIGVuZHBvaW50XG5cdFx0Y3VycmVudExldmVsLm1ldGhvZHMgPSAoIHJvdXRlT2JqLm1ldGhvZHMgfHwgW10gKS5tYXAoIHN0ciA9PiBzdHIudG9Mb3dlckNhc2UoKSApO1xuXG5cdFx0Ly8gRW5zdXJlIEhFQUQgaXMgaW5jbHVkZWQgd2hlbmV2ZXIgR0VUIGlzIHN1cHBvcnRlZDogdGhlIEFQSSBhdXRvbWF0aWNhbGx5XG5cdFx0Ly8gYWRkcyBzdXBwb3J0IGZvciBIRUFEIGlmIHlvdSBoYXZlIEdFVFxuXHRcdGlmICggY3VycmVudExldmVsLm1ldGhvZHMuaW5kZXhPZiggJ2dldCcgKSA+IC0xICYmIGN1cnJlbnRMZXZlbC5tZXRob2RzLmluZGV4T2YoICdoZWFkJyApID09PSAtMSApIHtcblx0XHRcdGN1cnJlbnRMZXZlbC5tZXRob2RzLnB1c2goICdoZWFkJyApO1xuXHRcdH1cblxuXHRcdC8vIEF0IGxlYWYgbm9kZXMgYWxzbyBmbGFnIChhdCB0aGUgdG9wIGxldmVsKSB3aGF0IGFyZ3VtZW50cyBhcmVcblx0XHQvLyBhdmFpbGFibGUgdG8gR0VUIHJlcXVlc3RzLCBzbyB0aGF0IHdlIG1heSBhdXRvbWF0aWNhbGx5IGFwcGx5IHRoZVxuXHRcdC8vIGFwcHJvcHJpYXRlIHBhcmFtZXRlciBtaXhpbnNcblx0XHRpZiAoIHJvdXRlT2JqLmVuZHBvaW50cyApIHtcblx0XHRcdHRvcExldmVsLl9nZXRBcmdzID0gdG9wTGV2ZWwuX2dldEFyZ3MgfHwge307XG5cdFx0XHRyb3V0ZU9iai5lbmRwb2ludHMuZm9yRWFjaCggKCBlbmRwb2ludCApID0+IHtcblx0XHRcdFx0Ly8gYGVuZHBvaW50Lm1ldGhvZHNgIHdpbGwgYmUgYW4gYXJyYXkgb2YgbWV0aG9kcyBsaWtlIGBbICdHRVQnIF1gOiB3ZVxuXHRcdFx0XHQvLyBvbmx5IGNhcmUgYWJvdXQgR0VUIGZvciB0aGlzIGV4ZXJjaXNlLiBWYWxpZGF0aW5nIFBPU1QgYW5kIFBVVCBhcmdzXG5cdFx0XHRcdC8vIGNvdWxkIGJlIHVzZWZ1bCBidXQgaXMgY3VycmVudGx5IGRlZW1lZCB0byBiZSBvdXQtb2Ytc2NvcGUuXG5cdFx0XHRcdGVuZHBvaW50Lm1ldGhvZHMuZm9yRWFjaCggKCBtZXRob2QgKSA9PiB7XG5cdFx0XHRcdFx0aWYgKCBtZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gJ2dldCcgKSB7XG5cdFx0XHRcdFx0XHRPYmplY3Qua2V5cyggZW5kcG9pbnQuYXJncyApLmZvckVhY2goICggYXJnS2V5ICkgPT4ge1xuXHRcdFx0XHRcdFx0XHQvLyBSZWZlcmVuY2UgcGFyYW0gZGVmaW5pdGlvbiBvYmplY3RzIGluIHRoZSB0b3AgX2dldEFyZ3MgZGljdGlvbmFyeVxuXHRcdFx0XHRcdFx0XHR0b3BMZXZlbC5fZ2V0QXJnc1sgYXJnS2V5IF0gPSBlbmRwb2ludC5hcmdzWyBhcmdLZXkgXTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIGNoaWxkIG5vZGUgb2JqZWN0IGFzIHRoZSBuZXcgXCJsZXZlbFwiXG5cdHBhcmVudExldmVsWyBsZXZlbEtleSBdID0gY3VycmVudExldmVsO1xuXHRyZXR1cm4gY3VycmVudExldmVsLmNoaWxkcmVuO1xufVxuXG4vKipcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtvYmplY3R9ICAgbmFtZXNwYWNlcyBUaGUgbWVtbyBvYmplY3QgdGhhdCBiZWNvbWVzIGEgZGljdGlvbmFyeSBtYXBwaW5nIEFQSVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VzIHRvIGFuIG9iamVjdCBvZiB0aGUgbmFtZXNwYWNlJ3Mgcm91dGVzXG4gKiBAcGFyYW0ge29iamVjdH0gICByb3V0ZU9iaiAgIEEgcm91dGUgZGVmaW5pdGlvbiBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSAgIHJvdXRlICAgICAgVGhlIHN0cmluZyBrZXkgb2YgdGhlIGByb3V0ZU9iamAgcm91dGUgb2JqZWN0XG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUaGUgbmFtZXNwYWNlcyBkaWN0aW9uYXJ5IG1lbW8gb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIHJlZHVjZVJvdXRlVHJlZSggbmFtZXNwYWNlcywgcm91dGVPYmosIHJvdXRlICkge1xuXHRjb25zdCBuc0ZvclJvdXRlID0gcm91dGVPYmoubmFtZXNwYWNlO1xuXG5cdGNvbnN0IHJvdXRlU3RyaW5nID0gcm91dGVcblx0XHQvLyBTdHJpcCB0aGUgbmFtZXNwYWNlIGZyb20gdGhlIHJvdXRlIHN0cmluZyAoYWxsIHJvdXRlcyBzaG91bGQgaGF2ZSB0aGVcblx0XHQvLyBmb3JtYXQgYC9uYW1lc3BhY2Uvb3RoZXIvc3R1ZmZgKSBAVE9ETzogVmFsaWRhdGUgdGhpcyBhc3N1bXB0aW9uXG5cdFx0LnJlcGxhY2UoICcvJyArIG5zRm9yUm91dGUgKyAnLycsICcnIClcblx0XHQvLyBBbHNvIHN0cmlwIGFueSB0cmFpbGluZyBcIi8/XCI6IHRoZSBzbGFzaCBpcyBhbHJlYWR5IG9wdGlvbmFsIGFuZCBhIHNpbmdsZVxuXHRcdC8vIHF1ZXN0aW9uIG1hcmsgd291bGQgYnJlYWsgdGhlIHJlZ2V4IHBhcnNlclxuXHRcdC5yZXBsYWNlKCAvXFwvXFw/JC8sICcnICk7XG5cblx0Ly8gU3BsaXQgdGhlIHJvdXRlcyB1cCBpbnRvIGhpZXJhcmNoaWNhbCByb3V0ZSBjb21wb25lbnRzXG5cdGNvbnN0IHJvdXRlQ29tcG9uZW50cyA9IHNwbGl0UGF0aCggcm91dGVTdHJpbmcgKTtcblxuXHQvLyBEbyBub3QgbWFrZSBhIG5hbWVzcGFjZSBncm91cCBmb3IgdGhlIEFQSSByb290XG5cdC8vIERvIG5vdCBhZGQgdGhlIG5hbWVzcGFjZSByb290IHRvIGl0cyBvd24gZ3JvdXBcblx0Ly8gRG8gbm90IHRha2UgYW55IGFjdGlvbiBpZiByb3V0ZVN0cmluZyBpcyBlbXB0eVxuXHRpZiAoICEgbnNGb3JSb3V0ZSB8fCAnLycgKyBuc0ZvclJvdXRlID09PSByb3V0ZSB8fCAhIHJvdXRlU3RyaW5nICkge1xuXHRcdHJldHVybiBuYW1lc3BhY2VzO1xuXHR9XG5cblx0Ly8gRW5zdXJlIHRoYXQgdGhlIG5hbWVzcGFjZSBvYmplY3QgZm9yIHRoaXMgbmFtZXNwYWNlIGV4aXN0c1xuXHRlbnN1cmUoIG5hbWVzcGFjZXMsIG5zRm9yUm91dGUsIHt9ICk7XG5cblx0Ly8gR2V0IGEgbG9jYWwgcmVmZXJlbmNlIHRvIG5hbWVzcGFjZSBvYmplY3Rcblx0Y29uc3QgbnMgPSBuYW1lc3BhY2VzWyBuc0ZvclJvdXRlIF07XG5cblx0Ly8gVGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIHJvdXRlIHRlbGxzIHVzIHdoYXQgdHlwZSBvZiByZXNvdXJjZSB0aGlzIHJvdXRlXG5cdC8vIGlzIGZvciwgZS5nLiBcInBvc3RzXCIgb3IgXCJjb21tZW50c1wiOiB3ZSBidWlsZCBvbmUgaGFuZGxlciBwZXIgcmVzb3VyY2Vcblx0Ly8gdHlwZSwgc28gd2UgZ3JvdXAgbGlrZSByZXNvdXJjZSBwYXRocyB0b2dldGhlci5cblx0Y29uc3QgcmVzb3VyY2UgPSByb3V0ZUNvbXBvbmVudHNbMF07XG5cblx0Ly8gQFRPRE86IFRoaXMgY29kZSBhYm92ZSBjdXJyZW50bHkgcHJlY2x1ZGVzIGJhc2VsZXNzIHJvdXRlcywgZS5nLlxuXHQvLyBteXBsdWdpbi92Mi8oP1A8cmVzb3VyY2U+XFx3KykgLS0gc2hvdWxkIHRob3NlIGJlIHN1cHBvcnRlZD9cblxuXHQvLyBDcmVhdGUgYW4gYXJyYXkgdG8gcmVwcmVzZW50IHRoaXMgcmVzb3VyY2UsIGFuZCBlbnN1cmUgaXQgaXMgYXNzaWduZWRcblx0Ly8gdG8gdGhlIG5hbWVzcGFjZSBvYmplY3QuIFRoZSBhcnJheSB3aWxsIHN0cnVjdHVyZSB0aGUgXCJsZXZlbHNcIiAocGF0aFxuXHQvLyBjb21wb25lbnRzIGFuZCBzdWJyZXNvdXJjZSB0eXBlcykgb2YgdGhpcyByZXNvdXJjZSdzIGVuZHBvaW50IGhhbmRsZXIuXG5cdGVuc3VyZSggbnMsIHJlc291cmNlLCB7fSApO1xuXHRjb25zdCBsZXZlbHMgPSBuc1sgcmVzb3VyY2UgXTtcblxuXHQvLyBSZWN1cnNlIHRocm91Z2ggdGhlIHJvdXRlIGNvbXBvbmVudHMsIG11dGF0aW5nIGxldmVscyB3aXRoIGluZm9ybWF0aW9uIGFib3V0XG5cdC8vIGVhY2ggY2hpbGQgbm9kZSBlbmNvdW50ZXJlZCB3aGlsZSB3YWxraW5nIHRocm91Z2ggdGhlIHJvdXRlcyB0cmVlIGFuZCB3aGF0XG5cdC8vIGFyZ3VtZW50cyAocGFyYW1ldGVycykgYXJlIGF2YWlsYWJsZSBmb3IgR0VUIHJlcXVlc3RzIHRvIHRoaXMgZW5kcG9pbnQuXG5cdHJvdXRlQ29tcG9uZW50cy5yZWR1Y2UoXG5cdFx0cmVkdWNlUm91dGVDb21wb25lbnRzLmJpbmQoIG51bGwsIHJvdXRlT2JqLCBsZXZlbHMgKSxcblx0XHRsZXZlbHNcblx0KTtcblxuXHRyZXR1cm4gbmFtZXNwYWNlcztcbn1cblxuLyoqXG4gKiBCdWlsZCBhIHJvdXRlIHRyZWUgYnkgcmVkdWNpbmcgb3ZlciBhIHJvdXRlcyBkZWZpbml0aW9uIG9iamVjdCBmcm9tIHRoZSBBUElcbiAqIHJvb3QgZW5kcG9pbnQgcmVzcG9uc2Ugb2JqZWN0XG4gKlxuICogQG1ldGhvZCBidWlsZFxuICogQHBhcmFtIHtvYmplY3R9IHJvdXRlcyBBIGRpY3Rpb25hcnkgb2Ygcm91dGVzIGtleWVkIGJ5IHJvdXRlIHJlZ2V4IHN0cmluZ3NcbiAqIEByZXR1cm5zIHtvYmplY3R9IEEgZGljdGlvbmFyeSwga2V5ZWQgYnkgbmFtZXNwYWNlLCBvZiByZXNvdXJjZSBoYW5kbGVyXG4gKiBmYWN0b3J5IG1ldGhvZHMgZm9yIGVhY2ggbmFtZXNwYWNlJ3MgcmVzb3VyY2VzXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUm91dGVUcmVlKCByb3V0ZXMgKSB7XG5cdHJldHVybiBvYmplY3RSZWR1Y2UoIHJvdXRlcywgcmVkdWNlUm91dGVUcmVlLCB7fSApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0YnVpbGQ6IGJ1aWxkUm91dGVUcmVlLFxufTtcbiIsICIvKipcbiAqIEBtb2R1bGUgcGF0aC1wYXJ0LXNldHRlclxuICovXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogUmV0dXJuIGEgZnVuY3Rpb24gdG8gc2V0IHBhcnQgb2YgdGhlIHJlcXVlc3QgVVJMIHBhdGguXG4gKlxuICogUGF0aCBwYXJ0IHNldHRlciBtZXRob2RzIG1heSBiZSBlaXRoZXIgZHluYW1pYyAoKmkuZS4qIG1heSByZXByZXNlbnQgYVxuICogXCJuYW1lZCBncm91cFwiKSBvciBub24tZHluYW1pYyAocmVwcmVzZW50aW5nIGEgc3RhdGljIHBhcnQgb2YgdGhlIFVSTCwgd2hpY2hcbiAqIGlzIHVzdWFsbHkgYSBjb2xsZWN0aW9uIGVuZHBvaW50IG9mIHNvbWUgc29ydCkuIFdoaWNoIHR5cGUgb2YgZnVuY3Rpb24gaXNcbiAqIHJldHVybmVkIGRlcGVuZHMgb24gd2hldGhlciBhIGdpdmVuIHJvdXRlIGhhcyBvbmUgb3IgbWFueSBzdWItcmVzb3VyY2VzLlxuICpcbiAqIEBhbGlhcyBtb2R1bGU6bGliL3BhdGgtcGFydC1zZXR0ZXIuY3JlYXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSBBbiBvYmplY3QgcmVwcmVzZW50aW5nIGEgbGV2ZWwgb2YgYW4gZW5kcG9pbnQgcGF0aCBoaWVyYXJjaHlcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBwYXRoIHBhcnQgc2V0dGVyIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBhdGhQYXJ0U2V0dGVyKCBub2RlICkge1xuXHQvLyBMb2NhbCByZWZlcmVuY2VzIHRvIGBub2RlYCBwcm9wZXJ0aWVzIHVzZWQgYnkgcmV0dXJuZWQgZnVuY3Rpb25zXG5cdGNvbnN0IG5vZGVMZXZlbCA9IG5vZGUubGV2ZWw7XG5cdGNvbnN0IG5vZGVOYW1lID0gbm9kZS5uYW1lc1sgMCBdO1xuXHRjb25zdCBzdXBwb3J0ZWRNZXRob2RzID0gbm9kZS5tZXRob2RzIHx8IFtdO1xuXHRjb25zdCBkeW5hbWljQ2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuID9cblx0XHRPYmplY3Qua2V5cyggbm9kZS5jaGlsZHJlbiApXG5cdFx0XHQubWFwKCBrZXkgPT4gbm9kZS5jaGlsZHJlblsga2V5IF0gKVxuXHRcdFx0LmZpbHRlciggY2hpbGROb2RlID0+ICggY2hpbGROb2RlLm5hbWVkR3JvdXAgPT09IHRydWUgKSApIDpcblx0XHRbXTtcblx0Y29uc3QgZHluYW1pY0NoaWxkID0gZHluYW1pY0NoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJiBkeW5hbWljQ2hpbGRyZW5bIDAgXTtcblx0Y29uc3QgZHluYW1pY0NoaWxkTGV2ZWwgPSBkeW5hbWljQ2hpbGQgJiYgZHluYW1pY0NoaWxkLmxldmVsO1xuXG5cdGlmICggbm9kZS5uYW1lZEdyb3VwICkge1xuXHRcdC8qKlxuXHRcdCAqIFNldCBhIGR5bWFuaWMgKG5hbWVkLWdyb3VwKSBwYXRoIHBhcnQgb2YgYSBxdWVyeSBVUkwuXG5cdFx0ICpcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqXG5cdFx0ICogICAgIC8vIGlkKCkgaXMgYSBkeW5hbWljIHBhdGggcGFydCBzZXR0ZXI6XG5cdFx0ICogICAgIHdwLnBvc3RzKCkuaWQoIDcgKTsgLy8gR2V0IHBvc3RzLzdcblx0XHQgKlxuXHRcdCAqIEBjaGFpbmFibGVcblx0XHQgKiBAcGFyYW0gIHtTdHJpbmd8TnVtYmVyfSB2YWwgVGhlIHBhdGggcGFydCB2YWx1ZSB0byBzZXRcblx0XHQgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgaGFuZGxlciBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuXHRcdCAqL1xuXHRcdHJldHVybiBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0dGhpcy5zZXRQYXRoUGFydCggbm9kZUxldmVsLCB2YWwgKTtcblx0XHRcdGlmICggc3VwcG9ydGVkTWV0aG9kcy5sZW5ndGggKSB7XG5cdFx0XHRcdHRoaXMuX3N1cHBvcnRlZE1ldGhvZHMgPSBzdXBwb3J0ZWRNZXRob2RzO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHQvKipcblx0XHQgKiBTZXQgYSBub24tZHltYW5pYyAobm9uLW5hbWVkLWdyb3VwKSBwYXRoIHBhcnQgb2YgYSBxdWVyeSBVUkwsIGFuZFxuXHRcdCAqIHNldCB0aGUgdmFsdWUgb2YgYSBzdWJyZXNvdXJjZSBpZiBhbiBpbnB1dCB2YWx1ZSBpcyBwcm92aWRlZCBhbmRcblx0XHQgKiBleGFjdGx5IG9uZSBuYW1lZC1ncm91cCBjaGlsZCBub2RlIGV4aXN0cy5cblx0XHQgKlxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICpcblx0XHQgKiAgICAgLy8gcmV2aXNpb25zKCkgaXMgYSBub24tZHluYW1pYyBwYXRoIHBhcnQgc2V0dGVyOlxuXHRcdCAqICAgICB3cC5wb3N0cygpLmlkKCA0ICkucmV2aXNpb25zKCk7ICAgICAgIC8vIEdldCBwb3N0cy80L3JldmlzaW9uc1xuXHRcdCAqICAgICB3cC5wb3N0cygpLmlkKCA0ICkucmV2aXNpb25zKCAxMzcyICk7IC8vIEdldCBwb3N0cy80L3JldmlzaW9ucy8xMzcyXG5cdFx0ICpcblx0XHQgKiBAY2hhaW5hYmxlXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gW3ZhbF0gVGhlIHBhdGggcGFydCB2YWx1ZSB0byBzZXQgKGlmIHByb3ZpZGVkKVxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhIHN1YnJlc291cmNlIHdpdGhpbiB0aGlzIHJlc291cmNlXG5cdFx0ICogQHJldHVybnMge09iamVjdH0gVGhlIGhhbmRsZXIgaW5zdGFuY2UgKGZvciBjaGFpbmluZylcblx0XHQgKi9cblx0XHRyZXR1cm4gZnVuY3Rpb24oIHZhbCApIHtcblx0XHRcdC8vIElmIHRoZSBwYXRoIHBhcnQgaXMgbm90IGEgbmFtZWRHcm91cCwgaXQgc2hvdWxkIGhhdmUgZXhhY3RseSBvbmVcblx0XHRcdC8vIGVudHJ5IGluIHRoZSBuYW1lcyBhcnJheTogdXNlIHRoYXQgYXMgdGhlIHZhbHVlIGZvciB0aGlzIHNldHRlcixcblx0XHRcdC8vIGFzIGl0IHdpbGwgdXN1YWxseSBjb3JyZXNwb25kIHRvIGEgY29sbGVjdGlvbiBlbmRwb2ludC5cblx0XHRcdHRoaXMuc2V0UGF0aFBhcnQoIG5vZGVMZXZlbCwgbm9kZU5hbWUgKTtcblxuXHRcdFx0Ly8gSWYgdGhpcyBub2RlIGhhcyBleGFjdGx5IG9uZSBkeW5hbWljIGNoaWxkLCB0aGlzIG1ldGhvZCBtYXkgYWN0IGFzXG5cdFx0XHQvLyBhIHNldHRlciBmb3IgdGhhdCBjaGlsZCBub2RlLiBgZHluYW1pY0NoaWxkTGV2ZWxgIHdpbGwgYmUgZmFsc3kgaWYgdGhlXG5cdFx0XHQvLyBub2RlIGRvZXMgbm90IGhhdmUgYSBjaGlsZCBvciBoYXMgbXVsdGlwbGUgY2hpbGRyZW4uXG5cdFx0XHRpZiAoIHZhbCAhPT0gdW5kZWZpbmVkICYmIGR5bmFtaWNDaGlsZExldmVsICkge1xuXHRcdFx0XHR0aGlzLnNldFBhdGhQYXJ0KCBkeW5hbWljQ2hpbGRMZXZlbCwgdmFsICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9O1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRjcmVhdGU6IGNyZWF0ZVBhdGhQYXJ0U2V0dGVyLFxufTtcbiIsICIvKipcbiAqIEBtb2R1bGUgcmVzb3VyY2UtaGFuZGxlci1zcGVjXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgY3JlYXRlUGF0aFBhcnRTZXR0ZXIgPSByZXF1aXJlKCAnLi9wYXRoLXBhcnQtc2V0dGVyJyApLmNyZWF0ZTtcblxuLyoqIEBwcml2YXRlICovXG5mdW5jdGlvbiBhZGRMZXZlbE9wdGlvbiggbGV2ZWxzT2JqLCBsZXZlbCwgb2JqICkge1xuXHRsZXZlbHNPYmpbIGxldmVsIF0gPSBsZXZlbHNPYmpbIGxldmVsIF0gfHwgW107XG5cdGxldmVsc09ialsgbGV2ZWwgXS5wdXNoKCBvYmogKTtcbn1cblxuLyoqXG4gKiBBc3NpZ24gYSBzZXR0ZXIgZnVuY3Rpb24gZm9yIHRoZSBwcm92aWRlZCBub2RlIHRvIHRoZSBwcm92aWRlZCByb3V0ZVxuICogaGFuZGxlciBvYmplY3Qgc2V0dGVycyBkaWN0aW9uYXJ5IChtdXRhdGVzIGhhbmRsZXIgYnkgcmVmZXJlbmNlKS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IGhhbmRsZXIgQSByb3V0ZSBoYW5kbGVyIGRlZmluaXRpb24gb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSAgICBBIHJvdXRlIGhpZXJhcmNoeSBsZXZlbCBub2RlIG9iamVjdFxuICovXG5mdW5jdGlvbiBhc3NpZ25TZXR0ZXJGbkZvck5vZGUoIGhhbmRsZXIsIG5vZGUgKSB7XG5cdGxldCBzZXR0ZXJGbjtcblxuXHQvLyBGb3IgZWFjaCBub2RlLCBhZGQgaXRzIGhhbmRsZXIgdG8gdGhlIHJlbGV2YW50IFwibGV2ZWxcIiByZXByZXNlbnRhdGlvblxuXHRhZGRMZXZlbE9wdGlvbiggaGFuZGxlci5fbGV2ZWxzLCBub2RlLmxldmVsLCB7XG5cdFx0Y29tcG9uZW50OiBub2RlLmNvbXBvbmVudCxcblx0XHR2YWxpZGF0ZTogbm9kZS52YWxpZGF0ZSxcblx0XHRtZXRob2RzOiBub2RlLm1ldGhvZHMsXG5cdH0gKTtcblxuXHQvLyBGaXJzdCBsZXZlbCBpcyBzZXQgaW1wbGljaXRseSwgbm8gZGVkaWNhdGVkIHNldHRlciBuZWVkZWRcblx0aWYgKCBub2RlLmxldmVsID4gMCApIHtcblxuXHRcdHNldHRlckZuID0gY3JlYXRlUGF0aFBhcnRTZXR0ZXIoIG5vZGUgKTtcblxuXHRcdG5vZGUubmFtZXMuZm9yRWFjaCggKCBuYW1lICkgPT4ge1xuXHRcdFx0Ly8gQ29udmVydCBmcm9tIHNuYWtlX2Nhc2UgdG8gY2FtZWxDYXNlXG5cdFx0XHRjb25zdCBzZXR0ZXJGbk5hbWUgPSBuYW1lLnJlcGxhY2UoXG5cdFx0XHRcdC9bXy1dK1xcdy9nLFxuXHRcdFx0XHRtYXRjaCA9PiBtYXRjaC5yZXBsYWNlKCAvW18tXSsvLCAnJyApLnRvVXBwZXJDYXNlKClcblx0XHRcdCk7XG5cblx0XHRcdC8vIERvbid0IG92ZXJ3cml0ZSBwcmV2aW91c2x5LXNldCBtZXRob2RzXG5cdFx0XHRpZiAoICEgaGFuZGxlci5fc2V0dGVyc1sgc2V0dGVyRm5OYW1lIF0gKSB7XG5cdFx0XHRcdGhhbmRsZXIuX3NldHRlcnNbIHNldHRlckZuTmFtZSBdID0gc2V0dGVyRm47XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59XG5cbi8qKlxuICogV2FsayB0aGUgdHJlZSBvZiBhIHNwZWNpZmljIHJlc291cmNlIG5vZGUgdG8gY3JlYXRlIHRoZSBzZXR0ZXIgbWV0aG9kc1xuICpcbiAqIFRoZSBBUEkgd2Ugd2FudCB0byBwcm9kdWNlIGZyb20gdGhlIG5vZGUgdHJlZSBsb29rcyBsaWtlIHRoaXM6XG4gKlxuICogICAgIHdwLnBvc3RzKCk7ICAgICAgICAgICAgICAgICAgICAgICAgL3dwL3YyL3Bvc3RzXG4gKiAgICAgd3AucG9zdHMoKS5pZCggNyApOyAgICAgICAgICAgICAgICAvd3AvdjIvcG9zdHMvN1xuICogICAgIHdwLnBvc3RzKCkuaWQoIDcgKS5yZXZpc2lvbnMoKTsgICAgL3dwL3YyL3Bvc3RzLzcvcmV2aXNpb25zXG4gKiAgICAgd3AucG9zdHMoKS5pZCggNyApLnJldmlzaW9ucyggOCApOyAvd3AvdjIvcG9zdHMvNy9yZXZpc2lvbnMvOFxuICpcbiAqIF4gVGhhdCBsYXN0IG9uZSdzIHRoZSB0cmlja3kgb25lOiB3ZSBjYW4gZGVkdWNlIHRoYXQgdGhpcyBwYXJhbWV0ZXIgaXMgXCJpZFwiLCBidXRcbiAqIHRoYXQgcGFyYW0gd2lsbCBhbHJlYWR5IGJlIHRha2VuIGJ5IHRoZSBwb3N0IElELCBzbyBzdWItY29sbGVjdGlvbnMgaGF2ZSB0byBiZVxuICogc2V0IHVwIGFzIGAucmV2aXNpb25zKClgIHRvIGdldCB0aGUgY29sbGVjdGlvbiwgYW5kIGAucmV2aXNpb25zKCBpZCApYCB0byBnZXQgYVxuICogc3BlY2lmaWMgcmVzb3VyY2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge09iamVjdH0gbm9kZSAgICAgICAgICAgIEEgbm9kZSBvYmplY3RcbiAqIEBwYXJhbSAge09iamVjdH0gW25vZGUuY2hpbGRyZW5dIEFuIG9iamVjdCBvZiBjaGlsZCBub2Rlc1xuICogLy8gQHJldHVybnMge2lzTGVhZn0gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgcHJvY2Vzc2VkIG5vZGUgaXMgYSBsZWFmXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RTZXR0ZXJGcm9tTm9kZSggaGFuZGxlciwgbm9kZSApIHtcblxuXHRhc3NpZ25TZXR0ZXJGbkZvck5vZGUoIGhhbmRsZXIsIG5vZGUgKTtcblxuXHRpZiAoIG5vZGUuY2hpbGRyZW4gKSB7XG5cdFx0Ly8gUmVjdXJzZSBkb3duIHRvIHRoaXMgbm9kZSdzIGNoaWxkcmVuXG5cdFx0T2JqZWN0LmtleXMoIG5vZGUuY2hpbGRyZW4gKS5mb3JFYWNoKCAoIGtleSApID0+IHtcblx0XHRcdGV4dHJhY3RTZXR0ZXJGcm9tTm9kZSggaGFuZGxlciwgbm9kZS5jaGlsZHJlblsga2V5IF0gKTtcblx0XHR9ICk7XG5cdH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBub2RlIGhhbmRsZXIgc3BlY2lmaWNhdGlvbiBvYmplY3QgZnJvbSBhIHJvdXRlIGRlZmluaXRpb24gb2JqZWN0XG4gKlxuICogQG5hbWUgY3JlYXRlXG4gKiBAcGFyYW0ge29iamVjdH0gcm91dGVEZWZpbml0aW9uIEEgcm91dGUgZGVmaW5pdGlvbiBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXNvdXJjZSBUaGUgc3RyaW5nIGtleSBvZiB0aGUgcmVzb3VyY2UgZm9yIHdoaWNoIHRvIGNyZWF0ZSBhIGhhbmRsZXJcbiAqIEByZXR1cm5zIHtvYmplY3R9IEEgaGFuZGxlciBzcGVjIG9iamVjdCB3aXRoIF9wYXRoLCBfbGV2ZWxzIGFuZCBfc2V0dGVycyBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU5vZGVIYW5kbGVyU3BlYyggcm91dGVEZWZpbml0aW9uLCByZXNvdXJjZSApIHtcblxuXHRjb25zdCBoYW5kbGVyID0ge1xuXHRcdC8vIEEgXCJwYXRoXCIgaXMgYW4gb3JkZXJlZCAoYnkga2V5KSBzZXQgb2YgdmFsdWVzIGNvbXBvc2VkIGludG8gdGhlIGZpbmFsIFVSTFxuXHRcdF9wYXRoOiB7XG5cdFx0XHQnMCc6IHJlc291cmNlLFxuXHRcdH0sXG5cblx0XHQvLyBBIFwibGV2ZWxcIiBpcyBhIGxldmVsLWtleWVkIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHZhbGlkIG9wdGlvbnMgZm9yXG5cdFx0Ly8gb25lIGxldmVsIG9mIHRoZSByZXNvdXJjZSBVUkxcblx0XHRfbGV2ZWxzOiB7fSxcblxuXHRcdC8vIE9iamVjdHMgdGhhdCBob2xkIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgd2hpY2ggd2lsbCBiZSBjb3BpZWQgdG9cblx0XHQvLyBpbnN0YW5jZXMgb2YgdGhpcyBlbmRwb2ludCdzIGhhbmRsZXJcblx0XHRfc2V0dGVyczoge30sXG5cblx0XHQvLyBBcmd1bWVudHMgKHF1ZXJ5IHBhcmFtZXRlcnMpIHRoYXQgbWF5IGJlIHNldCBpbiBHRVQgcmVxdWVzdHMgdG8gZW5kcG9pbnRzXG5cdFx0Ly8gbmVzdGVkIHdpdGhpbiB0aGlzIHJlc291cmNlIHJvdXRlIHRyZWUsIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBtaXhpbnMgdG9cblx0XHQvLyBhZGQgdG8gdGhlIHJlcXVlc3QgaGFuZGxlclxuXHRcdF9nZXRBcmdzOiByb3V0ZURlZmluaXRpb24uX2dldEFyZ3MsXG5cdH07XG5cblx0Ly8gV2FsayB0aGUgdHJlZVxuXHRPYmplY3Qua2V5cyggcm91dGVEZWZpbml0aW9uICkuZm9yRWFjaCggKCByb3V0ZURlZlByb3AgKSA9PiB7XG5cdFx0aWYgKCByb3V0ZURlZlByb3AgIT09ICdfZ2V0QXJncycgKSB7XG5cdFx0XHRleHRyYWN0U2V0dGVyRnJvbU5vZGUoIGhhbmRsZXIsIHJvdXRlRGVmaW5pdGlvblsgcm91dGVEZWZQcm9wIF0gKTtcblx0XHR9XG5cdH0gKTtcblxuXHRyZXR1cm4gaGFuZGxlcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdGNyZWF0ZTogY3JlYXRlTm9kZUhhbmRsZXJTcGVjLFxufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qIGVzbGludCBjb21wbGV4aXR5OiBbMiwgMThdLCBtYXgtc3RhdGVtZW50czogWzIsIDMzXSAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBoYXNTeW1ib2xzKCkge1xuXHRpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAhPT0gJ2Z1bmN0aW9uJykgeyByZXR1cm4gZmFsc2U7IH1cblx0aWYgKHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICdzeW1ib2wnKSB7IHJldHVybiB0cnVlOyB9XG5cblx0dmFyIG9iaiA9IHt9O1xuXHR2YXIgc3ltID0gU3ltYm9sKCd0ZXN0Jyk7XG5cdHZhciBzeW1PYmogPSBPYmplY3Qoc3ltKTtcblx0aWYgKHR5cGVvZiBzeW0gPT09ICdzdHJpbmcnKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ltKSAhPT0gJ1tvYmplY3QgU3ltYm9sXScpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ltT2JqKSAhPT0gJ1tvYmplY3QgU3ltYm9sXScpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0Ly8gdGVtcCBkaXNhYmxlZCBwZXIgaHR0cHM6Ly9naXRodWIuY29tL2xqaGFyYi9vYmplY3QuYXNzaWduL2lzc3Vlcy8xN1xuXHQvLyBpZiAoc3ltIGluc3RhbmNlb2YgU3ltYm9sKSB7IHJldHVybiBmYWxzZTsgfVxuXHQvLyB0ZW1wIGRpc2FibGVkIHBlciBodHRwczovL2dpdGh1Yi5jb20vV2ViUmVmbGVjdGlvbi9nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMvaXNzdWVzLzRcblx0Ly8gaWYgKCEoc3ltT2JqIGluc3RhbmNlb2YgU3ltYm9sKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHQvLyBpZiAodHlwZW9mIFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmcgIT09ICdmdW5jdGlvbicpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdC8vIGlmIChTdHJpbmcoc3ltKSAhPT0gU3ltYm9sLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN5bSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0dmFyIHN5bVZhbCA9IDQyO1xuXHRvYmpbc3ltXSA9IHN5bVZhbDtcblx0Zm9yIChzeW0gaW4gb2JqKSB7IHJldHVybiBmYWxzZTsgfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4LCBuby11bnJlYWNoYWJsZS1sb29wXG5cdGlmICh0eXBlb2YgT2JqZWN0LmtleXMgPT09ICdmdW5jdGlvbicgJiYgT2JqZWN0LmtleXMob2JqKS5sZW5ndGggIT09IDApIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0aWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyA9PT0gJ2Z1bmN0aW9uJyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLmxlbmd0aCAhPT0gMCkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHR2YXIgc3ltcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqKTtcblx0aWYgKHN5bXMubGVuZ3RoICE9PSAxIHx8IHN5bXNbMF0gIT09IHN5bSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmosIHN5bSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0aWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwgc3ltKTtcblx0XHRpZiAoZGVzY3JpcHRvci52YWx1ZSAhPT0gc3ltVmFsIHx8IGRlc2NyaXB0b3IuZW51bWVyYWJsZSAhPT0gdHJ1ZSkgeyByZXR1cm4gZmFsc2U7IH1cblx0fVxuXG5cdHJldHVybiB0cnVlO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBvcmlnU3ltYm9sID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sO1xudmFyIGhhc1N5bWJvbFNoYW0gPSByZXF1aXJlKCcuL3NoYW1zJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaGFzTmF0aXZlU3ltYm9scygpIHtcblx0aWYgKHR5cGVvZiBvcmlnU3ltYm9sICE9PSAnZnVuY3Rpb24nKSB7IHJldHVybiBmYWxzZTsgfVxuXHRpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJykgeyByZXR1cm4gZmFsc2U7IH1cblx0aWYgKHR5cGVvZiBvcmlnU3ltYm9sKCdmb28nKSAhPT0gJ3N5bWJvbCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmICh0eXBlb2YgU3ltYm9sKCdiYXInKSAhPT0gJ3N5bWJvbCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0cmV0dXJuIGhhc1N5bWJvbFNoYW0oKTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiBlc2xpbnQgbm8taW52YWxpZC10aGlzOiAxICovXG5cbnZhciBFUlJPUl9NRVNTQUdFID0gJ0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgJztcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgZnVuY1R5cGUgPSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJpbmQodGhhdCkge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzO1xuICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnZnVuY3Rpb24nIHx8IHRvU3RyLmNhbGwodGFyZ2V0KSAhPT0gZnVuY1R5cGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJPUl9NRVNTQUdFICsgdGFyZ2V0KTtcbiAgICB9XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgICB2YXIgYm91bmQ7XG4gICAgdmFyIGJpbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBib3VuZCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRhcmdldC5hcHBseShcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoT2JqZWN0KHJlc3VsdCkgPT09IHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkoXG4gICAgICAgICAgICAgICAgdGhhdCxcbiAgICAgICAgICAgICAgICBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBib3VuZExlbmd0aCA9IE1hdGgubWF4KDAsIHRhcmdldC5sZW5ndGggLSBhcmdzLmxlbmd0aCk7XG4gICAgdmFyIGJvdW5kQXJncyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRMZW5ndGg7IGkrKykge1xuICAgICAgICBib3VuZEFyZ3MucHVzaCgnJCcgKyBpKTtcbiAgICB9XG5cbiAgICBib3VuZCA9IEZ1bmN0aW9uKCdiaW5kZXInLCAncmV0dXJuIGZ1bmN0aW9uICgnICsgYm91bmRBcmdzLmpvaW4oJywnKSArICcpeyByZXR1cm4gYmluZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsgfScpKGJpbmRlcik7XG5cbiAgICBpZiAodGFyZ2V0LnByb3RvdHlwZSkge1xuICAgICAgICB2YXIgRW1wdHkgPSBmdW5jdGlvbiBFbXB0eSgpIHt9O1xuICAgICAgICBFbXB0eS5wcm90b3R5cGUgPSB0YXJnZXQucHJvdG90eXBlO1xuICAgICAgICBib3VuZC5wcm90b3R5cGUgPSBuZXcgRW1wdHkoKTtcbiAgICAgICAgRW1wdHkucHJvdG90eXBlID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gYm91bmQ7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGltcGxlbWVudGF0aW9uID0gcmVxdWlyZSgnLi9pbXBsZW1lbnRhdGlvbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIHx8IGltcGxlbWVudGF0aW9uO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCdmdW5jdGlvbi1iaW5kJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHVuZGVmaW5lZDtcblxudmFyICRTeW50YXhFcnJvciA9IFN5bnRheEVycm9yO1xudmFyICRGdW5jdGlvbiA9IEZ1bmN0aW9uO1xudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxudmFyIGdldEV2YWxsZWRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIChleHByZXNzaW9uU3ludGF4KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuICRGdW5jdGlvbignXCJ1c2Ugc3RyaWN0XCI7IHJldHVybiAoJyArIGV4cHJlc3Npb25TeW50YXggKyAnKS5jb25zdHJ1Y3RvcjsnKSgpO1xuXHR9IGNhdGNoIChlKSB7fVxufTtcblxudmFyICRnT1BEID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbmlmICgkZ09QRCkge1xuXHR0cnkge1xuXHRcdCRnT1BEKHt9LCAnJyk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQkZ09QRCA9IG51bGw7IC8vIHRoaXMgaXMgSUUgOCwgd2hpY2ggaGFzIGEgYnJva2VuIGdPUERcblx0fVxufVxuXG52YXIgdGhyb3dUeXBlRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdHRocm93IG5ldyAkVHlwZUVycm9yKCk7XG59O1xudmFyIFRocm93VHlwZUVycm9yID0gJGdPUERcblx0PyAoZnVuY3Rpb24gKCkge1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zLCBuby1jYWxsZXIsIG5vLXJlc3RyaWN0ZWQtcHJvcGVydGllc1xuXHRcdFx0YXJndW1lbnRzLmNhbGxlZTsgLy8gSUUgOCBkb2VzIG5vdCB0aHJvdyBoZXJlXG5cdFx0XHRyZXR1cm4gdGhyb3dUeXBlRXJyb3I7XG5cdFx0fSBjYXRjaCAoY2FsbGVlVGhyb3dzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHQvLyBJRSA4IHRocm93cyBvbiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFyZ3VtZW50cywgJycpXG5cdFx0XHRcdHJldHVybiAkZ09QRChhcmd1bWVudHMsICdjYWxsZWUnKS5nZXQ7XG5cdFx0XHR9IGNhdGNoIChnT1BEdGhyb3dzKSB7XG5cdFx0XHRcdHJldHVybiB0aHJvd1R5cGVFcnJvcjtcblx0XHRcdH1cblx0XHR9XG5cdH0oKSlcblx0OiB0aHJvd1R5cGVFcnJvcjtcblxudmFyIGhhc1N5bWJvbHMgPSByZXF1aXJlKCdoYXMtc3ltYm9scycpKCk7XG5cbnZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5fX3Byb3RvX187IH07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG9cblxudmFyIG5lZWRzRXZhbCA9IHt9O1xuXG52YXIgVHlwZWRBcnJheSA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IGdldFByb3RvKFVpbnQ4QXJyYXkpO1xuXG52YXIgSU5UUklOU0lDUyA9IHtcblx0JyVBZ2dyZWdhdGVFcnJvciUnOiB0eXBlb2YgQWdncmVnYXRlRXJyb3IgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogQWdncmVnYXRlRXJyb3IsXG5cdCclQXJyYXklJzogQXJyYXksXG5cdCclQXJyYXlCdWZmZXIlJzogdHlwZW9mIEFycmF5QnVmZmVyID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEFycmF5QnVmZmVyLFxuXHQnJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlJzogaGFzU3ltYm9scyA/IGdldFByb3RvKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSkgOiB1bmRlZmluZWQsXG5cdCclQXN5bmNGcm9tU3luY0l0ZXJhdG9yUHJvdG90eXBlJSc6IHVuZGVmaW5lZCxcblx0JyVBc3luY0Z1bmN0aW9uJSc6IG5lZWRzRXZhbCxcblx0JyVBc3luY0dlbmVyYXRvciUnOiBuZWVkc0V2YWwsXG5cdCclQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUnOiBuZWVkc0V2YWwsXG5cdCclQXN5bmNJdGVyYXRvclByb3RvdHlwZSUnOiBuZWVkc0V2YWwsXG5cdCclQXRvbWljcyUnOiB0eXBlb2YgQXRvbWljcyA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBBdG9taWNzLFxuXHQnJUJpZ0ludCUnOiB0eXBlb2YgQmlnSW50ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEJpZ0ludCxcblx0JyVCb29sZWFuJSc6IEJvb2xlYW4sXG5cdCclRGF0YVZpZXclJzogdHlwZW9mIERhdGFWaWV3ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IERhdGFWaWV3LFxuXHQnJURhdGUlJzogRGF0ZSxcblx0JyVkZWNvZGVVUkklJzogZGVjb2RlVVJJLFxuXHQnJWRlY29kZVVSSUNvbXBvbmVudCUnOiBkZWNvZGVVUklDb21wb25lbnQsXG5cdCclZW5jb2RlVVJJJSc6IGVuY29kZVVSSSxcblx0JyVlbmNvZGVVUklDb21wb25lbnQlJzogZW5jb2RlVVJJQ29tcG9uZW50LFxuXHQnJUVycm9yJSc6IEVycm9yLFxuXHQnJWV2YWwlJzogZXZhbCwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1ldmFsXG5cdCclRXZhbEVycm9yJSc6IEV2YWxFcnJvcixcblx0JyVGbG9hdDMyQXJyYXklJzogdHlwZW9mIEZsb2F0MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBGbG9hdDMyQXJyYXksXG5cdCclRmxvYXQ2NEFycmF5JSc6IHR5cGVvZiBGbG9hdDY0QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogRmxvYXQ2NEFycmF5LFxuXHQnJUZpbmFsaXphdGlvblJlZ2lzdHJ5JSc6IHR5cGVvZiBGaW5hbGl6YXRpb25SZWdpc3RyeSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBGaW5hbGl6YXRpb25SZWdpc3RyeSxcblx0JyVGdW5jdGlvbiUnOiAkRnVuY3Rpb24sXG5cdCclR2VuZXJhdG9yRnVuY3Rpb24lJzogbmVlZHNFdmFsLFxuXHQnJUludDhBcnJheSUnOiB0eXBlb2YgSW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEludDhBcnJheSxcblx0JyVJbnQxNkFycmF5JSc6IHR5cGVvZiBJbnQxNkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEludDE2QXJyYXksXG5cdCclSW50MzJBcnJheSUnOiB0eXBlb2YgSW50MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQzMkFycmF5LFxuXHQnJWlzRmluaXRlJSc6IGlzRmluaXRlLFxuXHQnJWlzTmFOJSc6IGlzTmFOLFxuXHQnJUl0ZXJhdG9yUHJvdG90eXBlJSc6IGhhc1N5bWJvbHMgPyBnZXRQcm90byhnZXRQcm90byhbXVtTeW1ib2wuaXRlcmF0b3JdKCkpKSA6IHVuZGVmaW5lZCxcblx0JyVKU09OJSc6IHR5cGVvZiBKU09OID09PSAnb2JqZWN0JyA/IEpTT04gOiB1bmRlZmluZWQsXG5cdCclTWFwJSc6IHR5cGVvZiBNYXAgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogTWFwLFxuXHQnJU1hcEl0ZXJhdG9yUHJvdG90eXBlJSc6IHR5cGVvZiBNYXAgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNTeW1ib2xzID8gdW5kZWZpbmVkIDogZ2V0UHJvdG8obmV3IE1hcCgpW1N5bWJvbC5pdGVyYXRvcl0oKSksXG5cdCclTWF0aCUnOiBNYXRoLFxuXHQnJU51bWJlciUnOiBOdW1iZXIsXG5cdCclT2JqZWN0JSc6IE9iamVjdCxcblx0JyVwYXJzZUZsb2F0JSc6IHBhcnNlRmxvYXQsXG5cdCclcGFyc2VJbnQlJzogcGFyc2VJbnQsXG5cdCclUHJvbWlzZSUnOiB0eXBlb2YgUHJvbWlzZSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBQcm9taXNlLFxuXHQnJVByb3h5JSc6IHR5cGVvZiBQcm94eSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBQcm94eSxcblx0JyVSYW5nZUVycm9yJSc6IFJhbmdlRXJyb3IsXG5cdCclUmVmZXJlbmNlRXJyb3IlJzogUmVmZXJlbmNlRXJyb3IsXG5cdCclUmVmbGVjdCUnOiB0eXBlb2YgUmVmbGVjdCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBSZWZsZWN0LFxuXHQnJVJlZ0V4cCUnOiBSZWdFeHAsXG5cdCclU2V0JSc6IHR5cGVvZiBTZXQgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogU2V0LFxuXHQnJVNldEl0ZXJhdG9yUHJvdG90eXBlJSc6IHR5cGVvZiBTZXQgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNTeW1ib2xzID8gdW5kZWZpbmVkIDogZ2V0UHJvdG8obmV3IFNldCgpW1N5bWJvbC5pdGVyYXRvcl0oKSksXG5cdCclU2hhcmVkQXJyYXlCdWZmZXIlJzogdHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFNoYXJlZEFycmF5QnVmZmVyLFxuXHQnJVN0cmluZyUnOiBTdHJpbmcsXG5cdCclU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlJzogaGFzU3ltYm9scyA/IGdldFByb3RvKCcnW1N5bWJvbC5pdGVyYXRvcl0oKSkgOiB1bmRlZmluZWQsXG5cdCclU3ltYm9sJSc6IGhhc1N5bWJvbHMgPyBTeW1ib2wgOiB1bmRlZmluZWQsXG5cdCclU3ludGF4RXJyb3IlJzogJFN5bnRheEVycm9yLFxuXHQnJVRocm93VHlwZUVycm9yJSc6IFRocm93VHlwZUVycm9yLFxuXHQnJVR5cGVkQXJyYXklJzogVHlwZWRBcnJheSxcblx0JyVUeXBlRXJyb3IlJzogJFR5cGVFcnJvcixcblx0JyVVaW50OEFycmF5JSc6IHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFVpbnQ4QXJyYXksXG5cdCclVWludDhDbGFtcGVkQXJyYXklJzogdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFVpbnQ4Q2xhbXBlZEFycmF5LFxuXHQnJVVpbnQxNkFycmF5JSc6IHR5cGVvZiBVaW50MTZBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBVaW50MTZBcnJheSxcblx0JyVVaW50MzJBcnJheSUnOiB0eXBlb2YgVWludDMyQXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogVWludDMyQXJyYXksXG5cdCclVVJJRXJyb3IlJzogVVJJRXJyb3IsXG5cdCclV2Vha01hcCUnOiB0eXBlb2YgV2Vha01hcCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBXZWFrTWFwLFxuXHQnJVdlYWtSZWYlJzogdHlwZW9mIFdlYWtSZWYgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogV2Vha1JlZixcblx0JyVXZWFrU2V0JSc6IHR5cGVvZiBXZWFrU2V0ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFdlYWtTZXRcbn07XG5cbnZhciBkb0V2YWwgPSBmdW5jdGlvbiBkb0V2YWwobmFtZSkge1xuXHR2YXIgdmFsdWU7XG5cdGlmIChuYW1lID09PSAnJUFzeW5jRnVuY3Rpb24lJykge1xuXHRcdHZhbHVlID0gZ2V0RXZhbGxlZENvbnN0cnVjdG9yKCdhc3luYyBmdW5jdGlvbiAoKSB7fScpO1xuXHR9IGVsc2UgaWYgKG5hbWUgPT09ICclR2VuZXJhdG9yRnVuY3Rpb24lJykge1xuXHRcdHZhbHVlID0gZ2V0RXZhbGxlZENvbnN0cnVjdG9yKCdmdW5jdGlvbiogKCkge30nKTtcblx0fSBlbHNlIGlmIChuYW1lID09PSAnJUFzeW5jR2VuZXJhdG9yRnVuY3Rpb24lJykge1xuXHRcdHZhbHVlID0gZ2V0RXZhbGxlZENvbnN0cnVjdG9yKCdhc3luYyBmdW5jdGlvbiogKCkge30nKTtcblx0fSBlbHNlIGlmIChuYW1lID09PSAnJUFzeW5jR2VuZXJhdG9yJScpIHtcblx0XHR2YXIgZm4gPSBkb0V2YWwoJyVBc3luY0dlbmVyYXRvckZ1bmN0aW9uJScpO1xuXHRcdGlmIChmbikge1xuXHRcdFx0dmFsdWUgPSBmbi5wcm90b3R5cGU7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG5hbWUgPT09ICclQXN5bmNJdGVyYXRvclByb3RvdHlwZSUnKSB7XG5cdFx0dmFyIGdlbiA9IGRvRXZhbCgnJUFzeW5jR2VuZXJhdG9yJScpO1xuXHRcdGlmIChnZW4pIHtcblx0XHRcdHZhbHVlID0gZ2V0UHJvdG8oZ2VuLnByb3RvdHlwZSk7XG5cdFx0fVxuXHR9XG5cblx0SU5UUklOU0lDU1tuYW1lXSA9IHZhbHVlO1xuXG5cdHJldHVybiB2YWx1ZTtcbn07XG5cbnZhciBMRUdBQ1lfQUxJQVNFUyA9IHtcblx0JyVBcnJheUJ1ZmZlclByb3RvdHlwZSUnOiBbJ0FycmF5QnVmZmVyJywgJ3Byb3RvdHlwZSddLFxuXHQnJUFycmF5UHJvdG90eXBlJSc6IFsnQXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclQXJyYXlQcm90b19lbnRyaWVzJSc6IFsnQXJyYXknLCAncHJvdG90eXBlJywgJ2VudHJpZXMnXSxcblx0JyVBcnJheVByb3RvX2ZvckVhY2glJzogWydBcnJheScsICdwcm90b3R5cGUnLCAnZm9yRWFjaCddLFxuXHQnJUFycmF5UHJvdG9fa2V5cyUnOiBbJ0FycmF5JywgJ3Byb3RvdHlwZScsICdrZXlzJ10sXG5cdCclQXJyYXlQcm90b192YWx1ZXMlJzogWydBcnJheScsICdwcm90b3R5cGUnLCAndmFsdWVzJ10sXG5cdCclQXN5bmNGdW5jdGlvblByb3RvdHlwZSUnOiBbJ0FzeW5jRnVuY3Rpb24nLCAncHJvdG90eXBlJ10sXG5cdCclQXN5bmNHZW5lcmF0b3IlJzogWydBc3luY0dlbmVyYXRvckZ1bmN0aW9uJywgJ3Byb3RvdHlwZSddLFxuXHQnJUFzeW5jR2VuZXJhdG9yUHJvdG90eXBlJSc6IFsnQXN5bmNHZW5lcmF0b3JGdW5jdGlvbicsICdwcm90b3R5cGUnLCAncHJvdG90eXBlJ10sXG5cdCclQm9vbGVhblByb3RvdHlwZSUnOiBbJ0Jvb2xlYW4nLCAncHJvdG90eXBlJ10sXG5cdCclRGF0YVZpZXdQcm90b3R5cGUlJzogWydEYXRhVmlldycsICdwcm90b3R5cGUnXSxcblx0JyVEYXRlUHJvdG90eXBlJSc6IFsnRGF0ZScsICdwcm90b3R5cGUnXSxcblx0JyVFcnJvclByb3RvdHlwZSUnOiBbJ0Vycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJUV2YWxFcnJvclByb3RvdHlwZSUnOiBbJ0V2YWxFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVGbG9hdDMyQXJyYXlQcm90b3R5cGUlJzogWydGbG9hdDMyQXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclRmxvYXQ2NEFycmF5UHJvdG90eXBlJSc6IFsnRmxvYXQ2NEFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJUZ1bmN0aW9uUHJvdG90eXBlJSc6IFsnRnVuY3Rpb24nLCAncHJvdG90eXBlJ10sXG5cdCclR2VuZXJhdG9yJSc6IFsnR2VuZXJhdG9yRnVuY3Rpb24nLCAncHJvdG90eXBlJ10sXG5cdCclR2VuZXJhdG9yUHJvdG90eXBlJSc6IFsnR2VuZXJhdG9yRnVuY3Rpb24nLCAncHJvdG90eXBlJywgJ3Byb3RvdHlwZSddLFxuXHQnJUludDhBcnJheVByb3RvdHlwZSUnOiBbJ0ludDhBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVJbnQxNkFycmF5UHJvdG90eXBlJSc6IFsnSW50MTZBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVJbnQzMkFycmF5UHJvdG90eXBlJSc6IFsnSW50MzJBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVKU09OUGFyc2UlJzogWydKU09OJywgJ3BhcnNlJ10sXG5cdCclSlNPTlN0cmluZ2lmeSUnOiBbJ0pTT04nLCAnc3RyaW5naWZ5J10sXG5cdCclTWFwUHJvdG90eXBlJSc6IFsnTWFwJywgJ3Byb3RvdHlwZSddLFxuXHQnJU51bWJlclByb3RvdHlwZSUnOiBbJ051bWJlcicsICdwcm90b3R5cGUnXSxcblx0JyVPYmplY3RQcm90b3R5cGUlJzogWydPYmplY3QnLCAncHJvdG90eXBlJ10sXG5cdCclT2JqUHJvdG9fdG9TdHJpbmclJzogWydPYmplY3QnLCAncHJvdG90eXBlJywgJ3RvU3RyaW5nJ10sXG5cdCclT2JqUHJvdG9fdmFsdWVPZiUnOiBbJ09iamVjdCcsICdwcm90b3R5cGUnLCAndmFsdWVPZiddLFxuXHQnJVByb21pc2VQcm90b3R5cGUlJzogWydQcm9taXNlJywgJ3Byb3RvdHlwZSddLFxuXHQnJVByb21pc2VQcm90b190aGVuJSc6IFsnUHJvbWlzZScsICdwcm90b3R5cGUnLCAndGhlbiddLFxuXHQnJVByb21pc2VfYWxsJSc6IFsnUHJvbWlzZScsICdhbGwnXSxcblx0JyVQcm9taXNlX3JlamVjdCUnOiBbJ1Byb21pc2UnLCAncmVqZWN0J10sXG5cdCclUHJvbWlzZV9yZXNvbHZlJSc6IFsnUHJvbWlzZScsICdyZXNvbHZlJ10sXG5cdCclUmFuZ2VFcnJvclByb3RvdHlwZSUnOiBbJ1JhbmdlRXJyb3InLCAncHJvdG90eXBlJ10sXG5cdCclUmVmZXJlbmNlRXJyb3JQcm90b3R5cGUlJzogWydSZWZlcmVuY2VFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVSZWdFeHBQcm90b3R5cGUlJzogWydSZWdFeHAnLCAncHJvdG90eXBlJ10sXG5cdCclU2V0UHJvdG90eXBlJSc6IFsnU2V0JywgJ3Byb3RvdHlwZSddLFxuXHQnJVNoYXJlZEFycmF5QnVmZmVyUHJvdG90eXBlJSc6IFsnU2hhcmVkQXJyYXlCdWZmZXInLCAncHJvdG90eXBlJ10sXG5cdCclU3RyaW5nUHJvdG90eXBlJSc6IFsnU3RyaW5nJywgJ3Byb3RvdHlwZSddLFxuXHQnJVN5bWJvbFByb3RvdHlwZSUnOiBbJ1N5bWJvbCcsICdwcm90b3R5cGUnXSxcblx0JyVTeW50YXhFcnJvclByb3RvdHlwZSUnOiBbJ1N5bnRheEVycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJVR5cGVkQXJyYXlQcm90b3R5cGUlJzogWydUeXBlZEFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJVR5cGVFcnJvclByb3RvdHlwZSUnOiBbJ1R5cGVFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVVaW50OEFycmF5UHJvdG90eXBlJSc6IFsnVWludDhBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVVaW50OENsYW1wZWRBcnJheVByb3RvdHlwZSUnOiBbJ1VpbnQ4Q2xhbXBlZEFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJVVpbnQxNkFycmF5UHJvdG90eXBlJSc6IFsnVWludDE2QXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclVWludDMyQXJyYXlQcm90b3R5cGUlJzogWydVaW50MzJBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVVUklFcnJvclByb3RvdHlwZSUnOiBbJ1VSSUVycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJVdlYWtNYXBQcm90b3R5cGUlJzogWydXZWFrTWFwJywgJ3Byb3RvdHlwZSddLFxuXHQnJVdlYWtTZXRQcm90b3R5cGUlJzogWydXZWFrU2V0JywgJ3Byb3RvdHlwZSddXG59O1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCdoYXMnKTtcbnZhciAkY29uY2F0ID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIEFycmF5LnByb3RvdHlwZS5jb25jYXQpO1xudmFyICRzcGxpY2VBcHBseSA9IGJpbmQuY2FsbChGdW5jdGlvbi5hcHBseSwgQXJyYXkucHJvdG90eXBlLnNwbGljZSk7XG52YXIgJHJlcGxhY2UgPSBiaW5kLmNhbGwoRnVuY3Rpb24uY2FsbCwgU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlKTtcbnZhciAkc3RyU2xpY2UgPSBiaW5kLmNhbGwoRnVuY3Rpb24uY2FsbCwgU3RyaW5nLnByb3RvdHlwZS5zbGljZSk7XG5cbi8qIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbG9kYXNoL2xvZGFzaC9ibG9iLzQuMTcuMTUvZGlzdC9sb2Rhc2guanMjTDY3MzUtTDY3NDQgKi9cbnZhciByZVByb3BOYW1lID0gL1teJS5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwlJCkpL2c7XG52YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7IC8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHN0cmluZ1RvUGF0aCA9IGZ1bmN0aW9uIHN0cmluZ1RvUGF0aChzdHJpbmcpIHtcblx0dmFyIGZpcnN0ID0gJHN0clNsaWNlKHN0cmluZywgMCwgMSk7XG5cdHZhciBsYXN0ID0gJHN0clNsaWNlKHN0cmluZywgLTEpO1xuXHRpZiAoZmlyc3QgPT09ICclJyAmJiBsYXN0ICE9PSAnJScpIHtcblx0XHR0aHJvdyBuZXcgJFN5bnRheEVycm9yKCdpbnZhbGlkIGludHJpbnNpYyBzeW50YXgsIGV4cGVjdGVkIGNsb3NpbmcgYCVgJyk7XG5cdH0gZWxzZSBpZiAobGFzdCA9PT0gJyUnICYmIGZpcnN0ICE9PSAnJScpIHtcblx0XHR0aHJvdyBuZXcgJFN5bnRheEVycm9yKCdpbnZhbGlkIGludHJpbnNpYyBzeW50YXgsIGV4cGVjdGVkIG9wZW5pbmcgYCVgJyk7XG5cdH1cblx0dmFyIHJlc3VsdCA9IFtdO1xuXHQkcmVwbGFjZShzdHJpbmcsIHJlUHJvcE5hbWUsIGZ1bmN0aW9uIChtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3ViU3RyaW5nKSB7XG5cdFx0cmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gcXVvdGUgPyAkcmVwbGFjZShzdWJTdHJpbmcsIHJlRXNjYXBlQ2hhciwgJyQxJykgOiBudW1iZXIgfHwgbWF0Y2g7XG5cdH0pO1xuXHRyZXR1cm4gcmVzdWx0O1xufTtcbi8qIGVuZCBhZGFwdGF0aW9uICovXG5cbnZhciBnZXRCYXNlSW50cmluc2ljID0gZnVuY3Rpb24gZ2V0QmFzZUludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0dmFyIGludHJpbnNpY05hbWUgPSBuYW1lO1xuXHR2YXIgYWxpYXM7XG5cdGlmIChoYXNPd24oTEVHQUNZX0FMSUFTRVMsIGludHJpbnNpY05hbWUpKSB7XG5cdFx0YWxpYXMgPSBMRUdBQ1lfQUxJQVNFU1tpbnRyaW5zaWNOYW1lXTtcblx0XHRpbnRyaW5zaWNOYW1lID0gJyUnICsgYWxpYXNbMF0gKyAnJSc7XG5cdH1cblxuXHRpZiAoaGFzT3duKElOVFJJTlNJQ1MsIGludHJpbnNpY05hbWUpKSB7XG5cdFx0dmFyIHZhbHVlID0gSU5UUklOU0lDU1tpbnRyaW5zaWNOYW1lXTtcblx0XHRpZiAodmFsdWUgPT09IG5lZWRzRXZhbCkge1xuXHRcdFx0dmFsdWUgPSBkb0V2YWwoaW50cmluc2ljTmFtZSk7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnICYmICFhbGxvd01pc3NpbmcpIHtcblx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdpbnRyaW5zaWMgJyArIG5hbWUgKyAnIGV4aXN0cywgYnV0IGlzIG5vdCBhdmFpbGFibGUuIFBsZWFzZSBmaWxlIGFuIGlzc3VlIScpO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRhbGlhczogYWxpYXMsXG5cdFx0XHRuYW1lOiBpbnRyaW5zaWNOYW1lLFxuXHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0fTtcblx0fVxuXG5cdHRocm93IG5ldyAkU3ludGF4RXJyb3IoJ2ludHJpbnNpYyAnICsgbmFtZSArICcgZG9lcyBub3QgZXhpc3QhJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIEdldEludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0aWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCBuYW1lLmxlbmd0aCA9PT0gMCkge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdpbnRyaW5zaWMgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuXHR9XG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSAmJiB0eXBlb2YgYWxsb3dNaXNzaW5nICE9PSAnYm9vbGVhbicpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignXCJhbGxvd01pc3NpbmdcIiBhcmd1bWVudCBtdXN0IGJlIGEgYm9vbGVhbicpO1xuXHR9XG5cblx0dmFyIHBhcnRzID0gc3RyaW5nVG9QYXRoKG5hbWUpO1xuXHR2YXIgaW50cmluc2ljQmFzZU5hbWUgPSBwYXJ0cy5sZW5ndGggPiAwID8gcGFydHNbMF0gOiAnJztcblxuXHR2YXIgaW50cmluc2ljID0gZ2V0QmFzZUludHJpbnNpYygnJScgKyBpbnRyaW5zaWNCYXNlTmFtZSArICclJywgYWxsb3dNaXNzaW5nKTtcblx0dmFyIGludHJpbnNpY1JlYWxOYW1lID0gaW50cmluc2ljLm5hbWU7XG5cdHZhciB2YWx1ZSA9IGludHJpbnNpYy52YWx1ZTtcblx0dmFyIHNraXBGdXJ0aGVyQ2FjaGluZyA9IGZhbHNlO1xuXG5cdHZhciBhbGlhcyA9IGludHJpbnNpYy5hbGlhcztcblx0aWYgKGFsaWFzKSB7XG5cdFx0aW50cmluc2ljQmFzZU5hbWUgPSBhbGlhc1swXTtcblx0XHQkc3BsaWNlQXBwbHkocGFydHMsICRjb25jYXQoWzAsIDFdLCBhbGlhcykpO1xuXHR9XG5cblx0Zm9yICh2YXIgaSA9IDEsIGlzT3duID0gdHJ1ZTsgaSA8IHBhcnRzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0dmFyIHBhcnQgPSBwYXJ0c1tpXTtcblx0XHR2YXIgZmlyc3QgPSAkc3RyU2xpY2UocGFydCwgMCwgMSk7XG5cdFx0dmFyIGxhc3QgPSAkc3RyU2xpY2UocGFydCwgLTEpO1xuXHRcdGlmIChcblx0XHRcdChcblx0XHRcdFx0KGZpcnN0ID09PSAnXCInIHx8IGZpcnN0ID09PSBcIidcIiB8fCBmaXJzdCA9PT0gJ2AnKVxuXHRcdFx0XHR8fCAobGFzdCA9PT0gJ1wiJyB8fCBsYXN0ID09PSBcIidcIiB8fCBsYXN0ID09PSAnYCcpXG5cdFx0XHQpXG5cdFx0XHQmJiBmaXJzdCAhPT0gbGFzdFxuXHRcdCkge1xuXHRcdFx0dGhyb3cgbmV3ICRTeW50YXhFcnJvcigncHJvcGVydHkgbmFtZXMgd2l0aCBxdW90ZXMgbXVzdCBoYXZlIG1hdGNoaW5nIHF1b3RlcycpO1xuXHRcdH1cblx0XHRpZiAocGFydCA9PT0gJ2NvbnN0cnVjdG9yJyB8fCAhaXNPd24pIHtcblx0XHRcdHNraXBGdXJ0aGVyQ2FjaGluZyA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aW50cmluc2ljQmFzZU5hbWUgKz0gJy4nICsgcGFydDtcblx0XHRpbnRyaW5zaWNSZWFsTmFtZSA9ICclJyArIGludHJpbnNpY0Jhc2VOYW1lICsgJyUnO1xuXG5cdFx0aWYgKGhhc093bihJTlRSSU5TSUNTLCBpbnRyaW5zaWNSZWFsTmFtZSkpIHtcblx0XHRcdHZhbHVlID0gSU5UUklOU0lDU1tpbnRyaW5zaWNSZWFsTmFtZV07XG5cdFx0fSBlbHNlIGlmICh2YWx1ZSAhPSBudWxsKSB7XG5cdFx0XHRpZiAoIShwYXJ0IGluIHZhbHVlKSkge1xuXHRcdFx0XHRpZiAoIWFsbG93TWlzc2luZykge1xuXHRcdFx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdiYXNlIGludHJpbnNpYyBmb3IgJyArIG5hbWUgKyAnIGV4aXN0cywgYnV0IHRoZSBwcm9wZXJ0eSBpcyBub3QgYXZhaWxhYmxlLicpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB2b2lkIHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHRcdGlmICgkZ09QRCAmJiAoaSArIDEpID49IHBhcnRzLmxlbmd0aCkge1xuXHRcdFx0XHR2YXIgZGVzYyA9ICRnT1BEKHZhbHVlLCBwYXJ0KTtcblx0XHRcdFx0aXNPd24gPSAhIWRlc2M7XG5cblx0XHRcdFx0Ly8gQnkgY29udmVudGlvbiwgd2hlbiBhIGRhdGEgcHJvcGVydHkgaXMgY29udmVydGVkIHRvIGFuIGFjY2Vzc29yXG5cdFx0XHRcdC8vIHByb3BlcnR5IHRvIGVtdWxhdGUgYSBkYXRhIHByb3BlcnR5IHRoYXQgZG9lcyBub3Qgc3VmZmVyIGZyb21cblx0XHRcdFx0Ly8gdGhlIG92ZXJyaWRlIG1pc3Rha2UsIHRoYXQgYWNjZXNzb3IncyBnZXR0ZXIgaXMgbWFya2VkIHdpdGhcblx0XHRcdFx0Ly8gYW4gYG9yaWdpbmFsVmFsdWVgIHByb3BlcnR5LiBIZXJlLCB3aGVuIHdlIGRldGVjdCB0aGlzLCB3ZVxuXHRcdFx0XHQvLyB1cGhvbGQgdGhlIGlsbHVzaW9uIGJ5IHByZXRlbmRpbmcgdG8gc2VlIHRoYXQgb3JpZ2luYWwgZGF0YVxuXHRcdFx0XHQvLyBwcm9wZXJ0eSwgaS5lLiwgcmV0dXJuaW5nIHRoZSB2YWx1ZSByYXRoZXIgdGhhbiB0aGUgZ2V0dGVyXG5cdFx0XHRcdC8vIGl0c2VsZi5cblx0XHRcdFx0aWYgKGlzT3duICYmICdnZXQnIGluIGRlc2MgJiYgISgnb3JpZ2luYWxWYWx1ZScgaW4gZGVzYy5nZXQpKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBkZXNjLmdldDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlW3BhcnRdO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpc093biA9IGhhc093bih2YWx1ZSwgcGFydCk7XG5cdFx0XHRcdHZhbHVlID0gdmFsdWVbcGFydF07XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpc093biAmJiAhc2tpcEZ1cnRoZXJDYWNoaW5nKSB7XG5cdFx0XHRcdElOVFJJTlNJQ1NbaW50cmluc2ljUmVhbE5hbWVdID0gdmFsdWU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiB2YWx1ZTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcbnZhciBHZXRJbnRyaW5zaWMgPSByZXF1aXJlKCdnZXQtaW50cmluc2ljJyk7XG5cbnZhciAkYXBwbHkgPSBHZXRJbnRyaW5zaWMoJyVGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHklJyk7XG52YXIgJGNhbGwgPSBHZXRJbnRyaW5zaWMoJyVGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCUnKTtcbnZhciAkcmVmbGVjdEFwcGx5ID0gR2V0SW50cmluc2ljKCclUmVmbGVjdC5hcHBseSUnLCB0cnVlKSB8fCBiaW5kLmNhbGwoJGNhbGwsICRhcHBseSk7XG5cbnZhciAkZ09QRCA9IEdldEludHJpbnNpYygnJU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IlJywgdHJ1ZSk7XG52YXIgJGRlZmluZVByb3BlcnR5ID0gR2V0SW50cmluc2ljKCclT2JqZWN0LmRlZmluZVByb3BlcnR5JScsIHRydWUpO1xudmFyICRtYXggPSBHZXRJbnRyaW5zaWMoJyVNYXRoLm1heCUnKTtcblxuaWYgKCRkZWZpbmVQcm9wZXJ0eSkge1xuXHR0cnkge1xuXHRcdCRkZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7IHZhbHVlOiAxIH0pO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gSUUgOCBoYXMgYSBicm9rZW4gZGVmaW5lUHJvcGVydHlcblx0XHQkZGVmaW5lUHJvcGVydHkgPSBudWxsO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY2FsbEJpbmQob3JpZ2luYWxGdW5jdGlvbikge1xuXHR2YXIgZnVuYyA9ICRyZWZsZWN0QXBwbHkoYmluZCwgJGNhbGwsIGFyZ3VtZW50cyk7XG5cdGlmICgkZ09QRCAmJiAkZGVmaW5lUHJvcGVydHkpIHtcblx0XHR2YXIgZGVzYyA9ICRnT1BEKGZ1bmMsICdsZW5ndGgnKTtcblx0XHRpZiAoZGVzYy5jb25maWd1cmFibGUpIHtcblx0XHRcdC8vIG9yaWdpbmFsIGxlbmd0aCwgcGx1cyB0aGUgcmVjZWl2ZXIsIG1pbnVzIGFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyAoYWZ0ZXIgdGhlIHJlY2VpdmVyKVxuXHRcdFx0JGRlZmluZVByb3BlcnR5KFxuXHRcdFx0XHRmdW5jLFxuXHRcdFx0XHQnbGVuZ3RoJyxcblx0XHRcdFx0eyB2YWx1ZTogMSArICRtYXgoMCwgb3JpZ2luYWxGdW5jdGlvbi5sZW5ndGggLSAoYXJndW1lbnRzLmxlbmd0aCAtIDEpKSB9XG5cdFx0XHQpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZnVuYztcbn07XG5cbnZhciBhcHBseUJpbmQgPSBmdW5jdGlvbiBhcHBseUJpbmQoKSB7XG5cdHJldHVybiAkcmVmbGVjdEFwcGx5KGJpbmQsICRhcHBseSwgYXJndW1lbnRzKTtcbn07XG5cbmlmICgkZGVmaW5lUHJvcGVydHkpIHtcblx0JGRlZmluZVByb3BlcnR5KG1vZHVsZS5leHBvcnRzLCAnYXBwbHknLCB7IHZhbHVlOiBhcHBseUJpbmQgfSk7XG59IGVsc2Uge1xuXHRtb2R1bGUuZXhwb3J0cy5hcHBseSA9IGFwcGx5QmluZDtcbn1cbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBHZXRJbnRyaW5zaWMgPSByZXF1aXJlKCdnZXQtaW50cmluc2ljJyk7XG5cbnZhciBjYWxsQmluZCA9IHJlcXVpcmUoJy4vJyk7XG5cbnZhciAkaW5kZXhPZiA9IGNhbGxCaW5kKEdldEludHJpbnNpYygnU3RyaW5nLnByb3RvdHlwZS5pbmRleE9mJykpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNhbGxCb3VuZEludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0dmFyIGludHJpbnNpYyA9IEdldEludHJpbnNpYyhuYW1lLCAhIWFsbG93TWlzc2luZyk7XG5cdGlmICh0eXBlb2YgaW50cmluc2ljID09PSAnZnVuY3Rpb24nICYmICRpbmRleE9mKG5hbWUsICcucHJvdG90eXBlLicpID4gLTEpIHtcblx0XHRyZXR1cm4gY2FsbEJpbmQoaW50cmluc2ljKTtcblx0fVxuXHRyZXR1cm4gaW50cmluc2ljO1xufTtcbiIsICIiLCAidmFyIGhhc01hcCA9IHR5cGVvZiBNYXAgPT09ICdmdW5jdGlvbicgJiYgTWFwLnByb3RvdHlwZTtcbnZhciBtYXBTaXplRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgJiYgaGFzTWFwID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihNYXAucHJvdG90eXBlLCAnc2l6ZScpIDogbnVsbDtcbnZhciBtYXBTaXplID0gaGFzTWFwICYmIG1hcFNpemVEZXNjcmlwdG9yICYmIHR5cGVvZiBtYXBTaXplRGVzY3JpcHRvci5nZXQgPT09ICdmdW5jdGlvbicgPyBtYXBTaXplRGVzY3JpcHRvci5nZXQgOiBudWxsO1xudmFyIG1hcEZvckVhY2ggPSBoYXNNYXAgJiYgTWFwLnByb3RvdHlwZS5mb3JFYWNoO1xudmFyIGhhc1NldCA9IHR5cGVvZiBTZXQgPT09ICdmdW5jdGlvbicgJiYgU2V0LnByb3RvdHlwZTtcbnZhciBzZXRTaXplRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgJiYgaGFzU2V0ID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihTZXQucHJvdG90eXBlLCAnc2l6ZScpIDogbnVsbDtcbnZhciBzZXRTaXplID0gaGFzU2V0ICYmIHNldFNpemVEZXNjcmlwdG9yICYmIHR5cGVvZiBzZXRTaXplRGVzY3JpcHRvci5nZXQgPT09ICdmdW5jdGlvbicgPyBzZXRTaXplRGVzY3JpcHRvci5nZXQgOiBudWxsO1xudmFyIHNldEZvckVhY2ggPSBoYXNTZXQgJiYgU2V0LnByb3RvdHlwZS5mb3JFYWNoO1xudmFyIGhhc1dlYWtNYXAgPSB0eXBlb2YgV2Vha01hcCA9PT0gJ2Z1bmN0aW9uJyAmJiBXZWFrTWFwLnByb3RvdHlwZTtcbnZhciB3ZWFrTWFwSGFzID0gaGFzV2Vha01hcCA/IFdlYWtNYXAucHJvdG90eXBlLmhhcyA6IG51bGw7XG52YXIgaGFzV2Vha1NldCA9IHR5cGVvZiBXZWFrU2V0ID09PSAnZnVuY3Rpb24nICYmIFdlYWtTZXQucHJvdG90eXBlO1xudmFyIHdlYWtTZXRIYXMgPSBoYXNXZWFrU2V0ID8gV2Vha1NldC5wcm90b3R5cGUuaGFzIDogbnVsbDtcbnZhciBoYXNXZWFrUmVmID0gdHlwZW9mIFdlYWtSZWYgPT09ICdmdW5jdGlvbicgJiYgV2Vha1JlZi5wcm90b3R5cGU7XG52YXIgd2Vha1JlZkRlcmVmID0gaGFzV2Vha1JlZiA/IFdlYWtSZWYucHJvdG90eXBlLmRlcmVmIDogbnVsbDtcbnZhciBib29sZWFuVmFsdWVPZiA9IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2Y7XG52YXIgb2JqZWN0VG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGZ1bmN0aW9uVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgbWF0Y2ggPSBTdHJpbmcucHJvdG90eXBlLm1hdGNoO1xudmFyIGJpZ0ludFZhbHVlT2YgPSB0eXBlb2YgQmlnSW50ID09PSAnZnVuY3Rpb24nID8gQmlnSW50LnByb3RvdHlwZS52YWx1ZU9mIDogbnVsbDtcbnZhciBnT1BTID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBzeW1Ub1N0cmluZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gJ3N5bWJvbCcgPyBTeW1ib2wucHJvdG90eXBlLnRvU3RyaW5nIDogbnVsbDtcbnZhciBoYXNTaGFtbWVkU3ltYm9scyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gJ29iamVjdCc7XG4vLyBpZSwgYGhhcy10b3N0cmluZ3RhZy9zaGFtc1xudmFyIHRvU3RyaW5nVGFnID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcgJiYgKHR5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWcgPT09IGhhc1NoYW1tZWRTeW1ib2xzID8gJ29iamVjdCcgOiAnc3ltYm9sJylcbiAgICA/IFN5bWJvbC50b1N0cmluZ1RhZ1xuICAgIDogbnVsbDtcbnZhciBpc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG52YXIgZ1BPID0gKHR5cGVvZiBSZWZsZWN0ID09PSAnZnVuY3Rpb24nID8gUmVmbGVjdC5nZXRQcm90b3R5cGVPZiA6IE9iamVjdC5nZXRQcm90b3R5cGVPZikgfHwgKFxuICAgIFtdLl9fcHJvdG9fXyA9PT0gQXJyYXkucHJvdG90eXBlIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG9cbiAgICAgICAgPyBmdW5jdGlvbiAoTykge1xuICAgICAgICAgICAgcmV0dXJuIE8uX19wcm90b19fOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvXG4gICAgICAgIH1cbiAgICAgICAgOiBudWxsXG4pO1xuXG52YXIgaW5zcGVjdEN1c3RvbSA9IHJlcXVpcmUoJy4vdXRpbC5pbnNwZWN0JykuY3VzdG9tO1xudmFyIGluc3BlY3RTeW1ib2wgPSBpbnNwZWN0Q3VzdG9tICYmIGlzU3ltYm9sKGluc3BlY3RDdXN0b20pID8gaW5zcGVjdEN1c3RvbSA6IG51bGw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5zcGVjdF8ob2JqLCBvcHRpb25zLCBkZXB0aCwgc2Vlbikge1xuICAgIHZhciBvcHRzID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIGlmIChoYXMob3B0cywgJ3F1b3RlU3R5bGUnKSAmJiAob3B0cy5xdW90ZVN0eWxlICE9PSAnc2luZ2xlJyAmJiBvcHRzLnF1b3RlU3R5bGUgIT09ICdkb3VibGUnKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gXCJxdW90ZVN0eWxlXCIgbXVzdCBiZSBcInNpbmdsZVwiIG9yIFwiZG91YmxlXCInKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgICBoYXMob3B0cywgJ21heFN0cmluZ0xlbmd0aCcpICYmICh0eXBlb2Ygb3B0cy5tYXhTdHJpbmdMZW5ndGggPT09ICdudW1iZXInXG4gICAgICAgICAgICA/IG9wdHMubWF4U3RyaW5nTGVuZ3RoIDwgMCAmJiBvcHRzLm1heFN0cmluZ0xlbmd0aCAhPT0gSW5maW5pdHlcbiAgICAgICAgICAgIDogb3B0cy5tYXhTdHJpbmdMZW5ndGggIT09IG51bGxcbiAgICAgICAgKVxuICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gXCJtYXhTdHJpbmdMZW5ndGhcIiwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLCBJbmZpbml0eSwgb3IgYG51bGxgJyk7XG4gICAgfVxuICAgIHZhciBjdXN0b21JbnNwZWN0ID0gaGFzKG9wdHMsICdjdXN0b21JbnNwZWN0JykgPyBvcHRzLmN1c3RvbUluc3BlY3QgOiB0cnVlO1xuICAgIGlmICh0eXBlb2YgY3VzdG9tSW5zcGVjdCAhPT0gJ2Jvb2xlYW4nICYmIGN1c3RvbUluc3BlY3QgIT09ICdzeW1ib2wnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBcImN1c3RvbUluc3BlY3RcIiwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYHRydWVgLCBgZmFsc2VgLCBvciBgXFwnc3ltYm9sXFwnYCcpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgICAgaGFzKG9wdHMsICdpbmRlbnQnKVxuICAgICAgICAmJiBvcHRzLmluZGVudCAhPT0gbnVsbFxuICAgICAgICAmJiBvcHRzLmluZGVudCAhPT0gJ1xcdCdcbiAgICAgICAgJiYgIShwYXJzZUludChvcHRzLmluZGVudCwgMTApID09PSBvcHRzLmluZGVudCAmJiBvcHRzLmluZGVudCA+IDApXG4gICAgKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbnMgXCJpbmRlbnRcIiBtdXN0IGJlIFwiXFxcXHRcIiwgYW4gaW50ZWdlciA+IDAsIG9yIGBudWxsYCcpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gICAgfVxuICAgIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICdudWxsJztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdib29sZWFuJykge1xuICAgICAgICByZXR1cm4gb2JqID8gJ3RydWUnIDogJ2ZhbHNlJztcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGluc3BlY3RTdHJpbmcob2JqLCBvcHRzKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChvYmogPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBJbmZpbml0eSAvIG9iaiA+IDAgPyAnMCcgOiAnLTAnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTdHJpbmcob2JqKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdiaWdpbnQnKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcob2JqKSArICduJztcbiAgICB9XG5cbiAgICB2YXIgbWF4RGVwdGggPSB0eXBlb2Ygb3B0cy5kZXB0aCA9PT0gJ3VuZGVmaW5lZCcgPyA1IDogb3B0cy5kZXB0aDtcbiAgICBpZiAodHlwZW9mIGRlcHRoID09PSAndW5kZWZpbmVkJykgeyBkZXB0aCA9IDA7IH1cbiAgICBpZiAoZGVwdGggPj0gbWF4RGVwdGggJiYgbWF4RGVwdGggPiAwICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KG9iaikgPyAnW0FycmF5XScgOiAnW09iamVjdF0nO1xuICAgIH1cblxuICAgIHZhciBpbmRlbnQgPSBnZXRJbmRlbnQob3B0cywgZGVwdGgpO1xuXG4gICAgaWYgKHR5cGVvZiBzZWVuID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZWVuID0gW107XG4gICAgfSBlbHNlIGlmIChpbmRleE9mKHNlZW4sIG9iaikgPj0gMCkge1xuICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3BlY3QodmFsdWUsIGZyb20sIG5vSW5kZW50KSB7XG4gICAgICAgIGlmIChmcm9tKSB7XG4gICAgICAgICAgICBzZWVuID0gc2Vlbi5zbGljZSgpO1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGZyb20pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub0luZGVudCkge1xuICAgICAgICAgICAgdmFyIG5ld09wdHMgPSB7XG4gICAgICAgICAgICAgICAgZGVwdGg6IG9wdHMuZGVwdGhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoaGFzKG9wdHMsICdxdW90ZVN0eWxlJykpIHtcbiAgICAgICAgICAgICAgICBuZXdPcHRzLnF1b3RlU3R5bGUgPSBvcHRzLnF1b3RlU3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5zcGVjdF8odmFsdWUsIG5ld09wdHMsIGRlcHRoICsgMSwgc2Vlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluc3BlY3RfKHZhbHVlLCBvcHRzLCBkZXB0aCArIDEsIHNlZW4pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBuYW1lID0gbmFtZU9mKG9iaik7XG4gICAgICAgIHZhciBrZXlzID0gYXJyT2JqS2V5cyhvYmosIGluc3BlY3QpO1xuICAgICAgICByZXR1cm4gJ1tGdW5jdGlvbicgKyAobmFtZSA/ICc6ICcgKyBuYW1lIDogJyAoYW5vbnltb3VzKScpICsgJ10nICsgKGtleXMubGVuZ3RoID4gMCA/ICcgeyAnICsga2V5cy5qb2luKCcsICcpICsgJyB9JyA6ICcnKTtcbiAgICB9XG4gICAgaWYgKGlzU3ltYm9sKG9iaikpIHtcbiAgICAgICAgdmFyIHN5bVN0cmluZyA9IGhhc1NoYW1tZWRTeW1ib2xzID8gU3RyaW5nKG9iaikucmVwbGFjZSgvXihTeW1ib2xcXCguKlxcKSlfW14pXSokLywgJyQxJykgOiBzeW1Ub1N0cmluZy5jYWxsKG9iaik7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiAhaGFzU2hhbW1lZFN5bWJvbHMgPyBtYXJrQm94ZWQoc3ltU3RyaW5nKSA6IHN5bVN0cmluZztcbiAgICB9XG4gICAgaWYgKGlzRWxlbWVudChvYmopKSB7XG4gICAgICAgIHZhciBzID0gJzwnICsgU3RyaW5nKG9iai5ub2RlTmFtZSkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdmFyIGF0dHJzID0gb2JqLmF0dHJpYnV0ZXMgfHwgW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHMgKz0gJyAnICsgYXR0cnNbaV0ubmFtZSArICc9JyArIHdyYXBRdW90ZXMocXVvdGUoYXR0cnNbaV0udmFsdWUpLCAnZG91YmxlJywgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgcyArPSAnPic7XG4gICAgICAgIGlmIChvYmouY2hpbGROb2RlcyAmJiBvYmouY2hpbGROb2Rlcy5sZW5ndGgpIHsgcyArPSAnLi4uJzsgfVxuICAgICAgICBzICs9ICc8LycgKyBTdHJpbmcob2JqLm5vZGVOYW1lKS50b0xvd2VyQ2FzZSgpICsgJz4nO1xuICAgICAgICByZXR1cm4gcztcbiAgICB9XG4gICAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgICAgICBpZiAob2JqLmxlbmd0aCA9PT0gMCkgeyByZXR1cm4gJ1tdJzsgfVxuICAgICAgICB2YXIgeHMgPSBhcnJPYmpLZXlzKG9iaiwgaW5zcGVjdCk7XG4gICAgICAgIGlmIChpbmRlbnQgJiYgIXNpbmdsZUxpbmVWYWx1ZXMoeHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1snICsgaW5kZW50ZWRKb2luKHhzLCBpbmRlbnQpICsgJ10nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnWyAnICsgeHMuam9pbignLCAnKSArICcgXSc7XG4gICAgfVxuICAgIGlmIChpc0Vycm9yKG9iaikpIHtcbiAgICAgICAgdmFyIHBhcnRzID0gYXJyT2JqS2V5cyhvYmosIGluc3BlY3QpO1xuICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAwKSB7IHJldHVybiAnWycgKyBTdHJpbmcob2JqKSArICddJzsgfVxuICAgICAgICByZXR1cm4gJ3sgWycgKyBTdHJpbmcob2JqKSArICddICcgKyBwYXJ0cy5qb2luKCcsICcpICsgJyB9JztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIGN1c3RvbUluc3BlY3QpIHtcbiAgICAgICAgaWYgKGluc3BlY3RTeW1ib2wgJiYgdHlwZW9mIG9ialtpbnNwZWN0U3ltYm9sXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIG9ialtpbnNwZWN0U3ltYm9sXSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGN1c3RvbUluc3BlY3QgIT09ICdzeW1ib2wnICYmIHR5cGVvZiBvYmouaW5zcGVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIG9iai5pbnNwZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzTWFwKG9iaikpIHtcbiAgICAgICAgdmFyIG1hcFBhcnRzID0gW107XG4gICAgICAgIG1hcEZvckVhY2guY2FsbChvYmosIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICBtYXBQYXJ0cy5wdXNoKGluc3BlY3Qoa2V5LCBvYmosIHRydWUpICsgJyA9PiAnICsgaW5zcGVjdCh2YWx1ZSwgb2JqKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbk9mKCdNYXAnLCBtYXBTaXplLmNhbGwob2JqKSwgbWFwUGFydHMsIGluZGVudCk7XG4gICAgfVxuICAgIGlmIChpc1NldChvYmopKSB7XG4gICAgICAgIHZhciBzZXRQYXJ0cyA9IFtdO1xuICAgICAgICBzZXRGb3JFYWNoLmNhbGwob2JqLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHNldFBhcnRzLnB1c2goaW5zcGVjdCh2YWx1ZSwgb2JqKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbk9mKCdTZXQnLCBzZXRTaXplLmNhbGwob2JqKSwgc2V0UGFydHMsIGluZGVudCk7XG4gICAgfVxuICAgIGlmIChpc1dlYWtNYXAob2JqKSkge1xuICAgICAgICByZXR1cm4gd2Vha0NvbGxlY3Rpb25PZignV2Vha01hcCcpO1xuICAgIH1cbiAgICBpZiAoaXNXZWFrU2V0KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIHdlYWtDb2xsZWN0aW9uT2YoJ1dlYWtTZXQnKTtcbiAgICB9XG4gICAgaWYgKGlzV2Vha1JlZihvYmopKSB7XG4gICAgICAgIHJldHVybiB3ZWFrQ29sbGVjdGlvbk9mKCdXZWFrUmVmJyk7XG4gICAgfVxuICAgIGlmIChpc051bWJlcihvYmopKSB7XG4gICAgICAgIHJldHVybiBtYXJrQm94ZWQoaW5zcGVjdChOdW1iZXIob2JqKSkpO1xuICAgIH1cbiAgICBpZiAoaXNCaWdJbnQob2JqKSkge1xuICAgICAgICByZXR1cm4gbWFya0JveGVkKGluc3BlY3QoYmlnSW50VmFsdWVPZi5jYWxsKG9iaikpKTtcbiAgICB9XG4gICAgaWYgKGlzQm9vbGVhbihvYmopKSB7XG4gICAgICAgIHJldHVybiBtYXJrQm94ZWQoYm9vbGVhblZhbHVlT2YuY2FsbChvYmopKTtcbiAgICB9XG4gICAgaWYgKGlzU3RyaW5nKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG1hcmtCb3hlZChpbnNwZWN0KFN0cmluZyhvYmopKSk7XG4gICAgfVxuICAgIGlmICghaXNEYXRlKG9iaikgJiYgIWlzUmVnRXhwKG9iaikpIHtcbiAgICAgICAgdmFyIHlzID0gYXJyT2JqS2V5cyhvYmosIGluc3BlY3QpO1xuICAgICAgICB2YXIgaXNQbGFpbk9iamVjdCA9IGdQTyA/IGdQTyhvYmopID09PSBPYmplY3QucHJvdG90eXBlIDogb2JqIGluc3RhbmNlb2YgT2JqZWN0IHx8IG9iai5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xuICAgICAgICB2YXIgcHJvdG9UYWcgPSBvYmogaW5zdGFuY2VvZiBPYmplY3QgPyAnJyA6ICdudWxsIHByb3RvdHlwZSc7XG4gICAgICAgIHZhciBzdHJpbmdUYWcgPSAhaXNQbGFpbk9iamVjdCAmJiB0b1N0cmluZ1RhZyAmJiBPYmplY3Qob2JqKSA9PT0gb2JqICYmIHRvU3RyaW5nVGFnIGluIG9iaiA/IHRvU3RyKG9iaikuc2xpY2UoOCwgLTEpIDogcHJvdG9UYWcgPyAnT2JqZWN0JyA6ICcnO1xuICAgICAgICB2YXIgY29uc3RydWN0b3JUYWcgPSBpc1BsYWluT2JqZWN0IHx8IHR5cGVvZiBvYmouY29uc3RydWN0b3IgIT09ICdmdW5jdGlvbicgPyAnJyA6IG9iai5jb25zdHJ1Y3Rvci5uYW1lID8gb2JqLmNvbnN0cnVjdG9yLm5hbWUgKyAnICcgOiAnJztcbiAgICAgICAgdmFyIHRhZyA9IGNvbnN0cnVjdG9yVGFnICsgKHN0cmluZ1RhZyB8fCBwcm90b1RhZyA/ICdbJyArIFtdLmNvbmNhdChzdHJpbmdUYWcgfHwgW10sIHByb3RvVGFnIHx8IFtdKS5qb2luKCc6ICcpICsgJ10gJyA6ICcnKTtcbiAgICAgICAgaWYgKHlzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm4gdGFnICsgJ3t9JzsgfVxuICAgICAgICBpZiAoaW5kZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGFnICsgJ3snICsgaW5kZW50ZWRKb2luKHlzLCBpbmRlbnQpICsgJ30nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YWcgKyAneyAnICsgeXMuam9pbignLCAnKSArICcgfSc7XG4gICAgfVxuICAgIHJldHVybiBTdHJpbmcob2JqKTtcbn07XG5cbmZ1bmN0aW9uIHdyYXBRdW90ZXMocywgZGVmYXVsdFN0eWxlLCBvcHRzKSB7XG4gICAgdmFyIHF1b3RlQ2hhciA9IChvcHRzLnF1b3RlU3R5bGUgfHwgZGVmYXVsdFN0eWxlKSA9PT0gJ2RvdWJsZScgPyAnXCInIDogXCInXCI7XG4gICAgcmV0dXJuIHF1b3RlQ2hhciArIHMgKyBxdW90ZUNoYXI7XG59XG5cbmZ1bmN0aW9uIHF1b3RlKHMpIHtcbiAgICByZXR1cm4gU3RyaW5nKHMpLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKTtcbn1cblxuZnVuY3Rpb24gaXNBcnJheShvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XScgJiYgKCF0b1N0cmluZ1RhZyB8fCAhKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIHRvU3RyaW5nVGFnIGluIG9iaikpOyB9XG5mdW5jdGlvbiBpc0RhdGUob2JqKSB7IHJldHVybiB0b1N0cihvYmopID09PSAnW29iamVjdCBEYXRlXScgJiYgKCF0b1N0cmluZ1RhZyB8fCAhKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIHRvU3RyaW5nVGFnIGluIG9iaikpOyB9XG5mdW5jdGlvbiBpc1JlZ0V4cChvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IFJlZ0V4cF0nICYmICghdG9TdHJpbmdUYWcgfHwgISh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiB0b1N0cmluZ1RhZyBpbiBvYmopKTsgfVxuZnVuY3Rpb24gaXNFcnJvcihvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IEVycm9yXScgJiYgKCF0b1N0cmluZ1RhZyB8fCAhKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIHRvU3RyaW5nVGFnIGluIG9iaikpOyB9XG5mdW5jdGlvbiBpc1N0cmluZyhvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IFN0cmluZ10nICYmICghdG9TdHJpbmdUYWcgfHwgISh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiB0b1N0cmluZ1RhZyBpbiBvYmopKTsgfVxuZnVuY3Rpb24gaXNOdW1iZXIob2JqKSB7IHJldHVybiB0b1N0cihvYmopID09PSAnW29iamVjdCBOdW1iZXJdJyAmJiAoIXRvU3RyaW5nVGFnIHx8ICEodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgdG9TdHJpbmdUYWcgaW4gb2JqKSk7IH1cbmZ1bmN0aW9uIGlzQm9vbGVhbihvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IEJvb2xlYW5dJyAmJiAoIXRvU3RyaW5nVGFnIHx8ICEodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgdG9TdHJpbmdUYWcgaW4gb2JqKSk7IH1cblxuLy8gU3ltYm9sIGFuZCBCaWdJbnQgZG8gaGF2ZSBTeW1ib2wudG9TdHJpbmdUYWcgYnkgc3BlYywgc28gdGhhdCBjYW4ndCBiZSB1c2VkIHRvIGVsaW1pbmF0ZSBmYWxzZSBwb3NpdGl2ZXNcbmZ1bmN0aW9uIGlzU3ltYm9sKG9iaikge1xuICAgIGlmIChoYXNTaGFtbWVkU3ltYm9scykge1xuICAgICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iaiBpbnN0YW5jZW9mIFN5bWJvbDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdzeW1ib2wnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCAhc3ltVG9TdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBzeW1Ub1N0cmluZy5jYWxsKG9iaik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc0JpZ0ludChvYmopIHtcbiAgICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCAhYmlnSW50VmFsdWVPZikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGJpZ0ludFZhbHVlT2YuY2FsbChvYmopO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxudmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkgfHwgZnVuY3Rpb24gKGtleSkgeyByZXR1cm4ga2V5IGluIHRoaXM7IH07XG5mdW5jdGlvbiBoYXMob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gaGFzT3duLmNhbGwob2JqLCBrZXkpO1xufVxuXG5mdW5jdGlvbiB0b1N0cihvYmopIHtcbiAgICByZXR1cm4gb2JqZWN0VG9TdHJpbmcuY2FsbChvYmopO1xufVxuXG5mdW5jdGlvbiBuYW1lT2YoZikge1xuICAgIGlmIChmLm5hbWUpIHsgcmV0dXJuIGYubmFtZTsgfVxuICAgIHZhciBtID0gbWF0Y2guY2FsbChmdW5jdGlvblRvU3RyaW5nLmNhbGwoZiksIC9eZnVuY3Rpb25cXHMqKFtcXHckXSspLyk7XG4gICAgaWYgKG0pIHsgcmV0dXJuIG1bMV07IH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gaW5kZXhPZih4cywgeCkge1xuICAgIGlmICh4cy5pbmRleE9mKSB7IHJldHVybiB4cy5pbmRleE9mKHgpOyB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSB4cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKHhzW2ldID09PSB4KSB7IHJldHVybiBpOyB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gaXNNYXAoeCkge1xuICAgIGlmICghbWFwU2l6ZSB8fCAheCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBtYXBTaXplLmNhbGwoeCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRTaXplLmNhbGwoeCk7XG4gICAgICAgIH0gY2F0Y2ggKHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4IGluc3RhbmNlb2YgTWFwOyAvLyBjb3JlLWpzIHdvcmthcm91bmQsIHByZS12Mi41LjBcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNXZWFrTWFwKHgpIHtcbiAgICBpZiAoIXdlYWtNYXBIYXMgfHwgIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgd2Vha01hcEhhcy5jYWxsKHgsIHdlYWtNYXBIYXMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2Vha1NldEhhcy5jYWxsKHgsIHdlYWtTZXRIYXMpO1xuICAgICAgICB9IGNhdGNoIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geCBpbnN0YW5jZW9mIFdlYWtNYXA7IC8vIGNvcmUtanMgd29ya2Fyb3VuZCwgcHJlLXYyLjUuMFxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc1dlYWtSZWYoeCkge1xuICAgIGlmICghd2Vha1JlZkRlcmVmIHx8ICF4IHx8IHR5cGVvZiB4ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHdlYWtSZWZEZXJlZi5jYWxsKHgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNTZXQoeCkge1xuICAgIGlmICghc2V0U2l6ZSB8fCAheCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBzZXRTaXplLmNhbGwoeCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtYXBTaXplLmNhbGwoeCk7XG4gICAgICAgIH0gY2F0Y2ggKG0pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4IGluc3RhbmNlb2YgU2V0OyAvLyBjb3JlLWpzIHdvcmthcm91bmQsIHByZS12Mi41LjBcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNXZWFrU2V0KHgpIHtcbiAgICBpZiAoIXdlYWtTZXRIYXMgfHwgIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgd2Vha1NldEhhcy5jYWxsKHgsIHdlYWtTZXRIYXMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2Vha01hcEhhcy5jYWxsKHgsIHdlYWtNYXBIYXMpO1xuICAgICAgICB9IGNhdGNoIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geCBpbnN0YW5jZW9mIFdlYWtTZXQ7IC8vIGNvcmUtanMgd29ya2Fyb3VuZCwgcHJlLXYyLjUuMFxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc0VsZW1lbnQoeCkge1xuICAgIGlmICgheCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgaWYgKHR5cGVvZiBIVE1MRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgeCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZW9mIHgubm9kZU5hbWUgPT09ICdzdHJpbmcnICYmIHR5cGVvZiB4LmdldEF0dHJpYnV0ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaW5zcGVjdFN0cmluZyhzdHIsIG9wdHMpIHtcbiAgICBpZiAoc3RyLmxlbmd0aCA+IG9wdHMubWF4U3RyaW5nTGVuZ3RoKSB7XG4gICAgICAgIHZhciByZW1haW5pbmcgPSBzdHIubGVuZ3RoIC0gb3B0cy5tYXhTdHJpbmdMZW5ndGg7XG4gICAgICAgIHZhciB0cmFpbGVyID0gJy4uLiAnICsgcmVtYWluaW5nICsgJyBtb3JlIGNoYXJhY3RlcicgKyAocmVtYWluaW5nID4gMSA/ICdzJyA6ICcnKTtcbiAgICAgICAgcmV0dXJuIGluc3BlY3RTdHJpbmcoc3RyLnNsaWNlKDAsIG9wdHMubWF4U3RyaW5nTGVuZ3RoKSwgb3B0cykgKyB0cmFpbGVyO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleFxuICAgIHZhciBzID0gc3RyLnJlcGxhY2UoLyhbJ1xcXFxdKS9nLCAnXFxcXCQxJykucmVwbGFjZSgvW1xceDAwLVxceDFmXS9nLCBsb3dieXRlKTtcbiAgICByZXR1cm4gd3JhcFF1b3RlcyhzLCAnc2luZ2xlJywgb3B0cyk7XG59XG5cbmZ1bmN0aW9uIGxvd2J5dGUoYykge1xuICAgIHZhciBuID0gYy5jaGFyQ29kZUF0KDApO1xuICAgIHZhciB4ID0ge1xuICAgICAgICA4OiAnYicsXG4gICAgICAgIDk6ICd0JyxcbiAgICAgICAgMTA6ICduJyxcbiAgICAgICAgMTI6ICdmJyxcbiAgICAgICAgMTM6ICdyJ1xuICAgIH1bbl07XG4gICAgaWYgKHgpIHsgcmV0dXJuICdcXFxcJyArIHg7IH1cbiAgICByZXR1cm4gJ1xcXFx4JyArIChuIDwgMHgxMCA/ICcwJyA6ICcnKSArIG4udG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG59XG5cbmZ1bmN0aW9uIG1hcmtCb3hlZChzdHIpIHtcbiAgICByZXR1cm4gJ09iamVjdCgnICsgc3RyICsgJyknO1xufVxuXG5mdW5jdGlvbiB3ZWFrQ29sbGVjdGlvbk9mKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZSArICcgeyA/IH0nO1xufVxuXG5mdW5jdGlvbiBjb2xsZWN0aW9uT2YodHlwZSwgc2l6ZSwgZW50cmllcywgaW5kZW50KSB7XG4gICAgdmFyIGpvaW5lZEVudHJpZXMgPSBpbmRlbnQgPyBpbmRlbnRlZEpvaW4oZW50cmllcywgaW5kZW50KSA6IGVudHJpZXMuam9pbignLCAnKTtcbiAgICByZXR1cm4gdHlwZSArICcgKCcgKyBzaXplICsgJykgeycgKyBqb2luZWRFbnRyaWVzICsgJ30nO1xufVxuXG5mdW5jdGlvbiBzaW5nbGVMaW5lVmFsdWVzKHhzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaW5kZXhPZih4c1tpXSwgJ1xcbicpID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0SW5kZW50KG9wdHMsIGRlcHRoKSB7XG4gICAgdmFyIGJhc2VJbmRlbnQ7XG4gICAgaWYgKG9wdHMuaW5kZW50ID09PSAnXFx0Jykge1xuICAgICAgICBiYXNlSW5kZW50ID0gJ1xcdCc7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0cy5pbmRlbnQgPT09ICdudW1iZXInICYmIG9wdHMuaW5kZW50ID4gMCkge1xuICAgICAgICBiYXNlSW5kZW50ID0gQXJyYXkob3B0cy5pbmRlbnQgKyAxKS5qb2luKCcgJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGJhc2U6IGJhc2VJbmRlbnQsXG4gICAgICAgIHByZXY6IEFycmF5KGRlcHRoICsgMSkuam9pbihiYXNlSW5kZW50KVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGluZGVudGVkSm9pbih4cywgaW5kZW50KSB7XG4gICAgaWYgKHhzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm4gJyc7IH1cbiAgICB2YXIgbGluZUpvaW5lciA9ICdcXG4nICsgaW5kZW50LnByZXYgKyBpbmRlbnQuYmFzZTtcbiAgICByZXR1cm4gbGluZUpvaW5lciArIHhzLmpvaW4oJywnICsgbGluZUpvaW5lcikgKyAnXFxuJyArIGluZGVudC5wcmV2O1xufVxuXG5mdW5jdGlvbiBhcnJPYmpLZXlzKG9iaiwgaW5zcGVjdCkge1xuICAgIHZhciBpc0FyciA9IGlzQXJyYXkob2JqKTtcbiAgICB2YXIgeHMgPSBbXTtcbiAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgeHMubGVuZ3RoID0gb2JqLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHhzW2ldID0gaGFzKG9iaiwgaSkgPyBpbnNwZWN0KG9ialtpXSwgb2JqKSA6ICcnO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBzeW1zID0gdHlwZW9mIGdPUFMgPT09ICdmdW5jdGlvbicgPyBnT1BTKG9iaikgOiBbXTtcbiAgICB2YXIgc3ltTWFwO1xuICAgIGlmIChoYXNTaGFtbWVkU3ltYm9scykge1xuICAgICAgICBzeW1NYXAgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBzeW1zLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICBzeW1NYXBbJyQnICsgc3ltc1trXV0gPSBzeW1zW2tdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICAgIGlmICghaGFzKG9iaiwga2V5KSkgeyBjb250aW51ZTsgfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4LCBuby1jb250aW51ZVxuICAgICAgICBpZiAoaXNBcnIgJiYgU3RyaW5nKE51bWJlcihrZXkpKSA9PT0ga2V5ICYmIGtleSA8IG9iai5sZW5ndGgpIHsgY29udGludWU7IH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheCwgbm8tY29udGludWVcbiAgICAgICAgaWYgKGhhc1NoYW1tZWRTeW1ib2xzICYmIHN5bU1hcFsnJCcgKyBrZXldIGluc3RhbmNlb2YgU3ltYm9sKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRvIHByZXZlbnQgc2hhbW1lZCBTeW1ib2xzLCB3aGljaCBhcmUgc3RvcmVkIGFzIHN0cmluZ3MsIGZyb20gYmVpbmcgaW5jbHVkZWQgaW4gdGhlIHN0cmluZyBrZXkgc2VjdGlvblxuICAgICAgICAgICAgY29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXgsIG5vLWNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoKC9bXlxcdyRdLykudGVzdChrZXkpKSB7XG4gICAgICAgICAgICB4cy5wdXNoKGluc3BlY3Qoa2V5LCBvYmopICsgJzogJyArIGluc3BlY3Qob2JqW2tleV0sIG9iaikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeHMucHVzaChrZXkgKyAnOiAnICsgaW5zcGVjdChvYmpba2V5XSwgb2JqKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBnT1BTID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc3ltcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKGlzRW51bWVyYWJsZS5jYWxsKG9iaiwgc3ltc1tqXSkpIHtcbiAgICAgICAgICAgICAgICB4cy5wdXNoKCdbJyArIGluc3BlY3Qoc3ltc1tqXSkgKyAnXTogJyArIGluc3BlY3Qob2JqW3N5bXNbal1dLCBvYmopKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geHM7XG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgR2V0SW50cmluc2ljID0gcmVxdWlyZSgnZ2V0LWludHJpbnNpYycpO1xudmFyIGNhbGxCb3VuZCA9IHJlcXVpcmUoJ2NhbGwtYmluZC9jYWxsQm91bmQnKTtcbnZhciBpbnNwZWN0ID0gcmVxdWlyZSgnb2JqZWN0LWluc3BlY3QnKTtcblxudmFyICRUeXBlRXJyb3IgPSBHZXRJbnRyaW5zaWMoJyVUeXBlRXJyb3IlJyk7XG52YXIgJFdlYWtNYXAgPSBHZXRJbnRyaW5zaWMoJyVXZWFrTWFwJScsIHRydWUpO1xudmFyICRNYXAgPSBHZXRJbnRyaW5zaWMoJyVNYXAlJywgdHJ1ZSk7XG5cbnZhciAkd2Vha01hcEdldCA9IGNhbGxCb3VuZCgnV2Vha01hcC5wcm90b3R5cGUuZ2V0JywgdHJ1ZSk7XG52YXIgJHdlYWtNYXBTZXQgPSBjYWxsQm91bmQoJ1dlYWtNYXAucHJvdG90eXBlLnNldCcsIHRydWUpO1xudmFyICR3ZWFrTWFwSGFzID0gY2FsbEJvdW5kKCdXZWFrTWFwLnByb3RvdHlwZS5oYXMnLCB0cnVlKTtcbnZhciAkbWFwR2V0ID0gY2FsbEJvdW5kKCdNYXAucHJvdG90eXBlLmdldCcsIHRydWUpO1xudmFyICRtYXBTZXQgPSBjYWxsQm91bmQoJ01hcC5wcm90b3R5cGUuc2V0JywgdHJ1ZSk7XG52YXIgJG1hcEhhcyA9IGNhbGxCb3VuZCgnTWFwLnByb3RvdHlwZS5oYXMnLCB0cnVlKTtcblxuLypcbiAqIFRoaXMgZnVuY3Rpb24gdHJhdmVyc2VzIHRoZSBsaXN0IHJldHVybmluZyB0aGUgbm9kZSBjb3JyZXNwb25kaW5nIHRvIHRoZVxuICogZ2l2ZW4ga2V5LlxuICpcbiAqIFRoYXQgbm9kZSBpcyBhbHNvIG1vdmVkIHRvIHRoZSBoZWFkIG9mIHRoZSBsaXN0LCBzbyB0aGF0IGlmIGl0J3MgYWNjZXNzZWRcbiAqIGFnYWluIHdlIGRvbid0IG5lZWQgdG8gdHJhdmVyc2UgdGhlIHdob2xlIGxpc3QuIEJ5IGRvaW5nIHNvLCBhbGwgdGhlIHJlY2VudGx5XG4gKiB1c2VkIG5vZGVzIGNhbiBiZSBhY2Nlc3NlZCByZWxhdGl2ZWx5IHF1aWNrbHkuXG4gKi9cbnZhciBsaXN0R2V0Tm9kZSA9IGZ1bmN0aW9uIChsaXN0LCBrZXkpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjb25zaXN0ZW50LXJldHVyblxuXHRmb3IgKHZhciBwcmV2ID0gbGlzdCwgY3VycjsgKGN1cnIgPSBwcmV2Lm5leHQpICE9PSBudWxsOyBwcmV2ID0gY3Vycikge1xuXHRcdGlmIChjdXJyLmtleSA9PT0ga2V5KSB7XG5cdFx0XHRwcmV2Lm5leHQgPSBjdXJyLm5leHQ7XG5cdFx0XHRjdXJyLm5leHQgPSBsaXN0Lm5leHQ7XG5cdFx0XHRsaXN0Lm5leHQgPSBjdXJyOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG5cdFx0XHRyZXR1cm4gY3Vycjtcblx0XHR9XG5cdH1cbn07XG5cbnZhciBsaXN0R2V0ID0gZnVuY3Rpb24gKG9iamVjdHMsIGtleSkge1xuXHR2YXIgbm9kZSA9IGxpc3RHZXROb2RlKG9iamVjdHMsIGtleSk7XG5cdHJldHVybiBub2RlICYmIG5vZGUudmFsdWU7XG59O1xudmFyIGxpc3RTZXQgPSBmdW5jdGlvbiAob2JqZWN0cywga2V5LCB2YWx1ZSkge1xuXHR2YXIgbm9kZSA9IGxpc3RHZXROb2RlKG9iamVjdHMsIGtleSk7XG5cdGlmIChub2RlKSB7XG5cdFx0bm9kZS52YWx1ZSA9IHZhbHVlO1xuXHR9IGVsc2Uge1xuXHRcdC8vIFByZXBlbmQgdGhlIG5ldyBub2RlIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3Rcblx0XHRvYmplY3RzLm5leHQgPSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cblx0XHRcdGtleToga2V5LFxuXHRcdFx0bmV4dDogb2JqZWN0cy5uZXh0LFxuXHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0fTtcblx0fVxufTtcbnZhciBsaXN0SGFzID0gZnVuY3Rpb24gKG9iamVjdHMsIGtleSkge1xuXHRyZXR1cm4gISFsaXN0R2V0Tm9kZShvYmplY3RzLCBrZXkpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZXRTaWRlQ2hhbm5lbCgpIHtcblx0dmFyICR3bTtcblx0dmFyICRtO1xuXHR2YXIgJG87XG5cdHZhciBjaGFubmVsID0ge1xuXHRcdGFzc2VydDogZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0aWYgKCFjaGFubmVsLmhhcyhrZXkpKSB7XG5cdFx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdTaWRlIGNoYW5uZWwgZG9lcyBub3QgY29udGFpbiAnICsgaW5zcGVjdChrZXkpKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGdldDogZnVuY3Rpb24gKGtleSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG5cdFx0XHRpZiAoJFdlYWtNYXAgJiYga2V5ICYmICh0eXBlb2Yga2V5ID09PSAnb2JqZWN0JyB8fCB0eXBlb2Yga2V5ID09PSAnZnVuY3Rpb24nKSkge1xuXHRcdFx0XHRpZiAoJHdtKSB7XG5cdFx0XHRcdFx0cmV0dXJuICR3ZWFrTWFwR2V0KCR3bSwga2V5KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICgkTWFwKSB7XG5cdFx0XHRcdGlmICgkbSkge1xuXHRcdFx0XHRcdHJldHVybiAkbWFwR2V0KCRtLCBrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoJG8pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lbHktaWZcblx0XHRcdFx0XHRyZXR1cm4gbGlzdEdldCgkbywga2V5KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aGFzOiBmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRpZiAoJFdlYWtNYXAgJiYga2V5ICYmICh0eXBlb2Yga2V5ID09PSAnb2JqZWN0JyB8fCB0eXBlb2Yga2V5ID09PSAnZnVuY3Rpb24nKSkge1xuXHRcdFx0XHRpZiAoJHdtKSB7XG5cdFx0XHRcdFx0cmV0dXJuICR3ZWFrTWFwSGFzKCR3bSwga2V5KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICgkTWFwKSB7XG5cdFx0XHRcdGlmICgkbSkge1xuXHRcdFx0XHRcdHJldHVybiAkbWFwSGFzKCRtLCBrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoJG8pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lbHktaWZcblx0XHRcdFx0XHRyZXR1cm4gbGlzdEhhcygkbywga2V5KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuXHRcdFx0aWYgKCRXZWFrTWFwICYmIGtleSAmJiAodHlwZW9mIGtleSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIGtleSA9PT0gJ2Z1bmN0aW9uJykpIHtcblx0XHRcdFx0aWYgKCEkd20pIHtcblx0XHRcdFx0XHQkd20gPSBuZXcgJFdlYWtNYXAoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQkd2Vha01hcFNldCgkd20sIGtleSwgdmFsdWUpO1xuXHRcdFx0fSBlbHNlIGlmICgkTWFwKSB7XG5cdFx0XHRcdGlmICghJG0pIHtcblx0XHRcdFx0XHQkbSA9IG5ldyAkTWFwKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0JG1hcFNldCgkbSwga2V5LCB2YWx1ZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoISRvKSB7XG5cdFx0XHRcdFx0Lypcblx0XHRcdFx0XHQgKiBJbml0aWFsaXplIHRoZSBsaW5rZWQgbGlzdCBhcyBhbiBlbXB0eSBub2RlLCBzbyB0aGF0IHdlIGRvbid0IGhhdmVcblx0XHRcdFx0XHQgKiB0byBzcGVjaWFsLWNhc2UgaGFuZGxpbmcgb2YgdGhlIGZpcnN0IG5vZGU6IHdlIGNhbiBhbHdheXMgcmVmZXIgdG9cblx0XHRcdFx0XHQgKiBpdCBhcyAocHJldmlvdXMgbm9kZSkubmV4dCwgaW5zdGVhZCBvZiBzb21ldGhpbmcgbGlrZSAobGlzdCkuaGVhZFxuXHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdCRvID0geyBrZXk6IHt9LCBuZXh0OiBudWxsIH07XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdFNldCgkbywga2V5LCB2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gY2hhbm5lbDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgcmVwbGFjZSA9IFN0cmluZy5wcm90b3R5cGUucmVwbGFjZTtcbnZhciBwZXJjZW50VHdlbnRpZXMgPSAvJTIwL2c7XG5cbnZhciBGb3JtYXQgPSB7XG4gICAgUkZDMTczODogJ1JGQzE3MzgnLFxuICAgIFJGQzM5ODY6ICdSRkMzOTg2J1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgJ2RlZmF1bHQnOiBGb3JtYXQuUkZDMzk4NixcbiAgICBmb3JtYXR0ZXJzOiB7XG4gICAgICAgIFJGQzE3Mzg6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2UuY2FsbCh2YWx1ZSwgcGVyY2VudFR3ZW50aWVzLCAnKycpO1xuICAgICAgICB9LFxuICAgICAgICBSRkMzOTg2OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBSRkMxNzM4OiBGb3JtYXQuUkZDMTczOCxcbiAgICBSRkMzOTg2OiBGb3JtYXQuUkZDMzk4NlxufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBmb3JtYXRzID0gcmVxdWlyZSgnLi9mb3JtYXRzJyk7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG52YXIgaGV4VGFibGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgICAgICAgYXJyYXkucHVzaCgnJScgKyAoKGkgPCAxNiA/ICcwJyA6ICcnKSArIGkudG9TdHJpbmcoMTYpKS50b1VwcGVyQ2FzZSgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG59KCkpO1xuXG52YXIgY29tcGFjdFF1ZXVlID0gZnVuY3Rpb24gY29tcGFjdFF1ZXVlKHF1ZXVlKSB7XG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiAgICAgICAgdmFyIG9iaiA9IGl0ZW0ub2JqW2l0ZW0ucHJvcF07XG5cbiAgICAgICAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgdmFyIGNvbXBhY3RlZCA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqW2pdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBjb21wYWN0ZWQucHVzaChvYmpbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXRlbS5vYmpbaXRlbS5wcm9wXSA9IGNvbXBhY3RlZDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBhcnJheVRvT2JqZWN0ID0gZnVuY3Rpb24gYXJyYXlUb09iamVjdChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqID0gb3B0aW9ucyAmJiBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZVtpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG9ialtpXSA9IHNvdXJjZVtpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG59O1xuXG52YXIgbWVyZ2UgPSBmdW5jdGlvbiBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgIC8qIGVzbGludCBuby1wYXJhbS1yZWFzc2lnbjogMCAqL1xuICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChpc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRhcmdldC5wdXNoKHNvdXJjZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ICYmIHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoKG9wdGlvbnMgJiYgKG9wdGlvbnMucGxhaW5PYmplY3RzIHx8IG9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSkgfHwgIWhhcy5jYWxsKE9iamVjdC5wcm90b3R5cGUsIHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbc291cmNlXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW3RhcmdldCwgc291cmNlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgaWYgKCF0YXJnZXQgfHwgdHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIFt0YXJnZXRdLmNvbmNhdChzb3VyY2UpO1xuICAgIH1cblxuICAgIHZhciBtZXJnZVRhcmdldCA9IHRhcmdldDtcbiAgICBpZiAoaXNBcnJheSh0YXJnZXQpICYmICFpc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgbWVyZ2VUYXJnZXQgPSBhcnJheVRvT2JqZWN0KHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKGlzQXJyYXkodGFyZ2V0KSAmJiBpc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgc291cmNlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgIGlmIChoYXMuY2FsbCh0YXJnZXQsIGkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldEl0ZW0gPSB0YXJnZXRbaV07XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldEl0ZW0gJiYgdHlwZW9mIHRhcmdldEl0ZW0gPT09ICdvYmplY3QnICYmIGl0ZW0gJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtpXSA9IG1lcmdlKHRhcmdldEl0ZW0sIGl0ZW0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2ldID0gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBzb3VyY2Vba2V5XTtcblxuICAgICAgICBpZiAoaGFzLmNhbGwoYWNjLCBrZXkpKSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IG1lcmdlKGFjY1trZXldLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgbWVyZ2VUYXJnZXQpO1xufTtcblxudmFyIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnblNpbmdsZVNvdXJjZSh0YXJnZXQsIHNvdXJjZSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2UpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgYWNjW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB0YXJnZXQpO1xufTtcblxudmFyIGRlY29kZSA9IGZ1bmN0aW9uIChzdHIsIGRlY29kZXIsIGNoYXJzZXQpIHtcbiAgICB2YXIgc3RyV2l0aG91dFBsdXMgPSBzdHIucmVwbGFjZSgvXFwrL2csICcgJyk7XG4gICAgaWYgKGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAvLyB1bmVzY2FwZSBuZXZlciB0aHJvd3MsIG5vIHRyeS4uLmNhdGNoIG5lZWRlZDpcbiAgICAgICAgcmV0dXJuIHN0cldpdGhvdXRQbHVzLnJlcGxhY2UoLyVbMC05YS1mXXsyfS9naSwgdW5lc2NhcGUpO1xuICAgIH1cbiAgICAvLyB1dGYtOFxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyV2l0aG91dFBsdXMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHN0cldpdGhvdXRQbHVzO1xuICAgIH1cbn07XG5cbnZhciBlbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUoc3RyLCBkZWZhdWx0RW5jb2RlciwgY2hhcnNldCwga2luZCwgZm9ybWF0KSB7XG4gICAgLy8gVGhpcyBjb2RlIHdhcyBvcmlnaW5hbGx5IHdyaXR0ZW4gYnkgQnJpYW4gV2hpdGUgKG1zY2RleCkgZm9yIHRoZSBpby5qcyBjb3JlIHF1ZXJ5c3RyaW5nIGxpYnJhcnkuXG4gICAgLy8gSXQgaGFzIGJlZW4gYWRhcHRlZCBoZXJlIGZvciBzdHJpY3RlciBhZGhlcmVuY2UgdG8gUkZDIDM5ODZcbiAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIHZhciBzdHJpbmcgPSBzdHI7XG4gICAgaWYgKHR5cGVvZiBzdHIgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgIHN0cmluZyA9IFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzdHIpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgc3RyaW5nID0gU3RyaW5nKHN0cik7XG4gICAgfVxuXG4gICAgaWYgKGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICByZXR1cm4gZXNjYXBlKHN0cmluZykucmVwbGFjZSgvJXVbMC05YS1mXXs0fS9naSwgZnVuY3Rpb24gKCQwKSB7XG4gICAgICAgICAgICByZXR1cm4gJyUyNiUyMycgKyBwYXJzZUludCgkMC5zbGljZSgyKSwgMTYpICsgJyUzQic7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBvdXQgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgYyA9IHN0cmluZy5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGMgPT09IDB4MkQgLy8gLVxuICAgICAgICAgICAgfHwgYyA9PT0gMHgyRSAvLyAuXG4gICAgICAgICAgICB8fCBjID09PSAweDVGIC8vIF9cbiAgICAgICAgICAgIHx8IGMgPT09IDB4N0UgLy8gflxuICAgICAgICAgICAgfHwgKGMgPj0gMHgzMCAmJiBjIDw9IDB4MzkpIC8vIDAtOVxuICAgICAgICAgICAgfHwgKGMgPj0gMHg0MSAmJiBjIDw9IDB4NUEpIC8vIGEtelxuICAgICAgICAgICAgfHwgKGMgPj0gMHg2MSAmJiBjIDw9IDB4N0EpIC8vIEEtWlxuICAgICAgICAgICAgfHwgKGZvcm1hdCA9PT0gZm9ybWF0cy5SRkMxNzM4ICYmIChjID09PSAweDI4IHx8IGMgPT09IDB4MjkpKSAvLyAoIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBvdXQgKz0gc3RyaW5nLmNoYXJBdChpKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyBoZXhUYWJsZVtjXTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPCAweDgwMCkge1xuICAgICAgICAgICAgb3V0ID0gb3V0ICsgKGhleFRhYmxlWzB4QzAgfCAoYyA+PiA2KV0gKyBoZXhUYWJsZVsweDgwIHwgKGMgJiAweDNGKV0pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4RDgwMCB8fCBjID49IDB4RTAwMCkge1xuICAgICAgICAgICAgb3V0ID0gb3V0ICsgKGhleFRhYmxlWzB4RTAgfCAoYyA+PiAxMildICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M0YpXSArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGkgKz0gMTtcbiAgICAgICAgYyA9IDB4MTAwMDAgKyAoKChjICYgMHgzRkYpIDw8IDEwKSB8IChzdHJpbmcuY2hhckNvZGVBdChpKSAmIDB4M0ZGKSk7XG4gICAgICAgIC8qIGVzbGludCBvcGVyYXRvci1saW5lYnJlYWs6IFsyLCBcImJlZm9yZVwiXSAqL1xuICAgICAgICBvdXQgKz0gaGV4VGFibGVbMHhGMCB8IChjID4+IDE4KV1cbiAgICAgICAgICAgICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiAxMikgJiAweDNGKV1cbiAgICAgICAgICAgICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M0YpXVxuICAgICAgICAgICAgKyBoZXhUYWJsZVsweDgwIHwgKGMgJiAweDNGKV07XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dDtcbn07XG5cbnZhciBjb21wYWN0ID0gZnVuY3Rpb24gY29tcGFjdCh2YWx1ZSkge1xuICAgIHZhciBxdWV1ZSA9IFt7IG9iajogeyBvOiB2YWx1ZSB9LCBwcm9wOiAnbycgfV07XG4gICAgdmFyIHJlZnMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBxdWV1ZVtpXTtcbiAgICAgICAgdmFyIG9iaiA9IGl0ZW0ub2JqW2l0ZW0ucHJvcF07XG5cbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2pdO1xuICAgICAgICAgICAgdmFyIHZhbCA9IG9ialtrZXldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmIHZhbCAhPT0gbnVsbCAmJiByZWZzLmluZGV4T2YodmFsKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHsgb2JqOiBvYmosIHByb3A6IGtleSB9KTtcbiAgICAgICAgICAgICAgICByZWZzLnB1c2godmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBhY3RRdWV1ZShxdWV1ZSk7XG5cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgaXNSZWdFeHAgPSBmdW5jdGlvbiBpc1JlZ0V4cChvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufTtcblxudmFyIGlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIob2JqKSB7XG4gICAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAhIShvYmouY29uc3RydWN0b3IgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopKTtcbn07XG5cbnZhciBjb21iaW5lID0gZnVuY3Rpb24gY29tYmluZShhLCBiKSB7XG4gICAgcmV0dXJuIFtdLmNvbmNhdChhLCBiKTtcbn07XG5cbnZhciBtYXliZU1hcCA9IGZ1bmN0aW9uIG1heWJlTWFwKHZhbCwgZm4pIHtcbiAgICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIHZhciBtYXBwZWQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIG1hcHBlZC5wdXNoKGZuKHZhbFtpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXBwZWQ7XG4gICAgfVxuICAgIHJldHVybiBmbih2YWwpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYXJyYXlUb09iamVjdDogYXJyYXlUb09iamVjdCxcbiAgICBhc3NpZ246IGFzc2lnbixcbiAgICBjb21iaW5lOiBjb21iaW5lLFxuICAgIGNvbXBhY3Q6IGNvbXBhY3QsXG4gICAgZGVjb2RlOiBkZWNvZGUsXG4gICAgZW5jb2RlOiBlbmNvZGUsXG4gICAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICAgIGlzUmVnRXhwOiBpc1JlZ0V4cCxcbiAgICBtYXliZU1hcDogbWF5YmVNYXAsXG4gICAgbWVyZ2U6IG1lcmdlXG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGdldFNpZGVDaGFubmVsID0gcmVxdWlyZSgnc2lkZS1jaGFubmVsJyk7XG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgZm9ybWF0cyA9IHJlcXVpcmUoJy4vZm9ybWF0cycpO1xudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBhcnJheVByZWZpeEdlbmVyYXRvcnMgPSB7XG4gICAgYnJhY2tldHM6IGZ1bmN0aW9uIGJyYWNrZXRzKHByZWZpeCkge1xuICAgICAgICByZXR1cm4gcHJlZml4ICsgJ1tdJztcbiAgICB9LFxuICAgIGNvbW1hOiAnY29tbWEnLFxuICAgIGluZGljZXM6IGZ1bmN0aW9uIGluZGljZXMocHJlZml4LCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeCArICdbJyArIGtleSArICddJztcbiAgICB9LFxuICAgIHJlcGVhdDogZnVuY3Rpb24gcmVwZWF0KHByZWZpeCkge1xuICAgICAgICByZXR1cm4gcHJlZml4O1xuICAgIH1cbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbnZhciBzcGxpdCA9IFN0cmluZy5wcm90b3R5cGUuc3BsaXQ7XG52YXIgcHVzaCA9IEFycmF5LnByb3RvdHlwZS5wdXNoO1xudmFyIHB1c2hUb0FycmF5ID0gZnVuY3Rpb24gKGFyciwgdmFsdWVPckFycmF5KSB7XG4gICAgcHVzaC5hcHBseShhcnIsIGlzQXJyYXkodmFsdWVPckFycmF5KSA/IHZhbHVlT3JBcnJheSA6IFt2YWx1ZU9yQXJyYXldKTtcbn07XG5cbnZhciB0b0lTTyA9IERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nO1xuXG52YXIgZGVmYXVsdEZvcm1hdCA9IGZvcm1hdHNbJ2RlZmF1bHQnXTtcbnZhciBkZWZhdWx0cyA9IHtcbiAgICBhZGRRdWVyeVByZWZpeDogZmFsc2UsXG4gICAgYWxsb3dEb3RzOiBmYWxzZSxcbiAgICBjaGFyc2V0OiAndXRmLTgnLFxuICAgIGNoYXJzZXRTZW50aW5lbDogZmFsc2UsXG4gICAgZGVsaW1pdGVyOiAnJicsXG4gICAgZW5jb2RlOiB0cnVlLFxuICAgIGVuY29kZXI6IHV0aWxzLmVuY29kZSxcbiAgICBlbmNvZGVWYWx1ZXNPbmx5OiBmYWxzZSxcbiAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgZm9ybWF0dGVyOiBmb3JtYXRzLmZvcm1hdHRlcnNbZGVmYXVsdEZvcm1hdF0sXG4gICAgLy8gZGVwcmVjYXRlZFxuICAgIGluZGljZXM6IGZhbHNlLFxuICAgIHNlcmlhbGl6ZURhdGU6IGZ1bmN0aW9uIHNlcmlhbGl6ZURhdGUoZGF0ZSkge1xuICAgICAgICByZXR1cm4gdG9JU08uY2FsbChkYXRlKTtcbiAgICB9LFxuICAgIHNraXBOdWxsczogZmFsc2UsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nOiBmYWxzZVxufTtcblxudmFyIGlzTm9uTnVsbGlzaFByaW1pdGl2ZSA9IGZ1bmN0aW9uIGlzTm9uTnVsbGlzaFByaW1pdGl2ZSh2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnc3RyaW5nJ1xuICAgICAgICB8fCB0eXBlb2YgdiA9PT0gJ251bWJlcidcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdib29sZWFuJ1xuICAgICAgICB8fCB0eXBlb2YgdiA9PT0gJ3N5bWJvbCdcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdiaWdpbnQnO1xufTtcblxudmFyIHNlbnRpbmVsID0ge307XG5cbnZhciBzdHJpbmdpZnkgPSBmdW5jdGlvbiBzdHJpbmdpZnkoXG4gICAgb2JqZWN0LFxuICAgIHByZWZpeCxcbiAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICBza2lwTnVsbHMsXG4gICAgZW5jb2RlcixcbiAgICBmaWx0ZXIsXG4gICAgc29ydCxcbiAgICBhbGxvd0RvdHMsXG4gICAgc2VyaWFsaXplRGF0ZSxcbiAgICBmb3JtYXQsXG4gICAgZm9ybWF0dGVyLFxuICAgIGVuY29kZVZhbHVlc09ubHksXG4gICAgY2hhcnNldCxcbiAgICBzaWRlQ2hhbm5lbFxuKSB7XG4gICAgdmFyIG9iaiA9IG9iamVjdDtcblxuICAgIHZhciB0bXBTYyA9IHNpZGVDaGFubmVsO1xuICAgIHZhciBzdGVwID0gMDtcbiAgICB2YXIgZmluZEZsYWcgPSBmYWxzZTtcbiAgICB3aGlsZSAoKHRtcFNjID0gdG1wU2MuZ2V0KHNlbnRpbmVsKSkgIT09IHVuZGVmaW5lZCAmJiAhZmluZEZsYWcpIHtcbiAgICAgICAgLy8gV2hlcmUgb2JqZWN0IGxhc3QgYXBwZWFyZWQgaW4gdGhlIHJlZiB0cmVlXG4gICAgICAgIHZhciBwb3MgPSB0bXBTYy5nZXQob2JqZWN0KTtcbiAgICAgICAgc3RlcCArPSAxO1xuICAgICAgICBpZiAodHlwZW9mIHBvcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChwb3MgPT09IHN0ZXApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQ3ljbGljIG9iamVjdCB2YWx1ZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaW5kRmxhZyA9IHRydWU7IC8vIEJyZWFrIHdoaWxlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0bXBTYy5nZXQoc2VudGluZWwpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgc3RlcCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvYmogPSBmaWx0ZXIocHJlZml4LCBvYmopO1xuICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBvYmogPSBzZXJpYWxpemVEYXRlKG9iaik7XG4gICAgfSBlbHNlIGlmIChnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnY29tbWEnICYmIGlzQXJyYXkob2JqKSkge1xuICAgICAgICBvYmogPSB1dGlscy5tYXliZU1hcChvYmosIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVEYXRlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoc3RyaWN0TnVsbEhhbmRsaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlciAmJiAhZW5jb2RlVmFsdWVzT25seSA/IGVuY29kZXIocHJlZml4LCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAna2V5JywgZm9ybWF0KSA6IHByZWZpeDtcbiAgICAgICAgfVxuXG4gICAgICAgIG9iaiA9ICcnO1xuICAgIH1cblxuICAgIGlmIChpc05vbk51bGxpc2hQcmltaXRpdmUob2JqKSB8fCB1dGlscy5pc0J1ZmZlcihvYmopKSB7XG4gICAgICAgIGlmIChlbmNvZGVyKSB7XG4gICAgICAgICAgICB2YXIga2V5VmFsdWUgPSBlbmNvZGVWYWx1ZXNPbmx5ID8gcHJlZml4IDogZW5jb2RlcihwcmVmaXgsIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICdrZXknLCBmb3JtYXQpO1xuICAgICAgICAgICAgaWYgKGdlbmVyYXRlQXJyYXlQcmVmaXggPT09ICdjb21tYScgJiYgZW5jb2RlVmFsdWVzT25seSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZXNBcnJheSA9IHNwbGl0LmNhbGwoU3RyaW5nKG9iaiksICcsJyk7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlc0pvaW5lZCA9ICcnO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzQXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzSm9pbmVkICs9IChpID09PSAwID8gJycgOiAnLCcpICsgZm9ybWF0dGVyKGVuY29kZXIodmFsdWVzQXJyYXlbaV0sIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICd2YWx1ZScsIGZvcm1hdCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gW2Zvcm1hdHRlcihrZXlWYWx1ZSkgKyAnPScgKyB2YWx1ZXNKb2luZWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtmb3JtYXR0ZXIoa2V5VmFsdWUpICsgJz0nICsgZm9ybWF0dGVyKGVuY29kZXIob2JqLCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAndmFsdWUnLCBmb3JtYXQpKV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtmb3JtYXR0ZXIocHJlZml4KSArICc9JyArIGZvcm1hdHRlcihTdHJpbmcob2JqKSldO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cblxuICAgIHZhciBvYmpLZXlzO1xuICAgIGlmIChnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnY29tbWEnICYmIGlzQXJyYXkob2JqKSkge1xuICAgICAgICAvLyB3ZSBuZWVkIHRvIGpvaW4gZWxlbWVudHMgaW5cbiAgICAgICAgb2JqS2V5cyA9IFt7IHZhbHVlOiBvYmoubGVuZ3RoID4gMCA/IG9iai5qb2luKCcsJykgfHwgbnVsbCA6IHVuZGVmaW5lZCB9XTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZmlsdGVyKSkge1xuICAgICAgICBvYmpLZXlzID0gZmlsdGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgb2JqS2V5cyA9IHNvcnQgPyBrZXlzLnNvcnQoc29ydCkgOiBrZXlzO1xuICAgIH1cblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqS2V5cy5sZW5ndGg7ICsraikge1xuICAgICAgICB2YXIga2V5ID0gb2JqS2V5c1tqXTtcbiAgICAgICAgdmFyIHZhbHVlID0gdHlwZW9mIGtleSA9PT0gJ29iamVjdCcgJiYga2V5LnZhbHVlICE9PSB1bmRlZmluZWQgPyBrZXkudmFsdWUgOiBvYmpba2V5XTtcblxuICAgICAgICBpZiAoc2tpcE51bGxzICYmIHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBrZXlQcmVmaXggPSBpc0FycmF5KG9iailcbiAgICAgICAgICAgID8gdHlwZW9mIGdlbmVyYXRlQXJyYXlQcmVmaXggPT09ICdmdW5jdGlvbicgPyBnZW5lcmF0ZUFycmF5UHJlZml4KHByZWZpeCwga2V5KSA6IHByZWZpeFxuICAgICAgICAgICAgOiBwcmVmaXggKyAoYWxsb3dEb3RzID8gJy4nICsga2V5IDogJ1snICsga2V5ICsgJ10nKTtcblxuICAgICAgICBzaWRlQ2hhbm5lbC5zZXQob2JqZWN0LCBzdGVwKTtcbiAgICAgICAgdmFyIHZhbHVlU2lkZUNoYW5uZWwgPSBnZXRTaWRlQ2hhbm5lbCgpO1xuICAgICAgICB2YWx1ZVNpZGVDaGFubmVsLnNldChzZW50aW5lbCwgc2lkZUNoYW5uZWwpO1xuICAgICAgICBwdXNoVG9BcnJheSh2YWx1ZXMsIHN0cmluZ2lmeShcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAga2V5UHJlZml4LFxuICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCxcbiAgICAgICAgICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgICAgIHNraXBOdWxscyxcbiAgICAgICAgICAgIGVuY29kZXIsXG4gICAgICAgICAgICBmaWx0ZXIsXG4gICAgICAgICAgICBzb3J0LFxuICAgICAgICAgICAgYWxsb3dEb3RzLFxuICAgICAgICAgICAgc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgICAgIGZvcm1hdCxcbiAgICAgICAgICAgIGZvcm1hdHRlcixcbiAgICAgICAgICAgIGVuY29kZVZhbHVlc09ubHksXG4gICAgICAgICAgICBjaGFyc2V0LFxuICAgICAgICAgICAgdmFsdWVTaWRlQ2hhbm5lbFxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzO1xufTtcblxudmFyIG5vcm1hbGl6ZVN0cmluZ2lmeU9wdGlvbnMgPSBmdW5jdGlvbiBub3JtYWxpemVTdHJpbmdpZnlPcHRpb25zKG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmVuY29kZXIgIT09IG51bGwgJiYgb3B0cy5lbmNvZGVyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdHMuZW5jb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFbmNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBjaGFyc2V0ID0gb3B0cy5jaGFyc2V0IHx8IGRlZmF1bHRzLmNoYXJzZXQ7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmNoYXJzZXQgIT09ICd1bmRlZmluZWQnICYmIG9wdHMuY2hhcnNldCAhPT0gJ3V0Zi04JyAmJiBvcHRzLmNoYXJzZXQgIT09ICdpc28tODg1OS0xJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY2hhcnNldCBvcHRpb24gbXVzdCBiZSBlaXRoZXIgdXRmLTgsIGlzby04ODU5LTEsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cblxuICAgIHZhciBmb3JtYXQgPSBmb3JtYXRzWydkZWZhdWx0J107XG4gICAgaWYgKHR5cGVvZiBvcHRzLmZvcm1hdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKCFoYXMuY2FsbChmb3JtYXRzLmZvcm1hdHRlcnMsIG9wdHMuZm9ybWF0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBmb3JtYXQgb3B0aW9uIHByb3ZpZGVkLicpO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdCA9IG9wdHMuZm9ybWF0O1xuICAgIH1cbiAgICB2YXIgZm9ybWF0dGVyID0gZm9ybWF0cy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG5cbiAgICB2YXIgZmlsdGVyID0gZGVmYXVsdHMuZmlsdGVyO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdmdW5jdGlvbicgfHwgaXNBcnJheShvcHRzLmZpbHRlcikpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0cy5maWx0ZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkUXVlcnlQcmVmaXg6IHR5cGVvZiBvcHRzLmFkZFF1ZXJ5UHJlZml4ID09PSAnYm9vbGVhbicgPyBvcHRzLmFkZFF1ZXJ5UHJlZml4IDogZGVmYXVsdHMuYWRkUXVlcnlQcmVmaXgsXG4gICAgICAgIGFsbG93RG90czogdHlwZW9mIG9wdHMuYWxsb3dEb3RzID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmFsbG93RG90cyA6ICEhb3B0cy5hbGxvd0RvdHMsXG4gICAgICAgIGNoYXJzZXQ6IGNoYXJzZXQsXG4gICAgICAgIGNoYXJzZXRTZW50aW5lbDogdHlwZW9mIG9wdHMuY2hhcnNldFNlbnRpbmVsID09PSAnYm9vbGVhbicgPyBvcHRzLmNoYXJzZXRTZW50aW5lbCA6IGRlZmF1bHRzLmNoYXJzZXRTZW50aW5lbCxcbiAgICAgICAgZGVsaW1pdGVyOiB0eXBlb2Ygb3B0cy5kZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuZGVsaW1pdGVyIDogb3B0cy5kZWxpbWl0ZXIsXG4gICAgICAgIGVuY29kZTogdHlwZW9mIG9wdHMuZW5jb2RlID09PSAnYm9vbGVhbicgPyBvcHRzLmVuY29kZSA6IGRlZmF1bHRzLmVuY29kZSxcbiAgICAgICAgZW5jb2RlcjogdHlwZW9mIG9wdHMuZW5jb2RlciA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuZW5jb2RlciA6IGRlZmF1bHRzLmVuY29kZXIsXG4gICAgICAgIGVuY29kZVZhbHVlc09ubHk6IHR5cGVvZiBvcHRzLmVuY29kZVZhbHVlc09ubHkgPT09ICdib29sZWFuJyA/IG9wdHMuZW5jb2RlVmFsdWVzT25seSA6IGRlZmF1bHRzLmVuY29kZVZhbHVlc09ubHksXG4gICAgICAgIGZpbHRlcjogZmlsdGVyLFxuICAgICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgICAgZm9ybWF0dGVyOiBmb3JtYXR0ZXIsXG4gICAgICAgIHNlcmlhbGl6ZURhdGU6IHR5cGVvZiBvcHRzLnNlcmlhbGl6ZURhdGUgPT09ICdmdW5jdGlvbicgPyBvcHRzLnNlcmlhbGl6ZURhdGUgOiBkZWZhdWx0cy5zZXJpYWxpemVEYXRlLFxuICAgICAgICBza2lwTnVsbHM6IHR5cGVvZiBvcHRzLnNraXBOdWxscyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5za2lwTnVsbHMgOiBkZWZhdWx0cy5za2lwTnVsbHMsXG4gICAgICAgIHNvcnQ6IHR5cGVvZiBvcHRzLnNvcnQgPT09ICdmdW5jdGlvbicgPyBvcHRzLnNvcnQgOiBudWxsLFxuICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IHR5cGVvZiBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgOiBkZWZhdWx0cy5zdHJpY3ROdWxsSGFuZGxpbmdcbiAgICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0LCBvcHRzKSB7XG4gICAgdmFyIG9iaiA9IG9iamVjdDtcbiAgICB2YXIgb3B0aW9ucyA9IG5vcm1hbGl6ZVN0cmluZ2lmeU9wdGlvbnMob3B0cyk7XG5cbiAgICB2YXIgb2JqS2V5cztcbiAgICB2YXIgZmlsdGVyO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICAgICAgb2JqID0gZmlsdGVyKCcnLCBvYmopO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvcHRpb25zLmZpbHRlcikpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG4gICAgICAgIG9iaktleXMgPSBmaWx0ZXI7XG4gICAgfVxuXG4gICAgdmFyIGtleXMgPSBbXTtcblxuICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHZhciBhcnJheUZvcm1hdDtcbiAgICBpZiAob3B0cyAmJiBvcHRzLmFycmF5Rm9ybWF0IGluIGFycmF5UHJlZml4R2VuZXJhdG9ycykge1xuICAgICAgICBhcnJheUZvcm1hdCA9IG9wdHMuYXJyYXlGb3JtYXQ7XG4gICAgfSBlbHNlIGlmIChvcHRzICYmICdpbmRpY2VzJyBpbiBvcHRzKSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gb3B0cy5pbmRpY2VzID8gJ2luZGljZXMnIDogJ3JlcGVhdCc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXJyYXlGb3JtYXQgPSAnaW5kaWNlcyc7XG4gICAgfVxuXG4gICAgdmFyIGdlbmVyYXRlQXJyYXlQcmVmaXggPSBhcnJheVByZWZpeEdlbmVyYXRvcnNbYXJyYXlGb3JtYXRdO1xuXG4gICAgaWYgKCFvYmpLZXlzKSB7XG4gICAgICAgIG9iaktleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnNvcnQpIHtcbiAgICAgICAgb2JqS2V5cy5zb3J0KG9wdGlvbnMuc29ydCk7XG4gICAgfVxuXG4gICAgdmFyIHNpZGVDaGFubmVsID0gZ2V0U2lkZUNoYW5uZWwoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iaktleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IG9iaktleXNbaV07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2tpcE51bGxzICYmIG9ialtrZXldID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBwdXNoVG9BcnJheShrZXlzLCBzdHJpbmdpZnkoXG4gICAgICAgICAgICBvYmpba2V5XSxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgICAgICAgICBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgICAgIG9wdGlvbnMuc2tpcE51bGxzLFxuICAgICAgICAgICAgb3B0aW9ucy5lbmNvZGUgPyBvcHRpb25zLmVuY29kZXIgOiBudWxsLFxuICAgICAgICAgICAgb3B0aW9ucy5maWx0ZXIsXG4gICAgICAgICAgICBvcHRpb25zLnNvcnQsXG4gICAgICAgICAgICBvcHRpb25zLmFsbG93RG90cyxcbiAgICAgICAgICAgIG9wdGlvbnMuc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgICAgIG9wdGlvbnMuZm9ybWF0LFxuICAgICAgICAgICAgb3B0aW9ucy5mb3JtYXR0ZXIsXG4gICAgICAgICAgICBvcHRpb25zLmVuY29kZVZhbHVlc09ubHksXG4gICAgICAgICAgICBvcHRpb25zLmNoYXJzZXQsXG4gICAgICAgICAgICBzaWRlQ2hhbm5lbFxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICB2YXIgam9pbmVkID0ga2V5cy5qb2luKG9wdGlvbnMuZGVsaW1pdGVyKTtcbiAgICB2YXIgcHJlZml4ID0gb3B0aW9ucy5hZGRRdWVyeVByZWZpeCA9PT0gdHJ1ZSA/ICc/JyA6ICcnO1xuXG4gICAgaWYgKG9wdGlvbnMuY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAgICAgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCcmIzEwMDAzOycpLCB0aGUgXCJudW1lcmljIGVudGl0eVwiIHJlcHJlc2VudGF0aW9uIG9mIGEgY2hlY2ttYXJrXG4gICAgICAgICAgICBwcmVmaXggKz0gJ3V0Zjg9JTI2JTIzMTAwMDMlM0ImJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVuY29kZVVSSUNvbXBvbmVudCgnXHUyNzEzJylcbiAgICAgICAgICAgIHByZWZpeCArPSAndXRmOD0lRTIlOUMlOTMmJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBqb2luZWQubGVuZ3RoID4gMCA/IHByZWZpeCArIGpvaW5lZCA6ICcnO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgICBhbGxvd0RvdHM6IGZhbHNlLFxuICAgIGFsbG93UHJvdG90eXBlczogZmFsc2UsXG4gICAgYWxsb3dTcGFyc2U6IGZhbHNlLFxuICAgIGFycmF5TGltaXQ6IDIwLFxuICAgIGNoYXJzZXQ6ICd1dGYtOCcsXG4gICAgY2hhcnNldFNlbnRpbmVsOiBmYWxzZSxcbiAgICBjb21tYTogZmFsc2UsXG4gICAgZGVjb2RlcjogdXRpbHMuZGVjb2RlLFxuICAgIGRlbGltaXRlcjogJyYnLFxuICAgIGRlcHRoOiA1LFxuICAgIGlnbm9yZVF1ZXJ5UHJlZml4OiBmYWxzZSxcbiAgICBpbnRlcnByZXROdW1lcmljRW50aXRpZXM6IGZhbHNlLFxuICAgIHBhcmFtZXRlckxpbWl0OiAxMDAwLFxuICAgIHBhcnNlQXJyYXlzOiB0cnVlLFxuICAgIHBsYWluT2JqZWN0czogZmFsc2UsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nOiBmYWxzZVxufTtcblxudmFyIGludGVycHJldE51bWVyaWNFbnRpdGllcyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyYjKFxcZCspOy9nLCBmdW5jdGlvbiAoJDAsIG51bWJlclN0cikge1xuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChudW1iZXJTdHIsIDEwKSk7XG4gICAgfSk7XG59O1xuXG52YXIgcGFyc2VBcnJheVZhbHVlID0gZnVuY3Rpb24gKHZhbCwgb3B0aW9ucykge1xuICAgIGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgJiYgb3B0aW9ucy5jb21tYSAmJiB2YWwuaW5kZXhPZignLCcpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHZhbC5zcGxpdCgnLCcpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWw7XG59O1xuXG4vLyBUaGlzIGlzIHdoYXQgYnJvd3NlcnMgd2lsbCBzdWJtaXQgd2hlbiB0aGUgXHUyNzEzIGNoYXJhY3RlciBvY2N1cnMgaW4gYW5cbi8vIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCBib2R5IGFuZCB0aGUgZW5jb2Rpbmcgb2YgdGhlIHBhZ2UgY29udGFpbmluZ1xuLy8gdGhlIGZvcm0gaXMgaXNvLTg4NTktMSwgb3Igd2hlbiB0aGUgc3VibWl0dGVkIGZvcm0gaGFzIGFuIGFjY2VwdC1jaGFyc2V0XG4vLyBhdHRyaWJ1dGUgb2YgaXNvLTg4NTktMS4gUHJlc3VtYWJseSBhbHNvIHdpdGggb3RoZXIgY2hhcnNldHMgdGhhdCBkbyBub3QgY29udGFpblxuLy8gdGhlIFx1MjcxMyBjaGFyYWN0ZXIsIHN1Y2ggYXMgdXMtYXNjaWkuXG52YXIgaXNvU2VudGluZWwgPSAndXRmOD0lMjYlMjMxMDAwMyUzQic7IC8vIGVuY29kZVVSSUNvbXBvbmVudCgnJiMxMDAwMzsnKVxuXG4vLyBUaGVzZSBhcmUgdGhlIHBlcmNlbnQtZW5jb2RlZCB1dGYtOCBvY3RldHMgcmVwcmVzZW50aW5nIGEgY2hlY2ttYXJrLCBpbmRpY2F0aW5nIHRoYXQgdGhlIHJlcXVlc3QgYWN0dWFsbHkgaXMgdXRmLTggZW5jb2RlZC5cbnZhciBjaGFyc2V0U2VudGluZWwgPSAndXRmOD0lRTIlOUMlOTMnOyAvLyBlbmNvZGVVUklDb21wb25lbnQoJ1x1MjcxMycpXG5cbnZhciBwYXJzZVZhbHVlcyA9IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmdWYWx1ZXMoc3RyLCBvcHRpb25zKSB7XG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIHZhciBjbGVhblN0ciA9IG9wdGlvbnMuaWdub3JlUXVlcnlQcmVmaXggPyBzdHIucmVwbGFjZSgvXlxcPy8sICcnKSA6IHN0cjtcbiAgICB2YXIgbGltaXQgPSBvcHRpb25zLnBhcmFtZXRlckxpbWl0ID09PSBJbmZpbml0eSA/IHVuZGVmaW5lZCA6IG9wdGlvbnMucGFyYW1ldGVyTGltaXQ7XG4gICAgdmFyIHBhcnRzID0gY2xlYW5TdHIuc3BsaXQob3B0aW9ucy5kZWxpbWl0ZXIsIGxpbWl0KTtcbiAgICB2YXIgc2tpcEluZGV4ID0gLTE7IC8vIEtlZXAgdHJhY2sgb2Ygd2hlcmUgdGhlIHV0Zjggc2VudGluZWwgd2FzIGZvdW5kXG4gICAgdmFyIGk7XG5cbiAgICB2YXIgY2hhcnNldCA9IG9wdGlvbnMuY2hhcnNldDtcbiAgICBpZiAob3B0aW9ucy5jaGFyc2V0U2VudGluZWwpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAocGFydHNbaV0uaW5kZXhPZigndXRmOD0nKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0c1tpXSA9PT0gY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJzZXQgPSAndXRmLTgnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydHNbaV0gPT09IGlzb1NlbnRpbmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJzZXQgPSAnaXNvLTg4NTktMSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNraXBJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgaSA9IHBhcnRzLmxlbmd0aDsgLy8gVGhlIGVzbGludCBzZXR0aW5ncyBkbyBub3QgYWxsb3cgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGkgPT09IHNraXBJbmRleCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTtcblxuICAgICAgICB2YXIgYnJhY2tldEVxdWFsc1BvcyA9IHBhcnQuaW5kZXhPZignXT0nKTtcbiAgICAgICAgdmFyIHBvcyA9IGJyYWNrZXRFcXVhbHNQb3MgPT09IC0xID8gcGFydC5pbmRleE9mKCc9JykgOiBicmFja2V0RXF1YWxzUG9zICsgMTtcblxuICAgICAgICB2YXIga2V5LCB2YWw7XG4gICAgICAgIGlmIChwb3MgPT09IC0xKSB7XG4gICAgICAgICAgICBrZXkgPSBvcHRpb25zLmRlY29kZXIocGFydCwgZGVmYXVsdHMuZGVjb2RlciwgY2hhcnNldCwgJ2tleScpO1xuICAgICAgICAgICAgdmFsID0gb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgPyBudWxsIDogJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBrZXkgPSBvcHRpb25zLmRlY29kZXIocGFydC5zbGljZSgwLCBwb3MpLCBkZWZhdWx0cy5kZWNvZGVyLCBjaGFyc2V0LCAna2V5Jyk7XG4gICAgICAgICAgICB2YWwgPSB1dGlscy5tYXliZU1hcChcbiAgICAgICAgICAgICAgICBwYXJzZUFycmF5VmFsdWUocGFydC5zbGljZShwb3MgKyAxKSwgb3B0aW9ucyksXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVuY29kZWRWYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZGVjb2RlcihlbmNvZGVkVmFsLCBkZWZhdWx0cy5kZWNvZGVyLCBjaGFyc2V0LCAndmFsdWUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbCAmJiBvcHRpb25zLmludGVycHJldE51bWVyaWNFbnRpdGllcyAmJiBjaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgICAgIHZhbCA9IGludGVycHJldE51bWVyaWNFbnRpdGllcyh2YWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQuaW5kZXhPZignW109JykgPiAtMSkge1xuICAgICAgICAgICAgdmFsID0gaXNBcnJheSh2YWwpID8gW3ZhbF0gOiB2YWw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzLmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IHV0aWxzLmNvbWJpbmUob2JqW2tleV0sIHZhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IHZhbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG59O1xuXG52YXIgcGFyc2VPYmplY3QgPSBmdW5jdGlvbiAoY2hhaW4sIHZhbCwgb3B0aW9ucywgdmFsdWVzUGFyc2VkKSB7XG4gICAgdmFyIGxlYWYgPSB2YWx1ZXNQYXJzZWQgPyB2YWwgOiBwYXJzZUFycmF5VmFsdWUodmFsLCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIGkgPSBjaGFpbi5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgb2JqO1xuICAgICAgICB2YXIgcm9vdCA9IGNoYWluW2ldO1xuXG4gICAgICAgIGlmIChyb290ID09PSAnW10nICYmIG9wdGlvbnMucGFyc2VBcnJheXMpIHtcbiAgICAgICAgICAgIG9iaiA9IFtdLmNvbmNhdChsZWFmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9iaiA9IG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgICAgICAgdmFyIGNsZWFuUm9vdCA9IHJvb3QuY2hhckF0KDApID09PSAnWycgJiYgcm9vdC5jaGFyQXQocm9vdC5sZW5ndGggLSAxKSA9PT0gJ10nID8gcm9vdC5zbGljZSgxLCAtMSkgOiByb290O1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gcGFyc2VJbnQoY2xlYW5Sb290LCAxMCk7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMucGFyc2VBcnJheXMgJiYgY2xlYW5Sb290ID09PSAnJykge1xuICAgICAgICAgICAgICAgIG9iaiA9IHsgMDogbGVhZiB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAhaXNOYU4oaW5kZXgpXG4gICAgICAgICAgICAgICAgJiYgcm9vdCAhPT0gY2xlYW5Sb290XG4gICAgICAgICAgICAgICAgJiYgU3RyaW5nKGluZGV4KSA9PT0gY2xlYW5Sb290XG4gICAgICAgICAgICAgICAgJiYgaW5kZXggPj0gMFxuICAgICAgICAgICAgICAgICYmIChvcHRpb25zLnBhcnNlQXJyYXlzICYmIGluZGV4IDw9IG9wdGlvbnMuYXJyYXlMaW1pdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG9iaiA9IFtdO1xuICAgICAgICAgICAgICAgIG9ialtpbmRleF0gPSBsZWFmO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmpbY2xlYW5Sb290XSA9IGxlYWY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZWFmID0gb2JqO1xuICAgIH1cblxuICAgIHJldHVybiBsZWFmO1xufTtcblxudmFyIHBhcnNlS2V5cyA9IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmdLZXlzKGdpdmVuS2V5LCB2YWwsIG9wdGlvbnMsIHZhbHVlc1BhcnNlZCkge1xuICAgIGlmICghZ2l2ZW5LZXkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRyYW5zZm9ybSBkb3Qgbm90YXRpb24gdG8gYnJhY2tldCBub3RhdGlvblxuICAgIHZhciBrZXkgPSBvcHRpb25zLmFsbG93RG90cyA/IGdpdmVuS2V5LnJlcGxhY2UoL1xcLihbXi5bXSspL2csICdbJDFdJykgOiBnaXZlbktleTtcblxuICAgIC8vIFRoZSByZWdleCBjaHVua3NcblxuICAgIHZhciBicmFja2V0cyA9IC8oXFxbW15bXFxdXSpdKS87XG4gICAgdmFyIGNoaWxkID0gLyhcXFtbXltcXF1dKl0pL2c7XG5cbiAgICAvLyBHZXQgdGhlIHBhcmVudFxuXG4gICAgdmFyIHNlZ21lbnQgPSBvcHRpb25zLmRlcHRoID4gMCAmJiBicmFja2V0cy5leGVjKGtleSk7XG4gICAgdmFyIHBhcmVudCA9IHNlZ21lbnQgPyBrZXkuc2xpY2UoMCwgc2VnbWVudC5pbmRleCkgOiBrZXk7XG5cbiAgICAvLyBTdGFzaCB0aGUgcGFyZW50IGlmIGl0IGV4aXN0c1xuXG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIC8vIElmIHdlIGFyZW4ndCB1c2luZyBwbGFpbiBvYmplY3RzLCBvcHRpb25hbGx5IHByZWZpeCBrZXlzIHRoYXQgd291bGQgb3ZlcndyaXRlIG9iamVjdCBwcm90b3R5cGUgcHJvcGVydGllc1xuICAgICAgICBpZiAoIW9wdGlvbnMucGxhaW5PYmplY3RzICYmIGhhcy5jYWxsKE9iamVjdC5wcm90b3R5cGUsIHBhcmVudCkpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBrZXlzLnB1c2gocGFyZW50KTtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggY2hpbGRyZW4gYXBwZW5kaW5nIHRvIHRoZSBhcnJheSB1bnRpbCB3ZSBoaXQgZGVwdGhcblxuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAob3B0aW9ucy5kZXB0aCA+IDAgJiYgKHNlZ21lbnQgPSBjaGlsZC5leGVjKGtleSkpICE9PSBudWxsICYmIGkgPCBvcHRpb25zLmRlcHRoKSB7XG4gICAgICAgIGkgKz0gMTtcbiAgICAgICAgaWYgKCFvcHRpb25zLnBsYWluT2JqZWN0cyAmJiBoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBzZWdtZW50WzFdLnNsaWNlKDEsIC0xKSkpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAga2V5cy5wdXNoKHNlZ21lbnRbMV0pO1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlJ3MgYSByZW1haW5kZXIsIGp1c3QgYWRkIHdoYXRldmVyIGlzIGxlZnRcblxuICAgIGlmIChzZWdtZW50KSB7XG4gICAgICAgIGtleXMucHVzaCgnWycgKyBrZXkuc2xpY2Uoc2VnbWVudC5pbmRleCkgKyAnXScpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZU9iamVjdChrZXlzLCB2YWwsIG9wdGlvbnMsIHZhbHVlc1BhcnNlZCk7XG59O1xuXG52YXIgbm9ybWFsaXplUGFyc2VPcHRpb25zID0gZnVuY3Rpb24gbm9ybWFsaXplUGFyc2VPcHRpb25zKG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmRlY29kZXIgIT09IG51bGwgJiYgb3B0cy5kZWNvZGVyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdHMuZGVjb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdEZWNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5jaGFyc2V0ICE9PSAndW5kZWZpbmVkJyAmJiBvcHRzLmNoYXJzZXQgIT09ICd1dGYtOCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGNoYXJzZXQgb3B0aW9uIG11c3QgYmUgZWl0aGVyIHV0Zi04LCBpc28tODg1OS0xLCBvciB1bmRlZmluZWQnKTtcbiAgICB9XG4gICAgdmFyIGNoYXJzZXQgPSB0eXBlb2Ygb3B0cy5jaGFyc2V0ID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmNoYXJzZXQgOiBvcHRzLmNoYXJzZXQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhbGxvd0RvdHM6IHR5cGVvZiBvcHRzLmFsbG93RG90cyA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5hbGxvd0RvdHMgOiAhIW9wdHMuYWxsb3dEb3RzLFxuICAgICAgICBhbGxvd1Byb3RvdHlwZXM6IHR5cGVvZiBvcHRzLmFsbG93UHJvdG90eXBlcyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5hbGxvd1Byb3RvdHlwZXMgOiBkZWZhdWx0cy5hbGxvd1Byb3RvdHlwZXMsXG4gICAgICAgIGFsbG93U3BhcnNlOiB0eXBlb2Ygb3B0cy5hbGxvd1NwYXJzZSA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5hbGxvd1NwYXJzZSA6IGRlZmF1bHRzLmFsbG93U3BhcnNlLFxuICAgICAgICBhcnJheUxpbWl0OiB0eXBlb2Ygb3B0cy5hcnJheUxpbWl0ID09PSAnbnVtYmVyJyA/IG9wdHMuYXJyYXlMaW1pdCA6IGRlZmF1bHRzLmFycmF5TGltaXQsXG4gICAgICAgIGNoYXJzZXQ6IGNoYXJzZXQsXG4gICAgICAgIGNoYXJzZXRTZW50aW5lbDogdHlwZW9mIG9wdHMuY2hhcnNldFNlbnRpbmVsID09PSAnYm9vbGVhbicgPyBvcHRzLmNoYXJzZXRTZW50aW5lbCA6IGRlZmF1bHRzLmNoYXJzZXRTZW50aW5lbCxcbiAgICAgICAgY29tbWE6IHR5cGVvZiBvcHRzLmNvbW1hID09PSAnYm9vbGVhbicgPyBvcHRzLmNvbW1hIDogZGVmYXVsdHMuY29tbWEsXG4gICAgICAgIGRlY29kZXI6IHR5cGVvZiBvcHRzLmRlY29kZXIgPT09ICdmdW5jdGlvbicgPyBvcHRzLmRlY29kZXIgOiBkZWZhdWx0cy5kZWNvZGVyLFxuICAgICAgICBkZWxpbWl0ZXI6IHR5cGVvZiBvcHRzLmRlbGltaXRlciA9PT0gJ3N0cmluZycgfHwgdXRpbHMuaXNSZWdFeHAob3B0cy5kZWxpbWl0ZXIpID8gb3B0cy5kZWxpbWl0ZXIgOiBkZWZhdWx0cy5kZWxpbWl0ZXIsXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbXBsaWNpdC1jb2VyY2lvbiwgbm8tZXh0cmEtcGFyZW5zXG4gICAgICAgIGRlcHRoOiAodHlwZW9mIG9wdHMuZGVwdGggPT09ICdudW1iZXInIHx8IG9wdHMuZGVwdGggPT09IGZhbHNlKSA/ICtvcHRzLmRlcHRoIDogZGVmYXVsdHMuZGVwdGgsXG4gICAgICAgIGlnbm9yZVF1ZXJ5UHJlZml4OiBvcHRzLmlnbm9yZVF1ZXJ5UHJlZml4ID09PSB0cnVlLFxuICAgICAgICBpbnRlcnByZXROdW1lcmljRW50aXRpZXM6IHR5cGVvZiBvcHRzLmludGVycHJldE51bWVyaWNFbnRpdGllcyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMgOiBkZWZhdWx0cy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMsXG4gICAgICAgIHBhcmFtZXRlckxpbWl0OiB0eXBlb2Ygb3B0cy5wYXJhbWV0ZXJMaW1pdCA9PT0gJ251bWJlcicgPyBvcHRzLnBhcmFtZXRlckxpbWl0IDogZGVmYXVsdHMucGFyYW1ldGVyTGltaXQsXG4gICAgICAgIHBhcnNlQXJyYXlzOiBvcHRzLnBhcnNlQXJyYXlzICE9PSBmYWxzZSxcbiAgICAgICAgcGxhaW5PYmplY3RzOiB0eXBlb2Ygb3B0cy5wbGFpbk9iamVjdHMgPT09ICdib29sZWFuJyA/IG9wdHMucGxhaW5PYmplY3RzIDogZGVmYXVsdHMucGxhaW5PYmplY3RzLFxuICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IHR5cGVvZiBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgOiBkZWZhdWx0cy5zdHJpY3ROdWxsSGFuZGxpbmdcbiAgICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyLCBvcHRzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBub3JtYWxpemVQYXJzZU9wdGlvbnMob3B0cyk7XG5cbiAgICBpZiAoc3RyID09PSAnJyB8fCBzdHIgPT09IG51bGwgfHwgdHlwZW9mIHN0ciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgIH1cblxuICAgIHZhciB0ZW1wT2JqID0gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgPyBwYXJzZVZhbHVlcyhzdHIsIG9wdGlvbnMpIDogc3RyO1xuICAgIHZhciBvYmogPSBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUga2V5cyBhbmQgc2V0dXAgdGhlIG5ldyBvYmplY3RcblxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModGVtcE9iaik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICB2YXIgbmV3T2JqID0gcGFyc2VLZXlzKGtleSwgdGVtcE9ialtrZXldLCBvcHRpb25zLCB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyk7XG4gICAgICAgIG9iaiA9IHV0aWxzLm1lcmdlKG9iaiwgbmV3T2JqLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5hbGxvd1NwYXJzZSA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIHJldHVybiB1dGlscy5jb21wYWN0KG9iaik7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vc3RyaW5naWZ5Jyk7XG52YXIgcGFyc2UgPSByZXF1aXJlKCcuL3BhcnNlJyk7XG52YXIgZm9ybWF0cyA9IHJlcXVpcmUoJy4vZm9ybWF0cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBmb3JtYXRzOiBmb3JtYXRzLFxuICAgIHBhcnNlOiBwYXJzZSxcbiAgICBzdHJpbmdpZnk6IHN0cmluZ2lmeVxufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiBmb3Igc29ydGluZyBhcnJheXMgb2YgbnVtYmVycyBvciBzdHJpbmdzLlxuICpcbiAqIEBtb2R1bGUgdXRpbC9hbHBoYW51bWVyaWMtc29ydFxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBhIFRoZSBmaXJzdCBjb21wYXJhdG9yIG9wZXJhbmRcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gYSBUaGUgc2Vjb25kIGNvbXBhcmF0b3Igb3BlcmFuZFxuICogQHJldHVybnMgLTEgaWYgdGhlIHZhbHVlcyBhcmUgYmFja3dhcmRzLCAxIGlmIHRoZXkncmUgb3JkZXJlZCwgYW5kIDAgaWYgdGhleSdyZSB0aGUgc2FtZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9ICggYSwgYiApID0+IHtcblx0aWYgKCBhID4gYiApIHtcblx0XHRyZXR1cm4gMTtcblx0fVxuXHRpZiAoIGEgPCBiICkge1xuXHRcdHJldHVybiAtMTtcblx0fVxuXHRyZXR1cm4gMDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvbnZlcnQgYSAoa2V5LCB2YWx1ZSkgcGFpciB0byBhIHsga2V5OiB2YWx1ZSB9IG9iamVjdFxuICpcbiAqIEBtb2R1bGUgdXRpbC9rZXktdmFsLXRvLW9ialxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAgIFRoZSBrZXkgdG8gdXNlIGluIHRoZSByZXR1cm5lZCBvYmplY3RcbiAqIEBwYXJhbSB7fSAgICAgICB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduIHRvIHRoZSBwcm92aWRlZCBrZXlcbiAqIEByZXR1cm5zIHtvYmplY3R9IEEgZGljdGlvbmFyeSBvYmplY3QgY29udGFpbmluZyB0aGUga2V5LXZhbHVlIHBhaXJcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAoIGtleSwgdmFsdWUgKSA9PiB7XG5cdGNvbnN0IG9iaiA9IHt9O1xuXHRvYmpbIGtleSBdID0gdmFsdWU7XG5cdHJldHVybiBvYmo7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBIZWxwZXIgdG8gY3JlYXRlIGEgc2ltcGxlIHBhcmFtZXRlciBzZXR0ZXIgY29udmVuaWVuY2UgbWV0aG9kXG4gKlxuICogQG1vZHVsZSB1dGlsL3BhcmFtZXRlci1zZXR0ZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXJhbSBUaGUgc3RyaW5nIGtleSBvZiB0aGUgcGFyYW1ldGVyIHRoaXMgbWV0aG9kIHdpbGwgc2V0XG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgc2V0dGVyIG1ldGhvZCB0aGF0IGNhbiBiZSBhc3NpZ25lZCB0byBhIHJlcXVlc3QgaW5zdGFuY2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAoIHBhcmFtICkgPT4ge1xuXHQvKipcblx0ICogQSBzZXR0ZXIgZm9yIGEgc3BlY2lmaWMgcGFyYW1ldGVyXG5cdCAqXG5cdCAqIEBjaGFpbmFibGVcblx0ICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHNldCBmb3IgdGhlIHRoZSBwYXJhbWV0ZXJcblx0ICogQHJldHVybnMgVGhlIHJlcXVlc3QgaW5zdGFuY2Ugb24gd2hpY2ggdGhpcyBtZXRob2Qgd2FzIGNhbGxlZCAoZm9yIGNoYWluaW5nKVxuXHQgKi9cblx0cmV0dXJuIGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0cmV0dXJuIHRoaXMucGFyYW0oIHBhcmFtLCB2YWwgKTtcblx0fTtcbn07XG4iLCAiLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgd2l0aCBhbGwgZHVwbGljYXRlIGl0ZW1zIHJlbW92ZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbmFsaXR5IHdhcyBwcmV2aW91c2x5IHByb3ZpZGVkIGJ5IGxvZGFzaC51bmlxLCBidXQgdGhpc1xuICogbW9kZXJuIEpTIHNvbHV0aW9uIHlpZWxkcyBhIHNtYWxsZXIgYnVuZGxlIHNpemUuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJyIEFuIGFycmF5IHRvIGRlLWR1cGxpY2F0ZVxuICogQHJldHVybnMge0FycmF5fSBBIGRlLWR1cGxpY2F0ZWQgYXJyYXlcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBhcnIgPT4gQXJyYXkuZnJvbSggbmV3IFNldCggYXJyICkgKTtcbiIsICIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHFzID0gcmVxdWlyZSggJ3FzJyApO1xuXG5jb25zdCBhbHBoYU51bWVyaWNTb3J0ID0gcmVxdWlyZSggJy4uL3V0aWwvYWxwaGFudW1lcmljLXNvcnQnICk7XG5jb25zdCBrZXlWYWxUb09iaiA9IHJlcXVpcmUoICcuLi91dGlsL2tleS12YWwtdG8tb2JqJyApO1xuY29uc3QgcGFyYW1TZXR0ZXIgPSByZXF1aXJlKCAnLi4vdXRpbC9wYXJhbWV0ZXItc2V0dGVyJyApO1xuY29uc3Qgb2JqZWN0UmVkdWNlID0gcmVxdWlyZSggJy4uL3V0aWwvb2JqZWN0LXJlZHVjZScgKTtcbmNvbnN0IHVuaXF1ZSA9IHJlcXVpcmUoICcuLi91dGlsL3VuaXF1ZScgKTtcblxuLyoqXG4gKiBXUFJlcXVlc3QgaXMgdGhlIGJhc2UgQVBJIHJlcXVlc3Qgb2JqZWN0IGNvbnN0cnVjdG9yXG4gKlxuICogQGNvbnN0cnVjdG9yIFdQUmVxdWVzdFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQSBoYXNoIG9mIG9wdGlvbnMgZm9yIHRoZSBXUFJlcXVlc3QgaW5zdGFuY2VcbiAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLmVuZHBvaW50IFRoZSBlbmRwb2ludCBVUkkgZm9yIHRoZSBpbnZva2luZyBXUEFQSSBpbnN0YW5jZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMudHJhbnNwb3J0IEFuIG9iamVjdCBvZiBodHRwIHRyYW5zcG9ydCBtZXRob2RzIChnZXQsIHBvc3QsIGV0YylcbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy51c2VybmFtZV0gQSB1c2VybmFtZSBmb3IgYXV0aGVudGljYXRpbmcgQVBJIHJlcXVlc3RzXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucGFzc3dvcmRdIEEgcGFzc3dvcmQgZm9yIGF1dGhlbnRpY2F0aW5nIEFQSSByZXF1ZXN0c1xuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm5vbmNlXSBBIFdQIG5vbmNlIGZvciB1c2Ugd2l0aCBjb29raWUgYXV0aGVudGljYXRpb25cbiAqL1xuZnVuY3Rpb24gV1BSZXF1ZXN0KCBvcHRpb25zICkge1xuXHQvKipcblx0ICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgcmVxdWVzdFxuXHQgKlxuXHQgKiBAcHJvcGVydHkgX29wdGlvbnNcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqIEBwcml2YXRlXG5cdCAqIEBkZWZhdWx0IHt9XG5cdCAqL1xuXHR0aGlzLl9vcHRpb25zID0gW1xuXHRcdC8vIFdoaXRlbGlzdGVkIG9wdGlvbnMga2V5c1xuXHRcdCdhdXRoJyxcblx0XHQnZW5kcG9pbnQnLFxuXHRcdCdoZWFkZXJzJyxcblx0XHQndXNlcm5hbWUnLFxuXHRcdCdwYXNzd29yZCcsXG5cdFx0J25vbmNlJyxcblx0XS5yZWR1Y2UoICggbG9jYWxPcHRpb25zLCBrZXkgKSA9PiB7XG5cdFx0aWYgKCBvcHRpb25zICYmIG9wdGlvbnNbIGtleSBdICkge1xuXHRcdFx0bG9jYWxPcHRpb25zWyBrZXkgXSA9IG9wdGlvbnNbIGtleSBdO1xuXHRcdH1cblx0XHRyZXR1cm4gbG9jYWxPcHRpb25zO1xuXHR9LCB7fSApO1xuXG5cdC8qKlxuXHQgKiBUaGUgSFRUUCB0cmFuc3BvcnQgbWV0aG9kcyAoLmdldCwgLnBvc3QsIC5wdXQsIC5kZWxldGUsIC5oZWFkKSB0byB1c2UgZm9yIHRoaXMgcmVxdWVzdFxuXHQgKlxuXHQgKiBAcHJvcGVydHkgdHJhbnNwb3J0XG5cdCAqIEB0eXBlIHtPYmplY3R9XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHR0aGlzLnRyYW5zcG9ydCA9IG9wdGlvbnMgJiYgb3B0aW9ucy50cmFuc3BvcnQ7XG5cblx0LyoqXG5cdCAqIEEgaGFzaCBvZiBxdWVyeSBwYXJhbWV0ZXJzXG5cdCAqIFRoaXMgaXMgdXNlZCB0byBzdG9yZSB0aGUgdmFsdWVzIGZvciBzdXBwb3J0ZWQgcXVlcnkgcGFyYW1ldGVycyBsaWtlID9fZW1iZWRcblx0ICpcblx0ICogQHByb3BlcnR5IF9wYXJhbXNcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqIEBwcml2YXRlXG5cdCAqIEBkZWZhdWx0IHt9XG5cdCAqL1xuXHR0aGlzLl9wYXJhbXMgPSB7fTtcblxuXHQvKipcblx0ICogTWV0aG9kcyBzdXBwb3J0ZWQgYnkgdGhpcyBBUEkgcmVxdWVzdCBpbnN0YW5jZTpcblx0ICogSW5kaXZpZHVhbCBlbmRwb2ludCBoYW5kbGVycyBzcGVjaWZ5IHRoZWlyIG93biBzdWJzZXQgb2Ygc3VwcG9ydGVkIG1ldGhvZHNcblx0ICpcblx0ICogQHByb3BlcnR5IF9zdXBwb3J0ZWRNZXRob2RzXG5cdCAqIEB0eXBlIEFycmF5XG5cdCAqIEBwcml2YXRlXG5cdCAqIEBkZWZhdWx0IFsgJ2hlYWQnLCAnZ2V0JywgJ3B1dCcsICdwb3N0JywgJ2RlbGV0ZScgXVxuXHQgKi9cblx0dGhpcy5fc3VwcG9ydGVkTWV0aG9kcyA9IFsgJ2hlYWQnLCAnZ2V0JywgJ3B1dCcsICdwb3N0JywgJ2RlbGV0ZScgXTtcblxuXHQvKipcblx0ICogQSBoYXNoIG9mIHZhbHVlcyB0byBhc3NlbWJsZSBpbnRvIHRoZSBBUEkgcmVxdWVzdCBwYXRoXG5cdCAqIChUaGlzIHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgZWFjaCBzcGVjaWZpYyBlbmRwb2ludCBoYW5kbGVyIGNvbnN0cnVjdG9yKVxuXHQgKlxuXHQgKiBAcHJvcGVydHkgX3BhdGhcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqIEBwcml2YXRlXG5cdCAqIEBkZWZhdWx0IHt9XG5cdCAqL1xuXHR0aGlzLl9wYXRoID0ge307XG59XG5cbi8vIFByaXZhdGUgaGVscGVyIG1ldGhvZHNcbi8vID09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBJZGVudGl0eSBmdW5jdGlvbiBmb3IgdXNlIHdpdGhpbiBpbnZva2VBbmRQcm9taXNpZnkoKVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgaWRlbnRpdHkgPSB2YWx1ZSA9PiB2YWx1ZTtcblxuLyoqXG4gKiBQcm9jZXNzIGFycmF5cyBvZiB0YXhvbm9teSB0ZXJtcyBpbnRvIHF1ZXJ5IHBhcmFtZXRlcnMuXG4gKiBBbGwgdGVybXMgbGlzdGVkIGluIHRoZSBhcnJheXMgd2lsbCBiZSByZXF1aXJlZCAoQU5EIGJlaGF2aW9yKS5cbiAqXG4gKiBUaGlzIG1ldGhvZCB3aWxsIG5vdCBiZSBjYWxsZWQgd2l0aCBhbnkgdmFsdWVzIHVubGVzcyB3ZSBhcmUgaGFuZGxpbmdcbiAqIGFuIGVuZHBvaW50IHdpdGggdGhlIGZpbHRlciBtaXhpbjsgaG93ZXZlciwgc2luY2UgcGFyYW1ldGVyIGhhbmRsaW5nXG4gKiAoYW5kIHRoZXJlZm9yZSBgX3JlbmRlclF1ZXJ5KClgKSBhcmUgcGFydCBvZiBXUFJlcXVlc3QgaXRzZWxmLCB0aGlzXG4gKiBoZWxwZXIgbWV0aG9kIGxpdmVzIGhlcmUgYWxvbmdzaWRlIHRoZSBjb2RlIHdoZXJlIGl0IGlzIHVzZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqICAgICBwcmVwYXJlVGF4b25vbWllcyh7XG4gKiAgICAgICAgIHRhZzogWyAndGFnMSAnLCAndGFnMicgXSwgLy8gYnkgdGVybSBzbHVnXG4gKiAgICAgICAgIGNhdDogWyA3IF0gLy8gYnkgdGVybSBJRFxuICogICAgIH0pID09PSB7XG4gKiAgICAgICAgIHRhZzogJ3RhZzErdGFnMicsXG4gKiAgICAgICAgIGNhdDogJzcnXG4gKiAgICAgfVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gdGF4b25vbXlGaWx0ZXJzIEFuIG9iamVjdCBvZiB0YXhvbm9teSB0ZXJtIGFycmF5cywga2V5ZWQgYnkgdGF4b25vbXkgbmFtZVxuICogQHJldHVybnMge09iamVjdH0gQW4gb2JqZWN0IG9mIHByZXBhcmVGaWx0ZXJzLXJlYWR5IHF1ZXJ5IGFyZyBhbmQgcXVlcnkgcGFyYW0gdmFsdWUgcGFpcnNcbiAqL1xuZnVuY3Rpb24gcHJlcGFyZVRheG9ub21pZXMoIHRheG9ub215RmlsdGVycyApIHtcblx0aWYgKCAhIHRheG9ub215RmlsdGVycyApIHtcblx0XHRyZXR1cm4ge307XG5cdH1cblxuXHRyZXR1cm4gb2JqZWN0UmVkdWNlKFxuXHRcdHRheG9ub215RmlsdGVycyxcblx0XHQoIHJlc3VsdCwgdGVybXMsIGtleSApID0+IHtcblx0XHRcdC8vIFRyaW0gd2hpdGVzcGFjZSBhbmQgY29uY2F0ZW5hdGUgbXVsdGlwbGUgdGVybXMgd2l0aCArXG5cdFx0XHRyZXN1bHRbIGtleSBdID0gdGVybXNcblx0XHRcdFx0Ly8gQ29lcmNlIHRlcm0gaW50byBhIHN0cmluZyBzbyB0aGF0IHRyaW0oKSB3b24ndCBmYWlsXG5cdFx0XHRcdC5tYXAoIHRlcm0gPT4gKCB0ZXJtICsgJycgKS50cmltKCkudG9Mb3dlckNhc2UoKSApXG5cdFx0XHRcdC5qb2luKCAnKycgKTtcblxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9LFxuXHRcdHt9XG5cdCk7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIG9iamVjdCB3aXRoIGFueSBwcm9wZXJ0aWVzIHdpdGggdW5kZWZpbmVkLCBudWxsIG9yIGVtcHR5IHN0cmluZ1xuICogdmFsdWVzIHJlbW92ZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAgICAgcG9wdWxhdGVkKHtcbiAqICAgICAgIGE6ICdhJyxcbiAqICAgICAgIGI6ICcnLFxuICogICAgICAgYzogbnVsbFxuICogICAgIH0pOyAvLyB7IGE6ICdhJyB9XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogQW4gb2JqZWN0IG9mIGtleS92YWx1ZSBwYWlyc1xuICogQHJldHVybnMge09iamVjdH0gVGhhdCBvYmplY3Qgd2l0aCBhbGwgZW1wdHkgdmFsdWVzIHJlbW92ZWRcbiAqL1xuY29uc3QgcG9wdWxhdGVkID0gKCBvYmogKSA9PiB7XG5cdGlmICggISBvYmogKSB7XG5cdFx0cmV0dXJuIG9iajtcblx0fVxuXHRyZXR1cm4gb2JqZWN0UmVkdWNlKFxuXHRcdG9iaixcblx0XHQoIHZhbHVlcywgdmFsLCBrZXkgKSA9PiB7XG5cdFx0XHRpZiAoIHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbCAmJiB2YWwgIT09ICcnICkge1xuXHRcdFx0XHR2YWx1ZXNbIGtleSBdID0gdmFsO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHR9LFxuXHRcdHt9XG5cdCk7XG59O1xuXG4vKipcbiAqIEFzc2VydCB3aGV0aGVyIGEgcHJvdmlkZWQgVVJMIGNvbXBvbmVudCBpcyBcInZhbGlkXCIgYnkgY2hlY2tpbmcgaXQgYWdhaW5zdFxuICogYW4gYXJyYXkgb2YgcmVnaXN0ZXJlZCBwYXRoIGNvbXBvbmVudCB2YWxpZGF0b3IgbWV0aG9kcyBmb3IgdGhhdCBsZXZlbCBvZlxuICogdGhlIFVSTCBwYXRoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdFtdfSBsZXZlbERlZmluaXRpb25zIEFuIGFycmF5IG9mIExldmVsIERlZmluaXRpb24gb2JqZWN0c1xuICogQHBhcmFtIHtzdHJpbmd9ICAgbGV2ZWxDb250ZW50cyAgICBUaGUgVVJMIHBhdGggc3RyaW5nIHRoYXQgaGFzIGJlZW4gc3BlY2lmaWVkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciB1c2Ugb24gdGhlIHByb3ZpZGVkIGxldmVsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcHJvdmlkZWQgaW5wdXQgbWF0Y2hlcyBhbnkgb2YgdGhlIHByb3ZpZGVkXG4gKiBsZXZlbCB2YWxpZGF0aW9uIGZ1bmN0aW9uc1xuICovXG5jb25zdCB2YWxpZGF0ZVBhdGhMZXZlbCA9ICggbGV2ZWxEZWZpbml0aW9ucywgbGV2ZWxDb250ZW50cyApID0+IHtcblx0Ly8gT25lIFwibGV2ZWxcIiBtYXkgaGF2ZSBtdWx0aXBsZSBvcHRpb25zLCBhcyBhIHJvdXRlIHRyZWUgaXMgYSBicmFuY2hpbmdcblx0Ly8gc3RydWN0dXJlLiBXZSBjb25zaWRlciBhIGxldmVsIFwidmFsaWRcIiBpZiB0aGUgcHJvdmlkZWQgbGV2ZWxDb250ZW50c1xuXHQvLyBtYXRjaCBhbnkgb2YgdGhlIGF2YWlsYWJsZSB2YWxpZGF0b3JzLlxuXHRjb25zdCB2YWxpZCA9IGxldmVsRGVmaW5pdGlvbnMucmVkdWNlKCAoIGFueU9wdGlvblZhbGlkLCBsZXZlbE9wdGlvbiApID0+IHtcblx0XHRpZiAoICEgbGV2ZWxPcHRpb24udmFsaWRhdGUgKSB7XG5cdFx0XHQvLyBJZiB0aGVyZSBpcyBubyB2YWxpZGF0b3IgZnVuY3Rpb24sIHRoZSBsZXZlbCBpcyBpbXBsaWNpdGx5IHZhbGlkXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIGFueU9wdGlvblZhbGlkIHx8IGxldmVsT3B0aW9uLnZhbGlkYXRlKCBsZXZlbENvbnRlbnRzICk7XG5cdH0sIGZhbHNlICk7XG5cblx0aWYgKCAhIHZhbGlkICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggW1xuXHRcdFx0J0ludmFsaWQgcGF0aCBjb21wb25lbnQ6Jyxcblx0XHRcdGxldmVsQ29udGVudHMsXG5cdFx0XHQvLyBhd2t3YXJkIHBsdXJhbGl6YXRpb24gc3VwcG9ydDpcblx0XHRcdCdkb2VzIG5vdCBtYXRjaCcgKyAoIGxldmVsRGVmaW5pdGlvbnMubGVuZ3RoID4gMSA/ICcgYW55IG9mJyA6ICcnICksXG5cdFx0XHRsZXZlbERlZmluaXRpb25zLnJlZHVjZShcblx0XHRcdFx0KCBjb21wb25lbnRzLCBsZXZlbE9wdGlvbiApID0+IGNvbXBvbmVudHMuY29uY2F0KCBsZXZlbE9wdGlvbi5jb21wb25lbnQgKSxcblx0XHRcdFx0W11cblx0XHRcdCkuam9pbiggJywgJyApLFxuXHRcdF0uam9pbiggJyAnICkgKTtcblx0fVxufTtcblxuLy8gKFNlbWktKVByaXZhdGUgUHJvdG90eXBlIE1ldGhvZHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogUHJvY2VzcyB0aGUgZW5kcG9pbnQgcXVlcnkncyBmaWx0ZXIgb2JqZWN0cyBpbnRvIGEgdmFsaWQgcXVlcnkgc3RyaW5nLlxuICogTmVzdGVkIG9iamVjdHMgYW5kIEFycmF5IHByb3BlcnRpZXMgYXJlIHJlbmRlcmVkIHdpdGggaW5kZXhlZCBhcnJheSBzeW50YXguXG4gKlxuICogQGV4YW1wbGVcbiAqICAgICBfcmVuZGVyUXVlcnkoeyBwMTogJ3ZhbDEnLCBwMjogJ3ZhbDInIH0pOyAgLy8gP3AxPXZhbDEmcDI9dmFsMlxuICogICAgIF9yZW5kZXJRdWVyeSh7IG9iajogeyBwcm9wOiAndmFsJyB9IH0pOyAgICAvLyA/b2JqW3Byb3BdPXZhbFxuICogICAgIF9yZW5kZXJRdWVyeSh7IGFycjogWyAndmFsMScsICd2YWwyJyBdIH0pOyAvLyA/YXJyWzBdPXZhbDEmYXJyWzFdPXZhbDJcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBtZXRob2QgX3JlbmRlclF1ZXJ5XG4gKiBAcmV0dXJucyB7U3RyaW5nfSBBIHF1ZXJ5IHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHNwZWNpZmllZCBmaWx0ZXIgcGFyYW1ldGVyc1xuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLl9yZW5kZXJRdWVyeSA9IGZ1bmN0aW9uKCkge1xuXHQvLyBCdWlsZCB0aGUgZnVsbCBxdWVyeSBwYXJhbWV0ZXJzIG9iamVjdFxuXHRjb25zdCBxdWVyeVBhcmFtcyA9IHtcblx0XHQuLi5wb3B1bGF0ZWQoIHRoaXMuX3BhcmFtcyApLFxuXHR9O1xuXG5cdC8vIFByZXBhcmUgYW55IHRheG9ub21pZXMgYW5kIG1lcmdlIHdpdGggb3RoZXIgZmlsdGVyIHZhbHVlc1xuXHRjb25zdCB0YXhvbm9taWVzID0gcHJlcGFyZVRheG9ub21pZXMoIHRoaXMuX3RheG9ub215RmlsdGVycyApO1xuXHRxdWVyeVBhcmFtcy5maWx0ZXIgPSB7XG5cdFx0Li4ucG9wdWxhdGVkKCB0aGlzLl9maWx0ZXJzICksXG5cdFx0Li4udGF4b25vbWllcyxcblx0fTtcblxuXHQvLyBQYXJzZSBxdWVyeSBwYXJhbWV0ZXJzIG9iamVjdCBpbnRvIGEgcXVlcnkgc3RyaW5nLCBzb3J0aW5nIHRoZSBvYmplY3Rcblx0Ly8gcHJvcGVydGllcyBieSBhbHBoYWJldGljYWwgb3JkZXIgKGNvbnNpc3RlbnQgcHJvcGVydHkgb3JkZXJpbmcgY2FuIG1ha2Vcblx0Ly8gZm9yIGVhc2llciBjYWNoaW5nIG9mIHJlcXVlc3QgVVJJcylcblx0Y29uc3QgcXVlcnlTdHJpbmcgPSBxcy5zdHJpbmdpZnkoIHF1ZXJ5UGFyYW1zLCB7IGFycmF5Rm9ybWF0OiAnYnJhY2tldHMnIH0gKVxuXHRcdC5zcGxpdCggJyYnIClcblx0XHQuc29ydCgpXG5cdFx0LmpvaW4oICcmJyApO1xuXG5cdC8vIENoZWNrIGlmIHRoZSBlbmRwb2ludCBjb250YWlucyBhIHByZXZpb3VzIHF1ZXJ5IGFuZCBzZXQgdGhlIHF1ZXJ5IGNoYXJhY3RlciBhY2NvcmRpbmdseS5cblx0Y29uc3QgcXVlcnlDaGFyYWN0ZXIgPSAvXFw/Ly50ZXN0KCB0aGlzLl9vcHRpb25zLmVuZHBvaW50ICkgPyAnJicgOiAnPyc7XG5cblx0Ly8gUHJlcGVuZCBhIFwiP1wiIChvciBhIFwiJlwiKSBpZiBhIHF1ZXJ5IGlzIHByZXNlbnQsIGFuZCByZXR1cm4uXG5cdHJldHVybiAoIHF1ZXJ5U3RyaW5nID09PSAnJyApID8gJycgOiBxdWVyeUNoYXJhY3RlciArIHF1ZXJ5U3RyaW5nO1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZSAmIGFzc2VtYmxlIGEgcGF0aCBzdHJpbmcgZnJvbSB0aGUgcmVxdWVzdCBvYmplY3QncyBfcGF0aFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVuZGVyZWQgcGF0aFxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLl9yZW5kZXJQYXRoID0gZnVuY3Rpb24oKSB7XG5cdC8vIENhbGwgdmFsaWRhdGVQYXRoOiBpZiB0aGUgcHJvdmlkZWQgcGF0aCBjb21wb25lbnRzIGFyZSBub3Qgd2VsbC1mb3JtZWQsXG5cdC8vIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duXG5cdHRoaXMudmFsaWRhdGVQYXRoKCk7XG5cblx0Y29uc3QgcGF0aFBhcnRzID0gdGhpcy5fcGF0aDtcblx0Y29uc3Qgb3JkZXJlZFBhdGhQYXJ0cyA9IE9iamVjdC5rZXlzKCBwYXRoUGFydHMgKVxuXHRcdC5zb3J0KCAoIGEsIGIgKSA9PiB7XG5cdFx0XHRjb25zdCBpbnRBID0gcGFyc2VJbnQoIGEsIDEwICk7XG5cdFx0XHRjb25zdCBpbnRCID0gcGFyc2VJbnQoIGIsIDEwICk7XG5cdFx0XHRyZXR1cm4gaW50QSAtIGludEI7XG5cdFx0fSApXG5cdFx0Lm1hcCggcGF0aFBhcnRLZXkgPT4gcGF0aFBhcnRzWyBwYXRoUGFydEtleSBdICk7XG5cblx0Ly8gQ29tYmluZSBhbGwgcGFydHMgb2YgdGhlIHBhdGggdG9nZXRoZXIsIGZpbHRlcmVkIHRvIG9taXQgYW55IGNvbXBvbmVudHNcblx0Ly8gdGhhdCBhcmUgdW5zcGVjaWZpZWQgb3IgZW1wdHkgc3RyaW5ncywgdG8gY3JlYXRlIHRoZSBmdWxsIHBhdGggdGVtcGxhdGVcblx0Y29uc3QgcGF0aCA9IFtcblx0XHR0aGlzLl9uYW1lc3BhY2UsXG5cdF0uY29uY2F0KCBvcmRlcmVkUGF0aFBhcnRzICkuZmlsdGVyKCBpZGVudGl0eSApLmpvaW4oICcvJyApO1xuXG5cdHJldHVybiBwYXRoO1xufTtcblxuLy8gUHVibGljIFByb3RvdHlwZSBNZXRob2RzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBQYXJzZSB0aGUgcmVxdWVzdCBpbnRvIGEgV29yZFByZXNzIEFQSSByZXF1ZXN0IFVSSSBzdHJpbmdcbiAqXG4gKiBAbWV0aG9kXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVVJJIGZvciB0aGUgSFRUUCByZXF1ZXN0IHRvIGJlIHNlbnRcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHQvLyBSZW5kZXIgdGhlIHBhdGggdG8gYSBzdHJpbmdcblx0Y29uc3QgcGF0aCA9IHRoaXMuX3JlbmRlclBhdGgoKTtcblxuXHQvLyBSZW5kZXIgdGhlIHF1ZXJ5IHN0cmluZ1xuXHRjb25zdCBxdWVyeVN0ciA9IHRoaXMuX3JlbmRlclF1ZXJ5KCk7XG5cblx0cmV0dXJuIHRoaXMuX29wdGlvbnMuZW5kcG9pbnQgKyBwYXRoICsgcXVlcnlTdHI7XG59O1xuXG4vKipcbiAqIFNldCBhIGNvbXBvbmVudCBvZiB0aGUgcmVzb3VyY2UgVVJMIGl0c2VsZiAoYXMgb3Bwb3NlZCB0byBhIHF1ZXJ5IHBhcmFtZXRlcilcbiAqXG4gKiBJZiBhIHBhdGggY29tcG9uZW50IGhhcyBhbHJlYWR5IGJlZW4gc2V0IGF0IHRoaXMgbGV2ZWwsIHRocm93IGFuIGVycm9yOlxuICogcmVxdWVzdHMgYXJlIG1lYW50IHRvIGJlIHRyYW5zaWVudCwgc28gYW55IHJlLXdyaXRpbmcgb2YgYSBwcmV2aW91c2x5LXNldFxuICogcGF0aCBwYXJ0IHZhbHVlIGlzIGxpa2VseSB0byBiZSBhIG1pc3Rha2UuXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBsZXZlbCBBIFwibGV2ZWxcIiBvZiB0aGUgcGF0aCB0byBzZXQsIGUuZy4gXCIxXCIgb3IgXCIyXCJcbiAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gdmFsICAgVGhlIHZhbHVlIHRvIHNldCBhdCB0aGF0IHBhdGggcGFydCBsZXZlbFxuICogQHJldHVybnMge1dQUmVxdWVzdH0gVGhlIFdQUmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLnNldFBhdGhQYXJ0ID0gZnVuY3Rpb24oIGxldmVsLCB2YWwgKSB7XG5cdGlmICggdGhpcy5fcGF0aFsgbGV2ZWwgXSApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoICdDYW5ub3Qgb3ZlcndyaXRlIHZhbHVlICcgKyB0aGlzLl9wYXRoWyBsZXZlbCBdICk7XG5cdH1cblx0dGhpcy5fcGF0aFsgbGV2ZWwgXSA9IHZhbDtcblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogVmFsaWRhdGUgd2hldGhlciB0aGUgc3BlY2lmaWVkIHBhdGggcGFydHMgYXJlIHZhbGlkIGZvciB0aGlzIGVuZHBvaW50XG4gKlxuICogXCJQYXRoIHBhcnRzXCIgYXJlIG5vbi1xdWVyeS1zdHJpbmcgVVJMIHNlZ21lbnRzLCBsaWtlIFwic29tZVwiIFwicGF0aFwiIGluIHRoZSBVUkxcbiAqIGBteWRvbWFpbi5jb20vc29tZS9wYXRoP2FuZD1hJnF1ZXJ5PXN0cmluZyZ0b29gLiBCZWNhdXNlIGEgd2VsbC1mb3JtZWQgcGF0aFxuICogaXMgbmVjZXNzYXJ5IHRvIGV4ZWN1dGUgYSBzdWNjZXNzZnVsIEFQSSByZXF1ZXN0LCB3ZSB0aHJvdyBhbiBlcnJvciBpZiB0aGVcbiAqIHVzZXIgaGFzIG9taXR0ZWQgYSB2YWx1ZSAoc3VjaCBhcyBgL3NvbWUvW21pc3NpbmcgY29tcG9uZW50XS91cmxgKSBvciBoYXNcbiAqIHByb3ZpZGVkIGEgcGF0aCBwYXJ0IHZhbHVlIHRoYXQgZG9lcyBub3QgbWF0Y2ggdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGVcbiAqIEFQSSB1c2VzIHRvIGdvdmVuIHRoYXQgc2VnbWVudC5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAY2hhaW5hYmxlXG4gKiBAcmV0dXJucyB7V1BSZXF1ZXN0fSBUaGUgV1BSZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpLCBpZiBubyBlcnJvcnMgd2VyZSBmb3VuZFxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLnZhbGlkYXRlUGF0aCA9IGZ1bmN0aW9uKCkge1xuXHQvLyBJdGVyYXRlIHRocm91Z2ggYWxsIF9zcGVjaWZpZWRfIGxldmVscyBvZiB0aGlzIGVuZHBvaW50XG5cdGNvbnN0IHNwZWNpZmllZExldmVscyA9IE9iamVjdC5rZXlzKCB0aGlzLl9wYXRoIClcblx0XHQubWFwKCBsZXZlbCA9PiBwYXJzZUludCggbGV2ZWwsIDEwICkgKVxuXHRcdC5maWx0ZXIoIHBhdGhQYXJ0S2V5ID0+ICEgaXNOYU4oIHBhdGhQYXJ0S2V5ICkgKTtcblxuXHRjb25zdCBtYXhMZXZlbCA9IE1hdGgubWF4LmFwcGx5KCBudWxsLCBzcGVjaWZpZWRMZXZlbHMgKTtcblxuXHQvLyBFbnN1cmUgdGhhdCBhbGwgbmVjZXNzYXJ5IGxldmVscyBhcmUgc3BlY2lmaWVkXG5cdGNvbnN0IHBhdGggPSBbXTtcblx0bGV0IHZhbGlkID0gdHJ1ZTtcblxuXHRmb3IgKCBsZXQgbGV2ZWwgPSAwOyBsZXZlbCA8PSBtYXhMZXZlbDsgbGV2ZWwrKyApIHtcblxuXHRcdGlmICggISB0aGlzLl9sZXZlbHMgfHwgISB0aGlzLl9sZXZlbHNbIGxldmVsIF0gKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuX3BhdGhbIGxldmVsIF0gKSB7XG5cdFx0XHQvLyBWYWxpZGF0ZSB0aGUgcHJvdmlkZWQgcGF0aCBsZXZlbCBhZ2FpbnN0IGFsbCBhdmFpbGFibGUgcGF0aCB2YWxpZGF0b3JzXG5cdFx0XHR2YWxpZGF0ZVBhdGhMZXZlbCggdGhpcy5fbGV2ZWxzWyBsZXZlbCBdLCB0aGlzLl9wYXRoWyBsZXZlbCBdICk7XG5cblx0XHRcdC8vIEFkZCB0aGUgcGF0aCB2YWx1ZSB0byB0aGUgYXJyYXlcblx0XHRcdHBhdGgucHVzaCggdGhpcy5fcGF0aFsgbGV2ZWwgXSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwYXRoLnB1c2goICcgPz8/ICcgKTtcblx0XHRcdHZhbGlkID0gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCAhIHZhbGlkICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggJ0luY29tcGxldGUgVVJMISBNaXNzaW5nIGNvbXBvbmVudDogLycgKyBwYXRoLmpvaW4oICcvJyApICk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IGEgcGFyYW1ldGVyIHRvIHJlbmRlciBpbnRvIHRoZSBmaW5hbCBxdWVyeSBVUkkuXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBwcm9wcyBUaGUgbmFtZSBvZiB0aGUgcGFyYW1ldGVyIHRvIHNldCwgb3IgYW4gb2JqZWN0IGNvbnRhaW5pbmdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyIGtleXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgdmFsdWVzXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8QXJyYXl9IFt2YWx1ZV0gVGhlIHZhbHVlIG9mIHRoZSBwYXJhbWV0ZXIgYmVpbmcgc2V0XG4gKiBAcmV0dXJucyB7V1BSZXF1ZXN0fSBUaGUgV1BSZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbldQUmVxdWVzdC5wcm90b3R5cGUucGFyYW0gPSBmdW5jdGlvbiggcHJvcHMsIHZhbHVlICkge1xuXHRpZiAoICEgcHJvcHMgfHwgdHlwZW9mIHByb3BzID09PSAnc3RyaW5nJyAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdC8vIFdlIGhhdmUgbm8gcHJvcGVydHkgdG8gc2V0LCBvciBubyB2YWx1ZSB0byBzZXQgZm9yIHRoYXQgcHJvcGVydHlcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8vIFdlIGNhbiB1c2UgdGhlIHNhbWUgaXRlcmF0b3IgZnVuY3Rpb24gYmVsb3cgdG8gaGFuZGxlIGV4cGxpY2l0IGtleS12YWx1ZVxuXHQvLyBwYWlycyBpZiB3ZSBjb252ZXJ0IHRoZW0gaW50byB0byBhbiBvYmplY3Qgd2UgY2FuIGl0ZXJhdGUgb3Zlcjpcblx0aWYgKCB0eXBlb2YgcHJvcHMgPT09ICdzdHJpbmcnICkge1xuXHRcdHByb3BzID0ga2V5VmFsVG9PYmooIHByb3BzLCB2YWx1ZSApO1xuXHR9XG5cblx0Ly8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBwcm9wZXJ0aWVzXG5cdE9iamVjdC5rZXlzKCBwcm9wcyApLmZvckVhY2goICgga2V5ICkgPT4ge1xuXHRcdGxldCB2YWx1ZSA9IHByb3BzWyBrZXkgXTtcblxuXHRcdC8vIEFycmF5cyBzaG91bGQgYmUgZGUtZHVwZWQgYW5kIHNvcnRlZFxuXHRcdGlmICggQXJyYXkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdHZhbHVlID0gdW5pcXVlKCB2YWx1ZSApLnNvcnQoIGFscGhhTnVtZXJpY1NvcnQgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIHZhbHVlXG5cdFx0dGhpcy5fcGFyYW1zWyBrZXkgXSA9IHZhbHVlO1xuXHR9ICk7XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG4vLyBHbG9iYWxseS1hcHBsaWNhYmxlIHBhcmFtZXRlcnMgdGhhdCBpbXBhY3QgdGhlIHNoYXBlIG9mIHRoZSByZXF1ZXN0IG9yIHJlc3BvbnNlXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogU2V0IHRoZSBjb250ZXh0IG9mIHRoZSByZXF1ZXN0LiBVc2VkIHByaW1hcmlseSB0byBleHBvc2UgcHJpdmF0ZSB2YWx1ZXMgb24gYVxuICogcmVxdWVzdCBvYmplY3QgYnkgc2V0dGluZyB0aGUgY29udGV4dCB0byBcImVkaXRcIi5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge1N0cmluZ30gY29udGV4dCBUaGUgY29udGV4dCB0byBzZXQgb24gdGhlIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtXUFJlcXVlc3R9IFRoZSBXUFJlcXVlc3QgaW5zdGFuY2UgKGZvciBjaGFpbmluZylcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS5jb250ZXh0ID0gcGFyYW1TZXR0ZXIoICdjb250ZXh0JyApO1xuXG4vKipcbiAqIENvbnZlbmllbmNlIHdyYXBwZXIgZm9yIGAuY29udGV4dCggJ2VkaXQnIClgXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHJldHVybnMge1dQUmVxdWVzdH0gVGhlIFdQUmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLmVkaXQgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuY29udGV4dCggJ2VkaXQnICk7XG59O1xuXG4vKipcbiAqIFJldHVybiBlbWJlZGRlZCByZXNvdXJjZXMgYXMgcGFydCBvZiB0aGUgcmVzcG9uc2UgcGF5bG9hZC5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAY2hhaW5hYmxlXG4gKiBAcmV0dXJucyB7V1BSZXF1ZXN0fSBUaGUgV1BSZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbldQUmVxdWVzdC5wcm90b3R5cGUuZW1iZWQgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMucGFyYW0oICdfZW1iZWQnLCB0cnVlICk7XG59O1xuXG4vLyBQYXJhbWV0ZXJzIHN1cHBvcnRlZCBieSBhbGwvbmVhcmx5IGFsbCBkZWZhdWx0IGNvbGxlY3Rpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogU2V0IHRoZSBwYWdpbmF0aW9uIG9mIGEgcmVxdWVzdC4gVXNlIGluIGNvbmp1bmN0aW9uIHdpdGggYC5wZXJQYWdlKClgIGZvciBleHBsaWNpdFxuICogcGFnaW5hdGlvbiBoYW5kbGluZy4gKFRoZSBudW1iZXIgb2YgcGFnZXMgaW4gYSByZXNwb25zZSBjYW4gYmUgcmV0cmlldmVkIGZyb20gdGhlXG4gKiByZXNwb25zZSdzIGBfcGFnaW5nLnRvdGFsUGFnZXNgIHByb3BlcnR5LilcbiAqXG4gKiBAbWV0aG9kXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge051bWJlcn0gcGFnZU51bWJlciBUaGUgcGFnZSBudW1iZXIgb2YgcmVzdWx0cyB0byByZXRyaWV2ZVxuICogQHJldHVybnMgVGhlIHJlcXVlc3QgaW5zdGFuY2UgKGZvciBjaGFpbmluZylcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS5wYWdlID0gcGFyYW1TZXR0ZXIoICdwYWdlJyApO1xuXG4vKipcbiAqIFNldCB0aGUgbnVtYmVyIG9mIGl0ZW1zIHRvIGJlIHJldHVybmVkIGluIGEgcGFnZSBvZiByZXNwb25zZXMuXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGl0ZW1zUGVyUGFnZSBUaGUgbnVtYmVyIG9mIGl0ZW1zIHRvIHJldHVybiBpbiBvbmUgcGFnZSBvZiByZXN1bHRzXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLnBlclBhZ2UgPSBwYXJhbVNldHRlciggJ3Blcl9wYWdlJyApO1xuXG4vKipcbiAqIFNldCBhbiBhcmJpdHJhcnkgb2Zmc2V0IHRvIHJldHJpZXZlIGl0ZW1zIGZyb20gYSBzcGVjaWZpYyBwb2ludCBpbiBhIGNvbGxlY3Rpb24uXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldE51bWJlciBUaGUgbnVtYmVyIG9mIGl0ZW1zIGJ5IHdoaWNoIHRvIG9mZnNldCB0aGUgcmVzcG9uc2VcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbldQUmVxdWVzdC5wcm90b3R5cGUub2Zmc2V0ID0gcGFyYW1TZXR0ZXIoICdvZmZzZXQnICk7XG5cbi8qKlxuICogQ2hhbmdlIHRoZSBzb3J0IGRpcmVjdGlvbiBvZiBhIHJldHVybmVkIGNvbGxlY3Rpb25cbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5vcmRlciBjb21tZW50cyBjaHJvbm9sb2dpY2FsbHkgKG9sZGVzdCBmaXJzdCk8L2NhcHRpb24+XG4gKlxuICogICAgIHNpdGUuY29tbWVudHMoKS5vcmRlciggJ2FzYycgKS4uLlxuICpcbiAqIEBtZXRob2RcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBkaXJlY3Rpb24gVGhlIG9yZGVyIHRvIHVzZSB3aGVuIHNvcnRpbmcgdGhlIHJlc3BvbnNlXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLm9yZGVyID0gcGFyYW1TZXR0ZXIoICdvcmRlcicgKTtcblxuLyoqXG4gKiBPcmRlciBhIGNvbGxlY3Rpb24gYnkgYSBzcGVjaWZpYyBmaWVsZFxuICpcbiAqIEBtZXRob2RcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZCBUaGUgZmllbGQgYnkgd2hpY2ggdG8gb3JkZXIgdGhlIHJlc3BvbnNlXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLm9yZGVyYnkgPSBwYXJhbVNldHRlciggJ29yZGVyYnknICk7XG5cbi8qKlxuICogRmlsdGVyIHJlc3VsdHMgdG8gdGhvc2UgbWF0Y2hpbmcgdGhlIHNwZWNpZmllZCBzZWFyY2ggdGVybXMuXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFN0cmluZyBBIHN0cmluZyB0byBzZWFyY2ggZm9yIHdpdGhpbiBwb3N0IGNvbnRlbnRcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbldQUmVxdWVzdC5wcm90b3R5cGUuc2VhcmNoID0gcGFyYW1TZXR0ZXIoICdzZWFyY2gnICk7XG5cbi8qKlxuICogSW5jbHVkZSBzcGVjaWZpYyByZXNvdXJjZSBJRHMgaW4gdGhlIHJlc3BvbnNlIGNvbGxlY3Rpb24uXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtOdW1iZXJ8TnVtYmVyW119IGlkcyBBbiBJRCBvciBhcnJheSBvZiBJRHMgdG8gaW5jbHVkZVxuICogQHJldHVybnMgVGhlIHJlcXVlc3QgaW5zdGFuY2UgKGZvciBjaGFpbmluZylcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS5pbmNsdWRlID0gcGFyYW1TZXR0ZXIoICdpbmNsdWRlJyApO1xuXG4vKipcbiAqIEV4Y2x1ZGUgc3BlY2lmaWMgcmVzb3VyY2UgSURzIGluIHRoZSByZXNwb25zZSBjb2xsZWN0aW9uLlxuICpcbiAqIEBtZXRob2RcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7TnVtYmVyfE51bWJlcltdfSBpZHMgQW4gSUQgb3IgYXJyYXkgb2YgSURzIHRvIGV4Y2x1ZGVcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbldQUmVxdWVzdC5wcm90b3R5cGUuZXhjbHVkZSA9IHBhcmFtU2V0dGVyKCAnZXhjbHVkZScgKTtcblxuLyoqXG4gKiBRdWVyeSBhIGNvbGxlY3Rpb24gZm9yIG1lbWJlcnMgd2l0aCBhIHNwZWNpZmljIHNsdWcuXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtTdHJpbmd9IHNsdWcgQSBwb3N0IHNsdWcgKHNsdWcpLCBlLmcuIFwiaGVsbG8td29ybGRcIlxuICogQHJldHVybnMgVGhlIHJlcXVlc3QgaW5zdGFuY2UgKGZvciBjaGFpbmluZylcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS5zbHVnID0gcGFyYW1TZXR0ZXIoICdzbHVnJyApO1xuXG4vLyBIVFRQIFRyYW5zcG9ydCBQcm90b3R5cGUgTWV0aG9kc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gQ2hhaW5pbmcgbWV0aG9kc1xuLy8gPT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFNldCB0aGUgbmFtZXNwYWNlIG9mIHRoZSByZXF1ZXN0LCBlLmcuIHRvIHNwZWNpZnkgdGhlIEFQSSByb290IGZvciByb3V0ZXNcbiAqIHJlZ2lzdGVyZWQgYnkgd3AgY29yZSB2MiAoXCJ3cC92MlwiKSBvciBieSBhbnkgZ2l2ZW4gcGx1Z2luLiBBbnkgcHJldmlvdXNseS1cbiAqIHNldCBuYW1lc3BhY2Ugd2lsbCBiZSBvdmVyd3JpdHRlbiBieSBzdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSBtZXRob2QuXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSBBIG5hbWVzcGFjZSBzdHJpbmcsIGUuZy4gXCJ3cC92MlwiXG4gKiBAcmV0dXJucyB7V1BSZXF1ZXN0fSBUaGUgV1BSZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbldQUmVxdWVzdC5wcm90b3R5cGUubmFtZXNwYWNlID0gZnVuY3Rpb24oIG5hbWVzcGFjZSApIHtcblx0dGhpcy5fbmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuXHRyZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IGEgcmVxdWVzdCB0byB1c2UgYXV0aGVudGljYXRpb24sIGFuZCBvcHRpb25hbGx5IHByb3ZpZGUgYXV0aCBjcmVkZW50aWFsc1xuICpcbiAqIElmIGF1dGggY3JlZGVudGlhbHMgd2VyZSBhbHJlYWR5IHNwZWNpZmllZCB3aGVuIHRoZSBXUEFQSSBpbnN0YW5jZSB3YXMgY3JlYXRlZCwgY2FsbGluZ1xuICogYC5hdXRoYCBvbiB0aGUgcmVxdWVzdCBjaGFpbiB3aWxsIHNldCB0aGF0IHJlcXVlc3QgdG8gdXNlIHRoZSBleGlzdGluZyBjcmVkZW50aWFsczpcbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj51c2UgZXhpc3RpbmcgY3JlZGVudGlhbHM8L2NhcHRpb24+XG4gKlxuICogICAgIHJlcXVlc3QuYXV0aCgpLmdldC4uLlxuICpcbiAqIEFsdGVybmF0aXZlbHksIGEgdXNlcm5hbWUgJiBwYXNzd29yZCAob3Igbm9uY2UpIGNhbiBiZSBleHBsaWNpdGx5IHBhc3NlZCBpbnRvIGAuYXV0aGA6XG4gKlxuICogQGV4YW1wbGUgPGNhcHRpb24+dXNlIGV4cGxpY2l0IGJhc2ljIGF1dGhlbnRpY2F0aW9uIGNyZWRlbnRpYWxzPC9jYXB0aW9uPlxuICpcbiAqICAgICByZXF1ZXN0LmF1dGgoe1xuICogICAgICAgdXNlcm5hbWU6ICdhZG1pbicsXG4gKiAgICAgICBwYXNzd29yZDogJ3N1cGVyIHNlY3VyZSdcbiAqICAgICB9KS5nZXQuLi5cbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj51c2UgYSBub25jZSBmb3IgY29va2llIGF1dGhlbnRpY2F0aW9uPC9jYXB0aW9uPlxuICpcbiAqICAgICByZXF1ZXN0LmF1dGgoe1xuICogICAgICAgbm9uY2U6ICdzb21lbm9uY2UnXG4gKiAgICAgfSkuLi5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge09iamVjdH0gY3JlZGVudGlhbHMgICAgICAgICAgICBBbiBvYmplY3Qgd2l0aCAndXNlcm5hbWUnIGFuZCAncGFzc3dvcmQnIHN0cmluZ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcywgb3IgZWxzZSBhICdub25jZScgcHJvcGVydHlcbiAqIEBwYXJhbSB7U3RyaW5nfSBbY3JlZGVudGlhbHMudXNlcm5hbWVdIEEgV1AtQVBJIEJhc2ljIEhUVFAgQXV0aGVudGljYXRpb24gdXNlcm5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfSBbY3JlZGVudGlhbHMucGFzc3dvcmRdIEEgV1AtQVBJIEJhc2ljIEhUVFAgQXV0aGVudGljYXRpb24gcGFzc3dvcmRcbiAqIEBwYXJhbSB7U3RyaW5nfSBbY3JlZGVudGlhbHMubm9uY2VdICAgIEEgV1Agbm9uY2UgZm9yIHVzZSB3aXRoIGNvb2tpZSBhdXRoZW50aWNhdGlvblxuICogQHJldHVybnMge1dQUmVxdWVzdH0gVGhlIFdQUmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLmF1dGggPSBmdW5jdGlvbiggY3JlZGVudGlhbHMgKSB7XG5cdGlmICggdHlwZW9mIGNyZWRlbnRpYWxzID09PSAnb2JqZWN0JyApIHtcblx0XHRpZiAoIHR5cGVvZiBjcmVkZW50aWFscy51c2VybmFtZSA9PT0gJ3N0cmluZycgKSB7XG5cdFx0XHR0aGlzLl9vcHRpb25zLnVzZXJuYW1lID0gY3JlZGVudGlhbHMudXNlcm5hbWU7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlb2YgY3JlZGVudGlhbHMucGFzc3dvcmQgPT09ICdzdHJpbmcnICkge1xuXHRcdFx0dGhpcy5fb3B0aW9ucy5wYXNzd29yZCA9IGNyZWRlbnRpYWxzLnBhc3N3b3JkO1xuXHRcdH1cblxuXHRcdGlmICggY3JlZGVudGlhbHMubm9uY2UgKSB7XG5cdFx0XHR0aGlzLl9vcHRpb25zLm5vbmNlID0gY3JlZGVudGlhbHMubm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0Ly8gU2V0IHRoZSBcImF1dGhcIiBvcHRpb25zIGZsYWcgdGhhdCB3aWxsIGZvcmNlIGF1dGhlbnRpY2F0aW9uIG9uIHRoaXMgcmVxdWVzdFxuXHR0aGlzLl9vcHRpb25zLmF1dGggPSB0cnVlO1xuXG5cdHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTcGVjaWZ5IGEgZmlsZSBvciBhIGZpbGUgYnVmZmVyIHRvIGF0dGFjaCB0byB0aGUgcmVxdWVzdCwgZm9yIHVzZSB3aGVuXG4gKiBjcmVhdGluZyBhIG5ldyBNZWRpYSBpdGVtXG4gKlxuICogQGV4YW1wbGUgPGNhcHRpb24+d2l0aGluIGEgc2VydmVyIGNvbnRleHQ8L2NhcHRpb24+XG4gKlxuICogICAgIHdwLm1lZGlhKClcbiAqICAgICAgIC8vIFBhc3MgLmZpbGUoKSB0aGUgZmlsZSBzeXN0ZW0gcGF0aCB0byBhIGZpbGUgdG8gdXBsb2FkXG4gKiAgICAgICAuZmlsZSggJy9wYXRoL3RvL2ZpbGUuanBnJyApXG4gKiAgICAgICAuY3JlYXRlKHt9KS4uLlxuICpcbiAqICAgICB3cC5tZWRpYSgpXG4gKiAgICAgICAvLyBQYXNzIC5maWxlKCkgYW4gaW1hZ2UgYXMgYSBCdWZmZXIgb2JqZWN0LCBhbmQgYSBmaWxlbmFtZSBzdHJpbmdcbiAqICAgICAgIC5maWxlKCBpbWdCdWZmZXIsICdkZXNpcmVkLXRpdGxlLmpwZycgKVxuICogICAgICAgLmNyZWF0ZSh7fSkuLi5cbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj53aXRoaW4gYSBicm93c2VyIGNvbnRleHQ8L2NhcHRpb24+XG4gKlxuICogICAgIHdwLm1lZGlhKClcbiAqICAgICAgIC8vIFBhc3MgLmZpbGUoKSB0aGUgZmlsZSByZWZlcmVuY2UgZnJvbSBhbiBIVE1MIGZpbGUgaW5wdXRcbiAqICAgICAgIC5maWxlKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnaW5wdXRbdHlwZT1cImZpbGVcIl0nICkuZmlsZXNbMF0gKVxuICogICAgICAgLmNyZWF0ZSh7fSkuLi5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IGZpbGUgICBBIHBhdGggdG8gYSBmaWxlIChpbiBOb2RlKSBvciBhbiBmaWxlIG9iamVjdFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKE5vZGUgb3IgQnJvd3NlcikgdG8gYXR0YWNoIHRvIHRoZSByZXF1ZXN0XG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgIFtuYW1lXSBBIGZpbGVuYW1lIHRvIHVzZSBmb3IgdGhlIGZpbGUsIHJlcXVpcmVkIHdoZW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGluZyBmaWxlIGRhdGEgYXMgYSBCdWZmZXIgb2JqZWN0XG4gKiBAcmV0dXJucyB7V1BSZXF1ZXN0fSBUaGUgV1BSZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbldQUmVxdWVzdC5wcm90b3R5cGUuZmlsZSA9IGZ1bmN0aW9uKCBmaWxlLCBuYW1lICkge1xuXHRpZiAoIGdsb2JhbC5CdWZmZXIgJiYgZmlsZSBpbnN0YW5jZW9mIGdsb2JhbC5CdWZmZXIgJiYgISBuYW1lICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggJy5maWxlKCk6IEZpbGUgbmFtZSBpcyBhIHJlcXVpcmVkIGFyZ3VtZW50IHdoZW4gdXBsb2FkaW5nIGEgQnVmZmVyJyApO1xuXHR9XG5cdHRoaXMuX2F0dGFjaG1lbnQgPSBmaWxlO1xuXHQvLyBFeHBsaWNpdGx5IHNldCB0byB1bmRlZmluZWQgaWYgbm90IHByb3ZpZGVkLCB0byBvdmVycmlkZSBhbnkgcHJldmlvdXNseS1cblx0Ly8gc2V0IGF0dGFjaG1lbnQgbmFtZSBwcm9wZXJ0eSB0aGF0IG1pZ2h0IGV4aXN0IGZyb20gYSBwcmlvciBgLmZpbGUoKWAgY2FsbFxuXHR0aGlzLl9hdHRhY2htZW50TmFtZSA9IG5hbWUgPyBuYW1lIDogdW5kZWZpbmVkO1xuXHRyZXR1cm4gdGhpcztcbn07XG5cbi8vIEhUVFAgTWV0aG9kczogUHVibGljIEludGVyZmFjZVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogU3BlY2lmeSBvbmUgb3IgbW9yZSBoZWFkZXJzIHRvIHNlbmQgd2l0aCB0aGUgZGlzcGF0Y2hlZCBIVFRQIHJlcXVlc3QuXG4gKlxuICogQGV4YW1wbGUgPGNhcHRpb24+U2V0IGEgc2luZ2xlIGhlYWRlciB0byBiZSB1c2VkIG9uIHRoaXMgcmVxdWVzdDwvY2FwdGlvbj5cbiAqXG4gKiAgICAgcmVxdWVzdC5zZXRIZWFkZXJzKCAnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgdHJ1c3RtZScgKS4uLlxuICpcbiAqIEBleGFtcGxlIDxjYXB0aW9uPlNldCBtdWx0aXBsZSBoZWFkZXJzIHRvIGJlIHVzZWQgYnkgdGhpcyByZXF1ZXN0PC9jYXB0aW9uPlxuICpcbiAqICAgICByZXF1ZXN0LnNldEhlYWRlcnMoe1xuICogICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciBjb21lb253ZXJlb2xkZnJpZW5kc3JpZ2h0JyxcbiAqICAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOiAnZW4tQ0EnXG4gKiAgICAgfSkuLi5cbiAqXG4gKiBAc2luY2UgMS4xLjBcbiAqIEBtZXRob2RcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gaGVhZGVycyBUaGUgbmFtZSBvZiB0aGUgaGVhZGVyIHRvIHNldCwgb3IgYW4gb2JqZWN0IG9mXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyIG5hbWVzIGFuZCB0aGVpciBhc3NvY2lhdGVkIHN0cmluZyB2YWx1ZXNcbiAqIEBwYXJhbSB7U3RyaW5nfSAgICAgICAgW3ZhbHVlXSBUaGUgdmFsdWUgb2YgdGhlIGhlYWRlciBiZWluZyBzZXRcbiAqIEByZXR1cm5zIHtXUFJlcXVlc3R9IFRoZSBXUFJlcXVlc3QgaW5zdGFuY2UgKGZvciBjaGFpbmluZylcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS5zZXRIZWFkZXJzID0gZnVuY3Rpb24oIGhlYWRlcnMsIHZhbHVlICkge1xuXHQvLyBXZSBjYW4gdXNlIHRoZSBzYW1lIGl0ZXJhdG9yIGZ1bmN0aW9uIGJlbG93IHRvIGhhbmRsZSBleHBsaWNpdCBrZXktdmFsdWVcblx0Ly8gcGFpcnMgaWYgd2UgY29udmVydCB0aGVtIGludG8gdG8gYW4gb2JqZWN0IHdlIGNhbiBpdGVyYXRlIG92ZXI6XG5cdGlmICggdHlwZW9mIGhlYWRlcnMgPT09ICdzdHJpbmcnICkge1xuXHRcdGhlYWRlcnMgPSBrZXlWYWxUb09iaiggaGVhZGVycywgdmFsdWUgKTtcblx0fVxuXG5cdHRoaXMuX29wdGlvbnMuaGVhZGVycyA9IHtcblx0XHQuLi4oIHRoaXMuX29wdGlvbnMuaGVhZGVycyB8fCB7fSApLFxuXHRcdC4uLmhlYWRlcnMsXG5cdH07XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEdldCAoZG93bmxvYWQgdGhlIGRhdGEgZm9yKSB0aGUgc3BlY2lmaWVkIHJlc291cmNlXG4gKlxuICogQG1ldGhvZFxuICogQGFzeW5jXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgdG8gaW52b2tlIHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIEdFVCByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRvIHRoZSByZXN1bHRzIG9mIHRoZSBIVFRQIHJlcXVlc3RcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdHJldHVybiB0aGlzLnRyYW5zcG9ydC5nZXQoIHRoaXMsIGNhbGxiYWNrICk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgaGVhZGVycyBmb3IgdGhlIHNwZWNpZmllZCByZXNvdXJjZVxuICpcbiAqIEBtZXRob2RcbiAqIEBhc3luY1xuICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBBIGNhbGxiYWNrIHRvIGludm9rZSB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBIRUFEIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgdG8gdGhlIGhlYWRlciByZXN1bHRzIG9mIHRoZSBIVFRQIHJlcXVlc3RcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS5oZWFkZXJzID0gZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRyZXR1cm4gdGhpcy50cmFuc3BvcnQuaGVhZCggdGhpcywgY2FsbGJhY2sgKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIHRoZSBzcGVjaWZpZWQgcmVzb3VyY2Ugd2l0aCB0aGUgcHJvdmlkZWQgZGF0YVxuICpcbiAqIFRoaXMgaXMgdGhlIHB1YmxpYyBpbnRlcmZhY2UgZm9yIGNyZWF0aW5nIFBPU1QgcmVxdWVzdHNcbiAqXG4gKiBAbWV0aG9kXG4gKiBAYXN5bmNcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFRoZSBkYXRhIGZvciB0aGUgUE9TVCByZXF1ZXN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgdG8gaW52b2tlIHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIFBPU1QgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSB0byB0aGUgcmVzdWx0cyBvZiB0aGUgSFRUUCByZXF1ZXN0XG4gKi9cbldQUmVxdWVzdC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oIGRhdGEsIGNhbGxiYWNrICkge1xuXHRyZXR1cm4gdGhpcy50cmFuc3BvcnQucG9zdCggdGhpcywgZGF0YSwgY2FsbGJhY2sgKTtcbn07XG5cbi8qKlxuICogVXBkYXRlIHRoZSBzcGVjaWZpZWQgcmVzb3VyY2Ugd2l0aCB0aGUgcHJvdmlkZWQgZGF0YVxuICpcbiAqIFRoaXMgaXMgdGhlIHB1YmxpYyBpbnRlcmZhY2UgZm9yIGNyZWF0aW5nIFBVVCByZXF1ZXN0c1xuICpcbiAqIEBtZXRob2RcbiAqIEBhc3luY1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFRoZSBkYXRhIGZvciB0aGUgUFVUIHJlcXVlc3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQSBjYWxsYmFjayB0byBpbnZva2Ugd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgUFVUIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgdG8gdGhlIHJlc3VsdHMgb2YgdGhlIEhUVFAgcmVxdWVzdFxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCBkYXRhLCBjYWxsYmFjayApIHtcblx0cmV0dXJuIHRoaXMudHJhbnNwb3J0LnB1dCggdGhpcywgZGF0YSwgY2FsbGJhY2sgKTtcbn07XG5cbi8qKlxuICogRGVsZXRlIHRoZSBzcGVjaWZpZWQgcmVzb3VyY2VcbiAqXG4gKiBAbWV0aG9kXG4gKiBAYXN5bmNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZGF0YV0gRGF0YSB0byBzZW5kIGFsb25nIHdpdGggdGhlIERFTEVURSByZXF1ZXN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgdG8gaW52b2tlIHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIERFTEVURSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRvIHRoZSByZXN1bHRzIG9mIHRoZSBIVFRQIHJlcXVlc3RcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiggZGF0YSwgY2FsbGJhY2sgKSB7XG5cdHJldHVybiB0aGlzLnRyYW5zcG9ydC5kZWxldGUoIHRoaXMsIGRhdGEsIGNhbGxiYWNrICk7XG59O1xuXG4vKipcbiAqIENhbGxpbmcgLnRoZW4gb24gYSBxdWVyeSBjaGFpbiB3aWxsIGludm9rZSB0aGUgcXVlcnkgYXMgYSBHRVQgYW5kIHJldHVybiBhIHByb21pc2VcbiAqXG4gKiBAbWV0aG9kXG4gKiBAYXN5bmNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzQ2FsbGJhY2tdIEEgY2FsbGJhY2sgdG8gaGFuZGxlIHRoZSBkYXRhIHJldHVybmVkIGZyb20gdGhlIEdFVCByZXF1ZXN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZmFpbHVyZUNhbGxiYWNrXSBBIGNhbGxiYWNrIHRvIGhhbmRsZSBhbnkgZXJyb3JzIGVuY291bnRlcmVkIGJ5IHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRvIHRoZSByZXN1bHRzIG9mIHRoZSBIVFRQIHJlcXVlc3RcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24oIHN1Y2Nlc3NDYWxsYmFjaywgZmFpbHVyZUNhbGxiYWNrICkge1xuXHRyZXR1cm4gdGhpcy50cmFuc3BvcnQuZ2V0KCB0aGlzICkudGhlbiggc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2sgKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gV1BSZXF1ZXN0O1xuIiwgIi8qKlxuICogQG1vZHVsZSBtaXhpbnMvZmlsdGVyc1xuICovXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IGFscGhhTnVtZXJpY1NvcnQgPSByZXF1aXJlKCAnLi4vdXRpbC9hbHBoYW51bWVyaWMtc29ydCcgKTtcbmNvbnN0IGtleVZhbFRvT2JqID0gcmVxdWlyZSggJy4uL3V0aWwva2V5LXZhbC10by1vYmonICk7XG5jb25zdCB1bmlxdWUgPSByZXF1aXJlKCAnLi4vdXRpbC91bmlxdWUnICk7XG5cbi8qKlxuICogRmlsdGVyIG1ldGhvZHMgdGhhdCBjYW4gYmUgbWl4ZWQgaW4gdG8gYSByZXF1ZXN0IGNvbnN0cnVjdG9yJ3MgcHJvdG90eXBlIHRvXG4gKiBhbGxvdyB0aGF0IHJlcXVlc3QgdG8gdGFrZSBhZHZhbnRhZ2Ugb2YgdGhlIGA/ZmlsdGVyW109YCBhbGlhc2VzIGZvciBXUF9RdWVyeVxuICogcGFyYW1ldGVycyBmb3IgY29sbGVjdGlvbiBlbmRwb2ludHMsIHdoZW4gYXZhaWxhYmxlLlxuICpcbiAqIEBtaXhpbiBmaWx0ZXJzXG4gKi9cbmNvbnN0IGZpbHRlck1peGlucyA9IHt9O1xuXG4vLyBGaWx0ZXIgTWV0aG9kc1xuLy8gPT09PT09PT09PT09PT1cblxuLyoqXG4gKiBTcGVjaWZ5IGtleS12YWx1ZSBwYWlycyBieSB3aGljaCB0byBmaWx0ZXIgdGhlIEFQSSByZXN1bHRzIChjb21tb25seSB1c2VkXG4gKiB0byByZXRyaWV2ZSBvbmx5IHBvc3RzIG1lZXRpbmcgY2VydGFpbiBjcml0ZXJpYSwgc3VjaCBhcyBwb3N0cyB3aXRoaW4gYVxuICogcGFydGljdWxhciBjYXRlZ29yeSBvciBieSBhIHBhcnRpY3VsYXIgYXV0aG9yKS5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICAvLyBTZXQgYSBzaW5nbGUgcHJvcGVydHk6XG4gKiAgICAgd3AuZmlsdGVyKCAncG9zdF90eXBlJywgJ2NwdF9ldmVudCcgKS4uLlxuICpcbiAqICAgICAvLyBTZXQgbXVsdGlwbGUgcHJvcGVydGllcyBhdCBvbmNlOlxuICogICAgIHdwLmZpbHRlcih7XG4gKiAgICAgICAgIHBvc3Rfc3RhdHVzOiAncHVibGlzaCcsXG4gKiAgICAgICAgIGNhdGVnb3J5X25hbWU6ICduZXdzJ1xuICogICAgIH0pLi4uXG4gKlxuICogICAgIC8vIENoYWluIGNhbGxzIHRvIC5maWx0ZXIoKTpcbiAqICAgICB3cC5maWx0ZXIoICdwb3N0X3N0YXR1cycsICdwdWJsaXNoJyApLmZpbHRlciggJ2NhdGVnb3J5X25hbWUnLCAnbmV3cycgKS4uLlxuICpcbiAqIEBtZXRob2QgZmlsdGVyXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IHByb3BzIEEgZmlsdGVyIHByb3BlcnR5IG5hbWUgc3RyaW5nLCBvciBvYmplY3Qgb2YgbmFtZS92YWx1ZSBwYWlyc1xuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfEFycmF5fSBbdmFsdWVdIFRoZSB2YWx1ZShzKSBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm92aWRlZCBmaWx0ZXIgcHJvcGVydHlcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbmZpbHRlck1peGlucy5maWx0ZXIgPSBmdW5jdGlvbiggcHJvcHMsIHZhbHVlICkge1xuXHRpZiAoICEgcHJvcHMgfHwgdHlwZW9mIHByb3BzID09PSAnc3RyaW5nJyAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdC8vIFdlIGhhdmUgbm8gZmlsdGVyIHRvIHNldCwgb3Igbm8gdmFsdWUgdG8gc2V0IGZvciB0aGF0IGZpbHRlclxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0Ly8gY29udmVydCB0aGUgcHJvcGVydHkgbmFtZSBzdHJpbmcgYHByb3BzYCBhbmQgdmFsdWUgYHZhbHVlYCBpbnRvIGFuIG9iamVjdFxuXHRpZiAoIHR5cGVvZiBwcm9wcyA9PT0gJ3N0cmluZycgKSB7XG5cdFx0cHJvcHMgPSBrZXlWYWxUb09iaiggcHJvcHMsIHZhbHVlICk7XG5cdH1cblxuXHR0aGlzLl9maWx0ZXJzID0ge1xuXHRcdC4uLnRoaXMuX2ZpbHRlcnMsXG5cdFx0Li4ucHJvcHMsXG5cdH07XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlc3RyaWN0IHRoZSBxdWVyeSByZXN1bHRzIHRvIHBvc3RzIG1hdGNoaW5nIG9uZSBvciBtb3JlIHRheG9ub215IHRlcm1zLlxuICpcbiAqIEBtZXRob2QgdGF4b25vbXlcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7U3RyaW5nfSB0YXhvbm9teSBUaGUgbmFtZSBvZiB0aGUgdGF4b25vbXkgdG8gZmlsdGVyIGJ5XG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8QXJyYXl9IHRlcm0gQSBzdHJpbmcgb3IgaW50ZWdlciwgb3IgYXJyYXkgdGhlcmVvZiwgcmVwcmVzZW50aW5nIHRlcm1zXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5maWx0ZXJNaXhpbnMudGF4b25vbXkgPSBmdW5jdGlvbiggdGF4b25vbXksIHRlcm0gKSB7XG5cdGNvbnN0IHRlcm1Jc0FycmF5ID0gQXJyYXkuaXNBcnJheSggdGVybSApO1xuXG5cdGNvbnN0IHRlcm1Jc051bWJlciA9IHRlcm1Jc0FycmF5ID9cblx0XHR0ZXJtLnJlZHVjZShcblx0XHRcdCggYWxsQXJlTnVtYmVycywgdGVybSApID0+IGFsbEFyZU51bWJlcnMgJiYgdHlwZW9mIHRlcm0gPT09ICdudW1iZXInLFxuXHRcdFx0dHJ1ZVxuXHRcdCkgOlxuXHRcdHR5cGVvZiB0ZXJtID09PSAnbnVtYmVyJztcblxuXHRjb25zdCB0ZXJtSXNTdHJpbmcgPSB0ZXJtSXNBcnJheSA/XG5cdFx0dGVybS5yZWR1Y2UoXG5cdFx0XHQoIGFsbEFyZVN0cmluZ3MsIHRlcm0gKSA9PiBhbGxBcmVTdHJpbmdzICYmIHR5cGVvZiB0ZXJtID09PSAnc3RyaW5nJyxcblx0XHRcdHRydWVcblx0XHQpIDpcblx0XHR0eXBlb2YgdGVybSA9PT0gJ3N0cmluZyc7XG5cblx0aWYgKCAhIHRlcm1Jc1N0cmluZyAmJiAhIHRlcm1Jc051bWJlciApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoICd0ZXJtIG11c3QgYmUgYSBudW1iZXIsIHN0cmluZywgb3IgYXJyYXkgb2YgbnVtYmVycyBvciBzdHJpbmdzJyApO1xuXHR9XG5cblx0aWYgKCB0YXhvbm9teSA9PT0gJ2NhdGVnb3J5JyApIHtcblx0XHRpZiAoIHRlcm1Jc1N0cmluZyApIHtcblx0XHRcdC8vIFF1ZXJ5IHBhcmFtIGZvciBmaWx0ZXJpbmcgYnkgY2F0ZWdvcnkgc2x1ZyBpcyBcImNhdGVnb3J5X25hbWVcIlxuXHRcdFx0dGF4b25vbXkgPSAnY2F0ZWdvcnlfbmFtZSc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFRoZSBib29sZWFuIGNoZWNrIGFib3ZlIGVuc3VyZXMgdGhhdCBpZiB0YXhvbm9teSA9PT0gJ2NhdGVnb3J5JyBhbmRcblx0XHRcdC8vIHRlcm0gaXMgbm90IGEgc3RyaW5nLCB0aGVuIHRlcm0gbXVzdCBiZSBhIG51bWJlciBhbmQgdGhlcmVmb3JlIGFuIElEOlxuXHRcdFx0Ly8gUXVlcnkgcGFyYW0gZm9yIGZpbHRlcmluZyBieSBjYXRlZ29yeSBJRCBpcyBcImNhdFwiXG5cdFx0XHR0YXhvbm9teSA9ICdjYXQnO1xuXHRcdH1cblx0fSBlbHNlIGlmICggdGF4b25vbXkgPT09ICdwb3N0X3RhZycgKSB7XG5cdFx0Ly8gdGFnIGlzIHVzZWQgaW4gcGxhY2Ugb2YgcG9zdF90YWcgaW4gdGhlIHB1YmxpYyBxdWVyeSB2YXJpYWJsZXNcblx0XHR0YXhvbm9teSA9ICd0YWcnO1xuXHR9XG5cblx0Ly8gRW5zdXJlIHRoZSB0YXhvbm9teSBmaWx0ZXJzIG9iamVjdCBpcyBhdmFpbGFibGVcblx0dGhpcy5fdGF4b25vbXlGaWx0ZXJzID0gdGhpcy5fdGF4b25vbXlGaWx0ZXJzIHx8IHt9O1xuXG5cdC8vIEVuc3VyZSB0aGVyZSdzIGFuIGFycmF5IG9mIHRlcm1zIGF2YWlsYWJsZSBmb3IgdGhpcyB0YXhvbm9teVxuXHRjb25zdCB0YXhvbm9teVRlcm1zID0gKCB0aGlzLl90YXhvbm9teUZpbHRlcnNbIHRheG9ub215IF0gfHwgW10gKVxuXHRcdC8vIEluc2VydCB0aGUgcHJvdmlkZWQgdGVybXMgaW50byB0aGUgc3BlY2lmaWVkIHRheG9ub215J3MgdGVybXMgYXJyYXlcblx0XHQuY29uY2F0KCB0ZXJtIClcblx0XHQvLyBTb3J0IGFycmF5XG5cdFx0LnNvcnQoIGFscGhhTnVtZXJpY1NvcnQgKTtcblxuXHQvLyBEZS1kdXBlXG5cdHRoaXMuX3RheG9ub215RmlsdGVyc1sgdGF4b25vbXkgXSA9IHVuaXF1ZSggdGF4b25vbXlUZXJtcywgdHJ1ZSApO1xuXG5cdHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBRdWVyeSBmb3IgcG9zdHMgcHVibGlzaGVkIGluIGEgZ2l2ZW4geWVhci5cbiAqXG4gKiBAbWV0aG9kIHllYXJcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7TnVtYmVyfSB5ZWFyIGludGVnZXIgcmVwcmVzZW50YXRpb24gb2YgeWVhciByZXF1ZXN0ZWRcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbmZpbHRlck1peGlucy55ZWFyID0gZnVuY3Rpb24oIHllYXIgKSB7XG5cdHJldHVybiBmaWx0ZXJNaXhpbnMuZmlsdGVyLmNhbGwoIHRoaXMsICd5ZWFyJywgeWVhciApO1xufTtcblxuLyoqXG4gKiBRdWVyeSBmb3IgcG9zdHMgcHVibGlzaGVkIGluIGEgZ2l2ZW4gbW9udGgsIGVpdGhlciBieSBwcm92aWRpbmcgdGhlIG51bWJlclxuICogb2YgdGhlIHJlcXVlc3RlZCBtb250aCAoZS5nLiAzKSwgb3IgdGhlIG1vbnRoJ3MgbmFtZSBhcyBhIHN0cmluZyAoZS5nLiBcIk1hcmNoXCIpXG4gKlxuICogQG1ldGhvZCBtb250aFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBtb250aCBJbnRlZ2VyIGZvciBtb250aCAoMSkgb3IgbW9udGggc3RyaW5nIChcIkphbnVhcnlcIilcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbmZpbHRlck1peGlucy5tb250aCA9IGZ1bmN0aW9uKCBtb250aCApIHtcblx0bGV0IG1vbnRoRGF0ZTtcblx0aWYgKCB0eXBlb2YgbW9udGggPT09ICdzdHJpbmcnICkge1xuXHRcdC8vIEFwcGVuZCBhIGFyYml0cmFyeSBkYXkgYW5kIHllYXIgdG8gdGhlIG1vbnRoIHRvIHBhcnNlIHRoZSBzdHJpbmcgaW50byBhIERhdGVcblx0XHRtb250aERhdGUgPSBuZXcgRGF0ZSggRGF0ZS5wYXJzZSggbW9udGggKyAnIDEsIDIwMTInICkgKTtcblxuXHRcdC8vIElmIHRoZSBnZW5lcmF0ZWQgRGF0ZSBpcyBOYU4sIHRoZW4gdGhlIHBhc3NlZCBzdHJpbmcgaXMgbm90IGEgdmFsaWQgbW9udGhcblx0XHRpZiAoIGlzTmFOKCBtb250aERhdGUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblxuXHRcdC8vIEpTIERhdGVzIGFyZSAwIGluZGV4ZWQsIGJ1dCB0aGUgV1AgQVBJIHJlcXVpcmVzIGEgMS1pbmRleGVkIGludGVnZXJcblx0XHRtb250aCA9IG1vbnRoRGF0ZS5nZXRNb250aCgpICsgMTtcblx0fVxuXG5cdC8vIElmIG1vbnRoIGlzIGEgTnVtYmVyLCBhZGQgdGhlIG1vbnRobnVtIGZpbHRlciB0byB0aGUgcmVxdWVzdFxuXHRpZiAoIHR5cGVvZiBtb250aCA9PT0gJ251bWJlcicgKSB7XG5cdFx0cmV0dXJuIGZpbHRlck1peGlucy5maWx0ZXIuY2FsbCggdGhpcywgJ21vbnRobnVtJywgbW9udGggKTtcblx0fVxuXG5cdHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGQgdGhlIGRheSBmaWx0ZXIgaW50byB0aGUgcmVxdWVzdCB0byByZXRyaWV2ZSBwb3N0cyBmb3IgYSBnaXZlbiBkYXlcbiAqXG4gKiBAbWV0aG9kIGRheVxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGRheSBJbnRlZ2VyIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBkYXkgcmVxdWVzdGVkXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5maWx0ZXJNaXhpbnMuZGF5ID0gZnVuY3Rpb24oIGRheSApIHtcblx0cmV0dXJuIGZpbHRlck1peGlucy5maWx0ZXIuY2FsbCggdGhpcywgJ2RheScsIGRheSApO1xufTtcblxuLyoqXG4gKiBTcGVjaWZ5IHRoYXQgd2UgYXJlIHJlcXVlc3RpbmcgYSBwYWdlIGJ5IGl0cyBwYXRoIChzcGVjaWZpYyB0byBQYWdlIHJlc291cmNlcylcbiAqXG4gKiBAbWV0aG9kIHBhdGhcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIFRoZSByb290LXJlbGF0aXZlIFVSTCBwYXRoIGZvciBhIHBhZ2VcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbmZpbHRlck1peGlucy5wYXRoID0gZnVuY3Rpb24oIHBhdGggKSB7XG5cdHJldHVybiBmaWx0ZXJNaXhpbnMuZmlsdGVyLmNhbGwoIHRoaXMsICdwYWdlbmFtZScsIHBhdGggKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZmlsdGVyTWl4aW5zO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgYXJndW1lbnQgaXMgYSBudW1iZXIsIGEgbnVtZXJpYyBzdHJpbmcsIG9yIGFuXG4gKiBhcnJheSBvZiBudW1iZXJzIG9yIG51bWVyaWMgc3RyaW5nc1xuICpcbiAqIEBtb2R1bGUgdXRpbC9hcmd1bWVudC1pcy1udW1lcmljXG4gKiBAcGFyYW0ge051bWJlcnxTdHJpbmd8TnVtYmVyW118U3RyaW5nW119IHZhbCBUaGUgdmFsdWUgdG8gaW5zcGVjdFxuICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUgcHJvcGVydHkgdG8gd2hpY2ggdGhlIG1peGluIG1ldGhvZCBzaG91bGQgYmUgYXNzaWduZWRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1peGluIFRoZSBtaXhpbiBtZXRob2RcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5jb25zdCBhcmd1bWVudElzTnVtZXJpYyA9ICggdmFsICkgPT4ge1xuXHRpZiAoIHR5cGVvZiB2YWwgPT09ICdudW1iZXInICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0aWYgKCB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyApIHtcblx0XHRyZXR1cm4gL15cXGQrJC8udGVzdCggdmFsICk7XG5cdH1cblxuXHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbCApICkge1xuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkrKyApIHtcblx0XHRcdC8vIEZhaWwgZWFybHkgaWYgYW55IGFyZ3VtZW50IGlzbid0IGRldGVybWluZWQgdG8gYmUgbnVtZXJpY1xuXHRcdFx0aWYgKCAhIGFyZ3VtZW50SXNOdW1lcmljKCB2YWxbIGkgXSApICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gSWYgaXQncyBub3QgYW4gYXJyYXksIGFuZCBub3QgYSBzdHJpbmcsIGFuZCBub3QgYSBudW1iZXIsIHdlIGRvbid0XG5cdC8vIGtub3cgd2hhdCB0byBkbyB3aXRoIGl0XG5cdHJldHVybiBmYWxzZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gYXJndW1lbnRJc051bWVyaWM7XG4iLCAiLyoqXG4gKiBGaWx0ZXIgbWV0aG9kcyB0aGF0IGNhbiBiZSBtaXhlZCBpbiB0byBhIHJlcXVlc3QgY29uc3RydWN0b3IncyBwcm90b3R5cGUgdG9cbiAqIGFsbG93IHRoYXQgcmVxdWVzdCB0byB0YWtlIGFkdmFudGFnZSBvZiB0b3AtbGV2ZWwgcXVlcnkgcGFyYW1ldGVycyBmb3JcbiAqIGNvbGxlY3Rpb24gZW5kcG9pbnRzLiBUaGVzZSBhcmUgbW9zdCByZWxldmFudCB0byBwb3N0cywgcGFnZXMgYW5kIENQVHMsIGJ1dFxuICogcGFnaW5hdGlvbiBoZWxwZXJzIGFyZSBhcHBsaWNhYmxlIHRvIGFueSBjb2xsZWN0aW9uLlxuICpcbiAqIEBtb2R1bGUgbWl4aW5zL3BhcmFtZXRlcnNcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBwYXJhbVNldHRlciA9IHJlcXVpcmUoICcuLi91dGlsL3BhcmFtZXRlci1zZXR0ZXInICk7XG5jb25zdCBhcmd1bWVudElzTnVtZXJpYyA9IHJlcXVpcmUoICcuLi91dGlsL2FyZ3VtZW50LWlzLW51bWVyaWMnICk7XG5cbi8qKlxuICogQG1peGluIHBhcmFtZXRlcnNcbiAqL1xuY29uc3QgcGFyYW1ldGVyTWl4aW5zID0ge307XG5cbmNvbnN0IGZpbHRlcnMgPSByZXF1aXJlKCAnLi9maWx0ZXJzJyApO1xuLy8gTmVlZGVkIGZvciAuYXV0aG9yIG1peGluLCBhcyBhdXRob3IgYnkgSUQgaXMgYSBwYXJhbWV0ZXIgYW5kIGJ5IE5hbWUgaXMgYSBmaWx0ZXJcbmNvbnN0IGZpbHRlciA9IGZpbHRlcnMuZmlsdGVyO1xuLy8gTmVlZGVkIGZvciAudGFnIGFuZCAuY2F0ZWdvcnkgbWl4aW4sIGZvciBkZXByZWNhdGVkIHF1ZXJ5LWJ5LXNsdWcgc3VwcG9ydFxuY29uc3QgdGF4b25vbXkgPSBmaWx0ZXJzLnRheG9ub215O1xuXG4vLyBQYXJhbWV0ZXIgTWV0aG9kc1xuLy8gPT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBRdWVyeSBmb3IgcG9zdHMgYnkgYSBzcGVjaWZpYyBhdXRob3IuXG4gKiBUaGlzIG1ldGhvZCB3aWxsIHJlcGxhY2UgYW55IHByZXZpb3VzICdhdXRob3InIHF1ZXJ5IHBhcmFtZXRlcnMgdGhhdCBoYWQgYmVlbiBzZXQuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgbWV0aG9kIHdpbGwgZWl0aGVyIHNldCB0aGUgXCJhdXRob3JcIiB0b3AtbGV2ZWwgcXVlcnkgcGFyYW1ldGVyLFxuICogb3IgZWxzZSB0aGUgXCJhdXRob3JfbmFtZVwiIGZpbHRlciBwYXJhbWV0ZXIgKHdoZW4gcXVlcnlpbmcgYnkgbmljZW5hbWUpOiB0aGlzIGlzXG4gKiBpcnJlZ3VsYXIgYXMgbW9zdCBwYXJhbWV0ZXIgaGVscGVyIG1ldGhvZHMgZWl0aGVyIHNldCBhIHRvcCBsZXZlbCBwYXJhbWV0ZXIgb3IgYVxuICogZmlsdGVyLCBub3QgYm90aC5cbiAqXG4gKiBfVXNhZ2Ugd2l0aCB0aGUgYXV0aG9yIG5pY2VuYW1lIHN0cmluZyBpcyBkZXByZWNhdGVkLl8gUXVlcnkgYnkgYXV0aG9yIElEIGluc3RlYWQuXG4gKiBJZiB0aGUgXCJyZXN0LWZpbHRlclwiIHBsdWdpbiBpcyBub3QgaW5zdGFsbGVkLCB0aGUgbmFtZSBxdWVyeSB3aWxsIGhhdmUgbm8gZWZmZWN0LlxuICpcbiAqIEBtZXRob2QgYXV0aG9yXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGF1dGhvciBUaGUgbmljZW5hbWUgb3IgSUQgZm9yIGEgcGFydGljdWxhciBhdXRob3JcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbnBhcmFtZXRlck1peGlucy5hdXRob3IgPSBmdW5jdGlvbiggYXV0aG9yICkge1xuXHRpZiAoIGF1dGhvciA9PT0gdW5kZWZpbmVkICkge1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cdGlmICggdHlwZW9mIGF1dGhvciA9PT0gJ3N0cmluZycgKSB7XG5cdFx0dGhpcy5wYXJhbSggJ2F1dGhvcicsIG51bGwgKTtcblx0XHRyZXR1cm4gZmlsdGVyLmNhbGwoIHRoaXMsICdhdXRob3JfbmFtZScsIGF1dGhvciApO1xuXHR9XG5cdGlmICggdHlwZW9mIGF1dGhvciA9PT0gJ251bWJlcicgKSB7XG5cdFx0ZmlsdGVyLmNhbGwoIHRoaXMsICdhdXRob3JfbmFtZScsIG51bGwgKTtcblx0XHRyZXR1cm4gdGhpcy5wYXJhbSggJ2F1dGhvcicsIGF1dGhvciApO1xuXHR9XG5cdGlmICggYXV0aG9yID09PSBudWxsICkge1xuXHRcdGZpbHRlci5jYWxsKCB0aGlzLCAnYXV0aG9yX25hbWUnLCBudWxsICk7XG5cdFx0cmV0dXJuIHRoaXMucGFyYW0oICdhdXRob3InLCBudWxsICk7XG5cdH1cblx0dGhyb3cgbmV3IEVycm9yKCAnYXV0aG9yIG11c3QgYmUgZWl0aGVyIGEgbmljZW5hbWUgc3RyaW5nIG9yIG51bWVyaWMgSUQnICk7XG59O1xuXG4vKipcbiAqIFNlYXJjaCBmb3IgaGllcmFyY2hpY2FsIHRheG9ub215IHRlcm1zIHRoYXQgYXJlIGNoaWxkcmVuIG9mIHRoZSBwYXJlbnQgdGVybVxuICogaW5kaWNhdGVkIGJ5IHRoZSBwcm92aWRlZCB0ZXJtIElEXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAgICAgd3AucGFnZXMoKS5wYXJlbnQoIDMgKS50aGVuKGZ1bmN0aW9uKCBwYWdlcyApIHtcbiAqICAgICAgIC8vIGNvbnNvbGUubG9nKCAnYWxsIG9mIHRoZXNlIHBhZ2VzIGFyZSBuZXN0ZWQgYmVsb3cgcGFnZSBJRCMzOicgKTtcbiAqICAgICAgIC8vIGNvbnNvbGUubG9nKCBwYWdlcyApO1xuICogICAgIH0pO1xuICpcbiAqICAgICB3cC5jYXRlZ29yaWVzKCkucGFyZW50KCA0MiApLnRoZW4oZnVuY3Rpb24oIGNhdGVnb3JpZXMgKSB7XG4gKiAgICAgICBjb25zb2xlLmxvZyggJ2FsbCBvZiB0aGVzZSBjYXRlZ29yaWVzIGFyZSBzdWItaXRlbXMgb2YgY2F0IElEIzQyOicgKTtcbiAqICAgICAgIGNvbnNvbGUubG9nKCBjYXRlZ29yaWVzICk7XG4gKiAgICAgfSk7XG4gKlxuICogQG1ldGhvZCBwYXJlbnRcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBwYXJlbnRJZCBUaGUgSUQgb2YgYSAoaGllcmFyY2hpY2FsKSB0YXhvbm9teSB0ZXJtXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMucGFyZW50ID0gcGFyYW1TZXR0ZXIoICdwYXJlbnQnICk7XG5cbi8qKlxuICogU3BlY2lmeSB0aGUgcG9zdCBmb3Igd2hpY2ggdG8gcmV0cmlldmUgdGVybXMgKHJlbGV2YW50IGZvciAqZS5nLiogdGF4b25vbXlcbiAqIGFuZCBjb21tZW50IGNvbGxlY3Rpb24gZW5kcG9pbnRzKS5cbiAqXG4gKiBAbWV0aG9kIHBvc3RcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gcG9zdCBUaGUgSUQgb2YgdGhlIHBvc3QgZm9yIHdoaWNoIHRvIHJldHJpZXZlIHRlcm1zXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMucG9zdCA9IHBhcmFtU2V0dGVyKCAncG9zdCcgKTtcblxuLyoqXG4gKiBTcGVjaWZ5IHRoZSBwYXNzd29yZCB0byB1c2UgdG8gYWNjZXNzIHRoZSBjb250ZW50IG9mIGEgcGFzc3dvcmQtcHJvdGVjdGVkIHBvc3RcbiAqXG4gKiBAbWV0aG9kIHBhc3N3b3JkXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgQSBzdHJpbmcgcGFzc3dvcmQgdG8gYWNjZXNzIHByb3RlY3RlZCBjb250ZW50IHdpdGhpbiBhIHBvc3RcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbnBhcmFtZXRlck1peGlucy5wYXNzd29yZCA9IHBhcmFtU2V0dGVyKCAncGFzc3dvcmQnICk7XG5cbi8qKlxuICogU3BlY2lmeSBmb3Igd2hpY2ggcG9zdCBzdGF0dXNlcyB0byByZXR1cm4gcG9zdHMgaW4gYSByZXNwb25zZSBjb2xsZWN0aW9uXG4gKlxuICogU2VlIGh0dHBzOi8vY29kZXgud29yZHByZXNzLm9yZy9Qb3N0X1N0YXR1cyAtLSB0aGUgZGVmYXVsdCBwb3N0IHN0YXR1c1xuICogdmFsdWVzIGluIFdvcmRQcmVzcyB3aGljaCBhcmUgbW9zdCByZWxldmFudCB0byB0aGUgQVBJIGFyZSAncHVibGlzaCcsXG4gKiAnZnV0dXJlJywgJ2RyYWZ0JywgJ3BlbmRpbmcnLCAncHJpdmF0ZScsIGFuZCAndHJhc2gnLiBUaGlzIHBhcmFtZXRlciBhbHNvXG4gKiBzdXBwb3J0cyBwYXNzaW5nIHRoZSBzcGVjaWFsIHZhbHVlIFwiYW55XCIgdG8gcmV0dXJuIGFsbCBzdGF0dXNlcy5cbiAqXG4gKiBAbWV0aG9kIHN0YXR1c1xuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHN0YXR1cyBBIHN0YXR1cyBuYW1lIHN0cmluZyBvciBhcnJheSBvZiBzdHJpbmdzXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMuc3RhdHVzID0gcGFyYW1TZXR0ZXIoICdzdGF0dXMnICk7XG5cbi8qKlxuICogU3BlY2lmeSB3aGV0aGVyIHRvIHJldHVybiBvbmx5LCBvciB0byBjb21wbGV0ZWx5IGV4Y2x1ZGUsIHN0aWNreSBwb3N0c1xuICpcbiAqIEBtZXRob2Qgc3RpY2t5XG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHN0aWNreSBBIGJvb2xlYW4gdmFsdWUgZm9yIHdoZXRoZXIgT05MWSBzdGlja3kgcG9zdHMgKHRydWUpIG9yXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBOTyBzdGlja3kgcG9zdHMgKGZhbHNlKSBzaG91bGQgYmUgcmV0dXJuZWQgaW4gdGhlIHF1ZXJ5XG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMuc3RpY2t5ID0gcGFyYW1TZXR0ZXIoICdzdGlja3knICk7XG5cbi8vIFRheG9ub215IFRlcm0gRmlsdGVyIE1ldGhvZHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBSZXRyaWV2ZSBvbmx5IHJlY29yZHMgYXNzb2NpYXRlZCB3aXRoIG9uZSBvZiB0aGUgcHJvdmlkZWQgY2F0ZWdvcmllc1xuICpcbiAqIEBtZXRob2QgY2F0ZWdvcmllc1xuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfEFycmF5fSBjYXRlZ29yaWVzIEEgdGVybSBJRCBpbnRlZ2VyIG9yIG51bWVyaWMgc3RyaW5nLCBvciBhcnJheSB0aGVyZW9mXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMuY2F0ZWdvcmllcyA9IHBhcmFtU2V0dGVyKCAnY2F0ZWdvcmllcycgKTtcblxuLyoqXG4gKiBMZWdhY3kgd3JhcHBlciBmb3IgYC5jYXRlZ29yaWVzKClgIHRoYXQgdXNlcyBgP2ZpbHRlcmAgdG8gcXVlcnkgYnkgc2x1ZyBpZiBhdmFpbGFibGVcbiAqXG4gKiBAbWV0aG9kIHRhZ1xuICogQGRlcHJlY2F0ZWQgVXNlIGAuY2F0ZWdvcmllcygpYCBhbmQgcXVlcnkgYnkgY2F0ZWdvcnkgSURzXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8QXJyYXl9IHRhZyBBIGNhdGVnb3J5IHRlcm0gc2x1ZyBzdHJpbmcsIG51bWVyaWMgSUQsIG9yIGFycmF5IG9mIG51bWVyaWMgSURzXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMuY2F0ZWdvcnkgPSBmdW5jdGlvbiggY2F0ZWdvcnkgKSB7XG5cdGlmICggYXJndW1lbnRJc051bWVyaWMoIGNhdGVnb3J5ICkgKSB7XG5cdFx0cmV0dXJuIHBhcmFtZXRlck1peGlucy5jYXRlZ29yaWVzLmNhbGwoIHRoaXMsIGNhdGVnb3J5ICk7XG5cdH1cblx0cmV0dXJuIHRheG9ub215LmNhbGwoIHRoaXMsICdjYXRlZ29yeScsIGNhdGVnb3J5ICk7XG59O1xuXG4vKipcbiAqIEV4Y2x1ZGUgcmVjb3JkcyBhc3NvY2lhdGVkIHdpdGggYW55IG9mIHRoZSBwcm92aWRlZCBjYXRlZ29yeSBJRHNcbiAqXG4gKiBAbWV0aG9kIGV4Y2x1ZGVDYXRlZ29yaWVzXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8QXJyYXl9IGNhdGVnb3J5IEEgdGVybSBJRCBpbnRlZ2VyIG9yIG51bWVyaWMgc3RyaW5nLCBvciBhcnJheSB0aGVyZW9mXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMuZXhjbHVkZUNhdGVnb3JpZXMgPSBwYXJhbVNldHRlciggJ2NhdGVnb3JpZXNfZXhjbHVkZScgKTtcblxuLyoqXG4gKiBSZXRyaWV2ZSBvbmx5IHJlY29yZHMgYXNzb2NpYXRlZCB3aXRoIG9uZSBvZiB0aGUgcHJvdmlkZWQgdGFnIElEc1xuICpcbiAqIEBtZXRob2QgdGFnc1xuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfEFycmF5fSB0YWdzIEEgdGVybSBJRCBpbnRlZ2VyIG9yIG51bWVyaWMgc3RyaW5nLCBvciBhcnJheSB0aGVyZW9mXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMudGFncyA9IHBhcmFtU2V0dGVyKCAndGFncycgKTtcblxuLyoqXG4gKiBMZWdhY3kgd3JhcHBlciBmb3IgYC50YWdzKClgIHRoYXQgdXNlcyBgP2ZpbHRlcmAgdG8gcXVlcnkgYnkgc2x1ZyBpZiBhdmFpbGFibGVcbiAqXG4gKiBAbWV0aG9kIHRhZ1xuICogQGRlcHJlY2F0ZWQgVXNlIGAudGFncygpYCBhbmQgcXVlcnkgYnkgdGVybSBJRHNcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcnxBcnJheX0gdGFnIEEgdGFnIHRlcm0gc2x1ZyBzdHJpbmcsIG51bWVyaWMgSUQsIG9yIGFycmF5IG9mIG51bWVyaWMgSURzXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMudGFnID0gZnVuY3Rpb24oIHRhZyApIHtcblx0aWYgKCBhcmd1bWVudElzTnVtZXJpYyggdGFnICkgKSB7XG5cdFx0cmV0dXJuIHBhcmFtZXRlck1peGlucy50YWdzLmNhbGwoIHRoaXMsIHRhZyApO1xuXHR9XG5cdHJldHVybiB0YXhvbm9teS5jYWxsKCB0aGlzLCAndGFnJywgdGFnICk7XG59O1xuXG4vKipcbiAqIEV4Y2x1ZGUgcmVjb3JkcyBhc3NvY2lhdGVkIHdpdGggYW55IG9mIHRoZSBwcm92aWRlZCB0YWcgSURzXG4gKlxuICogQG1ldGhvZCBleGNsdWRlVGFnc1xuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfEFycmF5fSBjYXRlZ29yeSBBIHRlcm0gSUQgaW50ZWdlciBvciBudW1lcmljIHN0cmluZywgb3IgYXJyYXkgdGhlcmVvZlxuICogQHJldHVybnMgVGhlIHJlcXVlc3QgaW5zdGFuY2UgKGZvciBjaGFpbmluZylcbiAqL1xucGFyYW1ldGVyTWl4aW5zLmV4Y2x1ZGVUYWdzID0gcGFyYW1TZXR0ZXIoICd0YWdzX2V4Y2x1ZGUnICk7XG5cbi8vIERhdGUgTWV0aG9kc1xuLy8gPT09PT09PT09PT09XG5cbi8qKlxuICogUmV0cmlldmUgb25seSByZWNvcmRzIHB1Ymxpc2hlZCBiZWZvcmUgYSBzcGVjaWZpZWQgZGF0ZVxuICpcbiAqIEBleGFtcGxlIDxjYXB0aW9uPlByb3ZpZGUgYW4gSVNPIDg2MDEtY29tcGxpYW50IGRhdGUgc3RyaW5nPC9jYXB0aW9uPlxuICpcbiAqICAgICB3cC5wb3N0cygpLmJlZm9yZSgnMjAxNi0wMy0yMicpLi4uXG4gKlxuICogQGV4YW1wbGUgPGNhcHRpb24+UHJvdmlkZSBhIEphdmFTY3JpcHQgRGF0ZSBvYmplY3Q8L2NhcHRpb24+XG4gKlxuICogICAgIHdwLnBvc3RzKCkuYmVmb3JlKCBuZXcgRGF0ZSggMjAxNiwgMDMsIDIyICkgKS4uLlxuICpcbiAqIEBtZXRob2QgYmVmb3JlXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge1N0cmluZ3xEYXRlfSBkYXRlIEFuIElTTyA4NjAxLWNvbXBsaWFudCBkYXRlIHN0cmluZywgb3IgRGF0ZSBvYmplY3RcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbnBhcmFtZXRlck1peGlucy5iZWZvcmUgPSBmdW5jdGlvbiggZGF0ZSApIHtcblx0cmV0dXJuIHRoaXMucGFyYW0oICdiZWZvcmUnLCBuZXcgRGF0ZSggZGF0ZSApLnRvSVNPU3RyaW5nKCkgKTtcbn07XG5cbi8qKlxuICogUmV0cmlldmUgb25seSByZWNvcmRzIHB1Ymxpc2hlZCBhZnRlciBhIHNwZWNpZmllZCBkYXRlXG4gKlxuICogQGV4YW1wbGUgPGNhcHRpb24+UHJvdmlkZSBhbiBJU08gODYwMS1jb21wbGlhbnQgZGF0ZSBzdHJpbmc8L2NhcHRpb24+XG4gKlxuICogICAgIHdwLnBvc3RzKCkuYWZ0ZXIoJzE5ODYtMDMtMjInKS4uLlxuICpcbiAqIEBleGFtcGxlIDxjYXB0aW9uPlByb3ZpZGUgYSBKYXZhU2NyaXB0IERhdGUgb2JqZWN0PC9jYXB0aW9uPlxuICpcbiAqICAgICB3cC5wb3N0cygpLmFmdGVyKCBuZXcgRGF0ZSggMTk4NiwgMDMsIDIyICkgKS4uLlxuICpcbiAqIEBtZXRob2QgYWZ0ZXJcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7U3RyaW5nfERhdGV9IGRhdGUgQW4gSVNPIDg2MDEtY29tcGxpYW50IGRhdGUgc3RyaW5nLCBvciBEYXRlIG9iamVjdFxuICogQHJldHVybnMgVGhlIHJlcXVlc3QgaW5zdGFuY2UgKGZvciBjaGFpbmluZylcbiAqL1xucGFyYW1ldGVyTWl4aW5zLmFmdGVyID0gZnVuY3Rpb24oIGRhdGUgKSB7XG5cdHJldHVybiB0aGlzLnBhcmFtKCAnYWZ0ZXInLCBuZXcgRGF0ZSggZGF0ZSApLnRvSVNPU3RyaW5nKCkgKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyYW1ldGVyTWl4aW5zO1xuIiwgIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIG1hcHBpbmcgYmV0d2VlbiBzdXBwb3J0ZWQgR0VUIHJlcXVlc3QgcXVlcnkgcGFyYW1ldGVyXG4gKiBhcmd1bWVudHMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgbWl4aW4sIGlmIGF2YWlsYWJsZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBmaWx0ZXJNaXhpbnMgPSByZXF1aXJlKCAnLi9maWx0ZXJzJyApO1xuY29uc3QgcGFyYW1ldGVyTWl4aW5zID0gcmVxdWlyZSggJy4vcGFyYW1ldGVycycgKTtcblxuLy8gYC5jb250ZXh0YCwgYC5lbWJlZGAsIGFuZCBgLmVkaXRgIChhIHNob3J0Y3V0IGZvciBgY29udGV4dChlZGl0LCB0cnVlKWApIGFyZVxuLy8gc3VwcG9ydGVkIGJ5IGRlZmF1bHQgaW4gV1BSZXF1ZXN0LCBhcyBpcyB0aGUgYmFzZSBgLnBhcmFtYCBtZXRob2QuIEFueSBHRVRcbi8vIGFyZ3VtZW50IHBhcmFtZXRlcnMgbm90IGNvdmVyZWQgaGVyZSBtdXN0IGJlIHNldCBkaXJlY3RseSBieSB1c2luZyBgLnBhcmFtYC5cblxuLy8gVGhlIGluaXRpYWwgbWl4aW5zIHdlIGRlZmluZSBhcmUgdGhlIG9uZXMgd2hlcmUgZWl0aGVyIGEgc2luZ2xlIHByb3BlcnR5XG4vLyBhY2NlcHRlZCBieSB0aGUgQVBJIGVuZHBvaW50IGNvcnJlc3BvbmRzIHRvIG11bHRpcGxlIGluZGl2aWR1YWwgbWl4aW5cbi8vIGZ1bmN0aW9ucywgb3Igd2hlcmUgdGhlIG5hbWUgd2UgdXNlIGZvciB0aGUgZnVuY3Rpb24gZGl2ZXJnZXMgZnJvbSB0aGF0XG4vLyBvZiB0aGUgcXVlcnkgcGFyYW1ldGVyIHRoYXQgdGhlIG1peGluIHNldHMuXG5jb25zdCBtaXhpbnMgPSB7XG5cdGNhdGVnb3JpZXM6IHtcblx0XHRjYXRlZ29yaWVzOiBwYXJhbWV0ZXJNaXhpbnMuY2F0ZWdvcmllcyxcblx0XHQvKiogQGRlcHJlY2F0ZWQgdXNlIC5jYXRlZ29yaWVzKCkgKi9cblx0XHRjYXRlZ29yeTogcGFyYW1ldGVyTWl4aW5zLmNhdGVnb3J5LFxuXHR9LFxuXHRjYXRlZ29yaWVzX2V4Y2x1ZGU6IHtcblx0XHRleGNsdWRlQ2F0ZWdvcmllczogcGFyYW1ldGVyTWl4aW5zLmV4Y2x1ZGVDYXRlZ29yaWVzLFxuXHR9LFxuXHR0YWdzOiB7XG5cdFx0dGFnczogcGFyYW1ldGVyTWl4aW5zLnRhZ3MsXG5cdFx0LyoqIEBkZXByZWNhdGVkIHVzZSAudGFncygpICovXG5cdFx0dGFnOiBwYXJhbWV0ZXJNaXhpbnMudGFnLFxuXHR9LFxuXHR0YWdzX2V4Y2x1ZGU6IHtcblx0XHRleGNsdWRlVGFnczogcGFyYW1ldGVyTWl4aW5zLmV4Y2x1ZGVUYWdzLFxuXHR9LFxuXHRmaWx0ZXI6IGZpbHRlck1peGlucyxcblx0cG9zdDoge1xuXHRcdHBvc3Q6IHBhcmFtZXRlck1peGlucy5wb3N0LFxuXHRcdC8qKiBAZGVwcmVjYXRlZCB1c2UgLnBvc3QoKSAqL1xuXHRcdGZvclBvc3Q6IHBhcmFtZXRlck1peGlucy5wb3N0LFxuXHR9LFxufTtcblxuLy8gQWxsIG9mIHRoZXNlIHBhcmFtZXRlciBtaXhpbnMgdXNlIGEgc2V0dGVyIGZ1bmN0aW9uIG5hbWVkIGlkZW50aWNhbGx5IHRvIHRoZVxuLy8gcHJvcGVydHkgdGhhdCB0aGUgZnVuY3Rpb24gc2V0cywgYnV0IHRoZXkgbXVzdCBzdGlsbCBiZSBwcm92aWRlZCBpbiB3cmFwcGVyXG4vLyBvYmplY3RzIHNvIHRoYXQgdGhlIG1peGluIGNhbiBiZSBgLmFzc2lnbmBlZCBjb3JyZWN0bHk6IHdyYXAgJiBhc3NpZ24gZWFjaFxuLy8gc2V0dGVyIHRvIHRoZSBtaXhpbnMgZGljdGlvbmFyeSBvYmplY3QuXG5bXG5cdCdhZnRlcicsXG5cdCdhdXRob3InLFxuXHQnYmVmb3JlJyxcblx0J3BhcmVudCcsXG5cdCdwYXNzd29yZCcsXG5cdCdzdGF0dXMnLFxuXHQnc3RpY2t5Jyxcbl0uZm9yRWFjaCggKCBtaXhpbk5hbWUgKSA9PiB7XG5cdG1peGluc1sgbWl4aW5OYW1lIF0gPSB7fTtcblx0bWl4aW5zWyBtaXhpbk5hbWUgXVsgbWl4aW5OYW1lIF0gPSBwYXJhbWV0ZXJNaXhpbnNbIG1peGluTmFtZSBdO1xufSApO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1peGlucztcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQXVnbWVudCBhbiBvYmplY3QgKHNwZWNpZmljYWxseSBhIHByb3RvdHlwZSkgd2l0aCBhIG1peGluIG1ldGhvZFxuICogKHRoZSBwcm92aWRlZCBvYmplY3QgaXMgbXV0YXRlZCBieSByZWZlcmVuY2UpXG4gKlxuICogQG1vZHVsZSB1dGlsL2FwcGx5LW1peGluXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgKHVzdWFsbHkgYSBwcm90b3R5cGUpIHRvIGF1Z21lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIHByb3BlcnR5IHRvIHdoaWNoIHRoZSBtaXhpbiBtZXRob2Qgc2hvdWxkIGJlIGFzc2lnbmVkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtaXhpbiBUaGUgbWl4aW4gbWV0aG9kXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAoIG9iaiwga2V5LCBtaXhpbiApID0+IHtcblx0Ly8gV2lsbCBub3Qgb3ZlcndyaXRlIGV4aXN0aW5nIG1ldGhvZHNcblx0aWYgKCB0eXBlb2YgbWl4aW4gPT09ICdmdW5jdGlvbicgJiYgISBvYmpbIGtleSBdICkge1xuXHRcdG9ialsga2V5IF0gPSBtaXhpbjtcblx0fVxufTtcbiIsICIvKipcbiAqIEBtb2R1bGUgZW5kcG9pbnQtcmVxdWVzdFxuICovXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IFdQUmVxdWVzdCA9IHJlcXVpcmUoICcuL2NvbnN0cnVjdG9ycy93cC1yZXF1ZXN0JyApO1xuY29uc3QgbWl4aW5zID0gcmVxdWlyZSggJy4vbWl4aW5zJyApO1xuXG5jb25zdCBhcHBseU1peGluID0gcmVxdWlyZSggJy4vdXRpbC9hcHBseS1taXhpbicgKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gZW5kcG9pbnQgcmVxdWVzdCBoYW5kbGVyIGNvbnN0cnVjdG9yIGZvciBhIHNwZWNpZmljIHJlc291cmNlIHRyZWVcbiAqXG4gKiBAbWV0aG9kIGNyZWF0ZVxuICogQHBhcmFtIHtPYmplY3R9IGhhbmRsZXJTcGVjIEEgcmVzb3VyY2UgaGFuZGxlciBzcGVjaWZpY2F0aW9uIG9iamVjdFxuICogQHBhcmFtIHtTdHJpbmd9IHJlc291cmNlICAgIFRoZSByb290IHJlc291cmNlIG9mIHJlcXVlc3RzIGNyZWF0ZWQgZnJvbSB0aGUgcmV0dXJuZWQgZmFjdG9yeVxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSAgIFRoZSBuYW1lc3BhY2Ugc3RyaW5nIGZvciB0aGUgcmV0dXJuZWQgZmFjdG9yeSdzIGhhbmRsZXJzXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgY29uc3RydWN0b3IgaW5oZXJpdGluZyBmcm9tIHtAbGluayBXUFJlcXVlc3R9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVuZHBvaW50UmVxdWVzdCggaGFuZGxlclNwZWMsIHJlc291cmNlLCBuYW1lc3BhY2UgKSB7XG5cblx0Ly8gQ3JlYXRlIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgdGhpcyBlbmRwb2ludFxuXHRjbGFzcyBFbmRwb2ludFJlcXVlc3QgZXh0ZW5kcyBXUFJlcXVlc3Qge1xuXHRcdGNvbnN0cnVjdG9yKCBvcHRpb25zICkge1xuXHRcdFx0c3VwZXIoIG9wdGlvbnMgKTtcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBTZW1pLXByaXZhdGUgaW5zdGFuY2UgcHJvcGVydHkgc3BlY2lmeWluZyB0aGUgYXZhaWxhYmxlIFVSTCBwYXRoIG9wdGlvbnNcblx0XHRcdCAqIGZvciB0aGlzIGVuZHBvaW50IHJlcXVlc3QgaGFuZGxlciwga2V5ZWQgYnkgYXNjZW5kaW5nIHdob2xlIG51bWJlcnMuXG5cdFx0XHQgKlxuXHRcdFx0ICogQHByb3BlcnR5IF9sZXZlbHNcblx0XHRcdCAqIEB0eXBlIHtvYmplY3R9XG5cdFx0XHQgKiBAcHJpdmF0ZVxuXHRcdFx0ICovXG5cdFx0XHR0aGlzLl9sZXZlbHMgPSBoYW5kbGVyU3BlYy5fbGV2ZWxzO1xuXG5cdFx0XHQvLyBDb25maWd1cmUgaGFuZGxlciBmb3IgdGhpcyBlbmRwb2ludCdzIHJvb3QgVVJMIHBhdGggJiBzZXQgbmFtZXNwYWNlXG5cdFx0XHR0aGlzXG5cdFx0XHRcdC5zZXRQYXRoUGFydCggMCwgcmVzb3VyY2UgKVxuXHRcdFx0XHQubmFtZXNwYWNlKCBuYW1lc3BhY2UgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBNaXggaW4gYWxsIGF2YWlsYWJsZSBzaG9ydGN1dCBtZXRob2RzIGZvciBHRVQgcmVxdWVzdCBxdWVyeSBwYXJhbWV0ZXJzIHRoYXRcblx0Ly8gYXJlIHZhbGlkIHdpdGhpbiB0aGlzIGVuZHBvaW50IHRyZWVcblx0aWYgKCB0eXBlb2YgaGFuZGxlclNwZWMuX2dldEFyZ3MgPT09ICdvYmplY3QnICkge1xuXHRcdE9iamVjdC5rZXlzKCBoYW5kbGVyU3BlYy5fZ2V0QXJncyApLmZvckVhY2goICggc3VwcG9ydGVkUXVlcnlQYXJhbSApID0+IHtcblx0XHRcdGNvbnN0IG1peGluc0ZvclBhcmFtID0gbWl4aW5zWyBzdXBwb3J0ZWRRdWVyeVBhcmFtIF07XG5cblx0XHRcdC8vIE9ubHkgcHJvY2VlZCBpZiB0aGVyZSBpcyBhIG1peGluIGF2YWlsYWJsZSBBTkQgdGhlIHNwZWNpZmllZCBtaXhpbnMgd2lsbFxuXHRcdFx0Ly8gbm90IG92ZXJ3cml0ZSBhbnkgcHJldmlvdXNseS1zZXQgcHJvdG90eXBlIG1ldGhvZFxuXHRcdFx0aWYgKCB0eXBlb2YgbWl4aW5zRm9yUGFyYW0gPT09ICdvYmplY3QnICkge1xuXHRcdFx0XHRPYmplY3Qua2V5cyggbWl4aW5zRm9yUGFyYW0gKS5mb3JFYWNoKCAoIG1ldGhvZE5hbWUgKSA9PiB7XG5cdFx0XHRcdFx0YXBwbHlNaXhpbiggRW5kcG9pbnRSZXF1ZXN0LnByb3RvdHlwZSwgbWV0aG9kTmFtZSwgbWl4aW5zRm9yUGFyYW1bIG1ldGhvZE5hbWUgXSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG5cblx0T2JqZWN0LmtleXMoIGhhbmRsZXJTcGVjLl9zZXR0ZXJzICkuZm9yRWFjaCggKCBzZXR0ZXJGbk5hbWUgKSA9PiB7XG5cdFx0Ly8gT25seSBhc3NpZ24gc2V0dGVyIGZ1bmN0aW9ucyBpZiB0aGV5IGRvIG5vdCBvdmVyd3JpdGUgcHJlZXhpc3RpbmcgbWV0aG9kc1xuXHRcdGlmICggISBFbmRwb2ludFJlcXVlc3QucHJvdG90eXBlWyBzZXR0ZXJGbk5hbWUgXSApIHtcblx0XHRcdEVuZHBvaW50UmVxdWVzdC5wcm90b3R5cGVbIHNldHRlckZuTmFtZSBdID0gaGFuZGxlclNwZWMuX3NldHRlcnNbIHNldHRlckZuTmFtZSBdO1xuXHRcdH1cblx0fSApO1xuXG5cdHJldHVybiBFbmRwb2ludFJlcXVlc3Q7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRjcmVhdGU6IGNyZWF0ZUVuZHBvaW50UmVxdWVzdCxcbn07XG4iLCAiLyoqXG4gKiBUYWtlIGEgV1Agcm91dGUgc3RyaW5nICh3aXRoIFBDUkUgbmFtZWQgY2FwdHVyZSBncm91cHMpLCBgc3VjaCBhcyAvYXV0aG9yLyg/UDxpZD5cXGQrKWAsXG4gKiBhbmQgZ2VuZXJhdGUgcmVxdWVzdCBoYW5kbGVyIGZhY3RvcnkgbWV0aG9kcyBmb3IgZWFjaCByZXByZXNlbnRlZCBlbmRwb2ludC5cbiAqXG4gKiBAbW9kdWxlIGVuZHBvaW50LWZhY3Rvcmllc1xuICovXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IGNyZWF0ZVJlc291cmNlSGFuZGxlclNwZWMgPSByZXF1aXJlKCAnLi9yZXNvdXJjZS1oYW5kbGVyLXNwZWMnICkuY3JlYXRlO1xuY29uc3QgY3JlYXRlRW5kcG9pbnRSZXF1ZXN0ID0gcmVxdWlyZSggJy4vZW5kcG9pbnQtcmVxdWVzdCcgKS5jcmVhdGU7XG5jb25zdCBvYmplY3RSZWR1Y2UgPSByZXF1aXJlKCAnLi91dGlsL29iamVjdC1yZWR1Y2UnICk7XG5cbi8qKlxuICogR2l2ZW4gYW4gYXJyYXkgb2Ygcm91dGUgZGVmaW5pdGlvbnMgYW5kIGEgc3BlY2lmaWMgbmFtZXNwYWNlIGZvciB0aG9zZSByb3V0ZXMsXG4gKiByZWN1cnNlIHRocm91Z2ggdGhlIG5vZGUgdHJlZSByZXByZXNlbnRpbmcgYWxsIHBvc3NpYmxlIHJvdXRlcyB3aXRoaW4gdGhlXG4gKiBwcm92aWRlZCBuYW1lc3BhY2UgdG8gZGVmaW5lIHBhdGggdmFsdWUgc2V0dGVycyAoYW5kIGNvcnJlc3BvbmRpbmcgcHJvcGVydHlcbiAqIHZhbGlkYXRvcnMpIGZvciBhbGwgcG9zc2libGUgdmFyaWFudHMgb2YgZWFjaCByZXNvdXJjZSdzIEFQSSBlbmRwb2ludHMuXG4gKlxuICogQG1ldGhvZCBnZW5lcmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVzcGFjZSAgICAgICAgIFRoZSBuYW1lc3BhY2Ugc3RyaW5nIGZvciB0aGVzZSByb3V0ZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSByb3V0ZXNCeU5hbWVzcGFjZSBBIGRpY3Rpb25hcnkgb2YgbmFtZXNwYWNlIC0gcm91dGUgZGVmaW5pdGlvblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdCBwYWlycyBhcyBnZW5lcmF0ZWQgZnJvbSBidWlsZFJvdXRlVHJlZSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBlYWNoIHJvdXRlIGRlZmluaXRpb24gb2JqZWN0IGlzIGEgZGljdGlvbmFyeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWVkIGJ5IHJvdXRlIGRlZmluaXRpb24gc3RyaW5nc1xuICogQHJldHVybnMge29iamVjdH0gQSBkaWN0aW9uYXJ5IG9mIGVuZHBvaW50IHJlcXVlc3QgaGFuZGxlciBmYWN0b3JpZXNcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVFbmRwb2ludEZhY3Rvcmllcyggcm91dGVzQnlOYW1lc3BhY2UgKSB7XG5cblx0cmV0dXJuIG9iamVjdFJlZHVjZSggcm91dGVzQnlOYW1lc3BhY2UsICggbmFtZXNwYWNlcywgcm91dGVEZWZpbml0aW9ucywgbmFtZXNwYWNlICkgPT4ge1xuXG5cdFx0Ly8gQ3JlYXRlXG5cdFx0bmFtZXNwYWNlc1sgbmFtZXNwYWNlIF0gPSBvYmplY3RSZWR1Y2UoIHJvdXRlRGVmaW5pdGlvbnMsICggaGFuZGxlcnMsIHJvdXRlRGVmLCByZXNvdXJjZSApID0+IHtcblxuXHRcdFx0Y29uc3QgaGFuZGxlclNwZWMgPSBjcmVhdGVSZXNvdXJjZUhhbmRsZXJTcGVjKCByb3V0ZURlZiwgcmVzb3VyY2UgKTtcblxuXHRcdFx0Y29uc3QgRW5kcG9pbnRSZXF1ZXN0ID0gY3JlYXRlRW5kcG9pbnRSZXF1ZXN0KCBoYW5kbGVyU3BlYywgcmVzb3VyY2UsIG5hbWVzcGFjZSApO1xuXG5cdFx0XHQvLyBcImhhbmRsZXJcIiBvYmplY3QgaXMgbm93IGZ1bGx5IHByZXBhcmVkOyBjcmVhdGUgdGhlIGZhY3RvcnkgbWV0aG9kIHRoYXRcblx0XHRcdC8vIHdpbGwgaW5zdGFudGlhdGUgYW5kIHJldHVybiBhIGhhbmRsZXIgaW5zdGFuY2Vcblx0XHRcdGhhbmRsZXJzWyByZXNvdXJjZSBdID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0XHRcdHJldHVybiBuZXcgRW5kcG9pbnRSZXF1ZXN0KCB7XG5cdFx0XHRcdFx0Li4udGhpcy5fb3B0aW9ucyxcblx0XHRcdFx0XHQuLi5vcHRpb25zLFxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBFeHBvc2UgdGhlIGNvbnN0cnVjdG9yIGFzIGEgcHJvcGVydHkgb24gdGhlIGZhY3RvcnkgZnVuY3Rpb24sIHNvIHRoYXRcblx0XHRcdC8vIGF1dG8tZ2VuZXJhdGVkIGVuZHBvaW50IHJlcXVlc3QgY29uc3RydWN0b3JzIG1heSBiZSBmdXJ0aGVyIGN1c3RvbWl6ZWRcblx0XHRcdC8vIHdoZW4gbmVlZGVkXG5cdFx0XHRoYW5kbGVyc1sgcmVzb3VyY2UgXS5DdG9yID0gRW5kcG9pbnRSZXF1ZXN0O1xuXG5cdFx0XHRyZXR1cm4gaGFuZGxlcnM7XG5cdFx0fSwge30gKTtcblxuXHRcdHJldHVybiBuYW1lc3BhY2VzO1xuXHR9LCB7fSApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0Z2VuZXJhdGU6IGdlbmVyYXRlRW5kcG9pbnRGYWN0b3JpZXMsXG59O1xuIiwgIihmdW5jdGlvbiAobmFtZSwgZGVmaW5pdGlvbiwgY29udGV4dCkge1xuXG4gIC8vdHJ5IENvbW1vbkpTLCB0aGVuIEFNRCAocmVxdWlyZS5qcyksIHRoZW4gdXNlIGdsb2JhbC5cblxuICBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykgbW9kdWxlLmV4cG9ydHMgPSBkZWZpbml0aW9uKCk7XG4gIGVsc2UgaWYgKHR5cGVvZiBjb250ZXh0WydkZWZpbmUnXSA9PSAnZnVuY3Rpb24nICYmIGNvbnRleHRbJ2RlZmluZSddWydhbWQnXSkgZGVmaW5lKGRlZmluaXRpb24pO1xuICBlbHNlIGNvbnRleHRbbmFtZV0gPSBkZWZpbml0aW9uKCk7XG5cbn0pKCdsaScsIGZ1bmN0aW9uICgpIHtcbiAgLy8gY29tcGlsZSByZWd1bGFyIGV4cHJlc3Npb25zIGFoZWFkIG9mIHRpbWUgZm9yIGVmZmljaWVuY3lcbiAgdmFyIHJlbHNSZWdFeHAgPSAvXjtcXHMqKFteXCI9XSspPSg/OlwiKFteXCJdKylcInwoW15cIjssXSspKD86WzssXXwkKSkvO1xuICB2YXIgc291cmNlUmVnRXhwID0gL148KFtePl0qKT4vO1xuICB2YXIgZGVsaW1pdGVyUmVnRXhwID0gL15cXHMqLFxccyovO1xuXG4gIHJldHVybiB7XG4gICAgcGFyc2U6IGZ1bmN0aW9uIChsaW5rc0hlYWRlciwgb3B0aW9ucykge1xuICAgICAgdmFyIG1hdGNoO1xuICAgICAgdmFyIHNvdXJjZTtcbiAgICAgIHZhciByZWxzO1xuICAgICAgdmFyIGV4dGVuZGVkID0gb3B0aW9ucyAmJiBvcHRpb25zLmV4dGVuZGVkIHx8IGZhbHNlO1xuICAgICAgdmFyIGxpbmtzID0gW107XG5cbiAgICAgIHdoaWxlIChsaW5rc0hlYWRlcikge1xuICAgICAgICBsaW5rc0hlYWRlciA9IGxpbmtzSGVhZGVyLnRyaW0oKTtcblxuICAgICAgICAvLyBQYXJzZSBgPGxpbms+YFxuICAgICAgICBzb3VyY2UgPSBzb3VyY2VSZWdFeHAuZXhlYyhsaW5rc0hlYWRlcik7XG4gICAgICAgIGlmICghc291cmNlKSBicmVhaztcblxuICAgICAgICB2YXIgY3VycmVudCA9IHtcbiAgICAgICAgICBsaW5rOiBzb3VyY2VbMV1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBNb3ZlIGN1cnNvclxuICAgICAgICBsaW5rc0hlYWRlciA9IGxpbmtzSGVhZGVyLnNsaWNlKHNvdXJjZVswXS5sZW5ndGgpO1xuXG4gICAgICAgIC8vIFBhcnNlIGA7IGF0dHI9cmVsYXRpb25gIGFuZCBgOyBhdHRyPVwicmVsYXRpb25cImBcblxuICAgICAgICB2YXIgbmV4dERlbGltaXRlciA9IGxpbmtzSGVhZGVyLm1hdGNoKGRlbGltaXRlclJlZ0V4cCk7XG4gICAgICAgIHdoaWxlKGxpbmtzSGVhZGVyICYmICghbmV4dERlbGltaXRlciB8fCBuZXh0RGVsaW1pdGVyLmluZGV4ID4gMCkpIHtcbiAgICAgICAgICBtYXRjaCA9IHJlbHNSZWdFeHAuZXhlYyhsaW5rc0hlYWRlcik7XG4gICAgICAgICAgaWYgKCFtYXRjaCkgYnJlYWs7XG5cbiAgICAgICAgICAvLyBNb3ZlIGN1cnNvclxuICAgICAgICAgIGxpbmtzSGVhZGVyID0gbGlua3NIZWFkZXIuc2xpY2UobWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgICAgICBuZXh0RGVsaW1pdGVyID0gbGlua3NIZWFkZXIubWF0Y2goZGVsaW1pdGVyUmVnRXhwKTtcblxuXG4gICAgICAgICAgaWYgKG1hdGNoWzFdID09PSAncmVsJyB8fCBtYXRjaFsxXSA9PT0gJ3JldicpIHtcbiAgICAgICAgICAgIC8vIEFkZCBlaXRoZXIgcXVvdGVkIHJlbCBvciB1bnF1b3RlZCByZWxcbiAgICAgICAgICAgIHJlbHMgPSAobWF0Y2hbMl0gfHwgbWF0Y2hbM10pLnNwbGl0KC9cXHMrLyk7XG4gICAgICAgICAgICBjdXJyZW50W21hdGNoWzFdXSA9IHJlbHM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRbbWF0Y2hbMV1dID0gbWF0Y2hbMl0gfHwgbWF0Y2hbM107XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGlua3MucHVzaChjdXJyZW50KTtcbiAgICAgICAgLy8gTW92ZSBjdXJzb3JcbiAgICAgICAgbGlua3NIZWFkZXIgPSBsaW5rc0hlYWRlci5yZXBsYWNlKGRlbGltaXRlclJlZ0V4cCwgJycpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWV4dGVuZGVkKSB7XG4gICAgICAgIHJldHVybiBsaW5rcy5yZWR1Y2UoZnVuY3Rpb24ocmVzdWx0LCBjdXJyZW50TGluaykge1xuICAgICAgICAgIGlmIChjdXJyZW50TGluay5yZWwpIHtcbiAgICAgICAgICAgIGN1cnJlbnRMaW5rLnJlbC5mb3JFYWNoKGZ1bmN0aW9uKHJlbCkge1xuICAgICAgICAgICAgICByZXN1bHRbcmVsXSA9IGN1cnJlbnRMaW5rLmxpbms7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSwge30pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGlua3M7XG4gICAgfSxcbiAgICBzdHJpbmdpZnk6IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgIHZhciBncm91cGVkID0gT2JqZWN0LmtleXMocGFyYW1zKS5yZWR1Y2UoZnVuY3Rpb24oZ3JvdXBlZCwga2V5KSB7XG4gICAgICAgIGdyb3VwZWRbcGFyYW1zW2tleV1dID0gZ3JvdXBlZFtwYXJhbXNba2V5XV0gfHwgW107XG4gICAgICAgIGdyb3VwZWRbcGFyYW1zW2tleV1dLnB1c2goa2V5KTtcbiAgICAgICAgcmV0dXJuIGdyb3VwZWQ7XG4gICAgICB9LCB7fSk7XG5cbiAgICAgIHZhciBlbnRyaWVzID0gT2JqZWN0LmtleXMoZ3JvdXBlZCkucmVkdWNlKGZ1bmN0aW9uKHJlc3VsdCwgbGluaykge1xuICAgICAgICByZXR1cm4gcmVzdWx0LmNvbmNhdCgnPCcgKyBsaW5rICsgJz47IHJlbD1cIicgKyBncm91cGVkW2xpbmtdLmpvaW4oJyAnKSArICdcIicpO1xuICAgICAgfSwgW10pO1xuXG4gICAgICByZXR1cm4gZW50cmllcy5qb2luKCcsICcpO1xuICAgIH1cbiAgfTtcblxufSwgdGhpcyk7XG4iLCAiLyoqXG4gKiBVdGlsaXR5IG1ldGhvZHMgdXNlZCB3aGVuIHF1ZXJ5aW5nIGEgc2l0ZSBpbiBvcmRlciB0byBkaXNjb3ZlciBpdHMgYXZhaWxhYmxlXG4gKiBBUEkgZW5kcG9pbnRzXG4gKlxuICogQG1vZHVsZSBhdXRvZGlzY292ZXJ5XG4gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgcGFyc2VMaW5rSGVhZGVyID0gcmVxdWlyZSggJ2xpJyApLnBhcnNlO1xuXG4vKipcbiAqIEF0dGVtcHQgdG8gbG9jYXRlIGEgYHJlbD1cImh0dHBzOi8vYXBpLncub3JnXCJgIGxpbmsgcmVsYXRpb24gaGVhZGVyXG4gKlxuICogQG1ldGhvZCBsb2NhdGVBUElSb290SGVhZGVyXG4gKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2UgQSByZXNwb25zZSBvYmplY3Qgd2l0aCBhIGxpbmsgb3IgaGVhZGVycyBwcm9wZXJ0eVxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFVSTCBvZiB0aGUgbG9jYXRlZCBBUEkgcm9vdFxuICovXG5mdW5jdGlvbiBsb2NhdGVBUElSb290SGVhZGVyKCByZXNwb25zZSApIHtcblx0Ly8gU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLndvcmRwcmVzcy5vcmcvcmVzdC1hcGkvdXNpbmctdGhlLXJlc3QtYXBpL2Rpc2NvdmVyeS9cblx0Y29uc3QgcmVsID0gJ2h0dHBzOi8vYXBpLncub3JnLyc7XG5cblx0Ly8gRXh0cmFjdCAmIHBhcnNlIHRoZSByZXNwb25zZSBsaW5rIGhlYWRlcnNcblx0Y29uc3QgbGluayA9IHJlc3BvbnNlLmxpbmsgfHwgKCByZXNwb25zZS5oZWFkZXJzICYmIHJlc3BvbnNlLmhlYWRlcnMubGluayApO1xuXHRjb25zdCBoZWFkZXJzID0gcGFyc2VMaW5rSGVhZGVyKCBsaW5rICk7XG5cblx0Y29uc3QgYXBpSGVhZGVyID0gaGVhZGVycyAmJiBoZWFkZXJzWyByZWwgXTtcblxuXHRpZiAoIGFwaUhlYWRlciApIHtcblx0XHRyZXR1cm4gYXBpSGVhZGVyO1xuXHR9XG5cblx0dGhyb3cgbmV3IEVycm9yKCBgTm8gaGVhZGVyIGxpbmsgZm91bmQgd2l0aCByZWw9XCIkeyByZWwgfVwiYCApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0bG9jYXRlQVBJUm9vdEhlYWRlcjogbG9jYXRlQVBJUm9vdEhlYWRlcixcbn07XG4iLCAiXHJcbi8qKlxyXG4gKiBFeHBvc2UgYEVtaXR0ZXJgLlxyXG4gKi9cclxuXHJcbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xyXG4gIG1vZHVsZS5leHBvcnRzID0gRW1pdHRlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemUgYSBuZXcgYEVtaXR0ZXJgLlxyXG4gKlxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIEVtaXR0ZXIob2JqKSB7XHJcbiAgaWYgKG9iaikgcmV0dXJuIG1peGluKG9iaik7XHJcbn07XHJcblxyXG4vKipcclxuICogTWl4aW4gdGhlIGVtaXR0ZXIgcHJvcGVydGllcy5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IG9ialxyXG4gKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAqIEBhcGkgcHJpdmF0ZVxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIG1peGluKG9iaikge1xyXG4gIGZvciAodmFyIGtleSBpbiBFbWl0dGVyLnByb3RvdHlwZSkge1xyXG4gICAgb2JqW2tleV0gPSBFbWl0dGVyLnByb3RvdHlwZVtrZXldO1xyXG4gIH1cclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG4vKipcclxuICogTGlzdGVuIG9uIHRoZSBnaXZlbiBgZXZlbnRgIHdpdGggYGZuYC5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUub24gPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcbiAgKHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdKVxyXG4gICAgLnB1c2goZm4pO1xyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEFkZHMgYW4gYGV2ZW50YCBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgaW52b2tlZCBhIHNpbmdsZVxyXG4gKiB0aW1lIHRoZW4gYXV0b21hdGljYWxseSByZW1vdmVkLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcclxuICBmdW5jdGlvbiBvbigpIHtcclxuICAgIHRoaXMub2ZmKGV2ZW50LCBvbik7XHJcbiAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgb24uZm4gPSBmbjtcclxuICB0aGlzLm9uKGV2ZW50LCBvbik7XHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogUmVtb3ZlIHRoZSBnaXZlbiBjYWxsYmFjayBmb3IgYGV2ZW50YCBvciBhbGxcclxuICogcmVnaXN0ZXJlZCBjYWxsYmFja3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxyXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLm9mZiA9XHJcbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cclxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cclxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XHJcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xyXG5cclxuICAvLyBhbGxcclxuICBpZiAoMCA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLy8gc3BlY2lmaWMgZXZlbnRcclxuICB2YXIgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuICBpZiAoIWNhbGxiYWNrcykgcmV0dXJuIHRoaXM7XHJcblxyXG4gIC8vIHJlbW92ZSBhbGwgaGFuZGxlcnNcclxuICBpZiAoMSA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLy8gcmVtb3ZlIHNwZWNpZmljIGhhbmRsZXJcclxuICB2YXIgY2I7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuICAgIGNiID0gY2FsbGJhY2tzW2ldO1xyXG4gICAgaWYgKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pIHtcclxuICAgICAgY2FsbGJhY2tzLnNwbGljZShpLCAxKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgZXZlbnQgc3BlY2lmaWMgYXJyYXlzIGZvciBldmVudCB0eXBlcyB0aGF0IG5vXHJcbiAgLy8gb25lIGlzIHN1YnNjcmliZWQgZm9yIHRvIGF2b2lkIG1lbW9yeSBsZWFrLlxyXG4gIGlmIChjYWxsYmFja3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuICB9XHJcblxyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEVtaXQgYGV2ZW50YCB3aXRoIHRoZSBnaXZlbiBhcmdzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtNaXhlZH0gLi4uXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKGV2ZW50KXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcblxyXG4gIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKVxyXG4gICAgLCBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG5cclxuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XHJcbiAgfVxyXG5cclxuICBpZiAoY2FsbGJhY2tzKSB7XHJcbiAgICBjYWxsYmFja3MgPSBjYWxsYmFja3Muc2xpY2UoMCk7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XHJcbiAgICAgIGNhbGxiYWNrc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybiBhcnJheSBvZiBjYWxsYmFja3MgZm9yIGBldmVudGAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcmV0dXJuIHtBcnJheX1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XHJcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xyXG4gIHJldHVybiB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIHRoaXMgZW1pdHRlciBoYXMgYGV2ZW50YCBoYW5kbGVycy5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUuaGFzTGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnQpe1xyXG4gIHJldHVybiAhISB0aGlzLmxpc3RlbmVycyhldmVudCkubGVuZ3RoO1xyXG59O1xyXG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENoZWNrIGlmIGBvYmpgIGlzIGFuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gIHJldHVybiBudWxsICE9PSBvYmogJiYgJ29iamVjdCcgPT09IHR5cGVvZiBvYmo7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3Q7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIE1vZHVsZSBvZiBtaXhlZC1pbiBmdW5jdGlvbnMgc2hhcmVkIGJldHdlZW4gbm9kZSBhbmQgY2xpZW50IGNvZGVcbiAqL1xuY29uc3QgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzLW9iamVjdCcpO1xuXG4vKipcbiAqIEV4cG9zZSBgUmVxdWVzdEJhc2VgLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVxdWVzdEJhc2U7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBhIG5ldyBgUmVxdWVzdEJhc2VgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gUmVxdWVzdEJhc2Uob2JqKSB7XG4gIGlmIChvYmopIHJldHVybiBtaXhpbihvYmopO1xufVxuXG4vKipcbiAqIE1peGluIHRoZSBwcm90b3R5cGUgcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBtaXhpbihvYmopIHtcbiAgZm9yIChjb25zdCBrZXkgaW4gUmVxdWVzdEJhc2UucHJvdG90eXBlKSB7XG4gICAgb2JqW2tleV0gPSBSZXF1ZXN0QmFzZS5wcm90b3R5cGVba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIENsZWFyIHByZXZpb3VzIHRpbWVvdXQuXG4gKlxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5jbGVhclRpbWVvdXQgPSBmdW5jdGlvbiBfY2xlYXJUaW1lb3V0KCl7XG4gIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gIGNsZWFyVGltZW91dCh0aGlzLl9yZXNwb25zZVRpbWVvdXRUaW1lcik7XG4gIGRlbGV0ZSB0aGlzLl90aW1lcjtcbiAgZGVsZXRlIHRoaXMuX3Jlc3BvbnNlVGltZW91dFRpbWVyO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogT3ZlcnJpZGUgZGVmYXVsdCByZXNwb25zZSBib2R5IHBhcnNlclxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgdG8gY29udmVydCBpbmNvbWluZyBkYXRhIGludG8gcmVxdWVzdC5ib2R5XG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UoZm4pe1xuICB0aGlzLl9wYXJzZXIgPSBmbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCBmb3JtYXQgb2YgYmluYXJ5IHJlc3BvbnNlIGJvZHkuXG4gKiBJbiBicm93c2VyIHZhbGlkIGZvcm1hdHMgYXJlICdibG9iJyBhbmQgJ2FycmF5YnVmZmVyJyxcbiAqIHdoaWNoIHJldHVybiBCbG9iIGFuZCBBcnJheUJ1ZmZlciwgcmVzcGVjdGl2ZWx5LlxuICpcbiAqIEluIE5vZGUgYWxsIHZhbHVlcyByZXN1bHQgaW4gQnVmZmVyLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgcmVxLmdldCgnLycpXG4gKiAgICAgICAgLnJlc3BvbnNlVHlwZSgnYmxvYicpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHZhbFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5yZXNwb25zZVR5cGUgPSBmdW5jdGlvbih2YWwpe1xuICB0aGlzLl9yZXNwb25zZVR5cGUgPSB2YWw7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBPdmVycmlkZSBkZWZhdWx0IHJlcXVlc3QgYm9keSBzZXJpYWxpemVyXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB0byBjb252ZXJ0IGRhdGEgc2V0IHZpYSAuc2VuZCBvciAuYXR0YWNoIGludG8gcGF5bG9hZCB0byBzZW5kXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uIHNlcmlhbGl6ZShmbil7XG4gIHRoaXMuX3NlcmlhbGl6ZXIgPSBmbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCB0aW1lb3V0cy5cbiAqXG4gKiAtIHJlc3BvbnNlIHRpbWVvdXQgaXMgdGltZSBiZXR3ZWVuIHNlbmRpbmcgcmVxdWVzdCBhbmQgcmVjZWl2aW5nIHRoZSBmaXJzdCBieXRlIG9mIHRoZSByZXNwb25zZS4gSW5jbHVkZXMgRE5TIGFuZCBjb25uZWN0aW9uIHRpbWUuXG4gKiAtIGRlYWRsaW5lIGlzIHRoZSB0aW1lIGZyb20gc3RhcnQgb2YgdGhlIHJlcXVlc3QgdG8gcmVjZWl2aW5nIHJlc3BvbnNlIGJvZHkgaW4gZnVsbC4gSWYgdGhlIGRlYWRsaW5lIGlzIHRvbyBzaG9ydCBsYXJnZSBmaWxlcyBtYXkgbm90IGxvYWQgYXQgYWxsIG9uIHNsb3cgY29ubmVjdGlvbnMuXG4gKlxuICogVmFsdWUgb2YgMCBvciBmYWxzZSBtZWFucyBubyB0aW1lb3V0LlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfE9iamVjdH0gbXMgb3Ige3Jlc3BvbnNlLCBkZWFkbGluZX1cbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUudGltZW91dCA9IGZ1bmN0aW9uIHRpbWVvdXQob3B0aW9ucyl7XG4gIGlmICghb3B0aW9ucyB8fCAnb2JqZWN0JyAhPT0gdHlwZW9mIG9wdGlvbnMpIHtcbiAgICB0aGlzLl90aW1lb3V0ID0gb3B0aW9ucztcbiAgICB0aGlzLl9yZXNwb25zZVRpbWVvdXQgPSAwO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZm9yKGNvbnN0IG9wdGlvbiBpbiBvcHRpb25zKSB7XG4gICAgc3dpdGNoKG9wdGlvbikge1xuICAgICAgY2FzZSAnZGVhZGxpbmUnOlxuICAgICAgICB0aGlzLl90aW1lb3V0ID0gb3B0aW9ucy5kZWFkbGluZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZXNwb25zZSc6XG4gICAgICAgIHRoaXMuX3Jlc3BvbnNlVGltZW91dCA9IG9wdGlvbnMucmVzcG9uc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS53YXJuKFwiVW5rbm93biB0aW1lb3V0IG9wdGlvblwiLCBvcHRpb24pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IG51bWJlciBvZiByZXRyeSBhdHRlbXB0cyBvbiBlcnJvci5cbiAqXG4gKiBGYWlsZWQgcmVxdWVzdHMgd2lsbCBiZSByZXRyaWVkICdjb3VudCcgdGltZXMgaWYgdGltZW91dCBvciBlcnIuY29kZSA+PSA1MDAuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnJldHJ5ID0gZnVuY3Rpb24gcmV0cnkoY291bnQsIGZuKXtcbiAgLy8gRGVmYXVsdCB0byAxIGlmIG5vIGNvdW50IHBhc3NlZCBvciB0cnVlXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwIHx8IGNvdW50ID09PSB0cnVlKSBjb3VudCA9IDE7XG4gIGlmIChjb3VudCA8PSAwKSBjb3VudCA9IDA7XG4gIHRoaXMuX21heFJldHJpZXMgPSBjb3VudDtcbiAgdGhpcy5fcmV0cmllcyA9IDA7XG4gIHRoaXMuX3JldHJ5Q2FsbGJhY2sgPSBmbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5jb25zdCBFUlJPUl9DT0RFUyA9IFtcbiAgJ0VDT05OUkVTRVQnLFxuICAnRVRJTUVET1VUJyxcbiAgJ0VBRERSSU5GTycsXG4gICdFU09DS0VUVElNRURPVVQnXG5dO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHJlcXVlc3Qgc2hvdWxkIGJlIHJldHJpZWQuXG4gKiAoQm9ycm93ZWQgZnJvbSBzZWdtZW50aW8vc3VwZXJhZ2VudC1yZXRyeSlcbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJcbiAqIEBwYXJhbSB7UmVzcG9uc2V9IFtyZXNdXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuUmVxdWVzdEJhc2UucHJvdG90eXBlLl9zaG91bGRSZXRyeSA9IGZ1bmN0aW9uKGVyciwgcmVzKSB7XG4gIGlmICghdGhpcy5fbWF4UmV0cmllcyB8fCB0aGlzLl9yZXRyaWVzKysgPj0gdGhpcy5fbWF4UmV0cmllcykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodGhpcy5fcmV0cnlDYWxsYmFjaykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBvdmVycmlkZSA9IHRoaXMuX3JldHJ5Q2FsbGJhY2soZXJyLCByZXMpO1xuICAgICAgaWYgKG92ZXJyaWRlID09PSB0cnVlKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmIChvdmVycmlkZSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAgIC8vIHVuZGVmaW5lZCBmYWxscyBiYWNrIHRvIGRlZmF1bHRzXG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbiAgfVxuICBpZiAocmVzICYmIHJlcy5zdGF0dXMgJiYgcmVzLnN0YXR1cyA+PSA1MDAgJiYgcmVzLnN0YXR1cyAhPSA1MDEpIHJldHVybiB0cnVlO1xuICBpZiAoZXJyKSB7XG4gICAgaWYgKGVyci5jb2RlICYmIH5FUlJPUl9DT0RFUy5pbmRleE9mKGVyci5jb2RlKSkgcmV0dXJuIHRydWU7XG4gICAgLy8gU3VwZXJhZ2VudCB0aW1lb3V0XG4gICAgaWYgKGVyci50aW1lb3V0ICYmIGVyci5jb2RlID09ICdFQ09OTkFCT1JURUQnKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoZXJyLmNyb3NzRG9tYWluKSByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIFJldHJ5IHJlcXVlc3RcbiAqXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5fcmV0cnkgPSBmdW5jdGlvbigpIHtcblxuICB0aGlzLmNsZWFyVGltZW91dCgpO1xuXG4gIC8vIG5vZGVcbiAgaWYgKHRoaXMucmVxKSB7XG4gICAgdGhpcy5yZXEgPSBudWxsO1xuICAgIHRoaXMucmVxID0gdGhpcy5yZXF1ZXN0KCk7XG4gIH1cblxuICB0aGlzLl9hYm9ydGVkID0gZmFsc2U7XG4gIHRoaXMudGltZWRvdXQgPSBmYWxzZTtcblxuICByZXR1cm4gdGhpcy5fZW5kKCk7XG59O1xuXG4vKipcbiAqIFByb21pc2Ugc3VwcG9ydFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZWplY3RdXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gdGhlbihyZXNvbHZlLCByZWplY3QpIHtcbiAgaWYgKCF0aGlzLl9mdWxsZmlsbGVkUHJvbWlzZSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmICh0aGlzLl9lbmRDYWxsZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIldhcm5pbmc6IHN1cGVyYWdlbnQgcmVxdWVzdCB3YXMgc2VudCB0d2ljZSwgYmVjYXVzZSBib3RoIC5lbmQoKSBhbmQgLnRoZW4oKSB3ZXJlIGNhbGxlZC4gTmV2ZXIgY2FsbCAuZW5kKCkgaWYgeW91IHVzZSBwcm9taXNlc1wiKTtcbiAgICB9XG4gICAgdGhpcy5fZnVsbGZpbGxlZFByb21pc2UgPSBuZXcgUHJvbWlzZSgoaW5uZXJSZXNvbHZlLCBpbm5lclJlamVjdCkgPT4ge1xuICAgICAgc2VsZi5vbignZXJyb3InLCBpbm5lclJlamVjdCk7XG4gICAgICBzZWxmLm9uKCdhYm9ydCcsICgpID0+IHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKCdBYm9ydGVkJyk7XG4gICAgICAgIGVyci5jb2RlID0gXCJBQk9SVEVEXCI7XG4gICAgICAgIGVyci5zdGF0dXMgPSB0aGlzLnN0YXR1cztcbiAgICAgICAgZXJyLm1ldGhvZCA9IHRoaXMubWV0aG9kO1xuICAgICAgICBlcnIudXJsID0gdGhpcy51cmw7XG4gICAgICAgIGlubmVyUmVqZWN0KGVycik7XG4gICAgICB9KTtcbiAgICAgIHNlbGYuZW5kKChlcnIsIHJlcykgPT4ge1xuICAgICAgICBpZiAoZXJyKSBpbm5lclJlamVjdChlcnIpO1xuICAgICAgICBlbHNlIGlubmVyUmVzb2x2ZShyZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHRoaXMuX2Z1bGxmaWxsZWRQcm9taXNlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbn07XG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZVsnY2F0Y2gnXSA9IGZ1bmN0aW9uKGNiKSB7XG4gIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBjYik7XG59O1xuXG4vKipcbiAqIEFsbG93IGZvciBleHRlbnNpb25cbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gdXNlKGZuKSB7XG4gIGZuKHRoaXMpO1xuICByZXR1cm4gdGhpcztcbn07XG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5vayA9IGZ1bmN0aW9uKGNiKSB7XG4gIGlmICgnZnVuY3Rpb24nICE9PSB0eXBlb2YgY2IpIHRocm93IEVycm9yKFwiQ2FsbGJhY2sgcmVxdWlyZWRcIik7XG4gIHRoaXMuX29rQ2FsbGJhY2sgPSBjYjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuX2lzUmVzcG9uc2VPSyA9IGZ1bmN0aW9uKHJlcykge1xuICBpZiAoIXJlcykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0aGlzLl9va0NhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuX29rQ2FsbGJhY2socmVzKTtcbiAgfVxuXG4gIHJldHVybiByZXMuc3RhdHVzID49IDIwMCAmJiByZXMuc3RhdHVzIDwgMzAwO1xufTtcblxuLyoqXG4gKiBHZXQgcmVxdWVzdCBoZWFkZXIgYGZpZWxkYC5cbiAqIENhc2UtaW5zZW5zaXRpdmUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihmaWVsZCl7XG4gIHJldHVybiB0aGlzLl9oZWFkZXJbZmllbGQudG9Mb3dlckNhc2UoKV07XG59O1xuXG4vKipcbiAqIEdldCBjYXNlLWluc2Vuc2l0aXZlIGhlYWRlciBgZmllbGRgIHZhbHVlLlxuICogVGhpcyBpcyBhIGRlcHJlY2F0ZWQgaW50ZXJuYWwgQVBJLiBVc2UgYC5nZXQoZmllbGQpYCBpbnN0ZWFkLlxuICpcbiAqIChnZXRIZWFkZXIgaXMgbm8gbG9uZ2VyIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgc3VwZXJhZ2VudCBjb2RlIGJhc2UpXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqIEBkZXByZWNhdGVkXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLmdldEhlYWRlciA9IFJlcXVlc3RCYXNlLnByb3RvdHlwZS5nZXQ7XG5cbi8qKlxuICogU2V0IGhlYWRlciBgZmllbGRgIHRvIGB2YWxgLCBvciBtdWx0aXBsZSBmaWVsZHMgd2l0aCBvbmUgb2JqZWN0LlxuICogQ2FzZS1pbnNlbnNpdGl2ZS5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC5zZXQoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJylcbiAqICAgICAgICAuc2V0KCdYLUFQSS1LZXknLCAnZm9vYmFyJylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC5zZXQoeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJywgJ1gtQVBJLUtleSc6ICdmb29iYXInIH0pXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBmaWVsZFxuICogQHBhcmFtIHtTdHJpbmd9IHZhbFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihmaWVsZCwgdmFsKXtcbiAgaWYgKGlzT2JqZWN0KGZpZWxkKSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGZpZWxkKSB7XG4gICAgICB0aGlzLnNldChrZXksIGZpZWxkW2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB0aGlzLl9oZWFkZXJbZmllbGQudG9Mb3dlckNhc2UoKV0gPSB2YWw7XG4gIHRoaXMuaGVhZGVyW2ZpZWxkXSA9IHZhbDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBoZWFkZXIgYGZpZWxkYC5cbiAqIENhc2UtaW5zZW5zaXRpdmUuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC51bnNldCgnVXNlci1BZ2VudCcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKi9cblJlcXVlc3RCYXNlLnByb3RvdHlwZS51bnNldCA9IGZ1bmN0aW9uKGZpZWxkKXtcbiAgZGVsZXRlIHRoaXMuX2hlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXTtcbiAgZGVsZXRlIHRoaXMuaGVhZGVyW2ZpZWxkXTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFdyaXRlIHRoZSBmaWVsZCBgbmFtZWAgYW5kIGB2YWxgLCBvciBtdWx0aXBsZSBmaWVsZHMgd2l0aCBvbmUgb2JqZWN0XG4gKiBmb3IgXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIgcmVxdWVzdCBib2RpZXMuXG4gKlxuICogYGBgIGpzXG4gKiByZXF1ZXN0LnBvc3QoJy91cGxvYWQnKVxuICogICAuZmllbGQoJ2ZvbycsICdiYXInKVxuICogICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiByZXF1ZXN0LnBvc3QoJy91cGxvYWQnKVxuICogICAuZmllbGQoeyBmb286ICdiYXInLCBiYXo6ICdxdXgnIH0pXG4gKiAgIC5lbmQoY2FsbGJhY2spO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ3xCbG9ifEZpbGV8QnVmZmVyfGZzLlJlYWRTdHJlYW19IHZhbFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuZmllbGQgPSBmdW5jdGlvbihuYW1lLCB2YWwpIHtcbiAgLy8gbmFtZSBzaG91bGQgYmUgZWl0aGVyIGEgc3RyaW5nIG9yIGFuIG9iamVjdC5cbiAgaWYgKG51bGwgPT09IG5hbWUgfHwgdW5kZWZpbmVkID09PSBuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCcuZmllbGQobmFtZSwgdmFsKSBuYW1lIGNhbiBub3QgYmUgZW1wdHknKTtcbiAgfVxuXG4gIGlmICh0aGlzLl9kYXRhKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiLmZpZWxkKCkgY2FuJ3QgYmUgdXNlZCBpZiAuc2VuZCgpIGlzIHVzZWQuIFBsZWFzZSB1c2Ugb25seSAuc2VuZCgpIG9yIG9ubHkgLmZpZWxkKCkgJiAuYXR0YWNoKClcIik7XG4gIH1cblxuICBpZiAoaXNPYmplY3QobmFtZSkpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBuYW1lKSB7XG4gICAgICB0aGlzLmZpZWxkKGtleSwgbmFtZVtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgZm9yIChjb25zdCBpIGluIHZhbCkge1xuICAgICAgdGhpcy5maWVsZChuYW1lLCB2YWxbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHZhbCBzaG91bGQgYmUgZGVmaW5lZCBub3dcbiAgaWYgKG51bGwgPT09IHZhbCB8fCB1bmRlZmluZWQgPT09IHZhbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignLmZpZWxkKG5hbWUsIHZhbCkgdmFsIGNhbiBub3QgYmUgZW1wdHknKTtcbiAgfVxuICBpZiAoJ2Jvb2xlYW4nID09PSB0eXBlb2YgdmFsKSB7XG4gICAgdmFsID0gJycgKyB2YWw7XG4gIH1cbiAgdGhpcy5fZ2V0Rm9ybURhdGEoKS5hcHBlbmQobmFtZSwgdmFsKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFib3J0IHRoZSByZXF1ZXN0LCBhbmQgY2xlYXIgcG90ZW50aWFsIHRpbWVvdXQuXG4gKlxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKCl7XG4gIGlmICh0aGlzLl9hYm9ydGVkKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdGhpcy5fYWJvcnRlZCA9IHRydWU7XG4gIHRoaXMueGhyICYmIHRoaXMueGhyLmFib3J0KCk7IC8vIGJyb3dzZXJcbiAgdGhpcy5yZXEgJiYgdGhpcy5yZXEuYWJvcnQoKTsgLy8gbm9kZVxuICB0aGlzLmNsZWFyVGltZW91dCgpO1xuICB0aGlzLmVtaXQoJ2Fib3J0Jyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLl9hdXRoID0gZnVuY3Rpb24odXNlciwgcGFzcywgb3B0aW9ucywgYmFzZTY0RW5jb2Rlcikge1xuICBzd2l0Y2ggKG9wdGlvbnMudHlwZSkge1xuICAgIGNhc2UgJ2Jhc2ljJzpcbiAgICAgIHRoaXMuc2V0KCdBdXRob3JpemF0aW9uJywgYEJhc2ljICR7YmFzZTY0RW5jb2RlcihgJHt1c2VyfToke3Bhc3N9YCl9YCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgdGhpcy51c2VybmFtZSA9IHVzZXI7XG4gICAgICB0aGlzLnBhc3N3b3JkID0gcGFzcztcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnYmVhcmVyJzogLy8gdXNhZ2Ugd291bGQgYmUgLmF1dGgoYWNjZXNzVG9rZW4sIHsgdHlwZTogJ2JlYXJlcicgfSlcbiAgICAgIHRoaXMuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3VzZXJ9YCk7XG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRW5hYmxlIHRyYW5zbWlzc2lvbiBvZiBjb29raWVzIHdpdGggeC1kb21haW4gcmVxdWVzdHMuXG4gKlxuICogTm90ZSB0aGF0IGZvciB0aGlzIHRvIHdvcmsgdGhlIG9yaWdpbiBtdXN0IG5vdCBiZVxuICogdXNpbmcgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiB3aXRoIGEgd2lsZGNhcmQsXG4gKiBhbmQgYWxzbyBtdXN0IHNldCBcIkFjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzXCJcbiAqIHRvIFwidHJ1ZVwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLndpdGhDcmVkZW50aWFscyA9IGZ1bmN0aW9uKG9uKSB7XG4gIC8vIFRoaXMgaXMgYnJvd3Nlci1vbmx5IGZ1bmN0aW9uYWxpdHkuIE5vZGUgc2lkZSBpcyBuby1vcC5cbiAgaWYgKG9uID09IHVuZGVmaW5lZCkgb24gPSB0cnVlO1xuICB0aGlzLl93aXRoQ3JlZGVudGlhbHMgPSBvbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgbWF4IHJlZGlyZWN0cyB0byBgbmAuIERvZXMgbm90aW5nIGluIGJyb3dzZXIgWEhSIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnJlZGlyZWN0cyA9IGZ1bmN0aW9uKG4pe1xuICB0aGlzLl9tYXhSZWRpcmVjdHMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogTWF4aW11bSBzaXplIG9mIGJ1ZmZlcmVkIHJlc3BvbnNlIGJvZHksIGluIGJ5dGVzLiBDb3VudHMgdW5jb21wcmVzc2VkIHNpemUuXG4gKiBEZWZhdWx0IDIwME1CLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqL1xuUmVxdWVzdEJhc2UucHJvdG90eXBlLm1heFJlc3BvbnNlU2l6ZSA9IGZ1bmN0aW9uKG4pe1xuICBpZiAoJ251bWJlcicgIT09IHR5cGVvZiBuKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKFwiSW52YWxpZCBhcmd1bWVudFwiKTtcbiAgfVxuICB0aGlzLl9tYXhSZXNwb25zZVNpemUgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ29udmVydCB0byBhIHBsYWluIGphdmFzY3JpcHQgb2JqZWN0IChub3QgSlNPTiBzdHJpbmcpIG9mIHNjYWxhciBwcm9wZXJ0aWVzLlxuICogTm90ZSBhcyB0aGlzIG1ldGhvZCBpcyBkZXNpZ25lZCB0byByZXR1cm4gYSB1c2VmdWwgbm9uLXRoaXMgdmFsdWUsXG4gKiBpdCBjYW5ub3QgYmUgY2hhaW5lZC5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IGRlc2NyaWJpbmcgbWV0aG9kLCB1cmwsIGFuZCBkYXRhIG9mIHRoaXMgcmVxdWVzdFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgbWV0aG9kOiB0aGlzLm1ldGhvZCxcbiAgICB1cmw6IHRoaXMudXJsLFxuICAgIGRhdGE6IHRoaXMuX2RhdGEsXG4gICAgaGVhZGVyczogdGhpcy5faGVhZGVyLFxuICB9O1xufTtcblxuLyoqXG4gKiBTZW5kIGBkYXRhYCBhcyB0aGUgcmVxdWVzdCBib2R5LCBkZWZhdWx0aW5nIHRoZSBgLnR5cGUoKWAgdG8gXCJqc29uXCIgd2hlblxuICogYW4gb2JqZWN0IGlzIGdpdmVuLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgIC8vIG1hbnVhbCBqc29uXG4gKiAgICAgICByZXF1ZXN0LnBvc3QoJy91c2VyJylcbiAqICAgICAgICAgLnR5cGUoJ2pzb24nKVxuICogICAgICAgICAuc2VuZCgne1wibmFtZVwiOlwidGpcIn0nKVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIGF1dG8ganNvblxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC5zZW5kKHsgbmFtZTogJ3RqJyB9KVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIG1hbnVhbCB4LXd3dy1mb3JtLXVybGVuY29kZWRcbiAqICAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgICAudHlwZSgnZm9ybScpXG4gKiAgICAgICAgIC5zZW5kKCduYW1lPXRqJylcbiAqICAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiAgICAgICAvLyBhdXRvIHgtd3d3LWZvcm0tdXJsZW5jb2RlZFxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC50eXBlKCdmb3JtJylcbiAqICAgICAgICAgLnNlbmQoeyBuYW1lOiAndGonIH0pXG4gKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICogICAgICAgLy8gZGVmYXVsdHMgdG8geC13d3ctZm9ybS11cmxlbmNvZGVkXG4gKiAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgIC5zZW5kKCduYW1lPXRvYmknKVxuICogICAgICAgIC5zZW5kKCdzcGVjaWVzPWZlcnJldCcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGRhdGFcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKGRhdGEpe1xuICBjb25zdCBpc09iaiA9IGlzT2JqZWN0KGRhdGEpO1xuICBsZXQgdHlwZSA9IHRoaXMuX2hlYWRlclsnY29udGVudC10eXBlJ107XG5cbiAgaWYgKHRoaXMuX2Zvcm1EYXRhKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiLnNlbmQoKSBjYW4ndCBiZSB1c2VkIGlmIC5hdHRhY2goKSBvciAuZmllbGQoKSBpcyB1c2VkLiBQbGVhc2UgdXNlIG9ubHkgLnNlbmQoKSBvciBvbmx5IC5maWVsZCgpICYgLmF0dGFjaCgpXCIpO1xuICB9XG5cbiAgaWYgKGlzT2JqICYmICF0aGlzLl9kYXRhKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIHRoaXMuX2RhdGEgPSBbXTtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLl9pc0hvc3QoZGF0YSkpIHtcbiAgICAgIHRoaXMuX2RhdGEgPSB7fTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGF0YSAmJiB0aGlzLl9kYXRhICYmIHRoaXMuX2lzSG9zdCh0aGlzLl9kYXRhKSkge1xuICAgIHRocm93IEVycm9yKFwiQ2FuJ3QgbWVyZ2UgdGhlc2Ugc2VuZCBjYWxsc1wiKTtcbiAgfVxuXG4gIC8vIG1lcmdlXG4gIGlmIChpc09iaiAmJiBpc09iamVjdCh0aGlzLl9kYXRhKSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgIHRoaXMuX2RhdGFba2V5XSA9IGRhdGFba2V5XTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoJ3N0cmluZycgPT0gdHlwZW9mIGRhdGEpIHtcbiAgICAvLyBkZWZhdWx0IHRvIHgtd3d3LWZvcm0tdXJsZW5jb2RlZFxuICAgIGlmICghdHlwZSkgdGhpcy50eXBlKCdmb3JtJyk7XG4gICAgdHlwZSA9IHRoaXMuX2hlYWRlclsnY29udGVudC10eXBlJ107XG4gICAgaWYgKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnID09IHR5cGUpIHtcbiAgICAgIHRoaXMuX2RhdGEgPSB0aGlzLl9kYXRhXG4gICAgICAgID8gYCR7dGhpcy5fZGF0YX0mJHtkYXRhfWBcbiAgICAgICAgOiBkYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kYXRhID0gKHRoaXMuX2RhdGEgfHwgJycpICsgZGF0YTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gIH1cblxuICBpZiAoIWlzT2JqIHx8IHRoaXMuX2lzSG9zdChkYXRhKSkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZGVmYXVsdCB0byBqc29uXG4gIGlmICghdHlwZSkgdGhpcy50eXBlKCdqc29uJyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTb3J0IGBxdWVyeXN0cmluZ2AgYnkgdGhlIHNvcnQgZnVuY3Rpb25cbiAqXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgICAgLy8gZGVmYXVsdCBvcmRlclxuICogICAgICAgcmVxdWVzdC5nZXQoJy91c2VyJylcbiAqICAgICAgICAgLnF1ZXJ5KCduYW1lPU5pY2snKVxuICogICAgICAgICAucXVlcnkoJ3NlYXJjaD1NYW5ueScpXG4gKiAgICAgICAgIC5zb3J0UXVlcnkoKVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIGN1c3RvbWl6ZWQgc29ydCBmdW5jdGlvblxuICogICAgICAgcmVxdWVzdC5nZXQoJy91c2VyJylcbiAqICAgICAgICAgLnF1ZXJ5KCduYW1lPU5pY2snKVxuICogICAgICAgICAucXVlcnkoJ3NlYXJjaD1NYW5ueScpXG4gKiAgICAgICAgIC5zb3J0UXVlcnkoZnVuY3Rpb24oYSwgYil7XG4gKiAgICAgICAgICAgcmV0dXJuIGEubGVuZ3RoIC0gYi5sZW5ndGg7XG4gKiAgICAgICAgIH0pXG4gKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHNvcnRcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuc29ydFF1ZXJ5ID0gZnVuY3Rpb24oc29ydCkge1xuICAvLyBfc29ydCBkZWZhdWx0IHRvIHRydWUgYnV0IG90aGVyd2lzZSBjYW4gYmUgYSBmdW5jdGlvbiBvciBib29sZWFuXG4gIHRoaXMuX3NvcnQgPSB0eXBlb2Ygc29ydCA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogc29ydDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIENvbXBvc2UgcXVlcnlzdHJpbmcgdG8gYXBwZW5kIHRvIHJlcS51cmxcbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuUmVxdWVzdEJhc2UucHJvdG90eXBlLl9maW5hbGl6ZVF1ZXJ5U3RyaW5nID0gZnVuY3Rpb24oKXtcbiAgY29uc3QgcXVlcnkgPSB0aGlzLl9xdWVyeS5qb2luKCcmJyk7XG4gIGlmIChxdWVyeSkge1xuICAgIHRoaXMudXJsICs9ICh0aGlzLnVybC5pbmRleE9mKCc/JykgPj0gMCA/ICcmJyA6ICc/JykgKyBxdWVyeTtcbiAgfVxuICB0aGlzLl9xdWVyeS5sZW5ndGggPSAwOyAvLyBNYWtlcyB0aGUgY2FsbCBpZGVtcG90ZW50XG5cbiAgaWYgKHRoaXMuX3NvcnQpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMudXJsLmluZGV4T2YoJz8nKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgY29uc3QgcXVlcnlBcnIgPSB0aGlzLnVybC5zdWJzdHJpbmcoaW5kZXggKyAxKS5zcGxpdCgnJicpO1xuICAgICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiB0aGlzLl9zb3J0KSB7XG4gICAgICAgIHF1ZXJ5QXJyLnNvcnQodGhpcy5fc29ydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWVyeUFyci5zb3J0KCk7XG4gICAgICB9XG4gICAgICB0aGlzLnVybCA9IHRoaXMudXJsLnN1YnN0cmluZygwLCBpbmRleCkgKyAnPycgKyBxdWVyeUFyci5qb2luKCcmJyk7XG4gICAgfVxuICB9XG59O1xuXG4vLyBGb3IgYmFja3dhcmRzIGNvbXBhdCBvbmx5XG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuX2FwcGVuZFF1ZXJ5U3RyaW5nID0gKCkgPT4ge2NvbnNvbGUudHJhY2UoXCJVbnN1cHBvcnRlZFwiKTt9XG5cbi8qKlxuICogSW52b2tlIGNhbGxiYWNrIHdpdGggdGltZW91dCBlcnJvci5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuX3RpbWVvdXRFcnJvciA9IGZ1bmN0aW9uKHJlYXNvbiwgdGltZW91dCwgZXJybm8pe1xuICBpZiAodGhpcy5fYWJvcnRlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoYCR7cmVhc29uICsgdGltZW91dH1tcyBleGNlZWRlZGApO1xuICBlcnIudGltZW91dCA9IHRpbWVvdXQ7XG4gIGVyci5jb2RlID0gJ0VDT05OQUJPUlRFRCc7XG4gIGVyci5lcnJubyA9IGVycm5vO1xuICB0aGlzLnRpbWVkb3V0ID0gdHJ1ZTtcbiAgdGhpcy5hYm9ydCgpO1xuICB0aGlzLmNhbGxiYWNrKGVycik7XG59O1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuX3NldFRpbWVvdXRzID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gIC8vIGRlYWRsaW5lXG4gIGlmICh0aGlzLl90aW1lb3V0ICYmICF0aGlzLl90aW1lcikge1xuICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZWxmLl90aW1lb3V0RXJyb3IoJ1RpbWVvdXQgb2YgJywgc2VsZi5fdGltZW91dCwgJ0VUSU1FJyk7XG4gICAgfSwgdGhpcy5fdGltZW91dCk7XG4gIH1cbiAgLy8gcmVzcG9uc2UgdGltZW91dFxuICBpZiAodGhpcy5fcmVzcG9uc2VUaW1lb3V0ICYmICF0aGlzLl9yZXNwb25zZVRpbWVvdXRUaW1lcikge1xuICAgIHRoaXMuX3Jlc3BvbnNlVGltZW91dFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZWxmLl90aW1lb3V0RXJyb3IoJ1Jlc3BvbnNlIHRpbWVvdXQgb2YgJywgc2VsZi5fcmVzcG9uc2VUaW1lb3V0LCAnRVRJTUVET1VUJyk7XG4gICAgfSwgdGhpcy5fcmVzcG9uc2VUaW1lb3V0KTtcbiAgfVxufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogUmV0dXJuIHRoZSBtaW1lIHR5cGUgZm9yIHRoZSBnaXZlbiBgc3RyYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLnR5cGUgPSBzdHIgPT4gc3RyLnNwbGl0KC8gKjsgKi8pLnNoaWZ0KCk7XG5cbi8qKlxuICogUmV0dXJuIGhlYWRlciBmaWVsZCBwYXJhbWV0ZXJzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMucGFyYW1zID0gc3RyID0+IHN0ci5zcGxpdCgvICo7ICovKS5yZWR1Y2UoKG9iaiwgc3RyKSA9PiB7XG4gIGNvbnN0IHBhcnRzID0gc3RyLnNwbGl0KC8gKj0gKi8pO1xuICBjb25zdCBrZXkgPSBwYXJ0cy5zaGlmdCgpO1xuICBjb25zdCB2YWwgPSBwYXJ0cy5zaGlmdCgpO1xuXG4gIGlmIChrZXkgJiYgdmFsKSBvYmpba2V5XSA9IHZhbDtcbiAgcmV0dXJuIG9iajtcbn0sIHt9KTtcblxuLyoqXG4gKiBQYXJzZSBMaW5rIGhlYWRlciBmaWVsZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5wYXJzZUxpbmtzID0gc3RyID0+IHN0ci5zcGxpdCgvICosICovKS5yZWR1Y2UoKG9iaiwgc3RyKSA9PiB7XG4gIGNvbnN0IHBhcnRzID0gc3RyLnNwbGl0KC8gKjsgKi8pO1xuICBjb25zdCB1cmwgPSBwYXJ0c1swXS5zbGljZSgxLCAtMSk7XG4gIGNvbnN0IHJlbCA9IHBhcnRzWzFdLnNwbGl0KC8gKj0gKi8pWzFdLnNsaWNlKDEsIC0xKTtcbiAgb2JqW3JlbF0gPSB1cmw7XG4gIHJldHVybiBvYmo7XG59LCB7fSk7XG5cbi8qKlxuICogU3RyaXAgY29udGVudCByZWxhdGVkIGZpZWxkcyBmcm9tIGBoZWFkZXJgLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBoZWFkZXJcbiAqIEByZXR1cm4ge09iamVjdH0gaGVhZGVyXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLmNsZWFuSGVhZGVyID0gKGhlYWRlciwgY2hhbmdlc09yaWdpbikgPT4ge1xuICBkZWxldGUgaGVhZGVyWydjb250ZW50LXR5cGUnXTtcbiAgZGVsZXRlIGhlYWRlclsnY29udGVudC1sZW5ndGgnXTtcbiAgZGVsZXRlIGhlYWRlclsndHJhbnNmZXItZW5jb2RpbmcnXTtcbiAgZGVsZXRlIGhlYWRlclsnaG9zdCddO1xuICAvLyBzZWN1aXJ0eVxuICBpZiAoY2hhbmdlc09yaWdpbikge1xuICAgIGRlbGV0ZSBoZWFkZXJbJ2F1dGhvcml6YXRpb24nXTtcbiAgICBkZWxldGUgaGVhZGVyWydjb29raWUnXTtcbiAgfVxuICByZXR1cm4gaGVhZGVyO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG5jb25zdCB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxuLyoqXG4gKiBFeHBvc2UgYFJlc3BvbnNlQmFzZWAuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZXNwb25zZUJhc2U7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBhIG5ldyBgUmVzcG9uc2VCYXNlYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFJlc3BvbnNlQmFzZShvYmopIHtcbiAgaWYgKG9iaikgcmV0dXJuIG1peGluKG9iaik7XG59XG5cbi8qKlxuICogTWl4aW4gdGhlIHByb3RvdHlwZSBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIG1peGluKG9iaikge1xuICBmb3IgKGNvbnN0IGtleSBpbiBSZXNwb25zZUJhc2UucHJvdG90eXBlKSB7XG4gICAgb2JqW2tleV0gPSBSZXNwb25zZUJhc2UucHJvdG90eXBlW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBHZXQgY2FzZS1pbnNlbnNpdGl2ZSBgZmllbGRgIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXNwb25zZUJhc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGZpZWxkKSB7XG4gIHJldHVybiB0aGlzLmhlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXTtcbn07XG5cbi8qKlxuICogU2V0IGhlYWRlciByZWxhdGVkIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGAudHlwZWAgdGhlIGNvbnRlbnQgdHlwZSB3aXRob3V0IHBhcmFtc1xuICpcbiAqIEEgcmVzcG9uc2Ugb2YgXCJDb250ZW50LVR5cGU6IHRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLThcIlxuICogd2lsbCBwcm92aWRlIHlvdSB3aXRoIGEgYC50eXBlYCBvZiBcInRleHQvcGxhaW5cIi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaGVhZGVyXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXNwb25zZUJhc2UucHJvdG90eXBlLl9zZXRIZWFkZXJQcm9wZXJ0aWVzID0gZnVuY3Rpb24oaGVhZGVyKXtcbiAgICAvLyBUT0RPOiBtb2FyIVxuICAgIC8vIFRPRE86IG1ha2UgdGhpcyBhIHV0aWxcblxuICAgIC8vIGNvbnRlbnQtdHlwZVxuICAgIGNvbnN0IGN0ID0gaGVhZGVyWydjb250ZW50LXR5cGUnXSB8fCAnJztcbiAgICB0aGlzLnR5cGUgPSB1dGlscy50eXBlKGN0KTtcblxuICAgIC8vIHBhcmFtc1xuICAgIGNvbnN0IHBhcmFtcyA9IHV0aWxzLnBhcmFtcyhjdCk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcGFyYW1zKSB0aGlzW2tleV0gPSBwYXJhbXNba2V5XTtcblxuICAgIHRoaXMubGlua3MgPSB7fTtcblxuICAgIC8vIGxpbmtzXG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKGhlYWRlci5saW5rKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmtzID0gdXRpbHMucGFyc2VMaW5rcyhoZWFkZXIubGluayk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gaWdub3JlXG4gICAgfVxufTtcblxuLyoqXG4gKiBTZXQgZmxhZ3Mgc3VjaCBhcyBgLm9rYCBiYXNlZCBvbiBgc3RhdHVzYC5cbiAqXG4gKiBGb3IgZXhhbXBsZSBhIDJ4eCByZXNwb25zZSB3aWxsIGdpdmUgeW91IGEgYC5va2Agb2YgX190cnVlX19cbiAqIHdoZXJlYXMgNXh4IHdpbGwgYmUgX19mYWxzZV9fIGFuZCBgLmVycm9yYCB3aWxsIGJlIF9fdHJ1ZV9fLiBUaGVcbiAqIGAuY2xpZW50RXJyb3JgIGFuZCBgLnNlcnZlckVycm9yYCBhcmUgYWxzbyBhdmFpbGFibGUgdG8gYmUgbW9yZVxuICogc3BlY2lmaWMsIGFuZCBgLnN0YXR1c1R5cGVgIGlzIHRoZSBjbGFzcyBvZiBlcnJvciByYW5naW5nIGZyb20gMS4uNVxuICogc29tZXRpbWVzIHVzZWZ1bCBmb3IgbWFwcGluZyByZXNwb25kIGNvbG9ycyBldGMuXG4gKlxuICogXCJzdWdhclwiIHByb3BlcnRpZXMgYXJlIGFsc28gZGVmaW5lZCBmb3IgY29tbW9uIGNhc2VzLiBDdXJyZW50bHkgcHJvdmlkaW5nOlxuICpcbiAqICAgLSAubm9Db250ZW50XG4gKiAgIC0gLmJhZFJlcXVlc3RcbiAqICAgLSAudW5hdXRob3JpemVkXG4gKiAgIC0gLm5vdEFjY2VwdGFibGVcbiAqICAgLSAubm90Rm91bmRcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gc3RhdHVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXNwb25zZUJhc2UucHJvdG90eXBlLl9zZXRTdGF0dXNQcm9wZXJ0aWVzID0gZnVuY3Rpb24oc3RhdHVzKXtcbiAgICBjb25zdCB0eXBlID0gc3RhdHVzIC8gMTAwIHwgMDtcblxuICAgIC8vIHN0YXR1cyAvIGNsYXNzXG4gICAgdGhpcy5zdGF0dXMgPSB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXM7XG4gICAgdGhpcy5zdGF0dXNUeXBlID0gdHlwZTtcblxuICAgIC8vIGJhc2ljc1xuICAgIHRoaXMuaW5mbyA9IDEgPT0gdHlwZTtcbiAgICB0aGlzLm9rID0gMiA9PSB0eXBlO1xuICAgIHRoaXMucmVkaXJlY3QgPSAzID09IHR5cGU7XG4gICAgdGhpcy5jbGllbnRFcnJvciA9IDQgPT0gdHlwZTtcbiAgICB0aGlzLnNlcnZlckVycm9yID0gNSA9PSB0eXBlO1xuICAgIHRoaXMuZXJyb3IgPSAoNCA9PSB0eXBlIHx8IDUgPT0gdHlwZSlcbiAgICAgICAgPyB0aGlzLnRvRXJyb3IoKVxuICAgICAgICA6IGZhbHNlO1xuXG4gICAgLy8gc3VnYXJcbiAgICB0aGlzLmNyZWF0ZWQgPSAyMDEgPT0gc3RhdHVzO1xuICAgIHRoaXMuYWNjZXB0ZWQgPSAyMDIgPT0gc3RhdHVzO1xuICAgIHRoaXMubm9Db250ZW50ID0gMjA0ID09IHN0YXR1cztcbiAgICB0aGlzLmJhZFJlcXVlc3QgPSA0MDAgPT0gc3RhdHVzO1xuICAgIHRoaXMudW5hdXRob3JpemVkID0gNDAxID09IHN0YXR1cztcbiAgICB0aGlzLm5vdEFjY2VwdGFibGUgPSA0MDYgPT0gc3RhdHVzO1xuICAgIHRoaXMuZm9yYmlkZGVuID0gNDAzID09IHN0YXR1cztcbiAgICB0aGlzLm5vdEZvdW5kID0gNDA0ID09IHN0YXR1cztcbiAgICB0aGlzLnVucHJvY2Vzc2FibGVFbnRpdHkgPSA0MjIgPT0gc3RhdHVzO1xufTtcbiIsICJmdW5jdGlvbiBBZ2VudCgpIHtcbiAgdGhpcy5fZGVmYXVsdHMgPSBbXTtcbn1cblxuW1widXNlXCIsIFwib25cIiwgXCJvbmNlXCIsIFwic2V0XCIsIFwicXVlcnlcIiwgXCJ0eXBlXCIsIFwiYWNjZXB0XCIsIFwiYXV0aFwiLCBcIndpdGhDcmVkZW50aWFsc1wiLCBcInNvcnRRdWVyeVwiLCBcInJldHJ5XCIsIFwib2tcIiwgXCJyZWRpcmVjdHNcIixcbiBcInRpbWVvdXRcIiwgXCJidWZmZXJcIiwgXCJzZXJpYWxpemVcIiwgXCJwYXJzZVwiLCBcImNhXCIsIFwia2V5XCIsIFwicGZ4XCIsIFwiY2VydFwiXS5mb3JFYWNoKGZuID0+IHtcbiAgLyoqIERlZmF1bHQgc2V0dGluZyBmb3IgYWxsIHJlcXVlc3RzIGZyb20gdGhpcyBhZ2VudCAqL1xuICBBZ2VudC5wcm90b3R5cGVbZm5dID0gZnVuY3Rpb24oLi4uYXJncykge1xuICAgIHRoaXMuX2RlZmF1bHRzLnB1c2goe2ZuLCBhcmdzfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn0pO1xuXG5BZ2VudC5wcm90b3R5cGUuX3NldERlZmF1bHRzID0gZnVuY3Rpb24ocmVxKSB7XG4gICAgdGhpcy5fZGVmYXVsdHMuZm9yRWFjaChkZWYgPT4ge1xuICAgICAgcmVxW2RlZi5mbl0uYXBwbHkocmVxLCBkZWYuYXJncyk7XG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFnZW50O1xuIiwgIi8qKlxuICogUm9vdCByZWZlcmVuY2UgZm9yIGlmcmFtZXMuXG4gKi9cblxubGV0IHJvb3Q7XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsgLy8gQnJvd3NlciB3aW5kb3dcbiAgcm9vdCA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7IC8vIFdlYiBXb3JrZXJcbiAgcm9vdCA9IHNlbGY7XG59IGVsc2UgeyAvLyBPdGhlciBlbnZpcm9ubWVudHNcbiAgY29uc29sZS53YXJuKFwiVXNpbmcgYnJvd3Nlci1vbmx5IHZlcnNpb24gb2Ygc3VwZXJhZ2VudCBpbiBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcbiAgcm9vdCA9IHRoaXM7XG59XG5cbmNvbnN0IEVtaXR0ZXIgPSByZXF1aXJlKCdjb21wb25lbnQtZW1pdHRlcicpO1xuY29uc3QgUmVxdWVzdEJhc2UgPSByZXF1aXJlKCcuL3JlcXVlc3QtYmFzZScpO1xuY29uc3QgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzLW9iamVjdCcpO1xuY29uc3QgUmVzcG9uc2VCYXNlID0gcmVxdWlyZSgnLi9yZXNwb25zZS1iYXNlJyk7XG5jb25zdCBBZ2VudCA9IHJlcXVpcmUoJy4vYWdlbnQtYmFzZScpO1xuXG4vKipcbiAqIE5vb3AuXG4gKi9cblxuZnVuY3Rpb24gbm9vcCgpe307XG5cbi8qKlxuICogRXhwb3NlIGByZXF1ZXN0YC5cbiAqL1xuXG5jb25zdCByZXF1ZXN0ID0gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obWV0aG9kLCB1cmwpIHtcbiAgLy8gY2FsbGJhY2tcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIHVybCkge1xuICAgIHJldHVybiBuZXcgZXhwb3J0cy5SZXF1ZXN0KCdHRVQnLCBtZXRob2QpLmVuZCh1cmwpO1xuICB9XG5cbiAgLy8gdXJsIGZpcnN0XG4gIGlmICgxID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gbmV3IGV4cG9ydHMuUmVxdWVzdCgnR0VUJywgbWV0aG9kKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgZXhwb3J0cy5SZXF1ZXN0KG1ldGhvZCwgdXJsKTtcbn07XG5cbmV4cG9ydHMuUmVxdWVzdCA9IFJlcXVlc3Q7XG5cbi8qKlxuICogRGV0ZXJtaW5lIFhIUi5cbiAqL1xuXG5yZXF1ZXN0LmdldFhIUiA9ICgpID0+IHtcbiAgaWYgKHJvb3QuWE1MSHR0cFJlcXVlc3RcbiAgICAgICYmICghcm9vdC5sb2NhdGlvbiB8fCAnZmlsZTonICE9IHJvb3QubG9jYXRpb24ucHJvdG9jb2xcbiAgICAgICAgICB8fCAhcm9vdC5BY3RpdmVYT2JqZWN0KSkge1xuICAgIHJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3Q7XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHsgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNaWNyb3NvZnQuWE1MSFRUUCcpOyB9IGNhdGNoKGUpIHt9XG4gICAgdHJ5IHsgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNc3htbDIuWE1MSFRUUC42LjAnKTsgfSBjYXRjaChlKSB7fVxuICAgIHRyeSB7IHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTXN4bWwyLlhNTEhUVFAuMy4wJyk7IH0gY2F0Y2goZSkge31cbiAgICB0cnkgeyByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01zeG1sMi5YTUxIVFRQJyk7IH0gY2F0Y2goZSkge31cbiAgfVxuICB0aHJvdyBFcnJvcihcIkJyb3dzZXItb25seSB2ZXJzaW9uIG9mIHN1cGVyYWdlbnQgY291bGQgbm90IGZpbmQgWEhSXCIpO1xufTtcblxuLyoqXG4gKiBSZW1vdmVzIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UsIGFkZGVkIHRvIHN1cHBvcnQgSUUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmNvbnN0IHRyaW0gPSAnJy50cmltXG4gID8gcyA9PiBzLnRyaW0oKVxuICA6IHMgPT4gcy5yZXBsYWNlKC8oXlxccyp8XFxzKiQpL2csICcnKTtcblxuLyoqXG4gKiBTZXJpYWxpemUgdGhlIGdpdmVuIGBvYmpgLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZShvYmopIHtcbiAgaWYgKCFpc09iamVjdChvYmopKSByZXR1cm4gb2JqO1xuICBjb25zdCBwYWlycyA9IFtdO1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycywga2V5LCBvYmpba2V5XSk7XG4gIH1cbiAgcmV0dXJuIHBhaXJzLmpvaW4oJyYnKTtcbn1cblxuLyoqXG4gKiBIZWxwcyAnc2VyaWFsaXplJyB3aXRoIHNlcmlhbGl6aW5nIGFycmF5cy5cbiAqIE11dGF0ZXMgdGhlIHBhaXJzIGFycmF5LlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gKiBAcGFyYW0ge01peGVkfSB2YWxcbiAqL1xuXG5mdW5jdGlvbiBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycywga2V5LCB2YWwpIHtcbiAgaWYgKHZhbCAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgdmFsLmZvckVhY2godiA9PiB7XG4gICAgICAgIHB1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLCBrZXksIHYpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChpc09iamVjdCh2YWwpKSB7XG4gICAgICBmb3IoY29uc3Qgc3Via2V5IGluIHZhbCkge1xuICAgICAgICBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycywgYCR7a2V5fVske3N1YmtleX1dYCwgdmFsW3N1YmtleV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwYWlycy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpXG4gICAgICAgICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICBwYWlycy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpKTtcbiAgfVxufVxuXG4vKipcbiAqIEV4cG9zZSBzZXJpYWxpemF0aW9uIG1ldGhvZC5cbiAqL1xuXG5yZXF1ZXN0LnNlcmlhbGl6ZU9iamVjdCA9IHNlcmlhbGl6ZTtcblxuLyoqXG4gICogUGFyc2UgdGhlIGdpdmVuIHgtd3d3LWZvcm0tdXJsZW5jb2RlZCBgc3RyYC5cbiAgKlxuICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICogQGFwaSBwcml2YXRlXG4gICovXG5cbmZ1bmN0aW9uIHBhcnNlU3RyaW5nKHN0cikge1xuICBjb25zdCBvYmogPSB7fTtcbiAgY29uc3QgcGFpcnMgPSBzdHIuc3BsaXQoJyYnKTtcbiAgbGV0IHBhaXI7XG4gIGxldCBwb3M7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhaXJzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgcGFpciA9IHBhaXJzW2ldO1xuICAgIHBvcyA9IHBhaXIuaW5kZXhPZignPScpO1xuICAgIGlmIChwb3MgPT0gLTEpIHtcbiAgICAgIG9ialtkZWNvZGVVUklDb21wb25lbnQocGFpcildID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtkZWNvZGVVUklDb21wb25lbnQocGFpci5zbGljZSgwLCBwb3MpKV0gPVxuICAgICAgICBkZWNvZGVVUklDb21wb25lbnQocGFpci5zbGljZShwb3MgKyAxKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBFeHBvc2UgcGFyc2VyLlxuICovXG5cbnJlcXVlc3QucGFyc2VTdHJpbmcgPSBwYXJzZVN0cmluZztcblxuLyoqXG4gKiBEZWZhdWx0IE1JTUUgdHlwZSBtYXAuXG4gKlxuICogICAgIHN1cGVyYWdlbnQudHlwZXMueG1sID0gJ2FwcGxpY2F0aW9uL3htbCc7XG4gKlxuICovXG5cbnJlcXVlc3QudHlwZXMgPSB7XG4gIGh0bWw6ICd0ZXh0L2h0bWwnLFxuICBqc29uOiAnYXBwbGljYXRpb24vanNvbicsXG4gIHhtbDogJ3RleHQveG1sJyxcbiAgdXJsZW5jb2RlZDogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICdmb3JtJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICdmb3JtLWRhdGEnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xufTtcblxuLyoqXG4gKiBEZWZhdWx0IHNlcmlhbGl6YXRpb24gbWFwLlxuICpcbiAqICAgICBzdXBlcmFnZW50LnNlcmlhbGl6ZVsnYXBwbGljYXRpb24veG1sJ10gPSBmdW5jdGlvbihvYmope1xuICogICAgICAgcmV0dXJuICdnZW5lcmF0ZWQgeG1sIGhlcmUnO1xuICogICAgIH07XG4gKlxuICovXG5cbnJlcXVlc3Quc2VyaWFsaXplID0ge1xuICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzogc2VyaWFsaXplLFxuICAnYXBwbGljYXRpb24vanNvbic6IEpTT04uc3RyaW5naWZ5XG59O1xuXG4vKipcbiAgKiBEZWZhdWx0IHBhcnNlcnMuXG4gICpcbiAgKiAgICAgc3VwZXJhZ2VudC5wYXJzZVsnYXBwbGljYXRpb24veG1sJ10gPSBmdW5jdGlvbihzdHIpe1xuICAqICAgICAgIHJldHVybiB7IG9iamVjdCBwYXJzZWQgZnJvbSBzdHIgfTtcbiAgKiAgICAgfTtcbiAgKlxuICAqL1xuXG5yZXF1ZXN0LnBhcnNlID0ge1xuICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzogcGFyc2VTdHJpbmcsXG4gICdhcHBsaWNhdGlvbi9qc29uJzogSlNPTi5wYXJzZVxufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gaGVhZGVyIGBzdHJgIGludG9cbiAqIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBtYXBwZWQgZmllbGRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlSGVhZGVyKHN0cikge1xuICBjb25zdCBsaW5lcyA9IHN0ci5zcGxpdCgvXFxyP1xcbi8pO1xuICBjb25zdCBmaWVsZHMgPSB7fTtcbiAgbGV0IGluZGV4O1xuICBsZXQgbGluZTtcbiAgbGV0IGZpZWxkO1xuICBsZXQgdmFsO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSBsaW5lcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgIGxpbmUgPSBsaW5lc1tpXTtcbiAgICBpbmRleCA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHsgLy8gY291bGQgYmUgZW1wdHkgbGluZSwganVzdCBza2lwIGl0XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgZmllbGQgPSBsaW5lLnNsaWNlKDAsIGluZGV4KS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHRyaW0obGluZS5zbGljZShpbmRleCArIDEpKTtcbiAgICBmaWVsZHNbZmllbGRdID0gdmFsO1xuICB9XG5cbiAgcmV0dXJuIGZpZWxkcztcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBgbWltZWAgaXMganNvbiBvciBoYXMgK2pzb24gc3RydWN0dXJlZCBzeW50YXggc3VmZml4LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtaW1lXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gaXNKU09OKG1pbWUpIHtcbiAgLy8gc2hvdWxkIG1hdGNoIC9qc29uIG9yICtqc29uXG4gIC8vIGJ1dCBub3QgL2pzb24tc2VxXG4gIHJldHVybiAvW1xcLytdanNvbigkfFteLVxcd10pLy50ZXN0KG1pbWUpO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFJlc3BvbnNlYCB3aXRoIHRoZSBnaXZlbiBgeGhyYC5cbiAqXG4gKiAgLSBzZXQgZmxhZ3MgKC5vaywgLmVycm9yLCBldGMpXG4gKiAgLSBwYXJzZSBoZWFkZXJcbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgQWxpYXNpbmcgYHN1cGVyYWdlbnRgIGFzIGByZXF1ZXN0YCBpcyBuaWNlOlxuICpcbiAqICAgICAgcmVxdWVzdCA9IHN1cGVyYWdlbnQ7XG4gKlxuICogIFdlIGNhbiB1c2UgdGhlIHByb21pc2UtbGlrZSBBUEksIG9yIHBhc3MgY2FsbGJhY2tzOlxuICpcbiAqICAgICAgcmVxdWVzdC5nZXQoJy8nKS5lbmQoZnVuY3Rpb24ocmVzKXt9KTtcbiAqICAgICAgcmVxdWVzdC5nZXQoJy8nLCBmdW5jdGlvbihyZXMpe30pO1xuICpcbiAqICBTZW5kaW5nIGRhdGEgY2FuIGJlIGNoYWluZWQ6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJylcbiAqICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSlcbiAqICAgICAgICAuZW5kKGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogIE9yIHBhc3NlZCB0byBgLnNlbmQoKWA6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJylcbiAqICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSwgZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiAgT3IgcGFzc2VkIHRvIGAucG9zdCgpYDpcbiAqXG4gKiAgICAgIHJlcXVlc3RcbiAqICAgICAgICAucG9zdCgnL3VzZXInLCB7IG5hbWU6ICd0aicgfSlcbiAqICAgICAgICAuZW5kKGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogT3IgZnVydGhlciByZWR1Y2VkIHRvIGEgc2luZ2xlIGNhbGwgZm9yIHNpbXBsZSBjYXNlczpcbiAqXG4gKiAgICAgIHJlcXVlc3RcbiAqICAgICAgICAucG9zdCgnL3VzZXInLCB7IG5hbWU6ICd0aicgfSwgZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiBAcGFyYW0ge1hNTEhUVFBSZXF1ZXN0fSB4aHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBSZXNwb25zZShyZXEpIHtcbiAgdGhpcy5yZXEgPSByZXE7XG4gIHRoaXMueGhyID0gdGhpcy5yZXEueGhyO1xuICAvLyByZXNwb25zZVRleHQgaXMgYWNjZXNzaWJsZSBvbmx5IGlmIHJlc3BvbnNlVHlwZSBpcyAnJyBvciAndGV4dCcgYW5kIG9uIG9sZGVyIGJyb3dzZXJzXG4gIHRoaXMudGV4dCA9ICgodGhpcy5yZXEubWV0aG9kICE9J0hFQUQnICYmICh0aGlzLnhoci5yZXNwb25zZVR5cGUgPT09ICcnIHx8IHRoaXMueGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnKSkgfHwgdHlwZW9mIHRoaXMueGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgID8gdGhpcy54aHIucmVzcG9uc2VUZXh0XG4gICAgIDogbnVsbDtcbiAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5yZXEueGhyLnN0YXR1c1RleHQ7XG4gIGxldCBzdGF0dXMgPSB0aGlzLnhoci5zdGF0dXM7XG4gIC8vIGhhbmRsZSBJRTkgYnVnOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwMDQ2OTcyL21zaWUtcmV0dXJucy1zdGF0dXMtY29kZS1vZi0xMjIzLWZvci1hamF4LXJlcXVlc3RcbiAgaWYgKHN0YXR1cyA9PT0gMTIyMykge1xuICAgIHN0YXR1cyA9IDIwNDtcbiAgfVxuICB0aGlzLl9zZXRTdGF0dXNQcm9wZXJ0aWVzKHN0YXR1cyk7XG4gIHRoaXMuaGVhZGVyID0gdGhpcy5oZWFkZXJzID0gcGFyc2VIZWFkZXIodGhpcy54aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpO1xuICAvLyBnZXRBbGxSZXNwb25zZUhlYWRlcnMgc29tZXRpbWVzIGZhbHNlbHkgcmV0dXJucyBcIlwiIGZvciBDT1JTIHJlcXVlc3RzLCBidXRcbiAgLy8gZ2V0UmVzcG9uc2VIZWFkZXIgc3RpbGwgd29ya3MuIHNvIHdlIGdldCBjb250ZW50LXR5cGUgZXZlbiBpZiBnZXR0aW5nXG4gIC8vIG90aGVyIGhlYWRlcnMgZmFpbHMuXG4gIHRoaXMuaGVhZGVyWydjb250ZW50LXR5cGUnXSA9IHRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTtcbiAgdGhpcy5fc2V0SGVhZGVyUHJvcGVydGllcyh0aGlzLmhlYWRlcik7XG5cbiAgaWYgKG51bGwgPT09IHRoaXMudGV4dCAmJiByZXEuX3Jlc3BvbnNlVHlwZSkge1xuICAgIHRoaXMuYm9keSA9IHRoaXMueGhyLnJlc3BvbnNlO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuYm9keSA9IHRoaXMucmVxLm1ldGhvZCAhPSAnSEVBRCdcbiAgICAgID8gdGhpcy5fcGFyc2VCb2R5KHRoaXMudGV4dCA/IHRoaXMudGV4dCA6IHRoaXMueGhyLnJlc3BvbnNlKVxuICAgICAgOiBudWxsO1xuICB9XG59XG5cblJlc3BvbnNlQmFzZShSZXNwb25zZS5wcm90b3R5cGUpO1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBib2R5IGBzdHJgLlxuICpcbiAqIFVzZWQgZm9yIGF1dG8tcGFyc2luZyBvZiBib2RpZXMuIFBhcnNlcnNcbiAqIGFyZSBkZWZpbmVkIG9uIHRoZSBgc3VwZXJhZ2VudC5wYXJzZWAgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge01peGVkfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVzcG9uc2UucHJvdG90eXBlLl9wYXJzZUJvZHkgPSBmdW5jdGlvbihzdHIpIHtcbiAgbGV0IHBhcnNlID0gcmVxdWVzdC5wYXJzZVt0aGlzLnR5cGVdO1xuICBpZiAodGhpcy5yZXEuX3BhcnNlcikge1xuICAgIHJldHVybiB0aGlzLnJlcS5fcGFyc2VyKHRoaXMsIHN0cik7XG4gIH1cbiAgaWYgKCFwYXJzZSAmJiBpc0pTT04odGhpcy50eXBlKSkge1xuICAgIHBhcnNlID0gcmVxdWVzdC5wYXJzZVsnYXBwbGljYXRpb24vanNvbiddO1xuICB9XG4gIHJldHVybiBwYXJzZSAmJiBzdHIgJiYgKHN0ci5sZW5ndGggfHwgc3RyIGluc3RhbmNlb2YgT2JqZWN0KVxuICAgID8gcGFyc2Uoc3RyKVxuICAgIDogbnVsbDtcbn07XG5cbi8qKlxuICogUmV0dXJuIGFuIGBFcnJvcmAgcmVwcmVzZW50YXRpdmUgb2YgdGhpcyByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJuIHtFcnJvcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVzcG9uc2UucHJvdG90eXBlLnRvRXJyb3IgPSBmdW5jdGlvbigpe1xuICBjb25zdCByZXEgPSB0aGlzLnJlcTtcbiAgY29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZDtcbiAgY29uc3QgdXJsID0gcmVxLnVybDtcblxuICBjb25zdCBtc2cgPSBgY2Fubm90ICR7bWV0aG9kfSAke3VybH0gKCR7dGhpcy5zdGF0dXN9KWA7XG4gIGNvbnN0IGVyciA9IG5ldyBFcnJvcihtc2cpO1xuICBlcnIuc3RhdHVzID0gdGhpcy5zdGF0dXM7XG4gIGVyci5tZXRob2QgPSBtZXRob2Q7XG4gIGVyci51cmwgPSB1cmw7XG5cbiAgcmV0dXJuIGVycjtcbn07XG5cbi8qKlxuICogRXhwb3NlIGBSZXNwb25zZWAuXG4gKi9cblxucmVxdWVzdC5SZXNwb25zZSA9IFJlc3BvbnNlO1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFJlcXVlc3RgIHdpdGggdGhlIGdpdmVuIGBtZXRob2RgIGFuZCBgdXJsYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFJlcXVlc3QobWV0aG9kLCB1cmwpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHRoaXMuX3F1ZXJ5ID0gdGhpcy5fcXVlcnkgfHwgW107XG4gIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICB0aGlzLnVybCA9IHVybDtcbiAgdGhpcy5oZWFkZXIgPSB7fTsgLy8gcHJlc2VydmVzIGhlYWRlciBuYW1lIGNhc2VcbiAgdGhpcy5faGVhZGVyID0ge307IC8vIGNvZXJjZXMgaGVhZGVyIG5hbWVzIHRvIGxvd2VyY2FzZVxuICB0aGlzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgbGV0IGVyciA9IG51bGw7XG4gICAgbGV0IHJlcyA9IG51bGw7XG5cbiAgICB0cnkge1xuICAgICAgcmVzID0gbmV3IFJlc3BvbnNlKHNlbGYpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgZXJyID0gbmV3IEVycm9yKCdQYXJzZXIgaXMgdW5hYmxlIHRvIHBhcnNlIHRoZSByZXNwb25zZScpO1xuICAgICAgZXJyLnBhcnNlID0gdHJ1ZTtcbiAgICAgIGVyci5vcmlnaW5hbCA9IGU7XG4gICAgICAvLyBpc3N1ZSAjNjc1OiByZXR1cm4gdGhlIHJhdyByZXNwb25zZSBpZiB0aGUgcmVzcG9uc2UgcGFyc2luZyBmYWlsc1xuICAgICAgaWYgKHNlbGYueGhyKSB7XG4gICAgICAgIC8vIGllOSBkb2Vzbid0IGhhdmUgJ3Jlc3BvbnNlJyBwcm9wZXJ0eVxuICAgICAgICBlcnIucmF3UmVzcG9uc2UgPSB0eXBlb2Ygc2VsZi54aHIucmVzcG9uc2VUeXBlID09ICd1bmRlZmluZWQnID8gc2VsZi54aHIucmVzcG9uc2VUZXh0IDogc2VsZi54aHIucmVzcG9uc2U7XG4gICAgICAgIC8vIGlzc3VlICM4NzY6IHJldHVybiB0aGUgaHR0cCBzdGF0dXMgY29kZSBpZiB0aGUgcmVzcG9uc2UgcGFyc2luZyBmYWlsc1xuICAgICAgICBlcnIuc3RhdHVzID0gc2VsZi54aHIuc3RhdHVzID8gc2VsZi54aHIuc3RhdHVzIDogbnVsbDtcbiAgICAgICAgZXJyLnN0YXR1c0NvZGUgPSBlcnIuc3RhdHVzOyAvLyBiYWNrd2FyZHMtY29tcGF0IG9ubHlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVyci5yYXdSZXNwb25zZSA9IG51bGw7XG4gICAgICAgIGVyci5zdGF0dXMgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZi5jYWxsYmFjayhlcnIpO1xuICAgIH1cblxuICAgIHNlbGYuZW1pdCgncmVzcG9uc2UnLCByZXMpO1xuXG4gICAgbGV0IG5ld19lcnI7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghc2VsZi5faXNSZXNwb25zZU9LKHJlcykpIHtcbiAgICAgICAgbmV3X2VyciA9IG5ldyBFcnJvcihyZXMuc3RhdHVzVGV4dCB8fCAnVW5zdWNjZXNzZnVsIEhUVFAgcmVzcG9uc2UnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoKGN1c3RvbV9lcnIpIHtcbiAgICAgIG5ld19lcnIgPSBjdXN0b21fZXJyOyAvLyBvaygpIGNhbGxiYWNrIGNhbiB0aHJvd1xuICAgIH1cblxuICAgIC8vICMxMDAwIGRvbid0IGNhdGNoIGVycm9ycyBmcm9tIHRoZSBjYWxsYmFjayB0byBhdm9pZCBkb3VibGUgY2FsbGluZyBpdFxuICAgIGlmIChuZXdfZXJyKSB7XG4gICAgICBuZXdfZXJyLm9yaWdpbmFsID0gZXJyO1xuICAgICAgbmV3X2Vyci5yZXNwb25zZSA9IHJlcztcbiAgICAgIG5ld19lcnIuc3RhdHVzID0gcmVzLnN0YXR1cztcbiAgICAgIHNlbGYuY2FsbGJhY2sobmV3X2VyciwgcmVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5jYWxsYmFjayhudWxsLCByZXMpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogTWl4aW4gYEVtaXR0ZXJgIGFuZCBgUmVxdWVzdEJhc2VgLlxuICovXG5cbkVtaXR0ZXIoUmVxdWVzdC5wcm90b3R5cGUpO1xuUmVxdWVzdEJhc2UoUmVxdWVzdC5wcm90b3R5cGUpO1xuXG4vKipcbiAqIFNldCBDb250ZW50LVR5cGUgdG8gYHR5cGVgLCBtYXBwaW5nIHZhbHVlcyBmcm9tIGByZXF1ZXN0LnR5cGVzYC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHN1cGVyYWdlbnQudHlwZXMueG1sID0gJ2FwcGxpY2F0aW9uL3htbCc7XG4gKlxuICogICAgICByZXF1ZXN0LnBvc3QoJy8nKVxuICogICAgICAgIC50eXBlKCd4bWwnKVxuICogICAgICAgIC5zZW5kKHhtbHN0cmluZylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiAgICAgIHJlcXVlc3QucG9zdCgnLycpXG4gKiAgICAgICAgLnR5cGUoJ2FwcGxpY2F0aW9uL3htbCcpXG4gKiAgICAgICAgLnNlbmQoeG1sc3RyaW5nKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUudHlwZSA9IGZ1bmN0aW9uKHR5cGUpe1xuICB0aGlzLnNldCgnQ29udGVudC1UeXBlJywgcmVxdWVzdC50eXBlc1t0eXBlXSB8fCB0eXBlKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCBBY2NlcHQgdG8gYHR5cGVgLCBtYXBwaW5nIHZhbHVlcyBmcm9tIGByZXF1ZXN0LnR5cGVzYC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHN1cGVyYWdlbnQudHlwZXMuanNvbiA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAqXG4gKiAgICAgIHJlcXVlc3QuZ2V0KCcvYWdlbnQnKVxuICogICAgICAgIC5hY2NlcHQoJ2pzb24nKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqICAgICAgcmVxdWVzdC5nZXQoJy9hZ2VudCcpXG4gKiAgICAgICAgLmFjY2VwdCgnYXBwbGljYXRpb24vanNvbicpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFjY2VwdFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uKHR5cGUpe1xuICB0aGlzLnNldCgnQWNjZXB0JywgcmVxdWVzdC50eXBlc1t0eXBlXSB8fCB0eXBlKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCBBdXRob3JpemF0aW9uIGZpZWxkIHZhbHVlIHdpdGggYHVzZXJgIGFuZCBgcGFzc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVzZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbcGFzc10gb3B0aW9uYWwgaW4gY2FzZSBvZiB1c2luZyAnYmVhcmVyJyBhcyB0eXBlXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyB3aXRoICd0eXBlJyBwcm9wZXJ0eSAnYXV0bycsICdiYXNpYycgb3IgJ2JlYXJlcicgKGRlZmF1bHQgJ2Jhc2ljJylcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5hdXRoID0gZnVuY3Rpb24odXNlciwgcGFzcywgb3B0aW9ucyl7XG4gIGlmICgxID09PSBhcmd1bWVudHMubGVuZ3RoKSBwYXNzID0gJyc7XG4gIGlmICh0eXBlb2YgcGFzcyA9PT0gJ29iamVjdCcgJiYgcGFzcyAhPT0gbnVsbCkgeyAvLyBwYXNzIGlzIG9wdGlvbmFsIGFuZCBjYW4gYmUgcmVwbGFjZWQgd2l0aCBvcHRpb25zXG4gICAgb3B0aW9ucyA9IHBhc3M7XG4gICAgcGFzcyA9ICcnO1xuICB9XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICB0eXBlOiAnZnVuY3Rpb24nID09PSB0eXBlb2YgYnRvYSA/ICdiYXNpYycgOiAnYXV0bycsXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IGVuY29kZXIgPSBzdHJpbmcgPT4ge1xuICAgIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgYnRvYSkge1xuICAgICAgcmV0dXJuIGJ0b2Eoc3RyaW5nKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgdXNlIGJhc2ljIGF1dGgsIGJ0b2EgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgfTtcblxuICByZXR1cm4gdGhpcy5fYXV0aCh1c2VyLCBwYXNzLCBvcHRpb25zLCBlbmNvZGVyKTtcbn07XG5cbi8qKlxuICogQWRkIHF1ZXJ5LXN0cmluZyBgdmFsYC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgIHJlcXVlc3QuZ2V0KCcvc2hvZXMnKVxuICogICAgIC5xdWVyeSgnc2l6ZT0xMCcpXG4gKiAgICAgLnF1ZXJ5KHsgY29sb3I6ICdibHVlJyB9KVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gdmFsXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUucXVlcnkgPSBmdW5jdGlvbih2YWwpe1xuICBpZiAoJ3N0cmluZycgIT0gdHlwZW9mIHZhbCkgdmFsID0gc2VyaWFsaXplKHZhbCk7XG4gIGlmICh2YWwpIHRoaXMuX3F1ZXJ5LnB1c2godmFsKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFF1ZXVlIHRoZSBnaXZlbiBgZmlsZWAgYXMgYW4gYXR0YWNobWVudCB0byB0aGUgc3BlY2lmaWVkIGBmaWVsZGAsXG4gKiB3aXRoIG9wdGlvbmFsIGBvcHRpb25zYCAob3IgZmlsZW5hbWUpLlxuICpcbiAqIGBgYCBqc1xuICogcmVxdWVzdC5wb3N0KCcvdXBsb2FkJylcbiAqICAgLmF0dGFjaCgnY29udGVudCcsIG5ldyBCbG9iKFsnPGEgaWQ9XCJhXCI+PGIgaWQ9XCJiXCI+aGV5ITwvYj48L2E+J10sIHsgdHlwZTogXCJ0ZXh0L2h0bWxcIn0pKVxuICogICAuZW5kKGNhbGxiYWNrKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICogQHBhcmFtIHtCbG9ifEZpbGV9IGZpbGVcbiAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmF0dGFjaCA9IGZ1bmN0aW9uKGZpZWxkLCBmaWxlLCBvcHRpb25zKXtcbiAgaWYgKGZpbGUpIHtcbiAgICBpZiAodGhpcy5fZGF0YSkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJzdXBlcmFnZW50IGNhbid0IG1peCAuc2VuZCgpIGFuZCAuYXR0YWNoKClcIik7XG4gICAgfVxuXG4gICAgdGhpcy5fZ2V0Rm9ybURhdGEoKS5hcHBlbmQoZmllbGQsIGZpbGUsIG9wdGlvbnMgfHwgZmlsZS5uYW1lKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cblJlcXVlc3QucHJvdG90eXBlLl9nZXRGb3JtRGF0YSA9IGZ1bmN0aW9uKCl7XG4gIGlmICghdGhpcy5fZm9ybURhdGEpIHtcbiAgICB0aGlzLl9mb3JtRGF0YSA9IG5ldyByb290LkZvcm1EYXRhKCk7XG4gIH1cbiAgcmV0dXJuIHRoaXMuX2Zvcm1EYXRhO1xufTtcblxuLyoqXG4gKiBJbnZva2UgdGhlIGNhbGxiYWNrIHdpdGggYGVycmAgYW5kIGByZXNgXG4gKiBhbmQgaGFuZGxlIGFyaXR5IGNoZWNrLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVyclxuICogQHBhcmFtIHtSZXNwb25zZX0gcmVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5jYWxsYmFjayA9IGZ1bmN0aW9uKGVyciwgcmVzKXtcbiAgaWYgKHRoaXMuX3Nob3VsZFJldHJ5KGVyciwgcmVzKSkge1xuICAgIHJldHVybiB0aGlzLl9yZXRyeSgpO1xuICB9XG5cbiAgY29uc3QgZm4gPSB0aGlzLl9jYWxsYmFjaztcbiAgdGhpcy5jbGVhclRpbWVvdXQoKTtcblxuICBpZiAoZXJyKSB7XG4gICAgaWYgKHRoaXMuX21heFJldHJpZXMpIGVyci5yZXRyaWVzID0gdGhpcy5fcmV0cmllcyAtIDE7XG4gICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gIH1cblxuICBmbihlcnIsIHJlcyk7XG59O1xuXG4vKipcbiAqIEludm9rZSBjYWxsYmFjayB3aXRoIHgtZG9tYWluIGVycm9yLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmNyb3NzRG9tYWluRXJyb3IgPSBmdW5jdGlvbigpe1xuICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoJ1JlcXVlc3QgaGFzIGJlZW4gdGVybWluYXRlZFxcblBvc3NpYmxlIGNhdXNlczogdGhlIG5ldHdvcmsgaXMgb2ZmbGluZSwgT3JpZ2luIGlzIG5vdCBhbGxvd2VkIGJ5IEFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiwgdGhlIHBhZ2UgaXMgYmVpbmcgdW5sb2FkZWQsIGV0Yy4nKTtcbiAgZXJyLmNyb3NzRG9tYWluID0gdHJ1ZTtcblxuICBlcnIuc3RhdHVzID0gdGhpcy5zdGF0dXM7XG4gIGVyci5tZXRob2QgPSB0aGlzLm1ldGhvZDtcbiAgZXJyLnVybCA9IHRoaXMudXJsO1xuXG4gIHRoaXMuY2FsbGJhY2soZXJyKTtcbn07XG5cbi8vIFRoaXMgb25seSB3YXJucywgYmVjYXVzZSB0aGUgcmVxdWVzdCBpcyBzdGlsbCBsaWtlbHkgdG8gd29ya1xuUmVxdWVzdC5wcm90b3R5cGUuYnVmZmVyID0gUmVxdWVzdC5wcm90b3R5cGUuY2EgPSBSZXF1ZXN0LnByb3RvdHlwZS5hZ2VudCA9IGZ1bmN0aW9uKCl7XG4gIGNvbnNvbGUud2FybihcIlRoaXMgaXMgbm90IHN1cHBvcnRlZCBpbiBicm93c2VyIHZlcnNpb24gb2Ygc3VwZXJhZ2VudFwiKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBUaGlzIHRocm93cywgYmVjYXVzZSBpdCBjYW4ndCBzZW5kL3JlY2VpdmUgZGF0YSBhcyBleHBlY3RlZFxuUmVxdWVzdC5wcm90b3R5cGUucGlwZSA9IFJlcXVlc3QucHJvdG90eXBlLndyaXRlID0gKCkgPT4ge1xuICB0aHJvdyBFcnJvcihcIlN0cmVhbWluZyBpcyBub3Qgc3VwcG9ydGVkIGluIGJyb3dzZXIgdmVyc2lvbiBvZiBzdXBlcmFnZW50XCIpO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBgb2JqYCBpcyBhIGhvc3Qgb2JqZWN0LFxuICogd2UgZG9uJ3Qgd2FudCB0byBzZXJpYWxpemUgdGhlc2UgOilcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblJlcXVlc3QucHJvdG90eXBlLl9pc0hvc3QgPSBmdW5jdGlvbiBfaXNIb3N0KG9iaikge1xuICAvLyBOYXRpdmUgb2JqZWN0cyBzdHJpbmdpZnkgdG8gW29iamVjdCBGaWxlXSwgW29iamVjdCBCbG9iXSwgW29iamVjdCBGb3JtRGF0YV0sIGV0Yy5cbiAgcmV0dXJuIG9iaiAmJiAnb2JqZWN0JyA9PT0gdHlwZW9mIG9iaiAmJiAhQXJyYXkuaXNBcnJheShvYmopICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopICE9PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuLyoqXG4gKiBJbml0aWF0ZSByZXF1ZXN0LCBpbnZva2luZyBjYWxsYmFjayBgZm4ocmVzKWBcbiAqIHdpdGggYW4gaW5zdGFuY2VvZiBgUmVzcG9uc2VgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24oZm4pe1xuICBpZiAodGhpcy5fZW5kQ2FsbGVkKSB7XG4gICAgY29uc29sZS53YXJuKFwiV2FybmluZzogLmVuZCgpIHdhcyBjYWxsZWQgdHdpY2UuIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBpbiBzdXBlcmFnZW50XCIpO1xuICB9XG4gIHRoaXMuX2VuZENhbGxlZCA9IHRydWU7XG5cbiAgLy8gc3RvcmUgY2FsbGJhY2tcbiAgdGhpcy5fY2FsbGJhY2sgPSBmbiB8fCBub29wO1xuXG4gIC8vIHF1ZXJ5c3RyaW5nXG4gIHRoaXMuX2ZpbmFsaXplUXVlcnlTdHJpbmcoKTtcblxuICB0aGlzLl9lbmQoKTtcbn07XG5cblJlcXVlc3QucHJvdG90eXBlLl9lbmQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuX2Fib3J0ZWQpIHJldHVybiB0aGlzLmNhbGxiYWNrKEVycm9yKFwiVGhlIHJlcXVlc3QgaGFzIGJlZW4gYWJvcnRlZCBldmVuIGJlZm9yZSAuZW5kKCkgd2FzIGNhbGxlZFwiKSk7XG5cbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIGNvbnN0IHhociA9ICh0aGlzLnhociA9IHJlcXVlc3QuZ2V0WEhSKCkpO1xuICBsZXQgZGF0YSA9IHRoaXMuX2Zvcm1EYXRhIHx8IHRoaXMuX2RhdGE7XG5cbiAgdGhpcy5fc2V0VGltZW91dHMoKTtcblxuICAvLyBzdGF0ZSBjaGFuZ2VcbiAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICBjb25zdCByZWFkeVN0YXRlID0geGhyLnJlYWR5U3RhdGU7XG4gICAgaWYgKHJlYWR5U3RhdGUgPj0gMiAmJiBzZWxmLl9yZXNwb25zZVRpbWVvdXRUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3Jlc3BvbnNlVGltZW91dFRpbWVyKTtcbiAgICB9XG4gICAgaWYgKDQgIT0gcmVhZHlTdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEluIElFOSwgcmVhZHMgdG8gYW55IHByb3BlcnR5IChlLmcuIHN0YXR1cykgb2ZmIG9mIGFuIGFib3J0ZWQgWEhSIHdpbGxcbiAgICAvLyByZXN1bHQgaW4gdGhlIGVycm9yIFwiQ291bGQgbm90IGNvbXBsZXRlIHRoZSBvcGVyYXRpb24gZHVlIHRvIGVycm9yIGMwMGMwMjNmXCJcbiAgICBsZXQgc3RhdHVzO1xuICAgIHRyeSB7IHN0YXR1cyA9IHhoci5zdGF0dXMgfSBjYXRjaChlKSB7IHN0YXR1cyA9IDA7IH1cblxuICAgIGlmICghc3RhdHVzKSB7XG4gICAgICBpZiAoc2VsZi50aW1lZG91dCB8fCBzZWxmLl9hYm9ydGVkKSByZXR1cm47XG4gICAgICByZXR1cm4gc2VsZi5jcm9zc0RvbWFpbkVycm9yKCk7XG4gICAgfVxuICAgIHNlbGYuZW1pdCgnZW5kJyk7XG4gIH07XG5cbiAgLy8gcHJvZ3Jlc3NcbiAgY29uc3QgaGFuZGxlUHJvZ3Jlc3MgPSAoZGlyZWN0aW9uLCBlKSA9PiB7XG4gICAgaWYgKGUudG90YWwgPiAwKSB7XG4gICAgICBlLnBlcmNlbnQgPSBlLmxvYWRlZCAvIGUudG90YWwgKiAxMDA7XG4gICAgfVxuICAgIGUuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgIHNlbGYuZW1pdCgncHJvZ3Jlc3MnLCBlKTtcbiAgfTtcbiAgaWYgKHRoaXMuaGFzTGlzdGVuZXJzKCdwcm9ncmVzcycpKSB7XG4gICAgdHJ5IHtcbiAgICAgIHhoci5vbnByb2dyZXNzID0gaGFuZGxlUHJvZ3Jlc3MuYmluZChudWxsLCAnZG93bmxvYWQnKTtcbiAgICAgIGlmICh4aHIudXBsb2FkKSB7XG4gICAgICAgIHhoci51cGxvYWQub25wcm9ncmVzcyA9IGhhbmRsZVByb2dyZXNzLmJpbmQobnVsbCwgJ3VwbG9hZCcpO1xuICAgICAgfVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgLy8gQWNjZXNzaW5nIHhoci51cGxvYWQgZmFpbHMgaW4gSUUgZnJvbSBhIHdlYiB3b3JrZXIsIHNvIGp1c3QgcHJldGVuZCBpdCBkb2Vzbid0IGV4aXN0LlxuICAgICAgLy8gUmVwb3J0ZWQgaGVyZTpcbiAgICAgIC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvODM3MjQ1L3htbGh0dHByZXF1ZXN0LXVwbG9hZC10aHJvd3MtaW52YWxpZC1hcmd1bWVudC13aGVuLXVzZWQtZnJvbS13ZWItd29ya2VyLWNvbnRleHRcbiAgICB9XG4gIH1cblxuICAvLyBpbml0aWF0ZSByZXF1ZXN0XG4gIHRyeSB7XG4gICAgaWYgKHRoaXMudXNlcm5hbWUgJiYgdGhpcy5wYXNzd29yZCkge1xuICAgICAgeGhyLm9wZW4odGhpcy5tZXRob2QsIHRoaXMudXJsLCB0cnVlLCB0aGlzLnVzZXJuYW1lLCB0aGlzLnBhc3N3b3JkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgeGhyLm9wZW4odGhpcy5tZXRob2QsIHRoaXMudXJsLCB0cnVlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIHNlZSAjMTE0OVxuICAgIHJldHVybiB0aGlzLmNhbGxiYWNrKGVycik7XG4gIH1cblxuICAvLyBDT1JTXG4gIGlmICh0aGlzLl93aXRoQ3JlZGVudGlhbHMpIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuXG4gIC8vIGJvZHlcbiAgaWYgKCF0aGlzLl9mb3JtRGF0YSAmJiAnR0VUJyAhPSB0aGlzLm1ldGhvZCAmJiAnSEVBRCcgIT0gdGhpcy5tZXRob2QgJiYgJ3N0cmluZycgIT0gdHlwZW9mIGRhdGEgJiYgIXRoaXMuX2lzSG9zdChkYXRhKSkge1xuICAgIC8vIHNlcmlhbGl6ZSBzdHVmZlxuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gdGhpcy5faGVhZGVyWydjb250ZW50LXR5cGUnXTtcbiAgICBsZXQgc2VyaWFsaXplID0gdGhpcy5fc2VyaWFsaXplciB8fCByZXF1ZXN0LnNlcmlhbGl6ZVtjb250ZW50VHlwZSA/IGNvbnRlbnRUeXBlLnNwbGl0KCc7JylbMF0gOiAnJ107XG4gICAgaWYgKCFzZXJpYWxpemUgJiYgaXNKU09OKGNvbnRlbnRUeXBlKSkge1xuICAgICAgc2VyaWFsaXplID0gcmVxdWVzdC5zZXJpYWxpemVbJ2FwcGxpY2F0aW9uL2pzb24nXTtcbiAgICB9XG4gICAgaWYgKHNlcmlhbGl6ZSkgZGF0YSA9IHNlcmlhbGl6ZShkYXRhKTtcbiAgfVxuXG4gIC8vIHNldCBoZWFkZXIgZmllbGRzXG4gIGZvciAoY29uc3QgZmllbGQgaW4gdGhpcy5oZWFkZXIpIHtcbiAgICBpZiAobnVsbCA9PSB0aGlzLmhlYWRlcltmaWVsZF0pIGNvbnRpbnVlO1xuXG4gICAgaWYgKHRoaXMuaGVhZGVyLmhhc093blByb3BlcnR5KGZpZWxkKSlcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGZpZWxkLCB0aGlzLmhlYWRlcltmaWVsZF0pO1xuICB9XG5cbiAgaWYgKHRoaXMuX3Jlc3BvbnNlVHlwZSkge1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLl9yZXNwb25zZVR5cGU7XG4gIH1cblxuICAvLyBzZW5kIHN0dWZmXG4gIHRoaXMuZW1pdCgncmVxdWVzdCcsIHRoaXMpO1xuXG4gIC8vIElFMTEgeGhyLnNlbmQodW5kZWZpbmVkKSBzZW5kcyAndW5kZWZpbmVkJyBzdHJpbmcgYXMgUE9TVCBwYXlsb2FkIChpbnN0ZWFkIG9mIG5vdGhpbmcpXG4gIC8vIFdlIG5lZWQgbnVsbCBoZXJlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gIHhoci5zZW5kKHR5cGVvZiBkYXRhICE9PSAndW5kZWZpbmVkJyA/IGRhdGEgOiBudWxsKTtcbn07XG5cbnJlcXVlc3QuYWdlbnQgPSAoKSA9PiBuZXcgQWdlbnQoKTtcblxuW1wiR0VUXCIsIFwiUE9TVFwiLCBcIk9QVElPTlNcIiwgXCJQQVRDSFwiLCBcIlBVVFwiLCBcIkRFTEVURVwiXS5mb3JFYWNoKG1ldGhvZCA9PiB7XG4gIEFnZW50LnByb3RvdHlwZVttZXRob2QudG9Mb3dlckNhc2UoKV0gPSBmdW5jdGlvbih1cmwsIGZuKSB7XG4gICAgY29uc3QgcmVxID0gbmV3IHJlcXVlc3QuUmVxdWVzdChtZXRob2QsIHVybCk7XG4gICAgdGhpcy5fc2V0RGVmYXVsdHMocmVxKTtcbiAgICBpZiAoZm4pIHtcbiAgICAgIHJlcS5lbmQoZm4pO1xuICAgIH1cbiAgICByZXR1cm4gcmVxO1xuICB9O1xufSk7XG5cbkFnZW50LnByb3RvdHlwZS5kZWwgPSBBZ2VudC5wcm90b3R5cGVbJ2RlbGV0ZSddO1xuXG4vKipcbiAqIEdFVCBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QuZ2V0ID0gKHVybCwgZGF0YSwgZm4pID0+IHtcbiAgY29uc3QgcmVxID0gcmVxdWVzdCgnR0VUJywgdXJsKTtcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIChmbiA9IGRhdGEpLCAoZGF0YSA9IG51bGwpO1xuICBpZiAoZGF0YSkgcmVxLnF1ZXJ5KGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBIRUFEIGB1cmxgIHdpdGggb3B0aW9uYWwgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR8RnVuY3Rpb259IFtkYXRhXSBvciBmblxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5oZWFkID0gKHVybCwgZGF0YSwgZm4pID0+IHtcbiAgY29uc3QgcmVxID0gcmVxdWVzdCgnSEVBRCcsIHVybCk7XG4gIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiBkYXRhKSAoZm4gPSBkYXRhKSwgKGRhdGEgPSBudWxsKTtcbiAgaWYgKGRhdGEpIHJlcS5xdWVyeShkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogT1BUSU9OUyBxdWVyeSB0byBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3Qub3B0aW9ucyA9ICh1cmwsIGRhdGEsIGZuKSA9PiB7XG4gIGNvbnN0IHJlcSA9IHJlcXVlc3QoJ09QVElPTlMnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgKGZuID0gZGF0YSksIChkYXRhID0gbnVsbCk7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogREVMRVRFIGB1cmxgIHdpdGggb3B0aW9uYWwgYGRhdGFgIGFuZCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZH0gW2RhdGFdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBkZWwodXJsLCBkYXRhLCBmbikge1xuICBjb25zdCByZXEgPSByZXF1ZXN0KCdERUxFVEUnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgKGZuID0gZGF0YSksIChkYXRhID0gbnVsbCk7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn1cblxucmVxdWVzdFsnZGVsJ10gPSBkZWw7XG5yZXF1ZXN0WydkZWxldGUnXSA9IGRlbDtcblxuLyoqXG4gKiBQQVRDSCBgdXJsYCB3aXRoIG9wdGlvbmFsIGBkYXRhYCBhbmQgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR9IFtkYXRhXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5wYXRjaCA9ICh1cmwsIGRhdGEsIGZuKSA9PiB7XG4gIGNvbnN0IHJlcSA9IHJlcXVlc3QoJ1BBVENIJywgdXJsKTtcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIChmbiA9IGRhdGEpLCAoZGF0YSA9IG51bGwpO1xuICBpZiAoZGF0YSkgcmVxLnNlbmQoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuXG4vKipcbiAqIFBPU1QgYHVybGAgd2l0aCBvcHRpb25hbCBgZGF0YWAgYW5kIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfSBbZGF0YV1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QucG9zdCA9ICh1cmwsIGRhdGEsIGZuKSA9PiB7XG4gIGNvbnN0IHJlcSA9IHJlcXVlc3QoJ1BPU1QnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgKGZuID0gZGF0YSksIChkYXRhID0gbnVsbCk7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogUFVUIGB1cmxgIHdpdGggb3B0aW9uYWwgYGRhdGFgIGFuZCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZHxGdW5jdGlvbn0gW2RhdGFdIG9yIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0LnB1dCA9ICh1cmwsIGRhdGEsIGZuKSA9PiB7XG4gIGNvbnN0IHJlcSA9IHJlcXVlc3QoJ1BVVCcsIHVybCk7XG4gIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiBkYXRhKSAoZm4gPSBkYXRhKSwgKGRhdGEgPSBudWxsKTtcbiAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVmVyaWZ5IHRoYXQgYSBzcGVjaWZpYyBIVFRQIG1ldGhvZCBpcyBzdXBwb3J0ZWQgYnkgdGhlIHByb3ZpZGVkIFdQUmVxdWVzdFxuICpcbiAqIEBtb2R1bGUgdXRpbC9jaGVjay1tZXRob2Qtc3VwcG9ydFxuICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZCBBbiBIVFRQIG1ldGhvZCB0byBjaGVjayAoJ2dldCcsICdwb3N0JywgZXRjKVxuICogQHBhcmFtIHtXUFJlcXVlc3R9IHJlcXVlc3QgQSBXUFJlcXVlc3Qgb2JqZWN0IHdpdGggYSBfc3VwcG9ydGVkTWV0aG9kcyBhcnJheVxuICogQHJldHVybnMgdHJ1ZSBpZmYgdGhlIG1ldGhvZCBpcyB3aXRoaW4gcmVxdWVzdC5fc3VwcG9ydGVkTWV0aG9kc1xuICovXG5tb2R1bGUuZXhwb3J0cyA9ICggbWV0aG9kLCByZXF1ZXN0ICkgPT4ge1xuXHRpZiAoIHJlcXVlc3QuX3N1cHBvcnRlZE1ldGhvZHMuaW5kZXhPZiggbWV0aG9kLnRvTG93ZXJDYXNlKCkgKSA9PT0gLTEgKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0J1Vuc3VwcG9ydGVkIG1ldGhvZDsgc3VwcG9ydGVkIG1ldGhvZHMgYXJlOiAnICtcblx0XHRcdHJlcXVlc3QuX3N1cHBvcnRlZE1ldGhvZHMuam9pbiggJywgJyApXG5cdFx0KTtcblx0fVxuXG5cdHJldHVybiB0cnVlO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgYW4gcHJvdmlkZWQgdmFsdWUgaXMgYW4gZW1wdHkgb2JqZWN0XG4gKlxuICogQG1vZHVsZSB1dGlsL2lzLWVtcHR5LW9iamVjdFxuICogQHBhcmFtIHt9IHZhbHVlIEEgdmFsdWUgdG8gdGVzdCBmb3IgZW1wdHktb2JqZWN0LW5lc3NcbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBwcm92aWRlZCB2YWx1ZSBpcyBhbiBlbXB0eSBvYmplY3RcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAoIHZhbHVlICkgPT4ge1xuXHQvLyBJZiB0aGUgdmFsdWUgaXMgbm90IG9iamVjdC1saWtlLCB0aGVuIGl0IGlzIGNlcnRhaW5seSBub3QgYW4gZW1wdHkgb2JqZWN0XG5cdGlmICggdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyApIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvLyBGb3Igb3VyIHB1cnBvc2VzIGFuIGVtcHR5IGFycmF5IHNob3VsZCBub3QgYmUgdHJlYXRlZCBhcyBhbiBlbXB0eSBvYmplY3Rcblx0Ly8gKFNpbmNlIHRoaXMgaXMgdXNlZCB0byBwcm9jZXNzIGludmFsaWQgY29udGVudC10eXBlIHJlc3BvbnNlcywgKVxuXHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Zm9yICggY29uc3Qga2V5IGluIHZhbHVlICkge1xuXHRcdGlmICggdmFsdWUuaGFzT3duUHJvcGVydHkoIGtleSApICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0cnVlO1xufTtcbiIsICIvKipcbiAqIEBtb2R1bGUgaHR0cC10cmFuc3BvcnRcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBhZ2VudCA9IHJlcXVpcmUoICdzdXBlcmFnZW50JyApO1xuY29uc3QgcGFyc2VMaW5rSGVhZGVyID0gcmVxdWlyZSggJ2xpJyApLnBhcnNlO1xuXG5jb25zdCBXUFJlcXVlc3QgPSByZXF1aXJlKCAnLi9jb25zdHJ1Y3RvcnMvd3AtcmVxdWVzdCcgKTtcbmNvbnN0IGNoZWNrTWV0aG9kU3VwcG9ydCA9IHJlcXVpcmUoICcuL3V0aWwvY2hlY2stbWV0aG9kLXN1cHBvcnQnICk7XG5jb25zdCBvYmplY3RSZWR1Y2UgPSByZXF1aXJlKCAnLi91dGlsL29iamVjdC1yZWR1Y2UnICk7XG5jb25zdCBpc0VtcHR5T2JqZWN0ID0gcmVxdWlyZSggJy4vdXRpbC9pcy1lbXB0eS1vYmplY3QnICk7XG5cbi8qKlxuICogU2V0IGFueSBwcm92aWRlZCBoZWFkZXJzIG9uIHRoZSBvdXRnb2luZyByZXF1ZXN0IG9iamVjdC4gUnVucyBhZnRlciBfYXV0aC5cbiAqXG4gKiBAbWV0aG9kIF9zZXRIZWFkZXJzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHJlcXVlc3QgQSBzdXBlcmFnZW50IHJlcXVlc3Qgb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBBIFdQUmVxdWVzdCBfb3B0aW9ucyBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBBIHN1cGVyYWdlbnQgcmVxdWVzdCBvYmplY3QsIHdpdGggYW55IGF2YWlsYWJsZSBoZWFkZXJzIHNldFxuICovXG5mdW5jdGlvbiBfc2V0SGVhZGVycyggcmVxdWVzdCwgb3B0aW9ucyApIHtcblx0Ly8gSWYgdGhlcmUncyBubyBoZWFkZXJzLCBkbyBub3RoaW5nXG5cdGlmICggISBvcHRpb25zLmhlYWRlcnMgKSB7XG5cdFx0cmV0dXJuIHJlcXVlc3Q7XG5cdH1cblxuXHRyZXR1cm4gb2JqZWN0UmVkdWNlKFxuXHRcdG9wdGlvbnMuaGVhZGVycyxcblx0XHQoIHJlcXVlc3QsIHZhbHVlLCBrZXkgKSA9PiByZXF1ZXN0LnNldCgga2V5LCB2YWx1ZSApLFxuXHRcdHJlcXVlc3Rcblx0KTtcbn1cblxuLyoqXG4gKiBDb25kaXRpb25hbGx5IHNldCBiYXNpYyBhdXRoZW50aWNhdGlvbiBvbiBhIHNlcnZlciByZXF1ZXN0IG9iamVjdC5cbiAqXG4gKiBAbWV0aG9kIF9hdXRoXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHJlcXVlc3QgQSBzdXBlcmFnZW50IHJlcXVlc3Qgb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBBIFdQUmVxdWVzdCBfb3B0aW9ucyBvYmplY3RcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZm9yY2VBdXRoZW50aWNhdGlvbiB3aGV0aGVyIHRvIGZvcmNlIGF1dGhlbnRpY2F0aW9uIG9uIHRoZSByZXF1ZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gQSBzdXBlcmFnZW50IHJlcXVlc3Qgb2JqZWN0LCBjb25kaXRpb25hbGx5IGNvbmZpZ3VyZWQgdG8gdXNlIGJhc2ljIGF1dGhcbiAqL1xuZnVuY3Rpb24gX2F1dGgoIHJlcXVlc3QsIG9wdGlvbnMsIGZvcmNlQXV0aGVudGljYXRpb24gKSB7XG5cdC8vIElmIHdlJ3JlIG5vdCBzdXBwb3NlZCB0byBhdXRoZW50aWNhdGUsIGRvbid0IGV2ZW4gc3RhcnRcblx0aWYgKCAhIGZvcmNlQXV0aGVudGljYXRpb24gJiYgISBvcHRpb25zLmF1dGggJiYgISBvcHRpb25zLm5vbmNlICkge1xuXHRcdHJldHVybiByZXF1ZXN0O1xuXHR9XG5cblx0Ly8gRW5hYmxlIG5vbmNlIGluIG9wdGlvbnMgZm9yIENvb2tpZSBhdXRoZW50aWNhdGlvbiBodHRwOi8vd3AtYXBpLm9yZy9ndWlkZXMvYXV0aGVudGljYXRpb24uaHRtbFxuXHRpZiAoIG9wdGlvbnMubm9uY2UgKSB7XG5cdFx0cmVxdWVzdC5zZXQoICdYLVdQLU5vbmNlJywgb3B0aW9ucy5ub25jZSApO1xuXHRcdHJldHVybiByZXF1ZXN0O1xuXHR9XG5cblx0Ly8gUmV0cmlldmUgdGhlIHVzZXJuYW1lICYgcGFzc3dvcmQgZnJvbSB0aGUgcmVxdWVzdCBvcHRpb25zIGlmIHRoZXkgd2VyZW4ndCBwcm92aWRlZFxuXHRjb25zdCB1c2VybmFtZSA9IG9wdGlvbnMudXNlcm5hbWU7XG5cdGNvbnN0IHBhc3N3b3JkID0gb3B0aW9ucy5wYXNzd29yZDtcblxuXHQvLyBJZiBubyB1c2VybmFtZSBvciBubyBwYXNzd29yZCwgY2FuJ3QgYXV0aGVudGljYXRlXG5cdGlmICggISB1c2VybmFtZSB8fCAhIHBhc3N3b3JkICkge1xuXHRcdHJldHVybiByZXF1ZXN0O1xuXHR9XG5cblx0Ly8gQ2FuIGF1dGhlbnRpY2F0ZTogc2V0IGJhc2ljIGF1dGggcGFyYW1ldGVycyBvbiB0aGUgcmVxdWVzdFxuXHRyZXR1cm4gcmVxdWVzdC5hdXRoKCB1c2VybmFtZSwgcGFzc3dvcmQgKTtcbn1cblxuLy8gUGFnaW5hdGlvbi1SZWxhdGVkIEhlbHBlcnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogRXh0cmFjdCB0aGUgYm9keSBwcm9wZXJ0eSBmcm9tIHRoZSBzdXBlcmFnZW50IHJlc3BvbnNlLCBvciBlbHNlIHRyeSB0byBwYXJzZVxuICogdGhlIHJlc3BvbnNlIHRleHQgdG8gZ2V0IGEgSlNPTiBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSByZXNwb25zZSAgICAgIFRoZSByZXNwb25zZSBvYmplY3QgZnJvbSB0aGUgSFRUUCByZXF1ZXN0XG4gKiBAcGFyYW0ge1N0cmluZ30gcmVzcG9uc2UudGV4dCBUaGUgcmVzcG9uc2UgY29udGVudCBhcyB0ZXh0XG4gKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2UuYm9keSBUaGUgcmVzcG9uc2UgY29udGVudCBhcyBhIEpTIG9iamVjdFxuICogQHJldHVybnMge09iamVjdH0gVGhlIHJlc3BvbnNlIGNvbnRlbnQgYXMgYSBKUyBvYmplY3RcbiAqL1xuZnVuY3Rpb24gZXh0cmFjdFJlc3BvbnNlQm9keSggcmVzcG9uc2UgKSB7XG5cdGxldCByZXNwb25zZUJvZHkgPSByZXNwb25zZS5ib2R5O1xuXHRpZiAoIGlzRW1wdHlPYmplY3QoIHJlc3BvbnNlQm9keSApICYmIHJlc3BvbnNlLnR5cGUgPT09ICd0ZXh0L2h0bWwnICkge1xuXHRcdC8vIFJlc3BvbnNlIG1heSBoYXZlIGNvbWUgYmFjayBhcyBIVE1MIGR1ZSB0byBjYWNoaW5nIHBsdWdpbjsgdHJ5IHRvIHBhcnNlXG5cdFx0Ly8gdGhlIHJlc3BvbnNlIHRleHQgaW50byBKU09OXG5cdFx0dHJ5IHtcblx0XHRcdHJlc3BvbnNlQm9keSA9IEpTT04ucGFyc2UoIHJlc3BvbnNlLnRleHQgKTtcblx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdC8vIFN3YWxsb3cgZXJyb3JzLCBpdCdzIE9LIHRvIGZhbGwgYmFjayB0byByZXR1cm5pbmcgdGhlIGJvZHlcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3BvbnNlQm9keTtcbn1cblxuLyoqXG4gKiBJZiB0aGUgcmVzcG9uc2UgaXMgbm90IHBhZ2VkLCByZXR1cm4gdGhlIGJvZHkgYXMtaXMuIElmIHBhZ2luYXRpb25cbiAqIGluZm9ybWF0aW9uIGlzIHByZXNlbnQgaW4gdGhlIHJlc3BvbnNlIGhlYWRlcnMsIHBhcnNlIHRob3NlIGhlYWRlcnMgaW50b1xuICogYSBjdXN0b20gYF9wYWdpbmdgIHByb3BlcnR5IG9uIHRoZSByZXNwb25zZSBib2R5LiBgX3BhZ2luZ2AgY29udGFpbnMgbGlua3NcbiAqIHRvIHRoZSBwcmV2aW91cyBhbmQgbmV4dCBwYWdlcyBpbiB0aGUgY29sbGVjdGlvbiwgYXMgd2VsbCBhcyBtZXRhZGF0YVxuICogYWJvdXQgdGhlIHNpemUgYW5kIG51bWJlciBvZiBwYWdlcyBpbiB0aGUgY29sbGVjdGlvbi5cbiAqXG4gKiBUaGUgc3RydWN0dXJlIG9mIHRoZSBgX3BhZ2luZ2AgcHJvcGVydHkgaXMgYXMgZm9sbG93czpcbiAqXG4gKiAtIGB0b3RhbGAge0ludGVnZXJ9IFRoZSB0b3RhbCBudW1iZXIgb2YgcmVjb3JkcyBpbiB0aGUgY29sbGVjdGlvblxuICogLSBgdG90YWxQYWdlc2Age0ludGVnZXJ9IFRoZSBudW1iZXIgb2YgcGFnZXMgYXZhaWxhYmxlXG4gKiAtIGBsaW5rc2Age09iamVjdH0gVGhlIHBhcnNlZCBcImxpbmtzXCIgaGVhZGVycywgc2VwYXJhdGVkIGludG8gaW5kaXZpZHVhbCBVUkkgc3RyaW5nc1xuICogLSBgbmV4dGAge1dQUmVxdWVzdH0gQSBXUFJlcXVlc3Qgb2JqZWN0IGJvdW5kIHRvIHRoZSBcIm5leHRcIiBwYWdlIChpZiBwYWdlIGV4aXN0cylcbiAqIC0gYHByZXZgIHtXUFJlcXVlc3R9IEEgV1BSZXF1ZXN0IG9iamVjdCBib3VuZCB0byB0aGUgXCJwcmV2aW91c1wiIHBhZ2UgKGlmIHBhZ2UgZXhpc3RzKVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gcmVzdWx0ICAgICAgICAgICBUaGUgcmVzcG9uc2Ugb2JqZWN0IGZyb20gdGhlIEhUVFAgcmVxdWVzdFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgICAgICAgICAgVGhlIG9wdGlvbnMgaGFzaCBmcm9tIHRoZSBvcmlnaW5hbCByZXF1ZXN0XG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5lbmRwb2ludCBUaGUgYmFzZSBVUkwgb2YgdGhlIHJlcXVlc3RlZCBBUEkgZW5kcG9pbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBodHRwVHJhbnNwb3J0ICAgIFRoZSBIVFRQIHRyYW5zcG9ydCBvYmplY3QgdXNlZCBieSB0aGUgb3JpZ2luYWwgcmVxdWVzdFxuICogQHJldHVybnMge09iamVjdH0gVGhlIHBhZ2luYXRpb24gbWV0YWRhdGEgb2JqZWN0IGZvciB0aGlzIEhUVFAgcmVxdWVzdCwgb3IgZWxzZSBudWxsXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBhZ2luYXRpb25PYmplY3QoIHJlc3VsdCwgb3B0aW9ucywgaHR0cFRyYW5zcG9ydCApIHtcblx0bGV0IF9wYWdpbmcgPSBudWxsO1xuXG5cdGlmICggISByZXN1bHQuaGVhZGVycyApIHtcblx0XHQvLyBObyBoZWFkZXJzOiByZXR1cm4gYXMtaXNcblx0XHRyZXR1cm4gX3BhZ2luZztcblx0fVxuXG5cdC8vIEd1YXJkIGFnYWluc3QgY2FwaXRhbGl6YXRpb24gaW5jb25zaXN0ZW5jaWVzIGluIHJldHVybmVkIGhlYWRlcnNcblx0T2JqZWN0LmtleXMoIHJlc3VsdC5oZWFkZXJzICkuZm9yRWFjaCggKCBoZWFkZXIgKSA9PiB7XG5cdFx0cmVzdWx0LmhlYWRlcnNbIGhlYWRlci50b0xvd2VyQ2FzZSgpIF0gPSByZXN1bHQuaGVhZGVyc1sgaGVhZGVyIF07XG5cdH0gKTtcblxuXHRpZiAoICEgcmVzdWx0LmhlYWRlcnNbICd4LXdwLXRvdGFscGFnZXMnIF0gKSB7XG5cdFx0Ly8gTm8gcGFnaW5nOiByZXR1cm4gYXMtaXNcblx0XHRyZXR1cm4gX3BhZ2luZztcblx0fVxuXG5cdGNvbnN0IHRvdGFsUGFnZXMgPSArcmVzdWx0LmhlYWRlcnNbICd4LXdwLXRvdGFscGFnZXMnIF07XG5cblx0aWYgKCAhIHRvdGFsUGFnZXMgfHwgdG90YWxQYWdlcyA9PT0gMCApIHtcblx0XHQvLyBObyBwYWdpbmc6IHJldHVybiBhcy1pc1xuXHRcdHJldHVybiBfcGFnaW5nO1xuXHR9XG5cblx0Ly8gRGVjb2RlIHRoZSBsaW5rIGhlYWRlciBvYmplY3Rcblx0Y29uc3QgbGlua3MgPSByZXN1bHQuaGVhZGVycy5saW5rID9cblx0XHRwYXJzZUxpbmtIZWFkZXIoIHJlc3VsdC5oZWFkZXJzLmxpbmsgKSA6XG5cdFx0e307XG5cblx0Ly8gU3RvcmUgcGFnaW5hdGlvbiBkYXRhIGZyb20gcmVzcG9uc2UgaGVhZGVycyBvbiB0aGUgcmVzcG9uc2UgY29sbGVjdGlvblxuXHRfcGFnaW5nID0ge1xuXHRcdHRvdGFsOiArcmVzdWx0LmhlYWRlcnNbICd4LXdwLXRvdGFsJyBdLFxuXHRcdHRvdGFsUGFnZXM6IHRvdGFsUGFnZXMsXG5cdFx0bGlua3M6IGxpbmtzLFxuXHR9O1xuXG5cdC8vIENyZWF0ZSBhIFdQUmVxdWVzdCBpbnN0YW5jZSBwcmUtYm91bmQgdG8gdGhlIFwibmV4dFwiIHBhZ2UsIGlmIGF2YWlsYWJsZVxuXHRpZiAoIGxpbmtzLm5leHQgKSB7XG5cdFx0X3BhZ2luZy5uZXh0ID0gbmV3IFdQUmVxdWVzdCgge1xuXHRcdFx0Li4ub3B0aW9ucyxcblx0XHRcdHRyYW5zcG9ydDogaHR0cFRyYW5zcG9ydCxcblx0XHRcdGVuZHBvaW50OiBsaW5rcy5uZXh0LFxuXHRcdH0gKTtcblx0fVxuXG5cdC8vIENyZWF0ZSBhIFdQUmVxdWVzdCBpbnN0YW5jZSBwcmUtYm91bmQgdG8gdGhlIFwicHJldlwiIHBhZ2UsIGlmIGF2YWlsYWJsZVxuXHRpZiAoIGxpbmtzLnByZXYgKSB7XG5cdFx0X3BhZ2luZy5wcmV2ID0gbmV3IFdQUmVxdWVzdCgge1xuXHRcdFx0Li4ub3B0aW9ucyxcblx0XHRcdHRyYW5zcG9ydDogaHR0cFRyYW5zcG9ydCxcblx0XHRcdGVuZHBvaW50OiBsaW5rcy5wcmV2LFxuXHRcdH0gKTtcblx0fVxuXG5cdHJldHVybiBfcGFnaW5nO1xufVxuXG4vLyBIVFRQLVJlbGF0ZWQgSGVscGVyc1xuLy8gPT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBTdWJtaXQgdGhlIHByb3ZpZGVkIHN1cGVyYWdlbnQgcmVxdWVzdCBvYmplY3QsIGludm9rZSBhIGNhbGxiYWNrIChpZiBpdCB3YXNcbiAqIHByb3ZpZGVkKSwgYW5kIHJldHVybiBhIHByb21pc2UgdG8gdGhlIHJlc3BvbnNlIGZyb20gdGhlIEhUVFAgcmVxdWVzdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHJlcXVlc3QgQSBzdXBlcmFnZW50IHJlcXVlc3Qgb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBBIGNhbGxiYWNrIGZ1bmN0aW9uIChvcHRpb25hbClcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBBIGZ1bmN0aW9uIHRvIHRyYW5zZm9ybSB0aGUgcmVzdWx0IGRhdGFcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgdG8gdGhlIHN1cGVyYWdlbnQgcmVxdWVzdFxuICovXG5mdW5jdGlvbiBpbnZva2VBbmRQcm9taXNpZnkoIHJlcXVlc3QsIGNhbGxiYWNrLCB0cmFuc2Zvcm0gKSB7XG5cdHJldHVybiBuZXcgUHJvbWlzZSggKCByZXNvbHZlLCByZWplY3QgKSA9PiB7XG5cdFx0Ly8gRmlyZSBvZmYgdGhlIHJlc3VsdFxuXHRcdHJlcXVlc3QuZW5kKCAoIGVyciwgcmVzdWx0ICkgPT4ge1xuXG5cdFx0XHQvLyBSZXR1cm4gdGhlIHJlc3VsdHMgYXMgYSBwcm9taXNlXG5cdFx0XHRpZiAoIGVyciB8fCByZXN1bHQuZXJyb3IgKSB7XG5cdFx0XHRcdHJlamVjdCggZXJyIHx8IHJlc3VsdC5lcnJvciApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVzb2x2ZSggcmVzdWx0ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9ICkudGhlbiggdHJhbnNmb3JtICkudGhlbiggKCByZXN1bHQgKSA9PiB7XG5cdFx0Ly8gSWYgYSBub2RlLXN0eWxlIGNhbGxiYWNrIHdhcyBwcm92aWRlZCwgY2FsbCBpdCwgYnV0IGFsc28gcmV0dXJuIHRoZVxuXHRcdC8vIHJlc3VsdCB2YWx1ZSBmb3IgdXNlIHZpYSB0aGUgcmV0dXJuZWQgUHJvbWlzZVxuXHRcdGlmICggY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nICkge1xuXHRcdFx0Y2FsbGJhY2soIG51bGwsIHJlc3VsdCApO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LCAoIGVyciApID0+IHtcblx0XHQvLyBJZiB0aGUgQVBJIHByb3ZpZGVkIGFuIGVycm9yIG9iamVjdCwgaXQgd2lsbCBiZSBhdmFpbGFibGUgd2l0aGluIHRoZVxuXHRcdC8vIHN1cGVyYWdlbnQgcmVzcG9uc2Ugb2JqZWN0IGFzIHJlc3BvbnNlLmJvZHkgKGNvbnRhaW5pbmcgdGhlIHJlc3BvbnNlXG5cdFx0Ly8gSlNPTikuIElmIHRoYXQgb2JqZWN0IGV4aXN0cywgaXQgd2lsbCBoYXZlIGEgLmNvZGUgcHJvcGVydHkgaWYgaXQgaXNcblx0XHQvLyB0cnVseSBhbiBBUEkgZXJyb3IgKG5vbi1BUEkgZXJyb3JzIHdpbGwgbm90IGhhdmUgYSAuY29kZSkuXG5cdFx0aWYgKCBlcnIucmVzcG9uc2UgJiYgZXJyLnJlc3BvbnNlLmJvZHkgJiYgZXJyLnJlc3BvbnNlLmJvZHkuY29kZSApIHtcblx0XHRcdC8vIEZvcndhcmQgQVBJIGVycm9yIHJlc3BvbnNlIEpTT04gb24gdG8gdGhlIGNhbGxpbmcgbWV0aG9kOiBvbWl0XG5cdFx0XHQvLyBhbGwgdHJhbnNwb3J0LXNwZWNpZmljIChzdXBlcmFnZW50LXNwZWNpZmljKSBwcm9wZXJ0aWVzXG5cdFx0XHRlcnIgPSBlcnIucmVzcG9uc2UuYm9keTtcblx0XHR9XG5cdFx0Ly8gSWYgYSBjYWxsYmFjayB3YXMgcHJvdmlkZWQsIGVuc3VyZSBpdCBpcyBjYWxsZWQgd2l0aCB0aGUgZXJyb3I7IG90aGVyd2lzZVxuXHRcdC8vIHJlLXRocm93IHRoZSBlcnJvciBzbyB0aGF0IGl0IGNhbiBiZSBoYW5kbGVkIGJ5IGEgUHJvbWlzZSAuY2F0Y2ggb3IgLnRoZW5cblx0XHRpZiAoIGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyApIHtcblx0XHRcdGNhbGxiYWNrKCBlcnIgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgZXJyO1xuXHRcdH1cblx0fSApO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgYm9keSBvZiB0aGUgcmVxdWVzdCwgYXVnbWVudGVkIHdpdGggcGFnaW5hdGlvbiBpbmZvcm1hdGlvbiBpZiB0aGVcbiAqIHJlc3VsdCBpcyBhIHBhZ2VkIGNvbGxlY3Rpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V1BSZXF1ZXN0fSB3cHJlcSBUaGUgV1BSZXF1ZXN0IHJlcHJlc2VudGluZyB0aGUgcmV0dXJuZWQgSFRUUCByZXNwb25zZVxuICogQHBhcmFtIHtPYmplY3R9IHJlc3VsdCBUaGUgcmVzdWx0cyBmcm9tIHRoZSBIVFRQIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBcImJvZHlcIiBwcm9wZXJ0eSBvZiB0aGUgcmVzdWx0LCBjb25kaXRpb25hbGx5IGF1Z21lbnRlZCB3aXRoXG4gKiAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb24gaW5mb3JtYXRpb24gaWYgdGhlIHJlc3VsdCBpcyBhIHBhcnRpYWwgY29sbGVjdGlvbi5cbiAqL1xuZnVuY3Rpb24gcmV0dXJuQm9keSggd3ByZXEsIHJlc3VsdCApIHtcblx0Y29uc3QgYm9keSA9IGV4dHJhY3RSZXNwb25zZUJvZHkoIHJlc3VsdCApO1xuXHRjb25zdCBfcGFnaW5nID0gY3JlYXRlUGFnaW5hdGlvbk9iamVjdCggcmVzdWx0LCB3cHJlcS5fb3B0aW9ucywgd3ByZXEudHJhbnNwb3J0ICk7XG5cdGlmICggX3BhZ2luZyApIHtcblx0XHRib2R5Ll9wYWdpbmcgPSBfcGFnaW5nO1xuXHR9XG5cdHJldHVybiBib2R5O1xufVxuXG4vKipcbiAqIEV4dHJhY3QgYW5kIHJldHVybiB0aGUgaGVhZGVycyBwcm9wZXJ0eSBmcm9tIGEgc3VwZXJhZ2VudCByZXNwb25zZSBvYmplY3RcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHJlc3VsdCBUaGUgcmVzdWx0cyBmcm9tIHRoZSBIVFRQIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBcImhlYWRlcnNcIiBwcm9wZXJ0eSBvZiB0aGUgcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIHJldHVybkhlYWRlcnMoIHJlc3VsdCApIHtcblx0cmV0dXJuIHJlc3VsdC5oZWFkZXJzO1xufVxuXG4vLyBIVFRQIE1ldGhvZHM6IFByaXZhdGUgSFRUUC12ZXJiIHZlcnNpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogQG1ldGhvZCBnZXRcbiAqIEBhc3luY1xuICogQHBhcmFtIHtXUFJlcXVlc3R9IHdwcmVxIEEgV1BSZXF1ZXN0IHF1ZXJ5IG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBBIGNhbGxiYWNrIHRvIGludm9rZSB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBHRVQgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSB0byB0aGUgcmVzdWx0cyBvZiB0aGUgSFRUUCByZXF1ZXN0XG4gKi9cbmZ1bmN0aW9uIF9odHRwR2V0KCB3cHJlcSwgY2FsbGJhY2sgKSB7XG5cdGNoZWNrTWV0aG9kU3VwcG9ydCggJ2dldCcsIHdwcmVxICk7XG5cdGNvbnN0IHVybCA9IHdwcmVxLnRvU3RyaW5nKCk7XG5cblx0bGV0IHJlcXVlc3QgPSBfYXV0aCggYWdlbnQuZ2V0KCB1cmwgKSwgd3ByZXEuX29wdGlvbnMgKTtcblx0cmVxdWVzdCA9IF9zZXRIZWFkZXJzKCByZXF1ZXN0LCB3cHJlcS5fb3B0aW9ucyApO1xuXG5cdHJldHVybiBpbnZva2VBbmRQcm9taXNpZnkoIHJlcXVlc3QsIGNhbGxiYWNrLCByZXR1cm5Cb2R5LmJpbmQoIG51bGwsIHdwcmVxICkgKTtcbn1cblxuLyoqXG4gKiBJbnZva2UgYW4gSFRUUCBcIlBPU1RcIiByZXF1ZXN0IGFnYWluc3QgdGhlIHByb3ZpZGVkIGVuZHBvaW50XG4gKiBAbWV0aG9kIHBvc3RcbiAqIEBhc3luY1xuICogQHBhcmFtIHtXUFJlcXVlc3R9IHdwcmVxIEEgV1BSZXF1ZXN0IHF1ZXJ5IG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IGRhdGEgVGhlIGRhdGEgZm9yIHRoZSBQT1NUIHJlcXVlc3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQSBjYWxsYmFjayB0byBpbnZva2Ugd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgUE9TVCByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRvIHRoZSByZXN1bHRzIG9mIHRoZSBIVFRQIHJlcXVlc3RcbiAqL1xuZnVuY3Rpb24gX2h0dHBQb3N0KCB3cHJlcSwgZGF0YSwgY2FsbGJhY2sgKSB7XG5cdGNoZWNrTWV0aG9kU3VwcG9ydCggJ3Bvc3QnLCB3cHJlcSApO1xuXHRjb25zdCB1cmwgPSB3cHJlcS50b1N0cmluZygpO1xuXHRkYXRhID0gZGF0YSB8fCB7fTtcblx0bGV0IHJlcXVlc3QgPSBfYXV0aCggYWdlbnQucG9zdCggdXJsICksIHdwcmVxLl9vcHRpb25zLCB0cnVlICk7XG5cdHJlcXVlc3QgPSBfc2V0SGVhZGVycyggcmVxdWVzdCwgd3ByZXEuX29wdGlvbnMgKTtcblxuXHRpZiAoIHdwcmVxLl9hdHRhY2htZW50ICkge1xuXHRcdC8vIERhdGEgbXVzdCBiZSBmb3JtLWVuY29kZWQgYWxvbmdzaWRlIGltYWdlIGF0dGFjaG1lbnRcblx0XHRyZXF1ZXN0ID0gb2JqZWN0UmVkdWNlKFxuXHRcdFx0ZGF0YSxcblx0XHRcdCggcmVxLCB2YWx1ZSwga2V5ICkgPT4gcmVxLmZpZWxkKCBrZXksIHZhbHVlICksXG5cdFx0XHRyZXF1ZXN0LmF0dGFjaCggJ2ZpbGUnLCB3cHJlcS5fYXR0YWNobWVudCwgd3ByZXEuX2F0dGFjaG1lbnROYW1lIClcblx0XHQpO1xuXHR9IGVsc2Uge1xuXHRcdHJlcXVlc3QgPSByZXF1ZXN0LnNlbmQoIGRhdGEgKTtcblx0fVxuXG5cdHJldHVybiBpbnZva2VBbmRQcm9taXNpZnkoIHJlcXVlc3QsIGNhbGxiYWNrLCByZXR1cm5Cb2R5LmJpbmQoIG51bGwsIHdwcmVxICkgKTtcbn1cblxuLyoqXG4gKiBAbWV0aG9kIHB1dFxuICogQGFzeW5jXG4gKiBAcGFyYW0ge1dQUmVxdWVzdH0gd3ByZXEgQSBXUFJlcXVlc3QgcXVlcnkgb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgZGF0YSBmb3IgdGhlIFBVVCByZXF1ZXN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgdG8gaW52b2tlIHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIFBVVCByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRvIHRoZSByZXN1bHRzIG9mIHRoZSBIVFRQIHJlcXVlc3RcbiAqL1xuZnVuY3Rpb24gX2h0dHBQdXQoIHdwcmVxLCBkYXRhLCBjYWxsYmFjayApIHtcblx0Y2hlY2tNZXRob2RTdXBwb3J0KCAncHV0Jywgd3ByZXEgKTtcblx0Y29uc3QgdXJsID0gd3ByZXEudG9TdHJpbmcoKTtcblx0ZGF0YSA9IGRhdGEgfHwge307XG5cblx0bGV0IHJlcXVlc3QgPSBfYXV0aCggYWdlbnQucHV0KCB1cmwgKSwgd3ByZXEuX29wdGlvbnMsIHRydWUgKS5zZW5kKCBkYXRhICk7XG5cdHJlcXVlc3QgPSBfc2V0SGVhZGVycyggcmVxdWVzdCwgd3ByZXEuX29wdGlvbnMgKTtcblxuXHRyZXR1cm4gaW52b2tlQW5kUHJvbWlzaWZ5KCByZXF1ZXN0LCBjYWxsYmFjaywgcmV0dXJuQm9keS5iaW5kKCBudWxsLCB3cHJlcSApICk7XG59XG5cbi8qKlxuICogQG1ldGhvZCBkZWxldGVcbiAqIEBhc3luY1xuICogQHBhcmFtIHtXUFJlcXVlc3R9IHdwcmVxIEEgV1BSZXF1ZXN0IHF1ZXJ5IG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IFtkYXRhXSBEYXRhIHRvIHNlbmQgYWxvbmcgd2l0aCB0aGUgREVMRVRFIHJlcXVlc3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQSBjYWxsYmFjayB0byBpbnZva2Ugd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgREVMRVRFIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgdG8gdGhlIHJlc3VsdHMgb2YgdGhlIEhUVFAgcmVxdWVzdFxuICovXG5mdW5jdGlvbiBfaHR0cERlbGV0ZSggd3ByZXEsIGRhdGEsIGNhbGxiYWNrICkge1xuXHRpZiAoICEgY2FsbGJhY2sgJiYgdHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicgKSB7XG5cdFx0Y2FsbGJhY2sgPSBkYXRhO1xuXHRcdGRhdGEgPSBudWxsO1xuXHR9XG5cdGNoZWNrTWV0aG9kU3VwcG9ydCggJ2RlbGV0ZScsIHdwcmVxICk7XG5cdGNvbnN0IHVybCA9IHdwcmVxLnRvU3RyaW5nKCk7XG5cdGxldCByZXF1ZXN0ID0gX2F1dGgoIGFnZW50LmRlbCggdXJsICksIHdwcmVxLl9vcHRpb25zLCB0cnVlICkuc2VuZCggZGF0YSApO1xuXHRyZXF1ZXN0ID0gX3NldEhlYWRlcnMoIHJlcXVlc3QsIHdwcmVxLl9vcHRpb25zICk7XG5cblx0cmV0dXJuIGludm9rZUFuZFByb21pc2lmeSggcmVxdWVzdCwgY2FsbGJhY2ssIHJldHVybkJvZHkuYmluZCggbnVsbCwgd3ByZXEgKSApO1xufVxuXG4vKipcbiAqIEBtZXRob2QgaGVhZFxuICogQGFzeW5jXG4gKiBAcGFyYW0ge1dQUmVxdWVzdH0gd3ByZXEgQSBXUFJlcXVlc3QgcXVlcnkgb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgdG8gaW52b2tlIHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIEhFQUQgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSB0byB0aGUgaGVhZGVyIHJlc3VsdHMgb2YgdGhlIEhUVFAgcmVxdWVzdFxuICovXG5mdW5jdGlvbiBfaHR0cEhlYWQoIHdwcmVxLCBjYWxsYmFjayApIHtcblx0Y2hlY2tNZXRob2RTdXBwb3J0KCAnaGVhZCcsIHdwcmVxICk7XG5cdGNvbnN0IHVybCA9IHdwcmVxLnRvU3RyaW5nKCk7XG5cdGxldCByZXF1ZXN0ID0gX2F1dGgoIGFnZW50LmhlYWQoIHVybCApLCB3cHJlcS5fb3B0aW9ucyApO1xuXHRyZXF1ZXN0ID0gX3NldEhlYWRlcnMoIHJlcXVlc3QsIHdwcmVxLl9vcHRpb25zICk7XG5cblx0cmV0dXJuIGludm9rZUFuZFByb21pc2lmeSggcmVxdWVzdCwgY2FsbGJhY2ssIHJldHVybkhlYWRlcnMgKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdGRlbGV0ZTogX2h0dHBEZWxldGUsXG5cdGdldDogX2h0dHBHZXQsXG5cdGhlYWQ6IF9odHRwSGVhZCxcblx0cG9zdDogX2h0dHBQb3N0LFxuXHRwdXQ6IF9odHRwUHV0LFxufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGJ1aWxkUm91dGVUcmVlID0gcmVxdWlyZSggJy4vcm91dGUtdHJlZScgKS5idWlsZDtcbmNvbnN0IGdlbmVyYXRlRW5kcG9pbnRGYWN0b3JpZXMgPSByZXF1aXJlKCAnLi9lbmRwb2ludC1mYWN0b3JpZXMnICkuZ2VuZXJhdGU7XG5jb25zdCBwYXJhbVNldHRlciA9IHJlcXVpcmUoICcuL3V0aWwvcGFyYW1ldGVyLXNldHRlcicgKTtcbmNvbnN0IGFwcGx5TWl4aW4gPSByZXF1aXJlKCAnLi91dGlsL2FwcGx5LW1peGluJyApO1xuY29uc3QgbWl4aW5zID0gcmVxdWlyZSggJy4vbWl4aW5zJyApO1xuXG4vKipcbiAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgaGFuZGxlciBmb3IgYW4gYXJiaXRyYXJ5IFdQIFJFU1QgQVBJIGVuZHBvaW50LlxuICpcbiAqIFRoZSBmaXJzdCB0d28gcGFyYW1ldGVycyBtaXJyb3IgYHJlZ2lzdGVyX3Jlc3Rfcm91dGVgIGluIHRoZSBSRVNUIEFQSVxuICogY29kZWJhc2U6XG4gKlxuICogQG1lbWJlcm9mISBXUEFQSSNcbiAqIEBwYXJhbSB7c3RyaW5nfSAgIG5hbWVzcGFjZSAgICAgICAgIEEgbmFtZXNwYWNlIHN0cmluZywgZS5nLiAnbXlwbHVnaW4vdjEnXG4gKiBAcGFyYW0ge3N0cmluZ30gICByZXN0QmFzZSAgICAgICAgICBBIFJFU1Qgcm91dGUgc3RyaW5nLCBlLmcuICcvYXV0aG9yLyg/UDxpZD5cXGQrKSdcbiAqIEBwYXJhbSB7b2JqZWN0fSAgIFtvcHRpb25zXSAgICAgICAgIEFuIChvcHRpb25hbCkgb3B0aW9ucyBvYmplY3RcbiAqIEBwYXJhbSB7b2JqZWN0fSAgIFtvcHRpb25zLm1peGluc10gIEEgaGFzaCBvZiBmdW5jdGlvbnMgdG8gYXBwbHkgYXMgbWl4aW5zXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBbb3B0aW9ucy5tZXRob2RzXSBBbiBhcnJheSBvZiBtZXRob2RzIHRvIHdoaXRlbGlzdCAob24gdGhlIGxlYWYgbm9kZSBvbmx5KVxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBbiBlbmRwb2ludCBoYW5kbGVyIGZhY3RvcnkgZnVuY3Rpb24gZm9yIHRoZSBzcGVjaWZpZWQgcm91dGVcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJSb3V0ZSggbmFtZXNwYWNlLCByZXN0QmFzZSwgb3B0aW9ucyA9IHt9ICkge1xuXHQvLyBTdXBwb3J0IGFsbCBtZXRob2RzIHVudGlsIHJlcXVlc3RlZCB0byBkbyBvdGhlcndpc2Vcblx0bGV0IHN1cHBvcnRlZE1ldGhvZHMgPSBbICdoZWFkJywgJ2dldCcsICdwYXRjaCcsICdwdXQnLCAncG9zdCcsICdkZWxldGUnIF07XG5cblx0aWYgKCBBcnJheS5pc0FycmF5KCBvcHRpb25zLm1ldGhvZHMgKSApIHtcblx0XHQvLyBQZXJtaXQgc3VwcG9ydGVkIG1ldGhvZHMgdG8gYmUgc3BlY2lmaWVkIGFzIGFuIGFycmF5XG5cdFx0c3VwcG9ydGVkTWV0aG9kcyA9IG9wdGlvbnMubWV0aG9kcy5tYXAoIG1ldGhvZCA9PiBtZXRob2QudHJpbSgpLnRvTG93ZXJDYXNlKCkgKTtcblx0fSBlbHNlIGlmICggdHlwZW9mIG9wdGlvbnMubWV0aG9kcyA9PT0gJ3N0cmluZycgKSB7XG5cdFx0Ly8gUGVybWl0IGEgc3VwcG9ydGVkIG1ldGhvZCB0byBiZSBzcGVjaWZpZWQgYXMgYSBzdHJpbmdcblx0XHRzdXBwb3J0ZWRNZXRob2RzID0gWyBvcHRpb25zLm1ldGhvZHMudHJpbSgpLnRvTG93ZXJDYXNlKCkgXTtcblx0fVxuXG5cdC8vIEVuc3VyZSB0aGF0IGlmIEdFVCBpcyBzdXBwb3J0ZWQsIHRoZW4gSEVBRCBpcyBhcyB3ZWxsLCBhbmQgdmljZS12ZXJzYVxuXHRpZiAoIHN1cHBvcnRlZE1ldGhvZHMuaW5kZXhPZiggJ2dldCcgKSAhPT0gLTEgJiYgc3VwcG9ydGVkTWV0aG9kcy5pbmRleE9mKCAnaGVhZCcgKSA9PT0gLTEgKSB7XG5cdFx0c3VwcG9ydGVkTWV0aG9kcy5wdXNoKCAnaGVhZCcgKTtcblx0fSBlbHNlIGlmICggc3VwcG9ydGVkTWV0aG9kcy5pbmRleE9mKCAnaGVhZCcgKSAhPT0gLTEgJiYgc3VwcG9ydGVkTWV0aG9kcy5pbmRleE9mKCAnZ2V0JyApID09PSAtMSApIHtcblx0XHRzdXBwb3J0ZWRNZXRob2RzLnB1c2goICdnZXQnICk7XG5cdH1cblxuXHRjb25zdCBmdWxsUm91dGUgPSBuYW1lc3BhY2Vcblx0XHQvLyBSb3V0ZSBzaG91bGQgYWx3YXlzIGhhdmUgcHJlY2VkaW5nIHNsYXNoXG5cdFx0LnJlcGxhY2UoIC9eW1xccy9dKi8sICcvJyApXG5cdFx0Ly8gUm91dGUgc2hvdWxkIGFsd2F5cyBiZSBqb2luZWQgdG8gbmFtZXNwYWNlIHdpdGggYSBzaW5nbGUgc2xhc2hcblx0XHQucmVwbGFjZSggL1tcXHMvXSokLywgJy8nICkgKyByZXN0QmFzZS5yZXBsYWNlKCAvXltcXHMvXSovLCAnJyApO1xuXG5cdGNvbnN0IHJvdXRlT2JqID0ge307XG5cdHJvdXRlT2JqWyBmdWxsUm91dGUgXSA9IHtcblx0XHRuYW1lc3BhY2U6IG5hbWVzcGFjZSxcblx0XHRtZXRob2RzOiBzdXBwb3J0ZWRNZXRob2RzLFxuXHR9O1xuXG5cdC8vIEdvIHRocm91Z2ggdGhlIHNhbWUgc3RlcHMgdXNlZCB0byBib290c3RyYXAgdGhlIGNsaWVudCB0byBwYXJzZSB0aGVcblx0Ly8gcHJvdmlkZWQgcm91dGUgb3V0IGludG8gYSBoYW5kbGVyIHJlcXVlc3QgbWV0aG9kXG5cdGNvbnN0IHJvdXRlVHJlZSA9IGJ1aWxkUm91dGVUcmVlKCByb3V0ZU9iaiApO1xuXHQvLyBQYXJzZSB0aGUgbW9jayByb3V0ZSBvYmplY3QgaW50byBlbmRwb2ludCBmYWN0b3JpZXNcblx0Y29uc3QgZW5kcG9pbnRGYWN0b3JpZXMgPSBnZW5lcmF0ZUVuZHBvaW50RmFjdG9yaWVzKCByb3V0ZVRyZWUgKVsgbmFtZXNwYWNlIF07XG5cdGNvbnN0IEVuZHBvaW50UmVxdWVzdCA9IGVuZHBvaW50RmFjdG9yaWVzWyBPYmplY3Qua2V5cyggZW5kcG9pbnRGYWN0b3JpZXMgKVsgMCBdIF0uQ3RvcjtcblxuXHRpZiAoIG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJhbXMgKSB7XG5cdFx0b3B0aW9ucy5wYXJhbXMuZm9yRWFjaCggKCBwYXJhbSApID0+IHtcblx0XHRcdC8vIE9ubHkgYWNjZXB0IHN0cmluZyBwYXJhbWV0ZXJzXG5cdFx0XHRpZiAoIHR5cGVvZiBwYXJhbSAhPT0gJ3N0cmluZycgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhlIHBhcmFtZXRlciBjYW4gYmUgbWFwcGVkIHRvIGEgbWl4aW4sIGFwcGx5IHRoYXQgbWl4aW5cblx0XHRcdGlmICggdHlwZW9mIG1peGluc1sgcGFyYW0gXSA9PT0gJ29iamVjdCcgKSB7XG5cdFx0XHRcdE9iamVjdC5rZXlzKCBtaXhpbnNbIHBhcmFtIF0gKS5mb3JFYWNoKCAoIGtleSApID0+IHtcblx0XHRcdFx0XHRhcHBseU1peGluKCBFbmRwb2ludFJlcXVlc3QucHJvdG90eXBlLCBrZXksIG1peGluc1sgcGFyYW0gXVsga2V5IF0gKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIEF0dGVtcHQgdG8gY3JlYXRlIGEgc2ltcGxlIHNldHRlciBmb3IgYW55IHBhcmFtZXRlcnMgZm9yIHdoaWNoXG5cdFx0XHQvLyB3ZSBkbyBub3QgYWxyZWFkeSBoYXZlIGEgY3VzdG9tIG1peGluXG5cdFx0XHRhcHBseU1peGluKCBFbmRwb2ludFJlcXVlc3QucHJvdG90eXBlLCBwYXJhbSwgcGFyYW1TZXR0ZXIoIHBhcmFtICkgKTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBTZXQgYW55IGV4cGxpY2l0bHktcHJvdmlkZWQgb2JqZWN0IG1peGluc1xuXHRpZiAoIG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMubWl4aW5zID09PSAnb2JqZWN0JyApIHtcblxuXHRcdC8vIFNldCBhbnkgc3BlY2lmaWVkIG1peGluIGZ1bmN0aW9ucyBvbiB0aGUgcmVzcG9uc2Vcblx0XHRPYmplY3Qua2V5cyggb3B0aW9ucy5taXhpbnMgKS5mb3JFYWNoKCAoIGtleSApID0+IHtcblx0XHRcdGFwcGx5TWl4aW4oIEVuZHBvaW50UmVxdWVzdC5wcm90b3R5cGUsIGtleSwgb3B0aW9ucy5taXhpbnNbIGtleSBdICk7XG5cdFx0fSApO1xuXHR9XG5cblx0ZnVuY3Rpb24gZW5kcG9pbnRGYWN0b3J5KCBvcHRpb25zID0ge30gKSB7XG5cdFx0cmV0dXJuIG5ldyBFbmRwb2ludFJlcXVlc3QoIHtcblx0XHRcdC4uLm9wdGlvbnMsXG5cdFx0XHQuLi4oIHRoaXMgPyB0aGlzLl9vcHRpb25zIDoge30gKSxcblx0XHR9ICk7XG5cdH1cblx0ZW5kcG9pbnRGYWN0b3J5LkN0b3IgPSBFbmRwb2ludFJlcXVlc3Q7XG5cblx0cmV0dXJuIGVuZHBvaW50RmFjdG9yeTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZWdpc3RlclJvdXRlO1xuIiwgIi8qKlxuICogQSBXUCBSRVNUIEFQSSBjbGllbnQgZm9yIE5vZGUuanNcbiAqXG4gKiBAZXhhbXBsZVxuICogICAgIHZhciB3cCA9IG5ldyBXUEFQSSh7IGVuZHBvaW50OiAnaHR0cDovL3NyYy53b3JkcHJlc3MtZGV2ZWxvcC5kZXYvd3AtanNvbicgfSk7XG4gKiAgICAgd3AucG9zdHMoKS50aGVuKGZ1bmN0aW9uKCBwb3N0cyApIHtcbiAqICAgICAgICAgY29uc29sZS5sb2coIHBvc3RzICk7XG4gKiAgICAgfSkuY2F0Y2goZnVuY3Rpb24oIGVyciApIHtcbiAqICAgICAgICAgY29uc29sZS5lcnJvciggZXJyICk7XG4gKiAgICAgfSk7XG4gKlxuICogQGxpY2Vuc2UgTUlUXG4gfSlcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBvYmplY3RSZWR1Y2UgPSByZXF1aXJlKCAnLi9saWIvdXRpbC9vYmplY3QtcmVkdWNlJyApO1xuXG4vLyBUaGlzIEpTT04gZmlsZSBwcm92aWRlcyBlbm91Z2ggZGF0YSB0byBjcmVhdGUgaGFuZGxlciBtZXRob2RzIGZvciBhbGwgdmFsaWRcbi8vIEFQSSByb3V0ZXMgaW4gV29yZFByZXNzIDQuN1xuY29uc3QgZGVmYXVsdFJvdXRlcyA9IHJlcXVpcmUoICcuL2xpYi9kYXRhL2RlZmF1bHQtcm91dGVzLmpzb24nICk7XG5jb25zdCBidWlsZFJvdXRlVHJlZSA9IHJlcXVpcmUoICcuL2xpYi9yb3V0ZS10cmVlJyApLmJ1aWxkO1xuY29uc3QgZ2VuZXJhdGVFbmRwb2ludEZhY3RvcmllcyA9IHJlcXVpcmUoICcuL2xpYi9lbmRwb2ludC1mYWN0b3JpZXMnICkuZ2VuZXJhdGU7XG5cbi8vIFRoZSBkZWZhdWx0IGVuZHBvaW50IGZhY3RvcmllcyB3aWxsIGJlIGxhenktbG9hZGVkIGJ5IHBhcnNpbmcgdGhlIGRlZmF1bHRcbi8vIHJvdXRlIHRyZWUgZGF0YSBpZiBhIGRlZmF1bHQtbW9kZSBXUEFQSSBpbnN0YW5jZSBpcyBjcmVhdGVkIChpLmUuIG9uZSB0aGF0XG4vLyBpcyB0byBiZSBib290c3RyYXBwZWQgd2l0aCB0aGUgaGFuZGxlcnMgZm9yIGFsbCBvZiB0aGUgYnVpbHQtaW4gcm91dGVzKVxubGV0IGRlZmF1bHRFbmRwb2ludEZhY3RvcmllcztcblxuLy8gQ29uc3RhbnQgdXNlZCB0byBkZXRlY3QgZmlyc3QtcGFydHkgV29yZFByZXNzIFJFU1QgQVBJIHJvdXRlc1xuY29uc3QgYXBpRGVmYXVsdE5hbWVzcGFjZSA9ICd3cC92Mic7XG5cbi8vIFB1bGwgaW4gYXV0b2Rpc2NvdmVyeSBtZXRob2RzXG5jb25zdCBhdXRvZGlzY292ZXJ5ID0gcmVxdWlyZSggJy4vbGliL2F1dG9kaXNjb3ZlcnknICk7XG5cbi8vIFB1bGwgaW4gYmFzZSBtb2R1bGUgY29uc3RydWN0b3JzXG5jb25zdCBXUFJlcXVlc3QgPSByZXF1aXJlKCAnLi9saWIvY29uc3RydWN0b3JzL3dwLXJlcXVlc3QnICk7XG5cbi8vIFB1bGwgaW4gZGVmYXVsdCBIVFRQIHRyYW5zcG9ydFxuY29uc3QgaHR0cFRyYW5zcG9ydCA9IHJlcXVpcmUoICcuL2xpYi9odHRwLXRyYW5zcG9ydCcgKTtcblxuLyoqXG4gKiBDb25zdHJ1Y3QgYSBSRVNUIEFQSSBjbGllbnQgaW5zdGFuY2Ugb2JqZWN0IHRvIGNyZWF0ZVxuICpcbiAqIEBjb25zdHJ1Y3RvciBXUEFQSVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgICAgICAgICAgICAgQW4gb3B0aW9ucyBoYXNoIHRvIGNvbmZpZ3VyZSB0aGUgaW5zdGFuY2VcbiAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLmVuZHBvaW50ICAgIFRoZSBVUkkgZm9yIGEgV1AtQVBJIGVuZHBvaW50XG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMudXNlcm5hbWVdICBBIFdQLUFQSSBCYXNpYyBBdXRoIHVzZXJuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucGFzc3dvcmRdICBBIFdQLUFQSSBCYXNpYyBBdXRoIHBhc3N3b3JkXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubm9uY2VdICAgICBBIFdQIG5vbmNlIGZvciB1c2Ugd2l0aCBjb29raWUgYXV0aGVudGljYXRpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5yb3V0ZXNdICAgIEEgZGljdGlvbmFyeSBvZiBBUEkgcm91dGVzIHdpdGggd2hpY2ggdG9cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb3RzdHJhcCB0aGUgV1BBUEkgaW5zdGFuY2U6IHRoZSBpbnN0YW5jZSB3aWxsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZSBpbml0aWFsaXplZCB3aXRoIGRlZmF1bHQgcm91dGVzIG9ubHlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHRoaXMgcHJvcGVydHkgaXMgb21pdHRlZFxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnRyYW5zcG9ydF0gQW4gb3B0aW9uYWwgZGljdGlvbmFyeSBvZiBIVFRQIHRyYW5zcG9ydFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kcyAoLmdldCwgLnBvc3QsIC5wdXQsIC5kZWxldGUsIC5oZWFkKVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG8gdXNlIGluc3RlYWQgb2YgdGhlIGRlZmF1bHRzLCBlLmcuIHRvIHVzZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSBkaWZmZXJlbnQgSFRUUCBsaWJyYXJ5IHRoYW4gc3VwZXJhZ2VudFxuICovXG5mdW5jdGlvbiBXUEFQSSggb3B0aW9ucyApIHtcblxuXHQvLyBFbmZvcmNlIGBuZXdgXG5cdGlmICggdGhpcyBpbnN0YW5jZW9mIFdQQVBJID09PSBmYWxzZSApIHtcblx0XHRyZXR1cm4gbmV3IFdQQVBJKCBvcHRpb25zICk7XG5cdH1cblxuXHRpZiAoIHR5cGVvZiBvcHRpb25zLmVuZHBvaW50ICE9PSAnc3RyaW5nJyApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoICdvcHRpb25zIGhhc2ggbXVzdCBjb250YWluIGFuIEFQSSBlbmRwb2ludCBVUkwgc3RyaW5nJyApO1xuXHR9XG5cblx0Ly8gRGljdGlvbmFyeSB0byBiZSBmaWxsZWQgYnkgaGFuZGxlcnMgZm9yIGRlZmF1bHQgbmFtZXNwYWNlc1xuXHR0aGlzLl9ucyA9IHt9O1xuXG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0Ly8gRW5zdXJlIHRyYWlsaW5nIHNsYXNoIG9uIGVuZHBvaW50IFVSSVxuXHRcdGVuZHBvaW50OiBvcHRpb25zLmVuZHBvaW50LnJlcGxhY2UoICAvXFwvPyQvLCAnLycgKSxcblx0fTtcblxuXHQvLyBJZiBhbnkgYXV0aGVudGljYXRpb24gY3JlZGVudGlhbHMgd2VyZSBwcm92aWRlZCwgYXNzaWduIHRoZW0gbm93XG5cdGlmICggb3B0aW9ucyAmJiAoIG9wdGlvbnMudXNlcm5hbWUgfHwgb3B0aW9ucy5wYXNzd29yZCB8fCBvcHRpb25zLm5vbmNlICkgKSB7XG5cdFx0dGhpcy5hdXRoKCBvcHRpb25zICk7XG5cdH1cblxuXHRyZXR1cm4gdGhpc1xuXHRcdC8vIENvbmZpZ3VyZSBjdXN0b20gSFRUUCB0cmFuc3BvcnQgbWV0aG9kcywgaWYgcHJvdmlkZWRcblx0XHQudHJhbnNwb3J0KCBvcHRpb25zLnRyYW5zcG9ydCApXG5cdFx0Ly8gQm9vdHN0cmFwIHdpdGggYSBzcGVjaWZpYyByb3V0ZXMgb2JqZWN0LCBpZiBwcm92aWRlZFxuXHRcdC5ib290c3RyYXAoIG9wdGlvbnMgJiYgb3B0aW9ucy5yb3V0ZXMgKTtcbn1cblxuLyoqXG4gKiBTZXQgY3VzdG9tIHRyYW5zcG9ydCBtZXRob2RzIHRvIHVzZSB3aGVuIG1ha2luZyBIVFRQIHJlcXVlc3RzIGFnYWluc3QgdGhlIEFQSVxuICpcbiAqIFBhc3MgYW4gb2JqZWN0IHdpdGggYSBmdW5jdGlvbiBmb3Igb25lIG9yIG1hbnkgb2YgXCJnZXRcIiwgXCJwb3N0XCIsIFwicHV0XCIsXG4gKiBcImRlbGV0ZVwiIGFuZCBcImhlYWRcIiBhbmQgdGhhdCBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuIG1ha2luZyB0aGF0IHR5cGVcbiAqIG9mIHJlcXVlc3QuIFRoZSBwcm92aWRlZCB0cmFuc3BvcnQgZnVuY3Rpb25zIHNob3VsZCB0YWtlIGEgV1BSZXF1ZXN0IGhhbmRsZXJcbiAqIGluc3RhbmNlIChfZS5nLl8gdGhlIHJlc3VsdCBvZiBhIGB3cC5wb3N0cygpLi4uYCBjaGFpbiBvciBhbnkgb3RoZXIgY2hhaW5pbmdcbiAqIHJlcXVlc3QgaGFuZGxlcikgYXMgdGhlaXIgZmlyc3QgYXJndW1lbnQ7IGEgYGRhdGFgIG9iamVjdCBhcyB0aGVpciBzZWNvbmRcbiAqIGFyZ3VtZW50IChmb3IgUE9TVCwgUFVUIGFuZCBERUxFVEUgcmVxdWVzdHMpOyBhbmQgYW4gb3B0aW9uYWwgY2FsbGJhY2sgYXNcbiAqIHRoZWlyIGZpbmFsIGFyZ3VtZW50LiBUcmFuc3BvcnQgbWV0aG9kcyBzaG91bGQgaW52b2tlIHRoZSBjYWxsYmFjayB3aXRoIHRoZVxuICogcmVzcG9uc2UgZGF0YSAob3IgZXJyb3IsIGFzIGFwcHJvcHJpYXRlKSwgYW5kIHNob3VsZCBhbHNvIHJldHVybiBhIFByb21pc2UuXG4gKlxuICogQGV4YW1wbGUgPGNhcHRpb24+c2hvd2luZyBob3cgYSBjYWNoZSBoaXQgKGtleWVkIGJ5IFVSSSkgY291bGQgc2hvcnQtY2lyY3VpdCBhIGdldCByZXF1ZXN0PC9jYXB0aW9uPlxuICpcbiAqICAgICB2YXIgc2l0ZSA9IG5ldyBXUEFQSSh7XG4gKiAgICAgICBlbmRwb2ludDogJ2h0dHA6Ly9teS1zaXRlLmNvbS93cC1qc29uJ1xuICogICAgIH0pO1xuICpcbiAqICAgICAvLyBPdmVyd3JpdGUgdGhlIEdFVCBiZWhhdmlvciB0byBpbmplY3QgYSBjYWNoaW5nIGxheWVyXG4gKiAgICAgc2l0ZS50cmFuc3BvcnQoe1xuICogICAgICAgZ2V0OiBmdW5jdGlvbiggd3ByZXEsIGNiICkge1xuICogICAgICAgICB2YXIgcmVzdWx0ID0gY2FjaGVbIHdwcmVxIF07XG4gKiAgICAgICAgIC8vIElmIGEgY2FjaGUgaGl0IGlzIGZvdW5kLCByZXR1cm4gaXQgdmlhIHRoZSBzYW1lIGNhbGxiYWNrL3Byb21pc2VcbiAqICAgICAgICAgLy8gc2lnbmF0dXJlIGFzIHRoZSBkZWZhdWx0IHRyYW5zcG9ydCBtZXRob2RcbiAqICAgICAgICAgaWYgKCByZXN1bHQgKSB7XG4gKiAgICAgICAgICAgaWYgKCBjYiAmJiB0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicgKSB7XG4gKiAgICAgICAgICAgICBjYiggbnVsbCwgcmVzdWx0ICk7XG4gKiAgICAgICAgICAgfVxuICogICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoIHJlc3VsdCApO1xuICogICAgICAgICB9XG4gKlxuICogICAgICAgICAvLyBEZWxlZ2F0ZSB0byBkZWZhdWx0IHRyYW5zcG9ydCBpZiBubyBjYWNoZWQgZGF0YSB3YXMgZm91bmRcbiAqICAgICAgICAgcmV0dXJuIFdQQVBJLnRyYW5zcG9ydC5nZXQoIHdwcmVxLCBjYiApLnRoZW4oZnVuY3Rpb24oIHJlc3VsdCApIHtcbiAqICAgICAgICAgICBjYWNoZVsgd3ByZXEgXSA9IHJlc3VsdDtcbiAqICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICogICAgICAgICB9KTtcbiAqICAgICAgIH1cbiAqICAgICB9KTtcbiAqXG4gKiBUaGlzIGlzIGFkdmFuY2VkIGJlaGF2aW9yOyB5b3Ugd2lsbCBvbmx5IG5lZWQgdG8gdXRpbGl6ZSB0aGlzIGZ1bmN0aW9uYWxpdHlcbiAqIGlmIHlvdXIgYXBwbGljYXRpb24gaGFzIHZlcnkgc3BlY2lmaWMgSFRUUCBoYW5kbGluZyBvciBjYWNoaW5nIHJlcXVpcmVtZW50cy5cbiAqIFJlZmVyIHRvIHRoZSBcImh0dHAtdHJhbnNwb3J0XCIgbW9kdWxlIHdpdGhpbiB0aGlzIGFwcGxpY2F0aW9uIGZvciB0aGUgY29kZVxuICogaW1wbGVtZW50aW5nIHRoZSBidWlsdC1pbiB0cmFuc3BvcnQgbWV0aG9kcy5cbiAqXG4gKiBAbWVtYmVyb2YhIFdQQVBJXG4gKiBAbWV0aG9kIHRyYW5zcG9ydFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtPYmplY3R9ICAgdHJhbnNwb3J0ICAgICAgICAgIEEgZGljdGlvbmFyeSBvZiBIVFRQIHRyYW5zcG9ydCBtZXRob2RzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbdHJhbnNwb3J0LmdldF0gICAgVGhlIGZ1bmN0aW9uIHRvIHVzZSBmb3IgR0VUIHJlcXVlc3RzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbdHJhbnNwb3J0LnBvc3RdICAgVGhlIGZ1bmN0aW9uIHRvIHVzZSBmb3IgUE9TVCByZXF1ZXN0c1xuICogQHBhcmFtIHtGdW5jdGlvbn0gW3RyYW5zcG9ydC5wdXRdICAgIFRoZSBmdW5jdGlvbiB0byB1c2UgZm9yIFBVVCByZXF1ZXN0c1xuICogQHBhcmFtIHtGdW5jdGlvbn0gW3RyYW5zcG9ydC5kZWxldGVdIFRoZSBmdW5jdGlvbiB0byB1c2UgZm9yIERFTEVURSByZXF1ZXN0c1xuICogQHBhcmFtIHtGdW5jdGlvbn0gW3RyYW5zcG9ydC5oZWFkXSAgIFRoZSBmdW5jdGlvbiB0byB1c2UgZm9yIEhFQUQgcmVxdWVzdHNcbiAqIEByZXR1cm5zIHtXUEFQSX0gVGhlIFdQQVBJIGluc3RhbmNlLCBmb3IgY2hhaW5pbmdcbiAqL1xuV1BBUEkucHJvdG90eXBlLnRyYW5zcG9ydCA9IGZ1bmN0aW9uKCB0cmFuc3BvcnQgKSB7XG5cdC8vIExvY2FsIHJlZmVyZW5jZSB0byBhdm9pZCBuZWVkIHRvIHJlZmVyZW5jZSB2aWEgYHRoaXNgIGluc2lkZSBmb3JFYWNoXG5cdGNvbnN0IF9vcHRpb25zID0gdGhpcy5fb3B0aW9ucztcblxuXHQvLyBDcmVhdGUgdGhlIGRlZmF1bHQgdHJhbnNwb3J0IGlmIGl0IGRvZXMgbm90IGV4aXN0XG5cdGlmICggISBfb3B0aW9ucy50cmFuc3BvcnQgKSB7XG5cdFx0X29wdGlvbnMudHJhbnNwb3J0ID0gT2JqZWN0LmNyZWF0ZSggV1BBUEkudHJhbnNwb3J0ICk7XG5cdH1cblxuXHQvLyBXaGl0ZWxpc3QgdGhlIG1ldGhvZHMgdGhhdCBtYXkgYmUgYXBwbGllZFxuXHRbICdnZXQnLCAnaGVhZCcsICdwb3N0JywgJ3B1dCcsICdkZWxldGUnIF0uZm9yRWFjaCggKCBrZXkgKSA9PiB7XG5cdFx0aWYgKCB0cmFuc3BvcnQgJiYgdHJhbnNwb3J0WyBrZXkgXSApIHtcblx0XHRcdF9vcHRpb25zLnRyYW5zcG9ydFsga2V5IF0gPSB0cmFuc3BvcnRbIGtleSBdO1xuXHRcdH1cblx0fSApO1xuXG5cdHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBEZWZhdWx0IEhUVFAgdHJhbnNwb3J0IG1ldGhvZHMgb2JqZWN0IGZvciBhbGwgV1BBUEkgaW5zdGFuY2VzXG4gKlxuICogVGhlc2UgbWV0aG9kcyBtYXkgYmUgZXh0ZW5kZWQgb3IgcmVwbGFjZWQgb24gYW4gaW5zdGFuY2UtYnktaW5zdGFuY2UgYmFzaXNcbiAqXG4gKiBAbWVtYmVyb2YhIFdQQVBJXG4gKiBAc3RhdGljXG4gKiBAcHJvcGVydHkgdHJhbnNwb3J0XG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5XUEFQSS50cmFuc3BvcnQgPSBPYmplY3QuY3JlYXRlKCBodHRwVHJhbnNwb3J0ICk7XG5PYmplY3QuZnJlZXplKCBXUEFQSS50cmFuc3BvcnQgKTtcblxuLyoqXG4gKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIG1ha2luZyBhIG5ldyBXUEFQSSBpbnN0YW5jZVxuICpcbiAqIEBleGFtcGxlXG4gKiBUaGVzZSBhcmUgZXF1aXZhbGVudDpcbiAqXG4gKiAgICAgdmFyIHdwID0gbmV3IFdQQVBJKHsgZW5kcG9pbnQ6ICdodHRwOi8vbXkuYmxvZy51cmwvd3AtanNvbicgfSk7XG4gKiAgICAgdmFyIHdwID0gV1BBUEkuc2l0ZSggJ2h0dHA6Ly9teS5ibG9nLnVybC93cC1qc29uJyApO1xuICpcbiAqIGBXUEFQSS5zaXRlYCBjYW4gdGFrZSBhbiBvcHRpb25hbCBBUEkgcm9vdCByZXNwb25zZSBKU09OIG9iamVjdCB0byB1c2Ugd2hlblxuICogYm9vdHN0cmFwcGluZyB0aGUgY2xpZW50J3MgZW5kcG9pbnQgaGFuZGxlciBtZXRob2RzOiBpZiBubyBzZWNvbmQgcGFyYW1ldGVyXG4gKiBpcyBwcm92aWRlZCwgdGhlIGNsaWVudCBpbnN0YW5jZSBpcyBhc3N1bWVkIHRvIGJlIHVzaW5nIHRoZSBkZWZhdWx0IEFQSVxuICogd2l0aCBubyBhZGRpdGlvbmFsIHBsdWdpbnMgYW5kIGlzIGluaXRpYWxpemVkIHdpdGggaGFuZGxlcnMgZm9yIG9ubHkgdGhvc2VcbiAqIGRlZmF1bHQgQVBJIHJvdXRlcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogVGhlc2UgYXJlIGVxdWl2YWxlbnQ6XG4gKlxuICogICAgIC8vIHsuLi59IG1lYW5zIHRoZSBKU09OIG91dHB1dCBvZiBodHRwOi8vbXkuYmxvZy51cmwvd3AtanNvblxuICogICAgIHZhciB3cCA9IG5ldyBXUEFQSSh7XG4gKiAgICAgICBlbmRwb2ludDogJ2h0dHA6Ly9teS5ibG9nLnVybC93cC1qc29uJyxcbiAqICAgICAgIGpzb246IHsuLi59XG4gKiAgICAgfSk7XG4gKiAgICAgdmFyIHdwID0gV1BBUEkuc2l0ZSggJ2h0dHA6Ly9teS5ibG9nLnVybC93cC1qc29uJywgey4uLn0gKTtcbiAqXG4gKiBAbWVtYmVyb2YhIFdQQVBJXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge1N0cmluZ30gZW5kcG9pbnQgVGhlIFVSSSBmb3IgYSBXUC1BUEkgZW5kcG9pbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSByb3V0ZXMgICBUaGUgXCJyb3V0ZXNcIiBvYmplY3QgZnJvbSB0aGUgSlNPTiBvYmplY3QgcmV0dXJuZWRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tIHRoZSByb290IEFQSSBlbmRwb2ludCBvZiBhIFdQIHNpdGUsIHdoaWNoIHNob3VsZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgIGJlIGEgZGljdGlvbmFyeSBvZiByb3V0ZSBkZWZpbml0aW9uIG9iamVjdHMga2V5ZWQgYnlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgcm91dGUncyByZWdleCBwYXR0ZXJuXG4gKiBAcmV0dXJucyB7V1BBUEl9IEEgbmV3IFdQQVBJIGluc3RhbmNlLCBib3VuZCB0byB0aGUgcHJvdmlkZWQgZW5kcG9pbnRcbiAqL1xuV1BBUEkuc2l0ZSA9IGZ1bmN0aW9uKCBlbmRwb2ludCwgcm91dGVzICkge1xuXHRyZXR1cm4gbmV3IFdQQVBJKCB7XG5cdFx0ZW5kcG9pbnQ6IGVuZHBvaW50LFxuXHRcdHJvdXRlczogcm91dGVzLFxuXHR9ICk7XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgcmVxdWVzdCBhZ2FpbnN0IGEgY29tcGxldGVseSBhcmJpdHJhcnkgZW5kcG9pbnQsIHdpdGggbm8gYXNzdW1wdGlvbnMgYWJvdXRcbiAqIG9yIG11dGF0aW9uIG9mIHBhdGgsIGZpbHRlcmluZywgb3IgcXVlcnkgcGFyYW1ldGVycy4gVGhpcyByZXF1ZXN0IGlzIG5vdCByZXN0cmljdGVkIHRvXG4gKiB0aGUgZW5kcG9pbnQgc3BlY2lmaWVkIGR1cmluZyBXUEFQSSBvYmplY3QgaW5zdGFudGlhdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogR2VuZXJhdGUgYSByZXF1ZXN0IHRvIHRoZSBleHBsaWNpdCBVUkwgXCJodHRwOi8veW91ci53ZWJzaXRlLmNvbS93cC1qc29uL3NvbWUvY3VzdG9tL3BhdGhcIlxuICpcbiAqICAgICB3cC51cmwoICdodHRwOi8veW91ci53ZWJzaXRlLmNvbS93cC1qc29uL3NvbWUvY3VzdG9tL3BhdGgnICkuZ2V0KCkuLi5cbiAqXG4gKiBAbWVtYmVyb2YhIFdQQVBJXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gcmVxdWVzdFxuICogQHJldHVybnMge1dQUmVxdWVzdH0gQSBXUFJlcXVlc3Qgb2JqZWN0IGJvdW5kIHRvIHRoZSBwcm92aWRlZCBVUkxcbiAqL1xuV1BBUEkucHJvdG90eXBlLnVybCA9IGZ1bmN0aW9uKCB1cmwgKSB7XG5cdHJldHVybiBuZXcgV1BSZXF1ZXN0KCB7XG5cdFx0Li4udGhpcy5fb3B0aW9ucyxcblx0XHRlbmRwb2ludDogdXJsLFxuXHR9ICk7XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgcXVlcnkgYWdhaW5zdCBhbiBhcmJpdHJhcnkgcGF0aCBvbiB0aGUgY3VycmVudCBlbmRwb2ludC4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gKiByZXF1ZXN0aW5nIHJlc291cmNlcyBhdCBjdXN0b20gV1AtQVBJIGVuZHBvaW50cywgc3VjaCBhcyBXb29Db21tZXJjZSdzIGAvcHJvZHVjdHNgLlxuICpcbiAqIEBtZW1iZXJvZiEgV1BBUElcbiAqIEBwYXJhbSB7U3RyaW5nfSBbcmVsYXRpdmVQYXRoXSBBbiBlbmRwb2ludC1yZWxhdGl2ZSBwYXRoIHRvIHdoaWNoIHRvIGJpbmQgdGhlIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtXUFJlcXVlc3R9IEEgcmVxdWVzdCBvYmplY3RcbiAqL1xuV1BBUEkucHJvdG90eXBlLnJvb3QgPSBmdW5jdGlvbiggcmVsYXRpdmVQYXRoICkge1xuXHRyZWxhdGl2ZVBhdGggPSByZWxhdGl2ZVBhdGggfHwgJyc7XG5cdGNvbnN0IG9wdGlvbnMgPSB7XG5cdFx0Li4udGhpcy5fb3B0aW9ucyxcblx0fTtcblx0Ly8gUmVxdWVzdCBzaG91bGQgYmVcblx0Y29uc3QgcmVxdWVzdCA9IG5ldyBXUFJlcXVlc3QoIG9wdGlvbnMgKTtcblxuXHQvLyBTZXQgdGhlIHBhdGggdGVtcGxhdGUgdG8gdGhlIHN0cmluZyBwYXNzZWQgaW5cblx0cmVxdWVzdC5fcGF0aCA9IHsgJzAnOiByZWxhdGl2ZVBhdGggfTtcblxuXHRyZXR1cm4gcmVxdWVzdDtcbn07XG5cbi8qKlxuICogU2V0IHRoZSBkZWZhdWx0IGhlYWRlcnMgdG8gdXNlIGZvciBhbGwgSFRUUCByZXF1ZXN0cyBjcmVhdGVkIGZyb20gdGhpcyBXUEFQSVxuICogc2l0ZSBpbnN0YW5jZS4gQWNjZXB0cyBhIGhlYWRlciBuYW1lIGFuZCBpdHMgYXNzb2NpYXRlZCB2YWx1ZSBhcyB0d28gc3RyaW5ncyxcbiAqIG9yIG11bHRpcGxlIGhlYWRlcnMgYXMgYW4gb2JqZWN0IG9mIG5hbWUtdmFsdWUgcGFpcnMuXG4gKlxuICogQGV4YW1wbGUgPGNhcHRpb24+U2V0IGEgc2luZ2xlIGhlYWRlciB0byBiZSB1c2VkIGJ5IGFsbCByZXF1ZXN0cyB0byB0aGlzIHNpdGU8L2NhcHRpb24+XG4gKlxuICogICAgIHNpdGUuc2V0SGVhZGVycyggJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyIHRydXN0bWUnICkuLi5cbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5TZXQgbXVsdGlwbGUgaGVhZGVycyB0byBiZSB1c2VkIGJ5IGFsbCByZXF1ZXN0cyB0byB0aGlzIHNpdGU8L2NhcHRpb24+XG4gKlxuICogICAgIHNpdGUuc2V0SGVhZGVycyh7XG4gKiAgICAgICBBdXRob3JpemF0aW9uOiAnQmVhcmVyIGNvbWVvbndlcmVvbGRmcmllbmRzcmlnaHQnLFxuICogICAgICAgJ0FjY2VwdC1MYW5ndWFnZSc6ICdlbi1DQSdcbiAqICAgICB9KS4uLlxuICpcbiAqIEBtZW1iZXJvZiEgV1BBUElcbiAqIEBzaW5jZSAxLjEuMFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBoZWFkZXJzIFRoZSBuYW1lIG9mIHRoZSBoZWFkZXIgdG8gc2V0LCBvciBhbiBvYmplY3Qgb2ZcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIgbmFtZXMgYW5kIHRoZWlyIGFzc29jaWF0ZWQgc3RyaW5nIHZhbHVlc1xuICogQHBhcmFtIHtTdHJpbmd9ICAgICAgICBbdmFsdWVdIFRoZSB2YWx1ZSBvZiB0aGUgaGVhZGVyIGJlaW5nIHNldFxuICogQHJldHVybnMge1dQQVBJfSBUaGUgV1BBUEkgc2l0ZSBoYW5kbGVyIGluc3RhbmNlLCBmb3IgY2hhaW5pbmdcbiAqL1xuV1BBUEkucHJvdG90eXBlLnNldEhlYWRlcnMgPSBXUFJlcXVlc3QucHJvdG90eXBlLnNldEhlYWRlcnM7XG5cbi8qKlxuICogU2V0IHRoZSBhdXRoZW50aWNhdGlvbiB0byB1c2UgZm9yIGEgV1BBUEkgc2l0ZSBoYW5kbGVyIGluc3RhbmNlLiBBY2NlcHRzIGJhc2ljXG4gKiBIVFRQIGF1dGhlbnRpY2F0aW9uIGNyZWRlbnRpYWxzIChzdHJpbmcgdXNlcm5hbWUgJiBwYXNzd29yZCkgb3IgYSBOb25jZSAoZm9yXG4gKiBjb29raWUgYXV0aGVudGljYXRpb24pIGJ5IGRlZmF1bHQ7IG1heSBiZSBvdmVybG9hZGVkIHRvIGFjY2VwdCBPQXV0aCBjcmVkZW50aWFsc1xuICogaW4gdGhlIGZ1dHVyZS5cbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5CYXNpYyBBdXRoZW50aWNhdGlvbjwvY2FwdGlvbj5cbiAqXG4gKiAgICAgc2l0ZS5hdXRoKHtcbiAqICAgICAgIHVzZXJuYW1lOiAnYWRtaW4nLFxuICogICAgICAgcGFzc3dvcmQ6ICdzZWN1cmVwYXNzNTUnXG4gKiAgICAgfSkuLi5cbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5Db29raWUvTm9uY2UgQXV0aGVudGljYXRpb248L2NhcHRpb24+XG4gKlxuICogICAgIHNpdGUuYXV0aCh7XG4gKiAgICAgICBub25jZTogJ3NvbWVub25jZSdcbiAqICAgICB9KS4uLlxuICpcbiAqIEBtZW1iZXJvZiEgV1BBUElcbiAqIEBtZXRob2RcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBjcmVkZW50aWFscyAgICAgICAgICAgIEFuIGF1dGhlbnRpY2F0aW9uIGNyZWRlbnRpYWxzIG9iamVjdFxuICogQHBhcmFtIHtTdHJpbmd9IFtjcmVkZW50aWFscy51c2VybmFtZV0gQSBXUC1BUEkgQmFzaWMgSFRUUCBBdXRoZW50aWNhdGlvbiB1c2VybmFtZVxuICogQHBhcmFtIHtTdHJpbmd9IFtjcmVkZW50aWFscy5wYXNzd29yZF0gQSBXUC1BUEkgQmFzaWMgSFRUUCBBdXRoZW50aWNhdGlvbiBwYXNzd29yZFxuICogQHBhcmFtIHtTdHJpbmd9IFtjcmVkZW50aWFscy5ub25jZV0gICAgQSBXUCBub25jZSBmb3IgdXNlIHdpdGggY29va2llIGF1dGhlbnRpY2F0aW9uXG4gKiBAcmV0dXJucyB7V1BBUEl9IFRoZSBXUEFQSSBzaXRlIGhhbmRsZXIgaW5zdGFuY2UsIGZvciBjaGFpbmluZ1xuICovXG5XUEFQSS5wcm90b3R5cGUuYXV0aCA9IFdQUmVxdWVzdC5wcm90b3R5cGUuYXV0aDtcblxuLy8gQXBwbHkgdGhlIHJlZ2lzdGVyUm91dGUgbWV0aG9kIHRvIHRoZSBwcm90b3R5cGVcbldQQVBJLnByb3RvdHlwZS5yZWdpc3RlclJvdXRlID0gcmVxdWlyZSggJy4vbGliL3dwLXJlZ2lzdGVyLXJvdXRlJyApO1xuXG4vKipcbiAqIERlZHVjZSByZXF1ZXN0IG1ldGhvZHMgZnJvbSBhIHByb3ZpZGVkIEFQSSByb290IEpTT04gcmVzcG9uc2Ugb2JqZWN0J3NcbiAqIHJvdXRlcyBkaWN0aW9uYXJ5LCBhbmQgYXNzaWduIHRob3NlIG1ldGhvZHMgdG8gdGhlIGN1cnJlbnQgaW5zdGFuY2UuIElmXG4gKiBubyByb3V0ZXMgZGljdGlvbmFyeSBpcyBwcm92aWRlZCB0aGVuIHRoZSBpbnN0YW5jZSB3aWxsIGJlIGJvb3RzdHJhcHBlZFxuICogd2l0aCByb3V0ZSBoYW5kbGVycyBmb3IgdGhlIGRlZmF1bHQgQVBJIGVuZHBvaW50cyBvbmx5LlxuICpcbiAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGR1cmluZyBXUEFQSSBpbnN0YW5jZSBjcmVhdGlvbi5cbiAqXG4gKiBAbWVtYmVyb2YhIFdQQVBJXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge09iamVjdH0gcm91dGVzIFRoZSBcInJvdXRlc1wiIG9iamVjdCBmcm9tIHRoZSBKU09OIG9iamVjdCByZXR1cm5lZFxuICogICAgICAgICAgICAgICAgICAgICAgICBmcm9tIHRoZSByb290IEFQSSBlbmRwb2ludCBvZiBhIFdQIHNpdGUsIHdoaWNoIHNob3VsZFxuICogICAgICAgICAgICAgICAgICAgICAgICBiZSBhIGRpY3Rpb25hcnkgb2Ygcm91dGUgZGVmaW5pdGlvbiBvYmplY3RzIGtleWVkIGJ5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgIHRoZSByb3V0ZSdzIHJlZ2V4IHBhdHRlcm5cbiAqIEByZXR1cm5zIHtXUEFQSX0gVGhlIGJvb3RzdHJhcHBlZCBXUEFQSSBjbGllbnQgaW5zdGFuY2UgKGZvciBjaGFpbmluZyBvciBhc3NpZ25tZW50KVxuICovXG5XUEFQSS5wcm90b3R5cGUuYm9vdHN0cmFwID0gZnVuY3Rpb24oIHJvdXRlcyApIHtcblx0bGV0IHJvdXRlc0J5TmFtZXNwYWNlO1xuXHRsZXQgZW5kcG9pbnRGYWN0b3JpZXNCeU5hbWVzcGFjZTtcblxuXHRpZiAoICEgcm91dGVzICkge1xuXHRcdC8vIEF1dG8tZ2VuZXJhdGUgZGVmYXVsdCBlbmRwb2ludCBmYWN0b3JpZXMgaWYgdGhleSBhcmUgbm90IGFscmVhZHkgYXZhaWxhYmxlXG5cdFx0aWYgKCAhIGRlZmF1bHRFbmRwb2ludEZhY3RvcmllcyApIHtcblx0XHRcdHJvdXRlc0J5TmFtZXNwYWNlID0gYnVpbGRSb3V0ZVRyZWUoIGRlZmF1bHRSb3V0ZXMgKTtcblx0XHRcdGRlZmF1bHRFbmRwb2ludEZhY3RvcmllcyA9IGdlbmVyYXRlRW5kcG9pbnRGYWN0b3JpZXMoIHJvdXRlc0J5TmFtZXNwYWNlICk7XG5cdFx0fVxuXHRcdGVuZHBvaW50RmFjdG9yaWVzQnlOYW1lc3BhY2UgPSBkZWZhdWx0RW5kcG9pbnRGYWN0b3JpZXM7XG5cdH0gZWxzZSB7XG5cdFx0cm91dGVzQnlOYW1lc3BhY2UgPSBidWlsZFJvdXRlVHJlZSggcm91dGVzICk7XG5cdFx0ZW5kcG9pbnRGYWN0b3JpZXNCeU5hbWVzcGFjZSA9IGdlbmVyYXRlRW5kcG9pbnRGYWN0b3JpZXMoIHJvdXRlc0J5TmFtZXNwYWNlICk7XG5cdH1cblxuXHQvLyBGb3IgZWFjaCBuYW1lc3BhY2UgZm9yIHdoaWNoIHJvdXRlcyB3ZXJlIGlkZW50aWZpZWQsIHN0b3JlIHRoZSBnZW5lcmF0ZWRcblx0Ly8gcm91dGUgaGFuZGxlcnMgb24gdGhlIFdQQVBJIGluc3RhbmNlJ3MgcHJpdmF0ZSBfbnMgZGljdGlvbmFyeS4gVGhlc2UgbmFtZXNwYWNlZFxuXHQvLyBoYW5kbGVyIG1ldGhvZHMgY2FuIGJlIGFjY2Vzc2VkIGJ5IGNhbGxpbmcgYC5uYW1lc3BhY2UoIHN0ciApYCBvbiB0aGVcblx0Ly8gY2xpZW50IGluc3RhbmNlIGFuZCBwYXNzaW5nIGEgcmVnaXN0ZXJlZCBuYW1lc3BhY2Ugc3RyaW5nLlxuXHQvLyBIYW5kbGVycyBmb3IgZGVmYXVsdCAod3AvdjIpIHJvdXRlcyB3aWxsIGFsc28gYmUgYXNzaWduZWQgdG8gdGhlIFdQQVBJXG5cdC8vIGNsaWVudCBpbnN0YW5jZSBvYmplY3QgaXRzZWxmLCBmb3IgYnJldml0eS5cblx0cmV0dXJuIG9iamVjdFJlZHVjZSggZW5kcG9pbnRGYWN0b3JpZXNCeU5hbWVzcGFjZSwgKCB3cEluc3RhbmNlLCBlbmRwb2ludEZhY3RvcmllcywgbmFtZXNwYWNlICkgPT4ge1xuXG5cdFx0Ly8gU2V0IChvciBhdWdtZW50KSB0aGUgcm91dGUgaGFuZGxlciBmYWN0b3JpZXMgZm9yIHRoaXMgbmFtZXNwYWNlLlxuXHRcdHdwSW5zdGFuY2UuX25zWyBuYW1lc3BhY2UgXSA9IG9iamVjdFJlZHVjZShcblx0XHRcdGVuZHBvaW50RmFjdG9yaWVzLFxuXHRcdFx0KCBuc0hhbmRsZXJzLCBoYW5kbGVyRm4sIG1ldGhvZE5hbWUgKSA9PiB7XG5cdFx0XHRcdG5zSGFuZGxlcnNbIG1ldGhvZE5hbWUgXSA9IGhhbmRsZXJGbjtcblx0XHRcdFx0cmV0dXJuIG5zSGFuZGxlcnM7XG5cdFx0XHR9LFxuXHRcdFx0d3BJbnN0YW5jZS5fbnNbIG5hbWVzcGFjZSBdIHx8IHtcblx0XHRcdFx0Ly8gQ3JlYXRlIGFsbCBuYW1lc3BhY2UgZGljdGlvbmFyaWVzIHdpdGggYSBkaXJlY3QgcmVmZXJlbmNlIHRvIHRoZSBtYWluIFdQQVBJXG5cdFx0XHRcdC8vIGluc3RhbmNlJ3MgX29wdGlvbnMgcHJvcGVydHkgc28gdGhhdCB0aGluZ3MgbGlrZSBhdXRoIHByb3BhZ2F0ZSBwcm9wZXJseVxuXHRcdFx0XHRfb3B0aW9uczogd3BJbnN0YW5jZS5fb3B0aW9ucyxcblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0Ly8gRm9yIHRoZSBkZWZhdWx0IG5hbWVzcGFjZSwgZS5nLiBcIndwL3YyXCIgYXQgdGhlIHRpbWUgdGhpcyBjb21tZW50IHdhc1xuXHRcdC8vIHdyaXR0ZW4sIGVuc3VyZSBhbGwgbWV0aG9kcyBhcmUgYXNzaWduZWQgdG8gdGhlIHJvb3QgY2xpZW50IG9iamVjdCBpdHNlbGZcblx0XHQvLyBpbiBhZGRpdGlvbiB0byB0aGUgcHJpdmF0ZSBfbnMgZGljdGlvbmFyeTogdGhpcyBpcyBkb25lIHNvIHRoYXQgdGhlc2Vcblx0XHQvLyBtZXRob2RzIGNhbiBiZSBjYWxsZWQgd2l0aCBlLmcuIGB3cC5wb3N0cygpYCBhbmQgbm90IHRoZSBtb3JlIHZlcmJvc2Vcblx0XHQvLyBgd3AubmFtZXNwYWNlKCAnd3AvdjInICkucG9zdHMoKWAuXG5cdFx0aWYgKCBuYW1lc3BhY2UgPT09IGFwaURlZmF1bHROYW1lc3BhY2UgKSB7XG5cdFx0XHRPYmplY3Qua2V5cyggd3BJbnN0YW5jZS5fbnNbIG5hbWVzcGFjZSBdICkuZm9yRWFjaCggKCBtZXRob2ROYW1lICkgPT4ge1xuXHRcdFx0XHR3cEluc3RhbmNlWyBtZXRob2ROYW1lIF0gPSB3cEluc3RhbmNlLl9uc1sgbmFtZXNwYWNlIF1bIG1ldGhvZE5hbWUgXTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gd3BJbnN0YW5jZTtcblx0fSwgdGhpcyApO1xufTtcblxuLyoqXG4gKiBBY2Nlc3MgQVBJIGVuZHBvaW50IGhhbmRsZXJzIGZyb20gYSBwYXJ0aWN1bGFyIEFQSSBuYW1lc3BhY2Ugb2JqZWN0XG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAgICAgd3AubmFtZXNwYWNlKCAnbXlwbHVnaW4vdjEnICkuYXV0aG9yKCkuLi5cbiAqXG4gKiAgICAgLy8gRGVmYXVsdCBXUCBlbmRwb2ludCBoYW5kbGVycyBhcmUgYXNzaWduZWQgdG8gdGhlIHdwIGluc3RhbmNlIGl0c2VsZi5cbiAqICAgICAvLyBUaGVzZSBhcmUgZXF1aXZhbGVudDpcbiAqICAgICB3cC5uYW1lc3BhY2UoICd3cC92MicgKS5wb3N0cygpLi4uXG4gKiAgICAgd3AucG9zdHMoKS4uLlxuICpcbiAqIEBtZW1iZXJvZiEgV1BBUElcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lc3BhY2UgQSBuYW1lc3BhY2Ugc3RyaW5nXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3Qgb2Ygcm91dGUgZW5kcG9pbnQgaGFuZGxlciBtZXRob2RzIGZvciB0aGVcbiAqIHJvdXRlcyB3aXRoaW4gdGhlIHNwZWNpZmllZCBuYW1lc3BhY2VcbiAqL1xuV1BBUEkucHJvdG90eXBlLm5hbWVzcGFjZSA9IGZ1bmN0aW9uKCBuYW1lc3BhY2UgKSB7XG5cdGlmICggISB0aGlzLl9uc1sgbmFtZXNwYWNlIF0gKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCAnRXJyb3I6IG5hbWVzcGFjZSAnICsgbmFtZXNwYWNlICsgJyBpcyBub3QgcmVjb2duaXplZCcgKTtcblx0fVxuXHRyZXR1cm4gdGhpcy5fbnNbIG5hbWVzcGFjZSBdO1xufTtcblxuLyoqXG4gKiBUYWtlIGFuIGFyYml0cmFyeSBXb3JkUHJlc3Mgc2l0ZSwgZGVkdWNlIHRoZSBXUCBSRVNUIEFQSSByb290IGVuZHBvaW50LCBxdWVyeVxuICogdGhhdCBlbmRwb2ludCwgYW5kIHBhcnNlIHRoZSByZXNwb25zZSBKU09OLiBVc2UgdGhlIHJldHVybmVkIEpTT04gcmVzcG9uc2VcbiAqIHRvIGluc3RhbnRpYXRlIGEgV1BBUEkgaW5zdGFuY2UgYm91bmQgdG8gdGhlIHByb3ZpZGVkIHNpdGUuXG4gKlxuICogQG1lbWJlcm9mISBXUEFQSVxuICogQHN0YXRpY1xuICogQHBhcmFtIHtzdHJpbmd9IHVybCBBIFVSTCB3aXRoaW4gYSBSRVNUIEFQSS1lbmFibGVkIFdvcmRQcmVzcyB3ZWJzaXRlXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBjb25maWd1cmVkIFdQQVBJIGluc3RhbmNlIGJvdW5kXG4gKiB0byB0aGUgZGVkdWNlZCBlbmRwb2ludCwgb3IgcmVqZWN0ZWQgaWYgYW4gZW5kcG9pbnQgaXMgbm90IGZvdW5kIG9yIHRoZVxuICogbGlicmFyeSBpcyB1bmFibGUgdG8gcGFyc2UgdGhlIHByb3ZpZGVkIGVuZHBvaW50LlxuICovXG5XUEFQSS5kaXNjb3ZlciA9ICggdXJsICkgPT4ge1xuXHQvLyBsb2NhbCBwbGFjZWhvbGRlciBmb3IgQVBJIHJvb3QgVVJMXG5cdGxldCBlbmRwb2ludDtcblxuXHQvLyBUcnkgSEVBRCByZXF1ZXN0IGZpcnN0LCBmb3Igc21hbGxlciBwYXlsb2FkOiB1c2UgV1BBUEkuc2l0ZSB0byBwcm9kdWNlXG5cdC8vIGEgcmVxdWVzdCB0aGF0IHV0aWxpemVzIHRoZSBkZWZpbmVkIEhUVFAgdHJhbnNwb3J0c1xuXHRjb25zdCByZXEgPSBXUEFQSS5zaXRlKCB1cmwgKS5yb290KCk7XG5cdHJldHVybiByZXEuaGVhZGVycygpXG5cdFx0LmNhdGNoKCAoKSA9PiB7XG5cdFx0XHQvLyBPbiB0aGUgaHlwb3RoZXNpcyB0aGF0IGFueSBlcnJvciBoZXJlIGlzIHJlbGF0ZWQgdG8gdGhlIEhFQUQgcmVxdWVzdFxuXHRcdFx0Ly8gZmFpbGluZywgcHJvdmlzaW9uYWxseSB0cnkgYWdhaW4gdXNpbmcgR0VUIGJlY2F1c2UgdGhhdCBtZXRob2QgaXNcblx0XHRcdC8vIG1vcmUgd2lkZWx5IHN1cHBvcnRlZFxuXHRcdFx0cmV0dXJuIHJlcS5nZXQoKTtcblx0XHR9IClcblx0XHQvLyBJbnNwZWN0IHJlc3BvbnNlIHRvIGZpbmQgQVBJIGxvY2F0aW9uIGhlYWRlclxuXHRcdC50aGVuKCBhdXRvZGlzY292ZXJ5LmxvY2F0ZUFQSVJvb3RIZWFkZXIgKVxuXHRcdC50aGVuKCAoIGFwaVJvb3RVUkwgKSA9PiB7XG5cdFx0XHQvLyBTZXQgdGhlIGZ1bmN0aW9uLXNjb3BlIHZhcmlhYmxlIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGluc3RhbnRpYXRlXG5cdFx0XHQvLyB0aGUgYm91bmQgV1BBUEkgaW5zdGFuY2UsXG5cdFx0XHRlbmRwb2ludCA9IGFwaVJvb3RVUkw7XG5cblx0XHRcdC8vIHRoZW4gR0VUIHRoZSBBUEkgcm9vdCBKU09OIG9iamVjdFxuXHRcdFx0cmV0dXJuIFdQQVBJLnNpdGUoIGFwaVJvb3RVUkwgKS5yb290KCkuZ2V0KCk7XG5cdFx0fSApXG5cdFx0LnRoZW4oICggYXBpUm9vdEpTT04gKSA9PiB7XG5cdFx0XHQvLyBJbnN0YW50aWF0ZSAmIGJvb3RzdHJhcCB3aXRoIHRoZSBkaXNjb3ZlcmVkIG1ldGhvZHNcblx0XHRcdHJldHVybiBuZXcgV1BBUEkoIHtcblx0XHRcdFx0ZW5kcG9pbnQ6IGVuZHBvaW50LFxuXHRcdFx0XHRyb3V0ZXM6IGFwaVJvb3RKU09OLnJvdXRlcyxcblx0XHRcdH0gKTtcblx0XHR9IClcblx0XHQuY2F0Y2goICggZXJyICkgPT4ge1xuXHRcdFx0LyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuXHRcdFx0Y29uc29sZS5lcnJvciggZXJyICk7XG5cdFx0XHRpZiAoIGVuZHBvaW50ICkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oICdFbmRwb2ludCBkZXRlY3RlZCwgcHJvY2VlZGluZyBkZXNwaXRlIGVycm9yLi4uJyApO1xuXHRcdFx0XHRjb25zb2xlLndhcm4oICdCaW5kaW5nIHRvICcgKyBlbmRwb2ludCArICcgYW5kIGFzc3VtaW5nIGRlZmF1bHQgcm91dGVzJyApO1xuXHRcdFx0XHRyZXR1cm4gbmV3IFdQQVBJLnNpdGUoIGVuZHBvaW50ICk7XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdBdXRvZGlzY292ZXJ5IGZhaWxlZCcgKTtcblx0XHR9ICk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdQQVBJO1xuIiwgImltcG9ydCB7IEVkaXRvciwgTWFya2Rvd25WaWV3LCBQbHVnaW4gfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IERFRkFVTFRfU0VUVElOR1MsIFdvcmRwcmVzc1BsdWdpblNldHRpbmdzLCBXb3JkcHJlc3NTZXR0aW5nVGFiIH0gZnJvbSAnLi9zZXR0aW5ncyc7XHJcbmltcG9ydCB7IGFkZEljb25zIH0gZnJvbSAnLi9pY29ucyc7XHJcbmltcG9ydCB7IFdvcmRQcmVzc1B1Ymxpc2hWaWV3LCBXb3JkUHJlc3NQdWJsaXNoVmlld1R5cGUgfSBmcm9tICcuL3dwLXB1Ymxpc2gtdmlldyc7XHJcbmltcG9ydCB7IGNyZWF0ZVdvcmRQcmVzc0NsaWVudCB9IGZyb20gJy4vd3AtY2xpZW50JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmRwcmVzc1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblxyXG4gIHNldHRpbmdzOiBXb3JkcHJlc3NQbHVnaW5TZXR0aW5ncztcclxuXHJcbiAgYXN5bmMgb25sb2FkKCkge1xyXG4gICAgY29uc29sZS5sb2coJ2xvYWRpbmcgb2JzaWRpYW4td29yZHByZXNzIHBsdWdpbicpO1xyXG5cclxuICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblxyXG4gICAgdGhpcy5yZWdpc3RlclZpZXcoXHJcbiAgICAgIFdvcmRQcmVzc1B1Ymxpc2hWaWV3VHlwZSxcclxuICAgICAgbGVhZiA9PiBuZXcgV29yZFByZXNzUHVibGlzaFZpZXcobGVhZiwgdGhpcylcclxuICAgICk7XHJcblxyXG4gICAgYWRkSWNvbnMoKTtcclxuXHJcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5zaG93UmliYm9uSWNvbikge1xyXG4gICAgICB0aGlzLmFkZFJpYmJvbkljb24oJ3dwLWxvZ28nLCAnV29yZFByZXNzIFB1Ymxpc2gnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50b2dnbGVXb3JkUHJlc3NQdWJsaXNoVmlldygpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICBpZDogJ3B1Ymxpc2gnLFxyXG4gICAgICBuYW1lOiAnUHVibGlzaCBjdXJyZW50IGRvY3VtZW50JyxcclxuICAgICAgZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2xpZW50ID0gY3JlYXRlV29yZFByZXNzQ2xpZW50KHRoaXMuYXBwLCB0aGlzKTtcclxuICAgICAgICBpZiAoY2xpZW50KSB7XHJcbiAgICAgICAgICBjbGllbnQubmV3UG9zdCgpLnRoZW4oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgV29yZHByZXNzU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG4gIH1cclxuXHJcbiAgb251bmxvYWQoKSB7XHJcbiAgfVxyXG5cclxuICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcbiAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIHRvZ2dsZVdvcmRQcmVzc1B1Ymxpc2hWaWV3KCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFdvcmRQcmVzc1B1Ymxpc2hWaWV3VHlwZSk7XHJcbiAgICBpZiAoZXhpc3RpbmcubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5yZXZlYWxMZWFmKGV4aXN0aW5nWzBdKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpLnNldFZpZXdTdGF0ZSh7XHJcbiAgICAgIHR5cGU6IFdvcmRQcmVzc1B1Ymxpc2hWaWV3VHlwZSxcclxuICAgICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5hcHAud29ya3NwYWNlLnJldmVhbExlYWYodGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShXb3JkUHJlc3NQdWJsaXNoVmlld1R5cGUpWzBdKTtcclxuICB9XHJcblxyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCBXb3JkcHJlc3NQbHVnaW4gZnJvbSAnLi9tYWluJztcclxuXHJcbmV4cG9ydCBjb25zdCBlbnVtIEFwaVR5cGUge1xyXG4gIFhNTF9SUEMgPSAneG1sLXJwYycsXHJcbiAgUmVzdEFQSSA9ICdyZXN0YXBpJ1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZW51bSBSZXN0QXBpUGx1Z2luIHtcclxuICBBdXRoZW50aWNhdGlvbl9taW5pT3JhbmdlID0gJ21pbmlPcmFuZ2UnXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgV29yZHByZXNzUGx1Z2luU2V0dGluZ3Mge1xyXG5cclxuICAvKipcclxuICAgKiBBUEkgdHlwZS5cclxuICAgKi9cclxuICBhcGlUeXBlOiBBcGlUeXBlO1xyXG5cclxuICAvKipcclxuICAgKiBQbHVnaW4gZm9yIFJFU1QgQVBJLlxyXG4gICAqL1xyXG4gIHJlc3RBcGlQbHVnaW4/OiBSZXN0QXBpUGx1Z2luO1xyXG5cclxuICAvKipcclxuICAgKiBFbmRwb2ludC5cclxuICAgKi9cclxuICBlbmRwb2ludDogc3RyaW5nO1xyXG5cclxuICAvKipcclxuICAgKiBXb3JkUHJlc3MgdXNlciBuYW1lLlxyXG4gICAqL1xyXG4gIHVzZXJOYW1lPzogc3RyaW5nO1xyXG5cclxuICAvKipcclxuICAgKiBTYXZlIHVzZXIgbmFtZSB0byBsb2NhbCBkYXRhLlxyXG4gICAqL1xyXG4gIHNhdmVVc2VyTmFtZTogYm9vbGVhbjtcclxuXHJcbiAgLyoqXHJcbiAgICogU2hvdyBwbHVnaW4gaWNvbiBpbiBzaWRlLlxyXG4gICAqL1xyXG4gIHNob3dSaWJib25JY29uOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogV29yZHByZXNzUGx1Z2luU2V0dGluZ3MgPSB7XHJcbiAgYXBpVHlwZTogQXBpVHlwZS5YTUxfUlBDLFxyXG4gIGVuZHBvaW50OiAnJyxcclxuICBzYXZlVXNlck5hbWU6IGZhbHNlLFxyXG4gIHNob3dSaWJib25JY29uOiBmYWxzZVxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFdvcmRwcmVzc1NldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBhcHA6IEFwcCxcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGx1Z2luOiBXb3JkcHJlc3NQbHVnaW5cclxuICApIHtcclxuICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuICB9XHJcblxyXG4gIGRpc3BsYXkoKTogdm9pZCB7XHJcbiAgICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xyXG5cclxuICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnU2V0dGluZ3MgZm9yIFdvcmRQcmVzcyBwbHVnaW4nIH0pO1xyXG5cclxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAuc2V0TmFtZSgnV29yZFByZXNzIFVSTCcpXHJcbiAgICAgIC5zZXREZXNjKCdGdWxsIHBhdGggb2YgaW5zdGFsbGVkIFdvcmRQcmVzcywgZm9yIGV4YW1wbGUsIGh0dHBzOi8vZXhhbXBsZS5jb20vd29yZHByZXNzJylcclxuICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcbiAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdodHRwczovL2V4YW1wbGUuY29tL3dvcmRwcmVzcycpXHJcbiAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVuZHBvaW50KVxyXG4gICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmVuZHBvaW50ID0gdmFsdWU7XHJcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgIH0pKTtcclxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAuc2V0TmFtZSgnQVBJIFR5cGUnKVxyXG4gICAgICAuc2V0RGVzYyhgU2VsZWN0IHdoaWNoIEFQSSB5b3Ugd2FudCB0byB1c2UuXHJcbi0gWE1MLVJQQzogRW5hYmxlZCBieSBkZWZhdWx0IGJ1dCBzb21lIGhvc3QgbWF5IGRpc2FibGUgaXRcclxuLSBSRVNUIEFQSWApXHJcbiAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgLmFkZE9wdGlvbihBcGlUeXBlLlhNTF9SUEMsICdYTUwtUlBDJylcclxuICAgICAgICAgIC5hZGRPcHRpb24oQXBpVHlwZS5SZXN0QVBJLCAnUkVTVCBBUEknKVxyXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaVR5cGUpXHJcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBBcGlUeXBlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaVR5cGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaVR5cGUgPT09IEFwaVR5cGUuWE1MX1JQQykge1xyXG4gICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAuc2V0TmFtZSgnU2F2ZSBVc2VyIE5hbWUnKVxyXG4gICAgICAgIC5zZXREZXNjKGBJZiBlbmFibGVkLCB0aGUgV29yZFByZXNzIHVzZXIgbmFtZSB5b3UgdHlwZWQgd2lsbCBiZSBzYXZlZCBpbiBsb2NhbCBkYXRhLlxyXG5UaGlzIG1pZ2h0IGJlIHVzZXIgbmFtZSBkaXNjbG9zdXJlIGluIHN5bmNocm9uaXplIHNlcnZpY2VzLmApXHJcbiAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxyXG4gICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zYXZlVXNlck5hbWUpXHJcbiAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zYXZlVXNlck5hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgKTtcclxuICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNhdmVVc2VyTmFtZSkge1xyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgLnNldE5hbWUoJ1dvcmRQcmVzcyBVc2VyIE5hbWUnKVxyXG4gICAgICAgICAgLnNldERlc2MoJ1VzZXIgbmFtZSBvZiBXb3JkUHJlc3MnKVxyXG4gICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcbiAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignVXNlciBuYW1lJylcclxuICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZXJOYW1lKVxyXG4gICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlck5hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VyTmFtZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlUeXBlID09PSBBcGlUeXBlLlJlc3RBUEkpIHtcclxuICAgICAgaWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZXN0QXBpUGx1Z2luKSB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucmVzdEFwaVBsdWdpbiA9IFJlc3RBcGlQbHVnaW4uQXV0aGVudGljYXRpb25fbWluaU9yYW5nZTtcclxuICAgICAgfVxyXG4gICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAuc2V0TmFtZSgnUkVTVCBBUEkgUGx1Z2luJylcclxuICAgICAgICAuc2V0RGVzYyhgU2VsZWN0IHdoaWNoIGF1dGggcGx1Z2luIGZvciBSRVNUIEFQSSB5b3UgaW5zdGFsbGVkLmApXHJcbiAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgICAgLmFkZE9wdGlvbihSZXN0QXBpUGx1Z2luLkF1dGhlbnRpY2F0aW9uX21pbmlPcmFuZ2UsICdXb3JkUHJlc3MgUkVTVCBBUEkgQXV0aGVudGljYXRpb24gYnkgbWluaU9yYW5nZScpXHJcbiAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZXN0QXBpUGx1Z2luKVxyXG4gICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBSZXN0QXBpUGx1Z2luKSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucmVzdEFwaVBsdWdpbiA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAuc2V0TmFtZSgnU2hvdyBpY29uIGluIHNpZGViYXInKVxyXG4gICAgICAuc2V0RGVzYyhgSWYgZW5hYmxlZCwgYSBidXR0b24gd2hpY2ggb3BlbnMgcHVibGlzaCBwYW5lbCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBPYnNpZGlhbiBzaWRlYmFyLlxyXG5DaGFuZ2VzIG9ubHkgdGFrZSBlZmZlY3Qgb24gcmVsb2FkLmApXHJcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cclxuICAgICAgICB0b2dnbGVcclxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93UmliYm9uSWNvbilcclxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd1JpYmJvbkljb24gPSB2YWx1ZTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgfSksXHJcbiAgICAgICk7XHJcbiAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBhZGRJY29uIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuZXhwb3J0IGNvbnN0IGljb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICd3cC1sb2dvJzogYFxyXG48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDEwMCAxMDBcIj5cclxuICA8ZyBmaWxsPVwiY3VycmVudENvbG9yXCI+XHJcbiAgICA8cGF0aCBkPVwiTSA3LjEwOTM3NSA1MCBDIDcuMTA5Mzc1IDY2Ljk3NjU2MiAxNi45NzY1NjIgODEuNjQ4NDM4IDMxLjI4MTI1IDg4LjYwMTU2MiBMIDEwLjgyMDMxMiAzMi41NDI5NjkgQyA4LjQ0MTQwNiAzNy44Nzg5MDYgNy4xMDkzNzUgNDMuNzgxMjUgNy4xMDkzNzUgNTAgWiBNIDcuMTA5Mzc1IDUwIFwiLz5cclxuICAgIDxwYXRoIGQ9XCJNIDc4Ljk1NzAzMSA0Ny44MzU5MzggQyA3OC45NTcwMzEgNDIuNTM1MTU2IDc3LjA1NDY4OCAzOC44NjMyODEgNzUuNDIxODc1IDM2LjAwMzkwNiBDIDczLjI0NjA5NCAzMi40NzI2NTYgNzEuMjA3MDMxIDI5LjQ4MDQ2OSA3MS4yMDcwMzEgMjUuOTQ1MzEyIEMgNzEuMjA3MDMxIDIyLjAwMzkwNiA3NC4xOTkyMTkgMTguMzMyMDMxIDc4LjQxMDE1NiAxOC4zMzIwMzEgQyA3OC42MDE1NjIgMTguMzMyMDMxIDc4Ljc4MTI1IDE4LjM1NTQ2OSA3OC45Njg3NSAxOC4zNjcxODggQyA3MS4zMzU5MzggMTEuMzc1IDYxLjE2Nzk2OSA3LjEwNTQ2OSA1MCA3LjEwNTQ2OSBDIDM1LjAxNTYyNSA3LjEwNTQ2OSAyMS44MzIwMzEgMTQuNzk2ODc1IDE0LjE2NDA2MiAyNi40NDE0MDYgQyAxNS4xNjc5NjkgMjYuNDcyNjU2IDE2LjExNzE4OCAyNi40OTIxODggMTYuOTIxODc1IDI2LjQ5MjE4OCBDIDIxLjQxMDE1NiAyNi40OTIxODggMjguMzU1NDY5IDI1Ljk0OTIxOSAyOC4zNTU0NjkgMjUuOTQ5MjE5IEMgMzAuNjY3OTY5IDI1LjgxMjUgMzAuOTQxNDA2IDI5LjIwNzAzMSAyOC42Mjg5MDYgMjkuNDgwNDY5IEMgMjguNjI4OTA2IDI5LjQ4MDQ2OSAyNi4zMDQ2ODggMjkuNzUzOTA2IDIzLjcyMjY1NiAyOS44OTA2MjUgTCAzOS4zMzk4NDQgNzYuMzUxNTYyIEwgNDguNzI2NTYyIDQ4LjE5OTIxOSBMIDQyLjA0Mjk2OSAyOS44ODY3MTkgQyAzOS43MzQzNzUgMjkuNzUzOTA2IDM3LjU0Njg3NSAyOS40ODA0NjkgMzcuNTQ2ODc1IDI5LjQ4MDQ2OSBDIDM1LjIzNDM3NSAyOS4zNDM3NSAzNS41MDc4MTIgMjUuODA4NTk0IDM3LjgxNjQwNiAyNS45NDUzMTIgQyAzNy44MTY0MDYgMjUuOTQ1MzEyIDQ0LjkwMjM0NCAyNi40OTIxODggNDkuMTE3MTg4IDI2LjQ5MjE4OCBDIDUzLjYwMTU2MiAyNi40OTIxODggNjAuNTQ2ODc1IDI1Ljk0NTMxMiA2MC41NDY4NzUgMjUuOTQ1MzEyIEMgNjIuODU5Mzc1IDI1LjgwODU5NCA2My4xMzI4MTIgMjkuMjA3MDMxIDYwLjgyNDIxOSAyOS40ODA0NjkgQyA2MC44MjQyMTkgMjkuNDgwNDY5IDU4LjQ5MjE4OCAyOS43NTM5MDYgNTUuOTE0MDYyIDI5Ljg4NjcxOSBMIDcxLjQxNDA2MiA3NS45OTYwOTQgTCA3NS42OTE0MDYgNjEuNjk5MjE5IEMgNzcuNTQ2ODc1IDU1Ljc2NTYyNSA3OC45NTcwMzEgNTEuNTA3ODEyIDc4Ljk1NzAzMSA0Ny44MzU5MzggWiBNIDc4Ljk1NzAzMSA0Ny44MzU5MzggXCIvPlxyXG4gICAgPHBhdGggZD1cIk0gNTAuNzUzOTA2IDUzLjc1IEwgMzcuODgyODEyIDkxLjE0ODQzOCBDIDQxLjcyNjU2MiA5Mi4yNzczNDQgNDUuNzg5MDYyIDkyLjg5NDUzMSA1MCA5Mi44OTQ1MzEgQyA1NC45OTYwOTQgOTIuODk0NTMxIDU5Ljc4NTE1NiA5Mi4wMzEyNSA2NC4yNDYwOTQgOTAuNDY0ODQ0IEMgNjQuMTI4OTA2IDkwLjI4MTI1IDY0LjAyNzM0NCA5MC4wODU5MzggNjMuOTQxNDA2IDg5Ljg3MTA5NCBaIE0gNTAuNzUzOTA2IDUzLjc1IFwiLz5cclxuICAgIDxwYXRoIGQ9XCJNIDg3LjYzNjcxOSAyOS40MTc5NjkgQyA4Ny44MjQyMTkgMzAuNzg1MTU2IDg3LjkyNTc4MSAzMi4yNTM5MDYgODcuOTI1NzgxIDMzLjgzMjAzMSBDIDg3LjkyNTc4MSAzOC4xODM1OTQgODcuMTEzMjgxIDQzLjA3NDIxOSA4NC42Njc5NjkgNDkuMTk1MzEyIEwgNzEuNTYyNSA4Ny4wNzQyMTkgQyA4NC4zMTY0MDYgNzkuNjQwNjI1IDkyLjg5NDUzMSA2NS44MjQyMTkgOTIuODk0NTMxIDUwIEMgOTIuODk0NTMxIDQyLjU0Mjk2OSA5MC45ODgyODEgMzUuNTMxMjUgODcuNjM2NzE5IDI5LjQxNzk2OSBaIE0gODcuNjM2NzE5IDI5LjQxNzk2OSBcIi8+XHJcbiAgICA8cGF0aCBkPVwiTSA1MCAwIEMgMjIuNDMzNTk0IDAgMCAyMi40Mjk2ODggMCA1MCBDIDAgNzcuNTcwMzEyIDIyLjQzMzU5NCAxMDAgNTAgMTAwIEMgNzcuNTcwMzEyIDEwMCAxMDAuMDAzOTA2IDc3LjU3MDMxMiAxMDAuMDAzOTA2IDUwIEMgMTAwLjAwMzkwNiAyMi40Mjk2ODggNzcuNTcwMzEyIDAgNTAgMCBaIE0gNTAgOTcuNzA3MDMxIEMgMjMuNjk1MzEyIDk3LjcwNzAzMSAyLjI5Mjk2OSA3Ni4zMDQ2ODggMi4yOTI5NjkgNTAgQyAyLjI5Mjk2OSAyMy42OTUzMTIgMjMuNjk1MzEyIDIuMjkyOTY5IDUwIDIuMjkyOTY5IEMgNzYuMzA0Njg4IDIuMjkyOTY5IDk3LjcwNzAzMSAyMy42OTUzMTIgOTcuNzA3MDMxIDUwIEMgOTcuNzA3MDMxIDc2LjMwNDY4OCA3Ni4zMDQ2ODggOTcuNzA3MDMxIDUwIDk3LjcwNzAzMSBaIE0gNTAgOTcuNzA3MDMxIFwiLz5cclxuICA8L2c+XHJcbjwvc3ZnPmBcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRJY29ucyA9ICgpOiB2b2lkID0+IHtcclxuICBPYmplY3Qua2V5cyhpY29ucykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICBhZGRJY29uKGtleSwgaWNvbnNba2V5XSk7XHJcbiAgfSk7XHJcbn07XHJcbiIsICJpbXBvcnQgeyBCdXR0b25Db21wb25lbnQsIEl0ZW1WaWV3LCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgV29yZHByZXNzUGx1Z2luIGZyb20gJy4vbWFpbic7XHJcbmltcG9ydCB7IGNyZWF0ZVdvcmRQcmVzc0NsaWVudCB9IGZyb20gJy4vd3AtY2xpZW50JztcclxuXHJcbmV4cG9ydCBjb25zdCBXb3JkUHJlc3NQdWJsaXNoVmlld1R5cGUgPSAnd3AtcHVibGlzaC1vcHRpb25zJztcclxuXHJcbmV4cG9ydCBjbGFzcyBXb3JkUHJlc3NQdWJsaXNoVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBsZWFmOiBXb3Jrc3BhY2VMZWFmLFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBwbHVnaW46IFdvcmRwcmVzc1BsdWdpblxyXG4gICkge1xyXG4gICAgc3VwZXIobGVhZik7XHJcbiAgfVxyXG5cclxuICBnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuICdXb3JkUHJlc3MgUHVibGlzaCc7XHJcbiAgfVxyXG5cclxuICBnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIFdvcmRQcmVzc1B1Ymxpc2hWaWV3VHlwZTtcclxuICB9XHJcblxyXG4gIGdldEljb24oKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAnd3AtbG9nbyc7XHJcbiAgfVxyXG5cclxuICBsb2FkKCk6IHZvaWQge1xyXG4gICAgc3VwZXIubG9hZCgpO1xyXG4gICAgdGhpcy5kcmF3KCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGRyYXcoKTogdm9pZCB7XHJcbiAgICBjb25zdCBhY3Rpb25CdXR0b25zQ29udHJvbERpdiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKCdkaXYnKTtcclxuICAgIG5ldyBCdXR0b25Db21wb25lbnQoYWN0aW9uQnV0dG9uc0NvbnRyb2xEaXYpXHJcbiAgICAgIC5zZXRCdXR0b25UZXh0KCdQdWJsaXNoJylcclxuICAgICAgLnNldENsYXNzKCdtb2QtY3RhJylcclxuICAgICAgLm9uQ2xpY2soKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNsaWVudCA9IGNyZWF0ZVdvcmRQcmVzc0NsaWVudCh0aGlzLmFwcCwgdGhpcy5wbHVnaW4pO1xyXG4gICAgICAgIGlmIChjbGllbnQpIHtcclxuICAgICAgICAgIGNsaWVudC5uZXdQb3N0KCkudGhlbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCBXb3JkcHJlc3NQbHVnaW4gZnJvbSAnLi9tYWluJztcclxuaW1wb3J0IHsgQXBpVHlwZSB9IGZyb20gJy4vc2V0dGluZ3MnO1xyXG5pbXBvcnQgeyBXcFhtbFJwY0NsaWVudCB9IGZyb20gJy4vd3AteG1sLXJwYy1jbGllbnQnO1xyXG5pbXBvcnQgeyBXcFJlc3RKZXRwYWNrQ2xpZW50IH0gZnJvbSAnLi93cC1yZXN0LWpldHBhY2stY2xpZW50JztcclxuaW1wb3J0IHsgV3BSZXN0T0F1dGgyQ2xpZW50IH0gZnJvbSAnLi93cC1yZXN0LW9hdXRoMi1jbGllbnQnO1xyXG5cclxuZXhwb3J0IGVudW0gV29yZFByZXNzQ2xpZW50UmV0dXJuQ29kZSB7XHJcbiAgT0ssXHJcbiAgRXJyb3JcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBXb3JkUHJlc3NDbGllbnRSZXN1bHQge1xyXG4gIGNvZGU6IFdvcmRQcmVzc0NsaWVudFJldHVybkNvZGU7XHJcbiAgZGF0YTogYW55OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgV29yZFByZXNzQ2xpZW50IHtcclxuICBuZXdQb3N0KCk6IFByb21pc2U8V29yZFByZXNzQ2xpZW50UmVzdWx0PjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVdvcmRQcmVzc0NsaWVudChcclxuICBhcHA6IEFwcCxcclxuICBwbHVnaW46IFdvcmRwcmVzc1BsdWdpblxyXG4pOiBXb3JkUHJlc3NDbGllbnQgfCBudWxsIHtcclxuICBjb25zdCB0eXBlID0gcGx1Z2luLnNldHRpbmdzLmFwaVR5cGU7XHJcbiAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICBjYXNlIEFwaVR5cGUuWE1MX1JQQzpcclxuICAgICAgcmV0dXJuIG5ldyBXcFhtbFJwY0NsaWVudChhcHAsIHBsdWdpbik7XHJcbiAgICBjYXNlIEFwaVR5cGUuUmVzdEFQSV9KZXRwYWNrOlxyXG4gICAgICByZXR1cm4gbmV3IFdwUmVzdEpldHBhY2tDbGllbnQoYXBwLCBwbHVnaW4pO1xyXG4gICAgY2FzZSBBcGlUeXBlLlJlc3RBUElfT0F1dGgyOlxyXG4gICAgICByZXR1cm4gbmV3IFdwUmVzdE9BdXRoMkNsaWVudChhcHAsIHBsdWdpbik7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICAvLyBUaGlzIHNob3VsZCBub3QgaGFwcGVuIVxyXG4gICAgICBuZXcgTm90aWNlKCdObyBhcHByb3ZlZCBXb3JkUHJlc3MgQVBJLlxcblBsZWFzZSBjaGVjayBpdCBpbiBzZXR0aW5ncy4nKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBXb3JkUHJlc3NDbGllbnQsIFdvcmRQcmVzc0NsaWVudFJlc3VsdCwgV29yZFByZXNzQ2xpZW50UmV0dXJuQ29kZSB9IGZyb20gJy4vd3AtY2xpZW50JztcclxuaW1wb3J0IHsgQ2xpZW50LCBjcmVhdGVDbGllbnQsIGNyZWF0ZVNlY3VyZUNsaWVudCB9IGZyb20gJ3htbHJwYyc7XHJcbmltcG9ydCB7IEFwcCwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgV29yZHByZXNzUGx1Z2luIGZyb20gJy4vbWFpbic7XHJcbmltcG9ydCB7IG1hcmtlZCB9IGZyb20gJ21hcmtlZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgV3BYbWxScGNDbGllbnQgaW1wbGVtZW50cyBXb3JkUHJlc3NDbGllbnQge1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IGNsaWVudDogQ2xpZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXBwOiBBcHAsXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBsdWdpbjogV29yZHByZXNzUGx1Z2luXHJcbiAgKSB7XHJcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHBsdWdpbi5zZXR0aW5ncy5lbmRwb2ludCk7XHJcbiAgICBpZiAodXJsLnByb3RvY29sID09PSAnaHR0cHM6Jykge1xyXG4gICAgICB0aGlzLmNsaWVudCA9IGNyZWF0ZVNlY3VyZUNsaWVudCh7XHJcbiAgICAgICAgaG9zdDogdXJsLmhvc3RuYW1lLFxyXG4gICAgICAgIHBvcnQ6IDQ0MyxcclxuICAgICAgICBwYXRoOiBgJHt1cmwucGF0aG5hbWV9eG1scnBjLnBocGBcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmNsaWVudCA9IGNyZWF0ZUNsaWVudCh7XHJcbiAgICAgICAgaG9zdDogdXJsLmhvc3RuYW1lLFxyXG4gICAgICAgIHBvcnQ6IDgwLFxyXG4gICAgICAgIHBhdGg6IGAke3VybC5wYXRobmFtZX14bWxycGMucGhwYFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5ld1Bvc3QoKTogUHJvbWlzZTxXb3JkUHJlc3NDbGllbnRSZXN1bHQ+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcDtcclxuICAgICAgY29uc3QgYWN0aXZlVmlldyA9IHdvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XHJcbiAgICAgIGlmIChhY3RpdmVWaWV3KSB7XHJcbiAgICAgICAgbmV3IFdwTG9naW5Nb2RhbChcclxuICAgICAgICAgIHRoaXMuYXBwLFxyXG4gICAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgICAodXNlck5hbWUsIHBhc3N3b3JkLCBtb2RhbCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFwcC52YXVsdC5yZWFkKGFjdGl2ZVZpZXcuZmlsZSlcclxuICAgICAgICAgICAgICAudGhlbihjb250ZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gYWN0aXZlVmlldy5maWxlLmJhc2VuYW1lO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGllbnQubWV0aG9kQ2FsbCgnd3AubmV3UG9zdCcsIFtcclxuICAgICAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICAgICAgdXNlck5hbWUsXHJcbiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zdF90eXBlOiAncG9zdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zdF9zdGF0dXM6ICdkcmFmdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zdF90aXRsZTogdGl0bGUgPz8gJ0EgcG9zdCBmcm9tIE9ic2lkaWFuIScsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zdF9jb250ZW50OiBtYXJrZWQucGFyc2UoY29udGVudCkgPz8gJycsXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF0sIChlcnJvcjogRXJyb3IsIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNZXRob2QgcmVzcG9uc2UgZm9yIFxcJ3dwLm5ld1Bvc3RcXCc6ICcsIHZhbHVlLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYFtFcnJvcl0gJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnUG9zdCBwdWJsaXNoZWQgc3VjY2Vzc2Z1bGx5IScpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBXb3JkUHJlc3NDbGllbnRSZXR1cm5Db2RlLk9LLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YTogdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlYWRpbmcgZmlsZSBjb250ZW50IGZvciBcXCd3cC5uZXdQb3N0XFwnIGZhaWxlZDogJywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICkub3BlbigpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGVycm9yID0gJ1RoZXJlIGlzIG5vIGVkaXRvciBmb3VuZC4gTm90aGluZyB3aWxsIGJlIHB1Ymxpc2hlZC4nO1xyXG4gICAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XHJcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihlcnJvcikpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59XHJcblxyXG5jbGFzcyBXcExvZ2luTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgYXBwOiBBcHAsXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBsdWdpbjogV29yZHByZXNzUGx1Z2luLFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBvblN1Ym1pdDogKHVzZXJOYW1lOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcsIG1vZGFsOiBNb2RhbCkgPT4gdm9pZFxyXG4gICkge1xyXG4gICAgc3VwZXIoYXBwKTtcclxuICB9XHJcblxyXG4gIG9uT3BlbigpIHtcclxuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cclxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDEnLCB7IHRleHQ6ICdXb3JkUHJlc3MgTG9naW4nIH0pO1xyXG5cclxuICAgIGxldCBwYXNzd29yZCA9ICcnO1xyXG4gICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxyXG4gICAgICAuc2V0TmFtZSgnVXNlciBOYW1lJylcclxuICAgICAgLnNldERlc2MoYFVzZXIgbmFtZSBmb3IgJHt0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmRwb2ludH1gKVxyXG4gICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlck5hbWUgPz8gJycpXHJcbiAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNhdmVVc2VyTmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VyTmFtZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcbiAgICAgIC5zZXROYW1lKCdQYXNzd29yZCcpXHJcbiAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG4gICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgIHBhc3N3b3JkID0gdmFsdWU7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxyXG4gICAgICAuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cclxuICAgICAgICAuc2V0QnV0dG9uVGV4dCgnUHVibGlzaCcpXHJcbiAgICAgICAgLnNldENsYXNzKCdtb2QtY3RhJylcclxuICAgICAgICAub25DbGljaygoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLm9uU3VibWl0KHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZXJOYW1lLCBwYXNzd29yZCwgdGhpcyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICB9XHJcblxyXG4gIG9uQ2xvc2UoKSB7XHJcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xyXG4gIH1cclxufVxyXG4iLCAiLyoqXG4gKiBtYXJrZWQgLSBhIG1hcmtkb3duIHBhcnNlclxuICogQ29weXJpZ2h0IChjKSAyMDExLTIwMjEsIENocmlzdG9waGVyIEplZmZyZXkuIChNSVQgTGljZW5zZWQpXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWFya2VkanMvbWFya2VkXG4gKi9cblxuLyoqXG4gKiBETyBOT1QgRURJVCBUSElTIEZJTEVcbiAqIFRoZSBjb2RlIGluIHRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgZnJvbSBmaWxlcyBpbiAuL3NyYy9cbiAqL1xuXG5mdW5jdGlvbiBnZXREZWZhdWx0cygpIHtcbiAgcmV0dXJuIHtcbiAgICBiYXNlVXJsOiBudWxsLFxuICAgIGJyZWFrczogZmFsc2UsXG4gICAgZXh0ZW5zaW9uczogbnVsbCxcbiAgICBnZm06IHRydWUsXG4gICAgaGVhZGVySWRzOiB0cnVlLFxuICAgIGhlYWRlclByZWZpeDogJycsXG4gICAgaGlnaGxpZ2h0OiBudWxsLFxuICAgIGxhbmdQcmVmaXg6ICdsYW5ndWFnZS0nLFxuICAgIG1hbmdsZTogdHJ1ZSxcbiAgICBwZWRhbnRpYzogZmFsc2UsXG4gICAgcmVuZGVyZXI6IG51bGwsXG4gICAgc2FuaXRpemU6IGZhbHNlLFxuICAgIHNhbml0aXplcjogbnVsbCxcbiAgICBzaWxlbnQ6IGZhbHNlLFxuICAgIHNtYXJ0TGlzdHM6IGZhbHNlLFxuICAgIHNtYXJ0eXBhbnRzOiBmYWxzZSxcbiAgICB0b2tlbml6ZXI6IG51bGwsXG4gICAgd2Fsa1Rva2VuczogbnVsbCxcbiAgICB4aHRtbDogZmFsc2VcbiAgfTtcbn1cblxubGV0IGRlZmF1bHRzID0gZ2V0RGVmYXVsdHMoKTtcblxuZnVuY3Rpb24gY2hhbmdlRGVmYXVsdHMobmV3RGVmYXVsdHMpIHtcbiAgZGVmYXVsdHMgPSBuZXdEZWZhdWx0cztcbn1cblxuLyoqXG4gKiBIZWxwZXJzXG4gKi9cbmNvbnN0IGVzY2FwZVRlc3QgPSAvWyY8PlwiJ10vO1xuY29uc3QgZXNjYXBlUmVwbGFjZSA9IC9bJjw+XCInXS9nO1xuY29uc3QgZXNjYXBlVGVzdE5vRW5jb2RlID0gL1s8PlwiJ118Jig/ISM/XFx3KzspLztcbmNvbnN0IGVzY2FwZVJlcGxhY2VOb0VuY29kZSA9IC9bPD5cIiddfCYoPyEjP1xcdys7KS9nO1xuY29uc3QgZXNjYXBlUmVwbGFjZW1lbnRzID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc8JzogJyZsdDsnLFxuICAnPic6ICcmZ3Q7JyxcbiAgJ1wiJzogJyZxdW90OycsXG4gIFwiJ1wiOiAnJiMzOTsnXG59O1xuY29uc3QgZ2V0RXNjYXBlUmVwbGFjZW1lbnQgPSAoY2gpID0+IGVzY2FwZVJlcGxhY2VtZW50c1tjaF07XG5mdW5jdGlvbiBlc2NhcGUoaHRtbCwgZW5jb2RlKSB7XG4gIGlmIChlbmNvZGUpIHtcbiAgICBpZiAoZXNjYXBlVGVzdC50ZXN0KGh0bWwpKSB7XG4gICAgICByZXR1cm4gaHRtbC5yZXBsYWNlKGVzY2FwZVJlcGxhY2UsIGdldEVzY2FwZVJlcGxhY2VtZW50KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGVzY2FwZVRlc3ROb0VuY29kZS50ZXN0KGh0bWwpKSB7XG4gICAgICByZXR1cm4gaHRtbC5yZXBsYWNlKGVzY2FwZVJlcGxhY2VOb0VuY29kZSwgZ2V0RXNjYXBlUmVwbGFjZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBodG1sO1xufVxuXG5jb25zdCB1bmVzY2FwZVRlc3QgPSAvJigjKD86XFxkKyl8KD86I3hbMC05QS1GYS1mXSspfCg/OlxcdyspKTs/L2lnO1xuXG5mdW5jdGlvbiB1bmVzY2FwZShodG1sKSB7XG4gIC8vIGV4cGxpY2l0bHkgbWF0Y2ggZGVjaW1hbCwgaGV4LCBhbmQgbmFtZWQgSFRNTCBlbnRpdGllc1xuICByZXR1cm4gaHRtbC5yZXBsYWNlKHVuZXNjYXBlVGVzdCwgKF8sIG4pID0+IHtcbiAgICBuID0gbi50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChuID09PSAnY29sb24nKSByZXR1cm4gJzonO1xuICAgIGlmIChuLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICByZXR1cm4gbi5jaGFyQXQoMSkgPT09ICd4J1xuICAgICAgICA/IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQobi5zdWJzdHJpbmcoMiksIDE2KSlcbiAgICAgICAgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKCtuLnN1YnN0cmluZygxKSk7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfSk7XG59XG5cbmNvbnN0IGNhcmV0ID0gLyhefFteXFxbXSlcXF4vZztcbmZ1bmN0aW9uIGVkaXQocmVnZXgsIG9wdCkge1xuICByZWdleCA9IHJlZ2V4LnNvdXJjZSB8fCByZWdleDtcbiAgb3B0ID0gb3B0IHx8ICcnO1xuICBjb25zdCBvYmogPSB7XG4gICAgcmVwbGFjZTogKG5hbWUsIHZhbCkgPT4ge1xuICAgICAgdmFsID0gdmFsLnNvdXJjZSB8fCB2YWw7XG4gICAgICB2YWwgPSB2YWwucmVwbGFjZShjYXJldCwgJyQxJyk7XG4gICAgICByZWdleCA9IHJlZ2V4LnJlcGxhY2UobmFtZSwgdmFsKTtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBnZXRSZWdleDogKCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAocmVnZXgsIG9wdCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gb2JqO1xufVxuXG5jb25zdCBub25Xb3JkQW5kQ29sb25UZXN0ID0gL1teXFx3Ol0vZztcbmNvbnN0IG9yaWdpbkluZGVwZW5kZW50VXJsID0gL14kfF5bYS16XVthLXowLTkrLi1dKjp8Xls/I10vaTtcbmZ1bmN0aW9uIGNsZWFuVXJsKHNhbml0aXplLCBiYXNlLCBocmVmKSB7XG4gIGlmIChzYW5pdGl6ZSkge1xuICAgIGxldCBwcm90O1xuICAgIHRyeSB7XG4gICAgICBwcm90ID0gZGVjb2RlVVJJQ29tcG9uZW50KHVuZXNjYXBlKGhyZWYpKVxuICAgICAgICAucmVwbGFjZShub25Xb3JkQW5kQ29sb25UZXN0LCAnJylcbiAgICAgICAgLnRvTG93ZXJDYXNlKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChwcm90LmluZGV4T2YoJ2phdmFzY3JpcHQ6JykgPT09IDAgfHwgcHJvdC5pbmRleE9mKCd2YnNjcmlwdDonKSA9PT0gMCB8fCBwcm90LmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICBpZiAoYmFzZSAmJiAhb3JpZ2luSW5kZXBlbmRlbnRVcmwudGVzdChocmVmKSkge1xuICAgIGhyZWYgPSByZXNvbHZlVXJsKGJhc2UsIGhyZWYpO1xuICB9XG4gIHRyeSB7XG4gICAgaHJlZiA9IGVuY29kZVVSSShocmVmKS5yZXBsYWNlKC8lMjUvZywgJyUnKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBocmVmO1xufVxuXG5jb25zdCBiYXNlVXJscyA9IHt9O1xuY29uc3QganVzdERvbWFpbiA9IC9eW146XSs6XFwvKlteL10qJC87XG5jb25zdCBwcm90b2NvbCA9IC9eKFteOl0rOilbXFxzXFxTXSokLztcbmNvbnN0IGRvbWFpbiA9IC9eKFteOl0rOlxcLypbXi9dKilbXFxzXFxTXSokLztcblxuZnVuY3Rpb24gcmVzb2x2ZVVybChiYXNlLCBocmVmKSB7XG4gIGlmICghYmFzZVVybHNbJyAnICsgYmFzZV0pIHtcbiAgICAvLyB3ZSBjYW4gaWdub3JlIGV2ZXJ5dGhpbmcgaW4gYmFzZSBhZnRlciB0aGUgbGFzdCBzbGFzaCBvZiBpdHMgcGF0aCBjb21wb25lbnQsXG4gICAgLy8gYnV0IHdlIG1pZ2h0IG5lZWQgdG8gYWRkIF90aGF0X1xuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tM1xuICAgIGlmIChqdXN0RG9tYWluLnRlc3QoYmFzZSkpIHtcbiAgICAgIGJhc2VVcmxzWycgJyArIGJhc2VdID0gYmFzZSArICcvJztcbiAgICB9IGVsc2Uge1xuICAgICAgYmFzZVVybHNbJyAnICsgYmFzZV0gPSBydHJpbShiYXNlLCAnLycsIHRydWUpO1xuICAgIH1cbiAgfVxuICBiYXNlID0gYmFzZVVybHNbJyAnICsgYmFzZV07XG4gIGNvbnN0IHJlbGF0aXZlQmFzZSA9IGJhc2UuaW5kZXhPZignOicpID09PSAtMTtcblxuICBpZiAoaHJlZi5zdWJzdHJpbmcoMCwgMikgPT09ICcvLycpIHtcbiAgICBpZiAocmVsYXRpdmVCYXNlKSB7XG4gICAgICByZXR1cm4gaHJlZjtcbiAgICB9XG4gICAgcmV0dXJuIGJhc2UucmVwbGFjZShwcm90b2NvbCwgJyQxJykgKyBocmVmO1xuICB9IGVsc2UgaWYgKGhyZWYuY2hhckF0KDApID09PSAnLycpIHtcbiAgICBpZiAocmVsYXRpdmVCYXNlKSB7XG4gICAgICByZXR1cm4gaHJlZjtcbiAgICB9XG4gICAgcmV0dXJuIGJhc2UucmVwbGFjZShkb21haW4sICckMScpICsgaHJlZjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZSArIGhyZWY7XG4gIH1cbn1cblxuY29uc3Qgbm9vcFRlc3QgPSB7IGV4ZWM6IGZ1bmN0aW9uIG5vb3BUZXN0KCkge30gfTtcblxuZnVuY3Rpb24gbWVyZ2Uob2JqKSB7XG4gIGxldCBpID0gMSxcbiAgICB0YXJnZXQsXG4gICAga2V5O1xuXG4gIGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdGFyZ2V0ID0gYXJndW1lbnRzW2ldO1xuICAgIGZvciAoa2V5IGluIHRhcmdldCkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIGtleSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSB0YXJnZXRba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBzcGxpdENlbGxzKHRhYmxlUm93LCBjb3VudCkge1xuICAvLyBlbnN1cmUgdGhhdCBldmVyeSBjZWxsLWRlbGltaXRpbmcgcGlwZSBoYXMgYSBzcGFjZVxuICAvLyBiZWZvcmUgaXQgdG8gZGlzdGluZ3Vpc2ggaXQgZnJvbSBhbiBlc2NhcGVkIHBpcGVcbiAgY29uc3Qgcm93ID0gdGFibGVSb3cucmVwbGFjZSgvXFx8L2csIChtYXRjaCwgb2Zmc2V0LCBzdHIpID0+IHtcbiAgICAgIGxldCBlc2NhcGVkID0gZmFsc2UsXG4gICAgICAgIGN1cnIgPSBvZmZzZXQ7XG4gICAgICB3aGlsZSAoLS1jdXJyID49IDAgJiYgc3RyW2N1cnJdID09PSAnXFxcXCcpIGVzY2FwZWQgPSAhZXNjYXBlZDtcbiAgICAgIGlmIChlc2NhcGVkKSB7XG4gICAgICAgIC8vIG9kZCBudW1iZXIgb2Ygc2xhc2hlcyBtZWFucyB8IGlzIGVzY2FwZWRcbiAgICAgICAgLy8gc28gd2UgbGVhdmUgaXQgYWxvbmVcbiAgICAgICAgcmV0dXJuICd8JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGFkZCBzcGFjZSBiZWZvcmUgdW5lc2NhcGVkIHxcbiAgICAgICAgcmV0dXJuICcgfCc7XG4gICAgICB9XG4gICAgfSksXG4gICAgY2VsbHMgPSByb3cuc3BsaXQoLyBcXHwvKTtcbiAgbGV0IGkgPSAwO1xuXG4gIC8vIEZpcnN0L2xhc3QgY2VsbCBpbiBhIHJvdyBjYW5ub3QgYmUgZW1wdHkgaWYgaXQgaGFzIG5vIGxlYWRpbmcvdHJhaWxpbmcgcGlwZVxuICBpZiAoIWNlbGxzWzBdLnRyaW0oKSkgeyBjZWxscy5zaGlmdCgpOyB9XG4gIGlmICghY2VsbHNbY2VsbHMubGVuZ3RoIC0gMV0udHJpbSgpKSB7IGNlbGxzLnBvcCgpOyB9XG5cbiAgaWYgKGNlbGxzLmxlbmd0aCA+IGNvdW50KSB7XG4gICAgY2VsbHMuc3BsaWNlKGNvdW50KTtcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoY2VsbHMubGVuZ3RoIDwgY291bnQpIGNlbGxzLnB1c2goJycpO1xuICB9XG5cbiAgZm9yICg7IGkgPCBjZWxscy5sZW5ndGg7IGkrKykge1xuICAgIC8vIGxlYWRpbmcgb3IgdHJhaWxpbmcgd2hpdGVzcGFjZSBpcyBpZ25vcmVkIHBlciB0aGUgZ2ZtIHNwZWNcbiAgICBjZWxsc1tpXSA9IGNlbGxzW2ldLnRyaW0oKS5yZXBsYWNlKC9cXFxcXFx8L2csICd8Jyk7XG4gIH1cbiAgcmV0dXJuIGNlbGxzO1xufVxuXG4vLyBSZW1vdmUgdHJhaWxpbmcgJ2Mncy4gRXF1aXZhbGVudCB0byBzdHIucmVwbGFjZSgvYyokLywgJycpLlxuLy8gL2MqJC8gaXMgdnVsbmVyYWJsZSB0byBSRURPUy5cbi8vIGludmVydDogUmVtb3ZlIHN1ZmZpeCBvZiBub24tYyBjaGFycyBpbnN0ZWFkLiBEZWZhdWx0IGZhbHNleS5cbmZ1bmN0aW9uIHJ0cmltKHN0ciwgYywgaW52ZXJ0KSB7XG4gIGNvbnN0IGwgPSBzdHIubGVuZ3RoO1xuICBpZiAobCA9PT0gMCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIC8vIExlbmd0aCBvZiBzdWZmaXggbWF0Y2hpbmcgdGhlIGludmVydCBjb25kaXRpb24uXG4gIGxldCBzdWZmTGVuID0gMDtcblxuICAvLyBTdGVwIGxlZnQgdW50aWwgd2UgZmFpbCB0byBtYXRjaCB0aGUgaW52ZXJ0IGNvbmRpdGlvbi5cbiAgd2hpbGUgKHN1ZmZMZW4gPCBsKSB7XG4gICAgY29uc3QgY3VyckNoYXIgPSBzdHIuY2hhckF0KGwgLSBzdWZmTGVuIC0gMSk7XG4gICAgaWYgKGN1cnJDaGFyID09PSBjICYmICFpbnZlcnQpIHtcbiAgICAgIHN1ZmZMZW4rKztcbiAgICB9IGVsc2UgaWYgKGN1cnJDaGFyICE9PSBjICYmIGludmVydCkge1xuICAgICAgc3VmZkxlbisrO1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3RyLnN1YnN0cigwLCBsIC0gc3VmZkxlbik7XG59XG5cbmZ1bmN0aW9uIGZpbmRDbG9zaW5nQnJhY2tldChzdHIsIGIpIHtcbiAgaWYgKHN0ci5pbmRleE9mKGJbMV0pID09PSAtMSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBjb25zdCBsID0gc3RyLmxlbmd0aDtcbiAgbGV0IGxldmVsID0gMCxcbiAgICBpID0gMDtcbiAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoc3RyW2ldID09PSAnXFxcXCcpIHtcbiAgICAgIGkrKztcbiAgICB9IGVsc2UgaWYgKHN0cltpXSA9PT0gYlswXSkge1xuICAgICAgbGV2ZWwrKztcbiAgICB9IGVsc2UgaWYgKHN0cltpXSA9PT0gYlsxXSkge1xuICAgICAgbGV2ZWwtLTtcbiAgICAgIGlmIChsZXZlbCA8IDApIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gY2hlY2tTYW5pdGl6ZURlcHJlY2F0aW9uKG9wdCkge1xuICBpZiAob3B0ICYmIG9wdC5zYW5pdGl6ZSAmJiAhb3B0LnNpbGVudCkge1xuICAgIGNvbnNvbGUud2FybignbWFya2VkKCk6IHNhbml0aXplIGFuZCBzYW5pdGl6ZXIgcGFyYW1ldGVycyBhcmUgZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDAuNy4wLCBzaG91bGQgbm90IGJlIHVzZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBSZWFkIG1vcmUgaGVyZTogaHR0cHM6Ly9tYXJrZWQuanMub3JnLyMvVVNJTkdfQURWQU5DRUQubWQjb3B0aW9ucycpO1xuICB9XG59XG5cbi8vIGNvcGllZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81NDUwMTEzLzgwNjc3N1xuZnVuY3Rpb24gcmVwZWF0U3RyaW5nKHBhdHRlcm4sIGNvdW50KSB7XG4gIGlmIChjb3VudCA8IDEpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgbGV0IHJlc3VsdCA9ICcnO1xuICB3aGlsZSAoY291bnQgPiAxKSB7XG4gICAgaWYgKGNvdW50ICYgMSkge1xuICAgICAgcmVzdWx0ICs9IHBhdHRlcm47XG4gICAgfVxuICAgIGNvdW50ID4+PSAxO1xuICAgIHBhdHRlcm4gKz0gcGF0dGVybjtcbiAgfVxuICByZXR1cm4gcmVzdWx0ICsgcGF0dGVybjtcbn1cblxuZnVuY3Rpb24gb3V0cHV0TGluayhjYXAsIGxpbmssIHJhdywgbGV4ZXIpIHtcbiAgY29uc3QgaHJlZiA9IGxpbmsuaHJlZjtcbiAgY29uc3QgdGl0bGUgPSBsaW5rLnRpdGxlID8gZXNjYXBlKGxpbmsudGl0bGUpIDogbnVsbDtcbiAgY29uc3QgdGV4dCA9IGNhcFsxXS5yZXBsYWNlKC9cXFxcKFtcXFtcXF1dKS9nLCAnJDEnKTtcblxuICBpZiAoY2FwWzBdLmNoYXJBdCgwKSAhPT0gJyEnKSB7XG4gICAgbGV4ZXIuc3RhdGUuaW5MaW5rID0gdHJ1ZTtcbiAgICBjb25zdCB0b2tlbiA9IHtcbiAgICAgIHR5cGU6ICdsaW5rJyxcbiAgICAgIHJhdyxcbiAgICAgIGhyZWYsXG4gICAgICB0aXRsZSxcbiAgICAgIHRleHQsXG4gICAgICB0b2tlbnM6IGxleGVyLmlubGluZVRva2Vucyh0ZXh0LCBbXSlcbiAgICB9O1xuICAgIGxleGVyLnN0YXRlLmluTGluayA9IGZhbHNlO1xuICAgIHJldHVybiB0b2tlbjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgIHJhdyxcbiAgICAgIGhyZWYsXG4gICAgICB0aXRsZSxcbiAgICAgIHRleHQ6IGVzY2FwZSh0ZXh0KVxuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5kZW50Q29kZUNvbXBlbnNhdGlvbihyYXcsIHRleHQpIHtcbiAgY29uc3QgbWF0Y2hJbmRlbnRUb0NvZGUgPSByYXcubWF0Y2goL14oXFxzKykoPzpgYGApLyk7XG5cbiAgaWYgKG1hdGNoSW5kZW50VG9Db2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cblxuICBjb25zdCBpbmRlbnRUb0NvZGUgPSBtYXRjaEluZGVudFRvQ29kZVsxXTtcblxuICByZXR1cm4gdGV4dFxuICAgIC5zcGxpdCgnXFxuJylcbiAgICAubWFwKG5vZGUgPT4ge1xuICAgICAgY29uc3QgbWF0Y2hJbmRlbnRJbk5vZGUgPSBub2RlLm1hdGNoKC9eXFxzKy8pO1xuICAgICAgaWYgKG1hdGNoSW5kZW50SW5Ob2RlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBbaW5kZW50SW5Ob2RlXSA9IG1hdGNoSW5kZW50SW5Ob2RlO1xuXG4gICAgICBpZiAoaW5kZW50SW5Ob2RlLmxlbmd0aCA+PSBpbmRlbnRUb0NvZGUubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBub2RlLnNsaWNlKGluZGVudFRvQ29kZS5sZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9KVxuICAgIC5qb2luKCdcXG4nKTtcbn1cblxuLyoqXG4gKiBUb2tlbml6ZXJcbiAqL1xuY2xhc3MgVG9rZW5pemVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgZGVmYXVsdHM7XG4gIH1cblxuICBzcGFjZShzcmMpIHtcbiAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLm5ld2xpbmUuZXhlYyhzcmMpO1xuICAgIGlmIChjYXApIHtcbiAgICAgIGlmIChjYXBbMF0ubGVuZ3RoID4gMSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdzcGFjZScsXG4gICAgICAgICAgcmF3OiBjYXBbMF1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IHJhdzogJ1xcbicgfTtcbiAgICB9XG4gIH1cblxuICBjb2RlKHNyYykge1xuICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2suY29kZS5leGVjKHNyYyk7XG4gICAgaWYgKGNhcCkge1xuICAgICAgY29uc3QgdGV4dCA9IGNhcFswXS5yZXBsYWNlKC9eIHsxLDR9L2dtLCAnJyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnY29kZScsXG4gICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICBjb2RlQmxvY2tTdHlsZTogJ2luZGVudGVkJyxcbiAgICAgICAgdGV4dDogIXRoaXMub3B0aW9ucy5wZWRhbnRpY1xuICAgICAgICAgID8gcnRyaW0odGV4dCwgJ1xcbicpXG4gICAgICAgICAgOiB0ZXh0XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGZlbmNlcyhzcmMpIHtcbiAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmZlbmNlcy5leGVjKHNyYyk7XG4gICAgaWYgKGNhcCkge1xuICAgICAgY29uc3QgcmF3ID0gY2FwWzBdO1xuICAgICAgY29uc3QgdGV4dCA9IGluZGVudENvZGVDb21wZW5zYXRpb24ocmF3LCBjYXBbM10gfHwgJycpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnY29kZScsXG4gICAgICAgIHJhdyxcbiAgICAgICAgbGFuZzogY2FwWzJdID8gY2FwWzJdLnRyaW0oKSA6IGNhcFsyXSxcbiAgICAgICAgdGV4dFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBoZWFkaW5nKHNyYykge1xuICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2suaGVhZGluZy5leGVjKHNyYyk7XG4gICAgaWYgKGNhcCkge1xuICAgICAgbGV0IHRleHQgPSBjYXBbMl0udHJpbSgpO1xuXG4gICAgICAvLyByZW1vdmUgdHJhaWxpbmcgI3NcbiAgICAgIGlmICgvIyQvLnRlc3QodGV4dCkpIHtcbiAgICAgICAgY29uc3QgdHJpbW1lZCA9IHJ0cmltKHRleHQsICcjJyk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgICB0ZXh0ID0gdHJpbW1lZC50cmltKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRyaW1tZWQgfHwgLyAkLy50ZXN0KHRyaW1tZWQpKSB7XG4gICAgICAgICAgLy8gQ29tbW9uTWFyayByZXF1aXJlcyBzcGFjZSBiZWZvcmUgdHJhaWxpbmcgI3NcbiAgICAgICAgICB0ZXh0ID0gdHJpbW1lZC50cmltKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgdG9rZW4gPSB7XG4gICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgIGRlcHRoOiBjYXBbMV0ubGVuZ3RoLFxuICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICB0b2tlbnM6IFtdXG4gICAgICB9O1xuICAgICAgdGhpcy5sZXhlci5pbmxpbmUodG9rZW4udGV4dCwgdG9rZW4udG9rZW5zKTtcbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gIH1cblxuICBocihzcmMpIHtcbiAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmhyLmV4ZWMoc3JjKTtcbiAgICBpZiAoY2FwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnaHInLFxuICAgICAgICByYXc6IGNhcFswXVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBibG9ja3F1b3RlKHNyYykge1xuICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2suYmxvY2txdW90ZS5leGVjKHNyYyk7XG4gICAgaWYgKGNhcCkge1xuICAgICAgY29uc3QgdGV4dCA9IGNhcFswXS5yZXBsYWNlKC9eICo+ID8vZ20sICcnKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2Jsb2NrcXVvdGUnLFxuICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgdG9rZW5zOiB0aGlzLmxleGVyLmJsb2NrVG9rZW5zKHRleHQsIFtdKSxcbiAgICAgICAgdGV4dFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBsaXN0KHNyYykge1xuICAgIGxldCBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmxpc3QuZXhlYyhzcmMpO1xuICAgIGlmIChjYXApIHtcbiAgICAgIGxldCByYXcsIGlzdGFzaywgaXNjaGVja2VkLCBpbmRlbnQsIGksIGJsYW5rTGluZSwgZW5kc1dpdGhCbGFua0xpbmUsXG4gICAgICAgIGxpbmUsIG5leHRMaW5lLCByYXdMaW5lLCBpdGVtQ29udGVudHM7XG5cbiAgICAgIGxldCBidWxsID0gY2FwWzFdLnRyaW0oKTtcbiAgICAgIGNvbnN0IGlzb3JkZXJlZCA9IGJ1bGwubGVuZ3RoID4gMTtcblxuICAgICAgY29uc3QgbGlzdCA9IHtcbiAgICAgICAgdHlwZTogJ2xpc3QnLFxuICAgICAgICByYXc6ICcnLFxuICAgICAgICBvcmRlcmVkOiBpc29yZGVyZWQsXG4gICAgICAgIHN0YXJ0OiBpc29yZGVyZWQgPyArYnVsbC5zbGljZSgwLCAtMSkgOiAnJyxcbiAgICAgICAgbG9vc2U6IGZhbHNlLFxuICAgICAgICBpdGVtczogW11cbiAgICAgIH07XG5cbiAgICAgIGJ1bGwgPSBpc29yZGVyZWQgPyBgXFxcXGR7MSw5fVxcXFwke2J1bGwuc2xpY2UoLTEpfWAgOiBgXFxcXCR7YnVsbH1gO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgICAgIGJ1bGwgPSBpc29yZGVyZWQgPyBidWxsIDogJ1sqKy1dJztcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IG5leHQgbGlzdCBpdGVtXG4gICAgICBjb25zdCBpdGVtUmVnZXggPSBuZXcgUmVnRXhwKGBeKCB7MCwzfSR7YnVsbH0pKCg/OiBbXlxcXFxuXSopPyg/OlxcXFxufCQpKWApO1xuXG4gICAgICAvLyBDaGVjayBpZiBjdXJyZW50IGJ1bGxldCBwb2ludCBjYW4gc3RhcnQgYSBuZXcgTGlzdCBJdGVtXG4gICAgICB3aGlsZSAoc3JjKSB7XG4gICAgICAgIGlmICghKGNhcCA9IGl0ZW1SZWdleC5leGVjKHNyYykpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ydWxlcy5ibG9jay5oci50ZXN0KHNyYykpIHsgLy8gRW5kIGxpc3QgaWYgYnVsbGV0IHdhcyBhY3R1YWxseSBIUiAocG9zc2libHkgbW92ZSBpbnRvIGl0ZW1SZWdleD8pXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByYXcgPSBjYXBbMF07XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcocmF3Lmxlbmd0aCk7XG5cbiAgICAgICAgbGluZSA9IGNhcFsyXS5zcGxpdCgnXFxuJywgMSlbMF07XG4gICAgICAgIG5leHRMaW5lID0gc3JjLnNwbGl0KCdcXG4nLCAxKVswXTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgICAgICAgaW5kZW50ID0gMjtcbiAgICAgICAgICBpdGVtQ29udGVudHMgPSBsaW5lLnRyaW1MZWZ0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5kZW50ID0gY2FwWzJdLnNlYXJjaCgvW14gXS8pOyAvLyBGaW5kIGZpcnN0IG5vbi1zcGFjZSBjaGFyXG4gICAgICAgICAgaW5kZW50ID0gaW5kZW50ID4gNCA/IDEgOiBpbmRlbnQ7IC8vIFRyZWF0IGluZGVudGVkIGNvZGUgYmxvY2tzICg+IDQgc3BhY2VzKSBhcyBoYXZpbmcgb25seSAxIGluZGVudFxuICAgICAgICAgIGl0ZW1Db250ZW50cyA9IGxpbmUuc2xpY2UoaW5kZW50KTtcbiAgICAgICAgICBpbmRlbnQgKz0gY2FwWzFdLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGJsYW5rTGluZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghbGluZSAmJiAvXiAqJC8udGVzdChuZXh0TGluZSkpIHsgLy8gSXRlbXMgYmVnaW4gd2l0aCBhdCBtb3N0IG9uZSBibGFuayBsaW5lXG4gICAgICAgICAgcmF3ICs9IG5leHRMaW5lICsgJ1xcbic7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhuZXh0TGluZS5sZW5ndGggKyAxKTtcbiAgICAgICAgICBsaXN0Lmxvb3NlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5leHRCdWxsZXRSZWdleCA9IG5ldyBSZWdFeHAoYF4gezAsJHtNYXRoLm1pbigzLCBpbmRlbnQgLSAxKX19KD86WyorLV18XFxcXGR7MSw5fVsuKV0pYCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgZm9sbG93aW5nIGxpbmVzIHNob3VsZCBiZSBpbmNsdWRlZCBpbiBMaXN0IEl0ZW1cbiAgICAgICAgd2hpbGUgKHNyYyAmJiAhbGlzdC5sb29zZSkge1xuICAgICAgICAgIHJhd0xpbmUgPSBzcmMuc3BsaXQoJ1xcbicsIDEpWzBdO1xuICAgICAgICAgIGxpbmUgPSByYXdMaW5lO1xuXG4gICAgICAgICAgLy8gUmUtYWxpZ24gdG8gZm9sbG93IGNvbW1vbm1hcmsgbmVzdGluZyBydWxlc1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgICAgIGxpbmUgPSBsaW5lLnJlcGxhY2UoL14gezEsNH0oPz0oIHs0fSkqW14gXSkvZywgJyAgJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRW5kIGxpc3QgaXRlbSBpZiBmb3VuZCBzdGFydCBvZiBuZXcgYnVsbGV0XG4gICAgICAgICAgaWYgKG5leHRCdWxsZXRSZWdleC50ZXN0KGxpbmUpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobGluZS5zZWFyY2goL1teIF0vKSA+PSBpbmRlbnQgfHwgIWxpbmUudHJpbSgpKSB7IC8vIERlZGVudCBpZiBwb3NzaWJsZVxuICAgICAgICAgICAgaXRlbUNvbnRlbnRzICs9ICdcXG4nICsgbGluZS5zbGljZShpbmRlbnQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWJsYW5rTGluZSkgeyAvLyBVbnRpbCBibGFuayBsaW5lLCBpdGVtIGRvZXNuJ3QgbmVlZCBpbmRlbnRhdGlvblxuICAgICAgICAgICAgaXRlbUNvbnRlbnRzICs9ICdcXG4nICsgbGluZTtcbiAgICAgICAgICB9IGVsc2UgeyAvLyBPdGhlcndpc2UsIGltcHJvcGVyIGluZGVudGF0aW9uIGVuZHMgdGhpcyBpdGVtXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWJsYW5rTGluZSAmJiAhbGluZS50cmltKCkpIHsgLy8gQ2hlY2sgaWYgY3VycmVudCBsaW5lIGlzIGJsYW5rXG4gICAgICAgICAgICBibGFua0xpbmUgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJhdyArPSByYXdMaW5lICsgJ1xcbic7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhyYXdMaW5lLmxlbmd0aCArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFsaXN0Lmxvb3NlKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIHByZXZpb3VzIGl0ZW0gZW5kZWQgd2l0aCBhIGJsYW5rIGxpbmUsIHRoZSBsaXN0IGlzIGxvb3NlXG4gICAgICAgICAgaWYgKGVuZHNXaXRoQmxhbmtMaW5lKSB7XG4gICAgICAgICAgICBsaXN0Lmxvb3NlID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKC9cXG4gKlxcbiAqJC8udGVzdChyYXcpKSB7XG4gICAgICAgICAgICBlbmRzV2l0aEJsYW5rTGluZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIHRhc2sgbGlzdCBpdGVtc1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmdmbSkge1xuICAgICAgICAgIGlzdGFzayA9IC9eXFxbWyB4WF1cXF0gLy5leGVjKGl0ZW1Db250ZW50cyk7XG4gICAgICAgICAgaWYgKGlzdGFzaykge1xuICAgICAgICAgICAgaXNjaGVja2VkID0gaXN0YXNrWzBdICE9PSAnWyBdICc7XG4gICAgICAgICAgICBpdGVtQ29udGVudHMgPSBpdGVtQ29udGVudHMucmVwbGFjZSgvXlxcW1sgeFhdXFxdICsvLCAnJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGlzdC5pdGVtcy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAnbGlzdF9pdGVtJyxcbiAgICAgICAgICByYXc6IHJhdyxcbiAgICAgICAgICB0YXNrOiAhIWlzdGFzayxcbiAgICAgICAgICBjaGVja2VkOiBpc2NoZWNrZWQsXG4gICAgICAgICAgbG9vc2U6IGZhbHNlLFxuICAgICAgICAgIHRleHQ6IGl0ZW1Db250ZW50c1xuICAgICAgICB9KTtcblxuICAgICAgICBsaXN0LnJhdyArPSByYXc7XG4gICAgICB9XG5cbiAgICAgIC8vIERvIG5vdCBjb25zdW1lIG5ld2xpbmVzIGF0IGVuZCBvZiBmaW5hbCBpdGVtLiBBbHRlcm5hdGl2ZWx5LCBtYWtlIGl0ZW1SZWdleCAqc3RhcnQqIHdpdGggYW55IG5ld2xpbmVzIHRvIHNpbXBsaWZ5L3NwZWVkIHVwIGVuZHNXaXRoQmxhbmtMaW5lIGxvZ2ljXG4gICAgICBsaXN0Lml0ZW1zW2xpc3QuaXRlbXMubGVuZ3RoIC0gMV0ucmF3ID0gcmF3LnRyaW1SaWdodCgpO1xuICAgICAgbGlzdC5pdGVtc1tsaXN0Lml0ZW1zLmxlbmd0aCAtIDFdLnRleHQgPSBpdGVtQ29udGVudHMudHJpbVJpZ2h0KCk7XG4gICAgICBsaXN0LnJhdyA9IGxpc3QucmF3LnRyaW1SaWdodCgpO1xuXG4gICAgICBjb25zdCBsID0gbGlzdC5pdGVtcy5sZW5ndGg7XG5cbiAgICAgIC8vIEl0ZW0gY2hpbGQgdG9rZW5zIGhhbmRsZWQgaGVyZSBhdCBlbmQgYmVjYXVzZSB3ZSBuZWVkZWQgdG8gaGF2ZSB0aGUgZmluYWwgaXRlbSB0byB0cmltIGl0IGZpcnN0XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRoaXMubGV4ZXIuc3RhdGUudG9wID0gZmFsc2U7XG4gICAgICAgIGxpc3QuaXRlbXNbaV0udG9rZW5zID0gdGhpcy5sZXhlci5ibG9ja1Rva2VucyhsaXN0Lml0ZW1zW2ldLnRleHQsIFtdKTtcbiAgICAgICAgaWYgKCFsaXN0Lmxvb3NlICYmIGxpc3QuaXRlbXNbaV0udG9rZW5zLnNvbWUodCA9PiB0LnR5cGUgPT09ICdzcGFjZScpKSB7XG4gICAgICAgICAgbGlzdC5sb29zZSA9IHRydWU7XG4gICAgICAgICAgbGlzdC5pdGVtc1tpXS5sb29zZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuICB9XG5cbiAgaHRtbChzcmMpIHtcbiAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmh0bWwuZXhlYyhzcmMpO1xuICAgIGlmIChjYXApIHtcbiAgICAgIGNvbnN0IHRva2VuID0ge1xuICAgICAgICB0eXBlOiAnaHRtbCcsXG4gICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICBwcmU6ICF0aGlzLm9wdGlvbnMuc2FuaXRpemVyXG4gICAgICAgICAgJiYgKGNhcFsxXSA9PT0gJ3ByZScgfHwgY2FwWzFdID09PSAnc2NyaXB0JyB8fCBjYXBbMV0gPT09ICdzdHlsZScpLFxuICAgICAgICB0ZXh0OiBjYXBbMF1cbiAgICAgIH07XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNhbml0aXplKSB7XG4gICAgICAgIHRva2VuLnR5cGUgPSAncGFyYWdyYXBoJztcbiAgICAgICAgdG9rZW4udGV4dCA9IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyKGNhcFswXSkgOiBlc2NhcGUoY2FwWzBdKTtcbiAgICAgICAgdG9rZW4udG9rZW5zID0gW107XG4gICAgICAgIHRoaXMubGV4ZXIuaW5saW5lKHRva2VuLnRleHQsIHRva2VuLnRva2Vucyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuICB9XG5cbiAgZGVmKHNyYykge1xuICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2suZGVmLmV4ZWMoc3JjKTtcbiAgICBpZiAoY2FwKSB7XG4gICAgICBpZiAoY2FwWzNdKSBjYXBbM10gPSBjYXBbM10uc3Vic3RyaW5nKDEsIGNhcFszXS5sZW5ndGggLSAxKTtcbiAgICAgIGNvbnN0IHRhZyA9IGNhcFsxXS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJyAnKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdkZWYnLFxuICAgICAgICB0YWcsXG4gICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICBocmVmOiBjYXBbMl0sXG4gICAgICAgIHRpdGxlOiBjYXBbM11cbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgdGFibGUoc3JjKSB7XG4gICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay50YWJsZS5leGVjKHNyYyk7XG4gICAgaWYgKGNhcCkge1xuICAgICAgY29uc3QgaXRlbSA9IHtcbiAgICAgICAgdHlwZTogJ3RhYmxlJyxcbiAgICAgICAgaGVhZGVyOiBzcGxpdENlbGxzKGNhcFsxXSkubWFwKGMgPT4geyByZXR1cm4geyB0ZXh0OiBjIH07IH0pLFxuICAgICAgICBhbGlnbjogY2FwWzJdLnJlcGxhY2UoL14gKnxcXHwgKiQvZywgJycpLnNwbGl0KC8gKlxcfCAqLyksXG4gICAgICAgIHJvd3M6IGNhcFszXSA/IGNhcFszXS5yZXBsYWNlKC9cXG4kLywgJycpLnNwbGl0KCdcXG4nKSA6IFtdXG4gICAgICB9O1xuXG4gICAgICBpZiAoaXRlbS5oZWFkZXIubGVuZ3RoID09PSBpdGVtLmFsaWduLmxlbmd0aCkge1xuICAgICAgICBpdGVtLnJhdyA9IGNhcFswXTtcblxuICAgICAgICBsZXQgbCA9IGl0ZW0uYWxpZ24ubGVuZ3RoO1xuICAgICAgICBsZXQgaSwgaiwgaywgcm93O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgaWYgKC9eICotKzogKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAncmlnaHQnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoL14gKjotKzogKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAnY2VudGVyJztcbiAgICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSsgKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAnbGVmdCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGwgPSBpdGVtLnJvd3MubGVuZ3RoO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgaXRlbS5yb3dzW2ldID0gc3BsaXRDZWxscyhpdGVtLnJvd3NbaV0sIGl0ZW0uaGVhZGVyLmxlbmd0aCkubWFwKGMgPT4geyByZXR1cm4geyB0ZXh0OiBjIH07IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFyc2UgY2hpbGQgdG9rZW5zIGluc2lkZSBoZWFkZXJzIGFuZCBjZWxsc1xuXG4gICAgICAgIC8vIGhlYWRlciBjaGlsZCB0b2tlbnNcbiAgICAgICAgbCA9IGl0ZW0uaGVhZGVyLmxlbmd0aDtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGw7IGorKykge1xuICAgICAgICAgIGl0ZW0uaGVhZGVyW2pdLnRva2VucyA9IFtdO1xuICAgICAgICAgIHRoaXMubGV4ZXIuaW5saW5lVG9rZW5zKGl0ZW0uaGVhZGVyW2pdLnRleHQsIGl0ZW0uaGVhZGVyW2pdLnRva2Vucyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjZWxsIGNoaWxkIHRva2Vuc1xuICAgICAgICBsID0gaXRlbS5yb3dzLmxlbmd0aDtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGw7IGorKykge1xuICAgICAgICAgIHJvdyA9IGl0ZW0ucm93c1tqXTtcbiAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgcm93Lmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICByb3dba10udG9rZW5zID0gW107XG4gICAgICAgICAgICB0aGlzLmxleGVyLmlubGluZVRva2Vucyhyb3dba10udGV4dCwgcm93W2tdLnRva2Vucyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbGhlYWRpbmcoc3JjKSB7XG4gICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5saGVhZGluZy5leGVjKHNyYyk7XG4gICAgaWYgKGNhcCkge1xuICAgICAgY29uc3QgdG9rZW4gPSB7XG4gICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgIGRlcHRoOiBjYXBbMl0uY2hhckF0KDApID09PSAnPScgPyAxIDogMixcbiAgICAgICAgdGV4dDogY2FwWzFdLFxuICAgICAgICB0b2tlbnM6IFtdXG4gICAgICB9O1xuICAgICAgdGhpcy5sZXhlci5pbmxpbmUodG9rZW4udGV4dCwgdG9rZW4udG9rZW5zKTtcbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gIH1cblxuICBwYXJhZ3JhcGgoc3JjKSB7XG4gICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5wYXJhZ3JhcGguZXhlYyhzcmMpO1xuICAgIGlmIChjYXApIHtcbiAgICAgIGNvbnN0IHRva2VuID0ge1xuICAgICAgICB0eXBlOiAncGFyYWdyYXBoJyxcbiAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgIHRleHQ6IGNhcFsxXS5jaGFyQXQoY2FwWzFdLmxlbmd0aCAtIDEpID09PSAnXFxuJ1xuICAgICAgICAgID8gY2FwWzFdLnNsaWNlKDAsIC0xKVxuICAgICAgICAgIDogY2FwWzFdLFxuICAgICAgICB0b2tlbnM6IFtdXG4gICAgICB9O1xuICAgICAgdGhpcy5sZXhlci5pbmxpbmUodG9rZW4udGV4dCwgdG9rZW4udG9rZW5zKTtcbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gIH1cblxuICB0ZXh0KHNyYykge1xuICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2sudGV4dC5leGVjKHNyYyk7XG4gICAgaWYgKGNhcCkge1xuICAgICAgY29uc3QgdG9rZW4gPSB7XG4gICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgIHRleHQ6IGNhcFswXSxcbiAgICAgICAgdG9rZW5zOiBbXVxuICAgICAgfTtcbiAgICAgIHRoaXMubGV4ZXIuaW5saW5lKHRva2VuLnRleHQsIHRva2VuLnRva2Vucyk7XG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuICB9XG5cbiAgZXNjYXBlKHNyYykge1xuICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmVzY2FwZS5leGVjKHNyYyk7XG4gICAgaWYgKGNhcCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2VzY2FwZScsXG4gICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICB0ZXh0OiBlc2NhcGUoY2FwWzFdKVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICB0YWcoc3JjKSB7XG4gICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUudGFnLmV4ZWMoc3JjKTtcbiAgICBpZiAoY2FwKSB7XG4gICAgICBpZiAoIXRoaXMubGV4ZXIuc3RhdGUuaW5MaW5rICYmIC9ePGEgL2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgIHRoaXMubGV4ZXIuc3RhdGUuaW5MaW5rID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5sZXhlci5zdGF0ZS5pbkxpbmsgJiYgL148XFwvYT4vaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgdGhpcy5sZXhlci5zdGF0ZS5pbkxpbmsgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrICYmIC9ePChwcmV8Y29kZXxrYmR8c2NyaXB0KShcXHN8PikvaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgdGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrICYmIC9ePFxcLyhwcmV8Y29kZXxrYmR8c2NyaXB0KShcXHN8PikvaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgdGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy5zYW5pdGl6ZVxuICAgICAgICAgID8gJ3RleHQnXG4gICAgICAgICAgOiAnaHRtbCcsXG4gICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICBpbkxpbms6IHRoaXMubGV4ZXIuc3RhdGUuaW5MaW5rLFxuICAgICAgICBpblJhd0Jsb2NrOiB0aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2ssXG4gICAgICAgIHRleHQ6IHRoaXMub3B0aW9ucy5zYW5pdGl6ZVxuICAgICAgICAgID8gKHRoaXMub3B0aW9ucy5zYW5pdGl6ZXJcbiAgICAgICAgICAgID8gdGhpcy5vcHRpb25zLnNhbml0aXplcihjYXBbMF0pXG4gICAgICAgICAgICA6IGVzY2FwZShjYXBbMF0pKVxuICAgICAgICAgIDogY2FwWzBdXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGxpbmsoc3JjKSB7XG4gICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUubGluay5leGVjKHNyYyk7XG4gICAgaWYgKGNhcCkge1xuICAgICAgY29uc3QgdHJpbW1lZFVybCA9IGNhcFsyXS50cmltKCk7XG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5wZWRhbnRpYyAmJiAvXjwvLnRlc3QodHJpbW1lZFVybCkpIHtcbiAgICAgICAgLy8gY29tbW9ubWFyayByZXF1aXJlcyBtYXRjaGluZyBhbmdsZSBicmFja2V0c1xuICAgICAgICBpZiAoISgvPiQvLnRlc3QodHJpbW1lZFVybCkpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZW5kaW5nIGFuZ2xlIGJyYWNrZXQgY2Fubm90IGJlIGVzY2FwZWRcbiAgICAgICAgY29uc3QgcnRyaW1TbGFzaCA9IHJ0cmltKHRyaW1tZWRVcmwuc2xpY2UoMCwgLTEpLCAnXFxcXCcpO1xuICAgICAgICBpZiAoKHRyaW1tZWRVcmwubGVuZ3RoIC0gcnRyaW1TbGFzaC5sZW5ndGgpICUgMiA9PT0gMCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZmluZCBjbG9zaW5nIHBhcmVudGhlc2lzXG4gICAgICAgIGNvbnN0IGxhc3RQYXJlbkluZGV4ID0gZmluZENsb3NpbmdCcmFja2V0KGNhcFsyXSwgJygpJyk7XG4gICAgICAgIGlmIChsYXN0UGFyZW5JbmRleCA+IC0xKSB7XG4gICAgICAgICAgY29uc3Qgc3RhcnQgPSBjYXBbMF0uaW5kZXhPZignIScpID09PSAwID8gNSA6IDQ7XG4gICAgICAgICAgY29uc3QgbGlua0xlbiA9IHN0YXJ0ICsgY2FwWzFdLmxlbmd0aCArIGxhc3RQYXJlbkluZGV4O1xuICAgICAgICAgIGNhcFsyXSA9IGNhcFsyXS5zdWJzdHJpbmcoMCwgbGFzdFBhcmVuSW5kZXgpO1xuICAgICAgICAgIGNhcFswXSA9IGNhcFswXS5zdWJzdHJpbmcoMCwgbGlua0xlbikudHJpbSgpO1xuICAgICAgICAgIGNhcFszXSA9ICcnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgaHJlZiA9IGNhcFsyXTtcbiAgICAgIGxldCB0aXRsZSA9ICcnO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYykge1xuICAgICAgICAvLyBzcGxpdCBwZWRhbnRpYyBocmVmIGFuZCB0aXRsZVxuICAgICAgICBjb25zdCBsaW5rID0gL14oW14nXCJdKlteXFxzXSlcXHMrKFsnXCJdKSguKilcXDIvLmV4ZWMoaHJlZik7XG5cbiAgICAgICAgaWYgKGxpbmspIHtcbiAgICAgICAgICBocmVmID0gbGlua1sxXTtcbiAgICAgICAgICB0aXRsZSA9IGxpbmtbM107XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRpdGxlID0gY2FwWzNdID8gY2FwWzNdLnNsaWNlKDEsIC0xKSA6ICcnO1xuICAgICAgfVxuXG4gICAgICBocmVmID0gaHJlZi50cmltKCk7XG4gICAgICBpZiAoL148Ly50ZXN0KGhyZWYpKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMgJiYgISgvPiQvLnRlc3QodHJpbW1lZFVybCkpKSB7XG4gICAgICAgICAgLy8gcGVkYW50aWMgYWxsb3dzIHN0YXJ0aW5nIGFuZ2xlIGJyYWNrZXQgd2l0aG91dCBlbmRpbmcgYW5nbGUgYnJhY2tldFxuICAgICAgICAgIGhyZWYgPSBocmVmLnNsaWNlKDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhyZWYgPSBocmVmLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG91dHB1dExpbmsoY2FwLCB7XG4gICAgICAgIGhyZWY6IGhyZWYgPyBocmVmLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuX2VzY2FwZXMsICckMScpIDogaHJlZixcbiAgICAgICAgdGl0bGU6IHRpdGxlID8gdGl0bGUucmVwbGFjZSh0aGlzLnJ1bGVzLmlubGluZS5fZXNjYXBlcywgJyQxJykgOiB0aXRsZVxuICAgICAgfSwgY2FwWzBdLCB0aGlzLmxleGVyKTtcbiAgICB9XG4gIH1cblxuICByZWZsaW5rKHNyYywgbGlua3MpIHtcbiAgICBsZXQgY2FwO1xuICAgIGlmICgoY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUucmVmbGluay5leGVjKHNyYykpXG4gICAgICAgIHx8IChjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5ub2xpbmsuZXhlYyhzcmMpKSkge1xuICAgICAgbGV0IGxpbmsgPSAoY2FwWzJdIHx8IGNhcFsxXSkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgICAgbGluayA9IGxpbmtzW2xpbmsudG9Mb3dlckNhc2UoKV07XG4gICAgICBpZiAoIWxpbmsgfHwgIWxpbmsuaHJlZikge1xuICAgICAgICBjb25zdCB0ZXh0ID0gY2FwWzBdLmNoYXJBdCgwKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgcmF3OiB0ZXh0LFxuICAgICAgICAgIHRleHRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvdXRwdXRMaW5rKGNhcCwgbGluaywgY2FwWzBdLCB0aGlzLmxleGVyKTtcbiAgICB9XG4gIH1cblxuICBlbVN0cm9uZyhzcmMsIG1hc2tlZFNyYywgcHJldkNoYXIgPSAnJykge1xuICAgIGxldCBtYXRjaCA9IHRoaXMucnVsZXMuaW5saW5lLmVtU3Ryb25nLmxEZWxpbS5leGVjKHNyYyk7XG4gICAgaWYgKCFtYXRjaCkgcmV0dXJuO1xuXG4gICAgLy8gXyBjYW4ndCBiZSBiZXR3ZWVuIHR3byBhbHBoYW51bWVyaWNzLiBcXHB7TH1cXHB7Tn0gaW5jbHVkZXMgbm9uLWVuZ2xpc2ggYWxwaGFiZXQvbnVtYmVycyBhcyB3ZWxsXG4gICAgaWYgKG1hdGNoWzNdICYmIHByZXZDaGFyLm1hdGNoKC9bXFxwe0x9XFxwe059XS91KSkgcmV0dXJuO1xuXG4gICAgY29uc3QgbmV4dENoYXIgPSBtYXRjaFsxXSB8fCBtYXRjaFsyXSB8fCAnJztcblxuICAgIGlmICghbmV4dENoYXIgfHwgKG5leHRDaGFyICYmIChwcmV2Q2hhciA9PT0gJycgfHwgdGhpcy5ydWxlcy5pbmxpbmUucHVuY3R1YXRpb24uZXhlYyhwcmV2Q2hhcikpKSkge1xuICAgICAgY29uc3QgbExlbmd0aCA9IG1hdGNoWzBdLmxlbmd0aCAtIDE7XG4gICAgICBsZXQgckRlbGltLCByTGVuZ3RoLCBkZWxpbVRvdGFsID0gbExlbmd0aCwgbWlkRGVsaW1Ub3RhbCA9IDA7XG5cbiAgICAgIGNvbnN0IGVuZFJlZyA9IG1hdGNoWzBdWzBdID09PSAnKicgPyB0aGlzLnJ1bGVzLmlubGluZS5lbVN0cm9uZy5yRGVsaW1Bc3QgOiB0aGlzLnJ1bGVzLmlubGluZS5lbVN0cm9uZy5yRGVsaW1VbmQ7XG4gICAgICBlbmRSZWcubGFzdEluZGV4ID0gMDtcblxuICAgICAgLy8gQ2xpcCBtYXNrZWRTcmMgdG8gc2FtZSBzZWN0aW9uIG9mIHN0cmluZyBhcyBzcmMgKG1vdmUgdG8gbGV4ZXI/KVxuICAgICAgbWFza2VkU3JjID0gbWFza2VkU3JjLnNsaWNlKC0xICogc3JjLmxlbmd0aCArIGxMZW5ndGgpO1xuXG4gICAgICB3aGlsZSAoKG1hdGNoID0gZW5kUmVnLmV4ZWMobWFza2VkU3JjKSkgIT0gbnVsbCkge1xuICAgICAgICByRGVsaW0gPSBtYXRjaFsxXSB8fCBtYXRjaFsyXSB8fCBtYXRjaFszXSB8fCBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBtYXRjaFs2XTtcblxuICAgICAgICBpZiAoIXJEZWxpbSkgY29udGludWU7IC8vIHNraXAgc2luZ2xlICogaW4gX19hYmMqYWJjX19cblxuICAgICAgICByTGVuZ3RoID0gckRlbGltLmxlbmd0aDtcblxuICAgICAgICBpZiAobWF0Y2hbM10gfHwgbWF0Y2hbNF0pIHsgLy8gZm91bmQgYW5vdGhlciBMZWZ0IERlbGltXG4gICAgICAgICAgZGVsaW1Ub3RhbCArPSByTGVuZ3RoO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2UgaWYgKG1hdGNoWzVdIHx8IG1hdGNoWzZdKSB7IC8vIGVpdGhlciBMZWZ0IG9yIFJpZ2h0IERlbGltXG4gICAgICAgICAgaWYgKGxMZW5ndGggJSAzICYmICEoKGxMZW5ndGggKyByTGVuZ3RoKSAlIDMpKSB7XG4gICAgICAgICAgICBtaWREZWxpbVRvdGFsICs9IHJMZW5ndGg7XG4gICAgICAgICAgICBjb250aW51ZTsgLy8gQ29tbW9uTWFyayBFbXBoYXNpcyBSdWxlcyA5LTEwXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGVsaW1Ub3RhbCAtPSByTGVuZ3RoO1xuXG4gICAgICAgIGlmIChkZWxpbVRvdGFsID4gMCkgY29udGludWU7IC8vIEhhdmVuJ3QgZm91bmQgZW5vdWdoIGNsb3NpbmcgZGVsaW1pdGVyc1xuXG4gICAgICAgIC8vIFJlbW92ZSBleHRyYSBjaGFyYWN0ZXJzLiAqYSoqKiAtPiAqYSpcbiAgICAgICAgckxlbmd0aCA9IE1hdGgubWluKHJMZW5ndGgsIHJMZW5ndGggKyBkZWxpbVRvdGFsICsgbWlkRGVsaW1Ub3RhbCk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGBlbWAgaWYgc21hbGxlc3QgZGVsaW1pdGVyIGhhcyBvZGQgY2hhciBjb3VudC4gKmEqKipcbiAgICAgICAgaWYgKE1hdGgubWluKGxMZW5ndGgsIHJMZW5ndGgpICUgMikge1xuICAgICAgICAgIGNvbnN0IHRleHQgPSBzcmMuc2xpY2UoMSwgbExlbmd0aCArIG1hdGNoLmluZGV4ICsgckxlbmd0aCk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdlbScsXG4gICAgICAgICAgICByYXc6IHNyYy5zbGljZSgwLCBsTGVuZ3RoICsgbWF0Y2guaW5kZXggKyByTGVuZ3RoICsgMSksXG4gICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgdG9rZW5zOiB0aGlzLmxleGVyLmlubGluZVRva2Vucyh0ZXh0LCBbXSlcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlICdzdHJvbmcnIGlmIHNtYWxsZXN0IGRlbGltaXRlciBoYXMgZXZlbiBjaGFyIGNvdW50LiAqKmEqKipcbiAgICAgICAgY29uc3QgdGV4dCA9IHNyYy5zbGljZSgyLCBsTGVuZ3RoICsgbWF0Y2guaW5kZXggKyByTGVuZ3RoIC0gMSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ3N0cm9uZycsXG4gICAgICAgICAgcmF3OiBzcmMuc2xpY2UoMCwgbExlbmd0aCArIG1hdGNoLmluZGV4ICsgckxlbmd0aCArIDEpLFxuICAgICAgICAgIHRleHQsXG4gICAgICAgICAgdG9rZW5zOiB0aGlzLmxleGVyLmlubGluZVRva2Vucyh0ZXh0LCBbXSlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb2Rlc3BhbihzcmMpIHtcbiAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5jb2RlLmV4ZWMoc3JjKTtcbiAgICBpZiAoY2FwKSB7XG4gICAgICBsZXQgdGV4dCA9IGNhcFsyXS5yZXBsYWNlKC9cXG4vZywgJyAnKTtcbiAgICAgIGNvbnN0IGhhc05vblNwYWNlQ2hhcnMgPSAvW14gXS8udGVzdCh0ZXh0KTtcbiAgICAgIGNvbnN0IGhhc1NwYWNlQ2hhcnNPbkJvdGhFbmRzID0gL14gLy50ZXN0KHRleHQpICYmIC8gJC8udGVzdCh0ZXh0KTtcbiAgICAgIGlmIChoYXNOb25TcGFjZUNoYXJzICYmIGhhc1NwYWNlQ2hhcnNPbkJvdGhFbmRzKSB7XG4gICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygxLCB0ZXh0Lmxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgdGV4dCA9IGVzY2FwZSh0ZXh0LCB0cnVlKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdjb2Rlc3BhbicsXG4gICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICB0ZXh0XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGJyKHNyYykge1xuICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmJyLmV4ZWMoc3JjKTtcbiAgICBpZiAoY2FwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnYnInLFxuICAgICAgICByYXc6IGNhcFswXVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBkZWwoc3JjKSB7XG4gICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuZGVsLmV4ZWMoc3JjKTtcbiAgICBpZiAoY2FwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnZGVsJyxcbiAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgIHRleHQ6IGNhcFsyXSxcbiAgICAgICAgdG9rZW5zOiB0aGlzLmxleGVyLmlubGluZVRva2VucyhjYXBbMl0sIFtdKVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBhdXRvbGluayhzcmMsIG1hbmdsZSkge1xuICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmF1dG9saW5rLmV4ZWMoc3JjKTtcbiAgICBpZiAoY2FwKSB7XG4gICAgICBsZXQgdGV4dCwgaHJlZjtcbiAgICAgIGlmIChjYXBbMl0gPT09ICdAJykge1xuICAgICAgICB0ZXh0ID0gZXNjYXBlKHRoaXMub3B0aW9ucy5tYW5nbGUgPyBtYW5nbGUoY2FwWzFdKSA6IGNhcFsxXSk7XG4gICAgICAgIGhyZWYgPSAnbWFpbHRvOicgKyB0ZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMV0pO1xuICAgICAgICBocmVmID0gdGV4dDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2xpbmsnLFxuICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgdGV4dCxcbiAgICAgICAgaHJlZixcbiAgICAgICAgdG9rZW5zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgcmF3OiB0ZXh0LFxuICAgICAgICAgICAgdGV4dFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICB1cmwoc3JjLCBtYW5nbGUpIHtcbiAgICBsZXQgY2FwO1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS51cmwuZXhlYyhzcmMpKSB7XG4gICAgICBsZXQgdGV4dCwgaHJlZjtcbiAgICAgIGlmIChjYXBbMl0gPT09ICdAJykge1xuICAgICAgICB0ZXh0ID0gZXNjYXBlKHRoaXMub3B0aW9ucy5tYW5nbGUgPyBtYW5nbGUoY2FwWzBdKSA6IGNhcFswXSk7XG4gICAgICAgIGhyZWYgPSAnbWFpbHRvOicgKyB0ZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZG8gZXh0ZW5kZWQgYXV0b2xpbmsgcGF0aCB2YWxpZGF0aW9uXG4gICAgICAgIGxldCBwcmV2Q2FwWmVybztcbiAgICAgICAgZG8ge1xuICAgICAgICAgIHByZXZDYXBaZXJvID0gY2FwWzBdO1xuICAgICAgICAgIGNhcFswXSA9IHRoaXMucnVsZXMuaW5saW5lLl9iYWNrcGVkYWwuZXhlYyhjYXBbMF0pWzBdO1xuICAgICAgICB9IHdoaWxlIChwcmV2Q2FwWmVybyAhPT0gY2FwWzBdKTtcbiAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMF0pO1xuICAgICAgICBpZiAoY2FwWzFdID09PSAnd3d3LicpIHtcbiAgICAgICAgICBocmVmID0gJ2h0dHA6Ly8nICsgdGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBocmVmID0gdGV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2xpbmsnLFxuICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgdGV4dCxcbiAgICAgICAgaHJlZixcbiAgICAgICAgdG9rZW5zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgcmF3OiB0ZXh0LFxuICAgICAgICAgICAgdGV4dFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBpbmxpbmVUZXh0KHNyYywgc21hcnR5cGFudHMpIHtcbiAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS50ZXh0LmV4ZWMoc3JjKTtcbiAgICBpZiAoY2FwKSB7XG4gICAgICBsZXQgdGV4dDtcbiAgICAgIGlmICh0aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2spIHtcbiAgICAgICAgdGV4dCA9IHRoaXMub3B0aW9ucy5zYW5pdGl6ZSA/ICh0aGlzLm9wdGlvbnMuc2FuaXRpemVyID8gdGhpcy5vcHRpb25zLnNhbml0aXplcihjYXBbMF0pIDogZXNjYXBlKGNhcFswXSkpIDogY2FwWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGV4dCA9IGVzY2FwZSh0aGlzLm9wdGlvbnMuc21hcnR5cGFudHMgPyBzbWFydHlwYW50cyhjYXBbMF0pIDogY2FwWzBdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgIHRleHRcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQmxvY2stTGV2ZWwgR3JhbW1hclxuICovXG5jb25zdCBibG9jayA9IHtcbiAgbmV3bGluZTogL14oPzogKig/OlxcbnwkKSkrLyxcbiAgY29kZTogL14oIHs0fVteXFxuXSsoPzpcXG4oPzogKig/OlxcbnwkKSkqKT8pKy8sXG4gIGZlbmNlczogL14gezAsM30oYHszLH0oPz1bXmBcXG5dKlxcbil8fnszLH0pKFteXFxuXSopXFxuKD86fChbXFxzXFxTXSo/KVxcbikoPzogezAsM31cXDFbfmBdKiAqKD89XFxufCQpfCQpLyxcbiAgaHI6IC9eIHswLDN9KCg/Oi0gKil7Myx9fCg/Ol8gKil7Myx9fCg/OlxcKiAqKXszLH0pKD86XFxuK3wkKS8sXG4gIGhlYWRpbmc6IC9eIHswLDN9KCN7MSw2fSkoPz1cXHN8JCkoLiopKD86XFxuK3wkKS8sXG4gIGJsb2NrcXVvdGU6IC9eKCB7MCwzfT4gPyhwYXJhZ3JhcGh8W15cXG5dKikoPzpcXG58JCkpKy8sXG4gIGxpc3Q6IC9eKCB7MCwzfWJ1bGwpKCBbXlxcbl0rPyk/KD86XFxufCQpLyxcbiAgaHRtbDogJ14gezAsM30oPzonIC8vIG9wdGlvbmFsIGluZGVudGF0aW9uXG4gICAgKyAnPChzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhKVtcXFxccz5dW1xcXFxzXFxcXFNdKj8oPzo8L1xcXFwxPlteXFxcXG5dKlxcXFxuK3wkKScgLy8gKDEpXG4gICAgKyAnfGNvbW1lbnRbXlxcXFxuXSooXFxcXG4rfCQpJyAvLyAoMilcbiAgICArICd8PFxcXFw/W1xcXFxzXFxcXFNdKj8oPzpcXFxcPz5cXFxcbip8JCknIC8vICgzKVxuICAgICsgJ3w8IVtBLVpdW1xcXFxzXFxcXFNdKj8oPzo+XFxcXG4qfCQpJyAvLyAoNClcbiAgICArICd8PCFcXFxcW0NEQVRBXFxcXFtbXFxcXHNcXFxcU10qPyg/OlxcXFxdXFxcXF0+XFxcXG4qfCQpJyAvLyAoNSlcbiAgICArICd8PC8/KHRhZykoPzogK3xcXFxcbnwvPz4pW1xcXFxzXFxcXFNdKj8oPzooPzpcXFxcbiAqKStcXFxcbnwkKScgLy8gKDYpXG4gICAgKyAnfDwoPyFzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhKShbYS16XVtcXFxcdy1dKikoPzphdHRyaWJ1dGUpKj8gKi8/Pig/PVsgXFxcXHRdKig/OlxcXFxufCQpKVtcXFxcc1xcXFxTXSo/KD86KD86XFxcXG4gKikrXFxcXG58JCknIC8vICg3KSBvcGVuIHRhZ1xuICAgICsgJ3w8Lyg/IXNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWEpW2Etel1bXFxcXHctXSpcXFxccyo+KD89WyBcXFxcdF0qKD86XFxcXG58JCkpW1xcXFxzXFxcXFNdKj8oPzooPzpcXFxcbiAqKStcXFxcbnwkKScgLy8gKDcpIGNsb3NpbmcgdGFnXG4gICAgKyAnKScsXG4gIGRlZjogL14gezAsM31cXFsobGFiZWwpXFxdOiAqXFxuPyAqPD8oW15cXHM+XSspPj8oPzooPzogK1xcbj8gKnwgKlxcbiAqKSh0aXRsZSkpPyAqKD86XFxuK3wkKS8sXG4gIHRhYmxlOiBub29wVGVzdCxcbiAgbGhlYWRpbmc6IC9eKFteXFxuXSspXFxuIHswLDN9KD0rfC0rKSAqKD86XFxuK3wkKS8sXG4gIC8vIHJlZ2V4IHRlbXBsYXRlLCBwbGFjZWhvbGRlcnMgd2lsbCBiZSByZXBsYWNlZCBhY2NvcmRpbmcgdG8gZGlmZmVyZW50IHBhcmFncmFwaFxuICAvLyBpbnRlcnJ1cHRpb24gcnVsZXMgb2YgY29tbW9ubWFyayBhbmQgdGhlIG9yaWdpbmFsIG1hcmtkb3duIHNwZWM6XG4gIF9wYXJhZ3JhcGg6IC9eKFteXFxuXSsoPzpcXG4oPyFocnxoZWFkaW5nfGxoZWFkaW5nfGJsb2NrcXVvdGV8ZmVuY2VzfGxpc3R8aHRtbHx0YWJsZXwgK1xcbilbXlxcbl0rKSopLyxcbiAgdGV4dDogL15bXlxcbl0rL1xufTtcblxuYmxvY2suX2xhYmVsID0gLyg/IVxccypcXF0pKD86XFxcXFtcXFtcXF1dfFteXFxbXFxdXSkrLztcbmJsb2NrLl90aXRsZSA9IC8oPzpcIig/OlxcXFxcIj98W15cIlxcXFxdKSpcInwnW14nXFxuXSooPzpcXG5bXidcXG5dKykqXFxuPyd8XFwoW14oKV0qXFwpKS87XG5ibG9jay5kZWYgPSBlZGl0KGJsb2NrLmRlZilcbiAgLnJlcGxhY2UoJ2xhYmVsJywgYmxvY2suX2xhYmVsKVxuICAucmVwbGFjZSgndGl0bGUnLCBibG9jay5fdGl0bGUpXG4gIC5nZXRSZWdleCgpO1xuXG5ibG9jay5idWxsZXQgPSAvKD86WyorLV18XFxkezEsOX1bLildKS87XG5ibG9jay5saXN0SXRlbVN0YXJ0ID0gZWRpdCgvXiggKikoYnVsbCkgKi8pXG4gIC5yZXBsYWNlKCdidWxsJywgYmxvY2suYnVsbGV0KVxuICAuZ2V0UmVnZXgoKTtcblxuYmxvY2subGlzdCA9IGVkaXQoYmxvY2subGlzdClcbiAgLnJlcGxhY2UoL2J1bGwvZywgYmxvY2suYnVsbGV0KVxuICAucmVwbGFjZSgnaHInLCAnXFxcXG4rKD89XFxcXDE/KD86KD86LSAqKXszLH18KD86XyAqKXszLH18KD86XFxcXCogKil7Myx9KSg/OlxcXFxuK3wkKSknKVxuICAucmVwbGFjZSgnZGVmJywgJ1xcXFxuKyg/PScgKyBibG9jay5kZWYuc291cmNlICsgJyknKVxuICAuZ2V0UmVnZXgoKTtcblxuYmxvY2suX3RhZyA9ICdhZGRyZXNzfGFydGljbGV8YXNpZGV8YmFzZXxiYXNlZm9udHxibG9ja3F1b3RlfGJvZHl8Y2FwdGlvbidcbiAgKyAnfGNlbnRlcnxjb2x8Y29sZ3JvdXB8ZGR8ZGV0YWlsc3xkaWFsb2d8ZGlyfGRpdnxkbHxkdHxmaWVsZHNldHxmaWdjYXB0aW9uJ1xuICArICd8ZmlndXJlfGZvb3Rlcnxmb3JtfGZyYW1lfGZyYW1lc2V0fGhbMS02XXxoZWFkfGhlYWRlcnxocnxodG1sfGlmcmFtZSdcbiAgKyAnfGxlZ2VuZHxsaXxsaW5rfG1haW58bWVudXxtZW51aXRlbXxtZXRhfG5hdnxub2ZyYW1lc3xvbHxvcHRncm91cHxvcHRpb24nXG4gICsgJ3xwfHBhcmFtfHNlY3Rpb258c291cmNlfHN1bW1hcnl8dGFibGV8dGJvZHl8dGR8dGZvb3R8dGh8dGhlYWR8dGl0bGV8dHInXG4gICsgJ3x0cmFja3x1bCc7XG5ibG9jay5fY29tbWVudCA9IC88IS0tKD8hLT8+KVtcXHNcXFNdKj8oPzotLT58JCkvO1xuYmxvY2suaHRtbCA9IGVkaXQoYmxvY2suaHRtbCwgJ2knKVxuICAucmVwbGFjZSgnY29tbWVudCcsIGJsb2NrLl9jb21tZW50KVxuICAucmVwbGFjZSgndGFnJywgYmxvY2suX3RhZylcbiAgLnJlcGxhY2UoJ2F0dHJpYnV0ZScsIC8gK1thLXpBLVo6X11bXFx3LjotXSooPzogKj0gKlwiW15cIlxcbl0qXCJ8ICo9IConW14nXFxuXSonfCAqPSAqW15cXHNcIic9PD5gXSspPy8pXG4gIC5nZXRSZWdleCgpO1xuXG5ibG9jay5wYXJhZ3JhcGggPSBlZGl0KGJsb2NrLl9wYXJhZ3JhcGgpXG4gIC5yZXBsYWNlKCdocicsIGJsb2NrLmhyKVxuICAucmVwbGFjZSgnaGVhZGluZycsICcgezAsM30jezEsNn0gJylcbiAgLnJlcGxhY2UoJ3xsaGVhZGluZycsICcnKSAvLyBzZXRleCBoZWFkaW5ncyBkb24ndCBpbnRlcnJ1cHQgY29tbW9ubWFyayBwYXJhZ3JhcGhzXG4gIC5yZXBsYWNlKCd8dGFibGUnLCAnJylcbiAgLnJlcGxhY2UoJ2Jsb2NrcXVvdGUnLCAnIHswLDN9PicpXG4gIC5yZXBsYWNlKCdmZW5jZXMnLCAnIHswLDN9KD86YHszLH0oPz1bXmBcXFxcbl0qXFxcXG4pfH57Myx9KVteXFxcXG5dKlxcXFxuJylcbiAgLnJlcGxhY2UoJ2xpc3QnLCAnIHswLDN9KD86WyorLV18MVsuKV0pICcpIC8vIG9ubHkgbGlzdHMgc3RhcnRpbmcgZnJvbSAxIGNhbiBpbnRlcnJ1cHRcbiAgLnJlcGxhY2UoJ2h0bWwnLCAnPC8/KD86dGFnKSg/OiArfFxcXFxufC8/Pil8PCg/OnNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWF8IS0tKScpXG4gIC5yZXBsYWNlKCd0YWcnLCBibG9jay5fdGFnKSAvLyBwYXJzIGNhbiBiZSBpbnRlcnJ1cHRlZCBieSB0eXBlICg2KSBodG1sIGJsb2Nrc1xuICAuZ2V0UmVnZXgoKTtcblxuYmxvY2suYmxvY2txdW90ZSA9IGVkaXQoYmxvY2suYmxvY2txdW90ZSlcbiAgLnJlcGxhY2UoJ3BhcmFncmFwaCcsIGJsb2NrLnBhcmFncmFwaClcbiAgLmdldFJlZ2V4KCk7XG5cbi8qKlxuICogTm9ybWFsIEJsb2NrIEdyYW1tYXJcbiAqL1xuXG5ibG9jay5ub3JtYWwgPSBtZXJnZSh7fSwgYmxvY2spO1xuXG4vKipcbiAqIEdGTSBCbG9jayBHcmFtbWFyXG4gKi9cblxuYmxvY2suZ2ZtID0gbWVyZ2Uoe30sIGJsb2NrLm5vcm1hbCwge1xuICB0YWJsZTogJ14gKihbXlxcXFxuIF0uKlxcXFx8LiopXFxcXG4nIC8vIEhlYWRlclxuICAgICsgJyB7MCwzfSg/OlxcXFx8ICopPyg6Py0rOj8gKig/OlxcXFx8ICo6Py0rOj8gKikqKSg/OlxcXFx8ICopPycgLy8gQWxpZ25cbiAgICArICcoPzpcXFxcbigoPzooPyEgKlxcXFxufGhyfGhlYWRpbmd8YmxvY2txdW90ZXxjb2RlfGZlbmNlc3xsaXN0fGh0bWwpLiooPzpcXFxcbnwkKSkqKVxcXFxuKnwkKScgLy8gQ2VsbHNcbn0pO1xuXG5ibG9jay5nZm0udGFibGUgPSBlZGl0KGJsb2NrLmdmbS50YWJsZSlcbiAgLnJlcGxhY2UoJ2hyJywgYmxvY2suaHIpXG4gIC5yZXBsYWNlKCdoZWFkaW5nJywgJyB7MCwzfSN7MSw2fSAnKVxuICAucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JylcbiAgLnJlcGxhY2UoJ2NvZGUnLCAnIHs0fVteXFxcXG5dJylcbiAgLnJlcGxhY2UoJ2ZlbmNlcycsICcgezAsM30oPzpgezMsfSg/PVteYFxcXFxuXSpcXFxcbil8fnszLH0pW15cXFxcbl0qXFxcXG4nKVxuICAucmVwbGFjZSgnbGlzdCcsICcgezAsM30oPzpbKistXXwxWy4pXSkgJykgLy8gb25seSBsaXN0cyBzdGFydGluZyBmcm9tIDEgY2FuIGludGVycnVwdFxuICAucmVwbGFjZSgnaHRtbCcsICc8Lz8oPzp0YWcpKD86ICt8XFxcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYXwhLS0pJylcbiAgLnJlcGxhY2UoJ3RhZycsIGJsb2NrLl90YWcpIC8vIHRhYmxlcyBjYW4gYmUgaW50ZXJydXB0ZWQgYnkgdHlwZSAoNikgaHRtbCBibG9ja3NcbiAgLmdldFJlZ2V4KCk7XG5cbmJsb2NrLmdmbS5wYXJhZ3JhcGggPSBlZGl0KGJsb2NrLl9wYXJhZ3JhcGgpXG4gIC5yZXBsYWNlKCdocicsIGJsb2NrLmhyKVxuICAucmVwbGFjZSgnaGVhZGluZycsICcgezAsM30jezEsNn0gJylcbiAgLnJlcGxhY2UoJ3xsaGVhZGluZycsICcnKSAvLyBzZXRleCBoZWFkaW5ncyBkb24ndCBpbnRlcnJ1cHQgY29tbW9ubWFyayBwYXJhZ3JhcGhzXG4gIC5yZXBsYWNlKCd0YWJsZScsIGJsb2NrLmdmbS50YWJsZSkgLy8gaW50ZXJydXB0IHBhcmFncmFwaHMgd2l0aCB0YWJsZVxuICAucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JylcbiAgLnJlcGxhY2UoJ2ZlbmNlcycsICcgezAsM30oPzpgezMsfSg/PVteYFxcXFxuXSpcXFxcbil8fnszLH0pW15cXFxcbl0qXFxcXG4nKVxuICAucmVwbGFjZSgnbGlzdCcsICcgezAsM30oPzpbKistXXwxWy4pXSkgJykgLy8gb25seSBsaXN0cyBzdGFydGluZyBmcm9tIDEgY2FuIGludGVycnVwdFxuICAucmVwbGFjZSgnaHRtbCcsICc8Lz8oPzp0YWcpKD86ICt8XFxcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYXwhLS0pJylcbiAgLnJlcGxhY2UoJ3RhZycsIGJsb2NrLl90YWcpIC8vIHBhcnMgY2FuIGJlIGludGVycnVwdGVkIGJ5IHR5cGUgKDYpIGh0bWwgYmxvY2tzXG4gIC5nZXRSZWdleCgpO1xuLyoqXG4gKiBQZWRhbnRpYyBncmFtbWFyIChvcmlnaW5hbCBKb2huIEdydWJlcidzIGxvb3NlIG1hcmtkb3duIHNwZWNpZmljYXRpb24pXG4gKi9cblxuYmxvY2sucGVkYW50aWMgPSBtZXJnZSh7fSwgYmxvY2subm9ybWFsLCB7XG4gIGh0bWw6IGVkaXQoXG4gICAgJ14gKig/OmNvbW1lbnQgKig/OlxcXFxufFxcXFxzKiQpJ1xuICAgICsgJ3w8KHRhZylbXFxcXHNcXFxcU10rPzwvXFxcXDE+ICooPzpcXFxcbnsyLH18XFxcXHMqJCknIC8vIGNsb3NlZCB0YWdcbiAgICArICd8PHRhZyg/OlwiW15cIl0qXCJ8XFwnW15cXCddKlxcJ3xcXFxcc1teXFwnXCIvPlxcXFxzXSopKj8vPz4gKig/OlxcXFxuezIsfXxcXFxccyokKSknKVxuICAgIC5yZXBsYWNlKCdjb21tZW50JywgYmxvY2suX2NvbW1lbnQpXG4gICAgLnJlcGxhY2UoL3RhZy9nLCAnKD8hKD86J1xuICAgICAgKyAnYXxlbXxzdHJvbmd8c21hbGx8c3xjaXRlfHF8ZGZufGFiYnJ8ZGF0YXx0aW1lfGNvZGV8dmFyfHNhbXB8a2JkfHN1YidcbiAgICAgICsgJ3xzdXB8aXxifHV8bWFya3xydWJ5fHJ0fHJwfGJkaXxiZG98c3Bhbnxicnx3YnJ8aW5zfGRlbHxpbWcpJ1xuICAgICAgKyAnXFxcXGIpXFxcXHcrKD8hOnxbXlxcXFx3XFxcXHNAXSpAKVxcXFxiJylcbiAgICAuZ2V0UmVnZXgoKSxcbiAgZGVmOiAvXiAqXFxbKFteXFxdXSspXFxdOiAqPD8oW15cXHM+XSspPj8oPzogKyhbXCIoXVteXFxuXStbXCIpXSkpPyAqKD86XFxuK3wkKS8sXG4gIGhlYWRpbmc6IC9eKCN7MSw2fSkoLiopKD86XFxuK3wkKS8sXG4gIGZlbmNlczogbm9vcFRlc3QsIC8vIGZlbmNlcyBub3Qgc3VwcG9ydGVkXG4gIHBhcmFncmFwaDogZWRpdChibG9jay5ub3JtYWwuX3BhcmFncmFwaClcbiAgICAucmVwbGFjZSgnaHInLCBibG9jay5ocilcbiAgICAucmVwbGFjZSgnaGVhZGluZycsICcgKiN7MSw2fSAqW15cXG5dJylcbiAgICAucmVwbGFjZSgnbGhlYWRpbmcnLCBibG9jay5saGVhZGluZylcbiAgICAucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JylcbiAgICAucmVwbGFjZSgnfGZlbmNlcycsICcnKVxuICAgIC5yZXBsYWNlKCd8bGlzdCcsICcnKVxuICAgIC5yZXBsYWNlKCd8aHRtbCcsICcnKVxuICAgIC5nZXRSZWdleCgpXG59KTtcblxuLyoqXG4gKiBJbmxpbmUtTGV2ZWwgR3JhbW1hclxuICovXG5jb25zdCBpbmxpbmUgPSB7XG4gIGVzY2FwZTogL15cXFxcKFshXCIjJCUmJygpKissXFwtLi86Ozw9Pj9AXFxbXFxdXFxcXF5fYHt8fX5dKS8sXG4gIGF1dG9saW5rOiAvXjwoc2NoZW1lOlteXFxzXFx4MDAtXFx4MWY8Pl0qfGVtYWlsKT4vLFxuICB1cmw6IG5vb3BUZXN0LFxuICB0YWc6ICdeY29tbWVudCdcbiAgICArICd8XjwvW2EtekEtWl1bXFxcXHc6LV0qXFxcXHMqPicgLy8gc2VsZi1jbG9zaW5nIHRhZ1xuICAgICsgJ3xePFthLXpBLVpdW1xcXFx3LV0qKD86YXR0cmlidXRlKSo/XFxcXHMqLz8+JyAvLyBvcGVuIHRhZ1xuICAgICsgJ3xePFxcXFw/W1xcXFxzXFxcXFNdKj9cXFxcPz4nIC8vIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24sIGUuZy4gPD9waHAgPz5cbiAgICArICd8XjwhW2EtekEtWl0rXFxcXHNbXFxcXHNcXFxcU10qPz4nIC8vIGRlY2xhcmF0aW9uLCBlLmcuIDwhRE9DVFlQRSBodG1sPlxuICAgICsgJ3xePCFcXFxcW0NEQVRBXFxcXFtbXFxcXHNcXFxcU10qP1xcXFxdXFxcXF0+JywgLy8gQ0RBVEEgc2VjdGlvblxuICBsaW5rOiAvXiE/XFxbKGxhYmVsKVxcXVxcKFxccyooaHJlZikoPzpcXHMrKHRpdGxlKSk/XFxzKlxcKS8sXG4gIHJlZmxpbms6IC9eIT9cXFsobGFiZWwpXFxdXFxbKD8hXFxzKlxcXSkoKD86XFxcXFtcXFtcXF1dP3xbXlxcW1xcXVxcXFxdKSspXFxdLyxcbiAgbm9saW5rOiAvXiE/XFxbKD8hXFxzKlxcXSkoKD86XFxbW15cXFtcXF1dKlxcXXxcXFxcW1xcW1xcXV18W15cXFtcXF1dKSopXFxdKD86XFxbXFxdKT8vLFxuICByZWZsaW5rU2VhcmNoOiAncmVmbGlua3xub2xpbmsoPyFcXFxcKCknLFxuICBlbVN0cm9uZzoge1xuICAgIGxEZWxpbTogL14oPzpcXCorKD86KFtwdW5jdF9dKXxbXlxccypdKSl8Xl8rKD86KFtwdW5jdCpdKXwoW15cXHNfXSkpLyxcbiAgICAvLyAgICAgICAgKDEpIGFuZCAoMikgY2FuIG9ubHkgYmUgYSBSaWdodCBEZWxpbWl0ZXIuICgzKSBhbmQgKDQpIGNhbiBvbmx5IGJlIExlZnQuICAoNSkgYW5kICg2KSBjYW4gYmUgZWl0aGVyIExlZnQgb3IgUmlnaHQuXG4gICAgLy8gICAgICAgICgpIFNraXAgb3JwaGFuIGRlbGltIGluc2lkZSBzdHJvbmcgICAgKDEpICMqKiogICAgICAgICAgICAgICAgKDIpIGEqKiojLCBhKioqICAgICAgICAgICAgICAgICAgICgzKSAjKioqYSwgKioqYSAgICAgICAgICAgICAgICAgKDQpICoqKiMgICAgICAgICAgICAgICg1KSAjKioqIyAgICAgICAgICAgICAgICAgKDYpIGEqKiphXG4gICAgckRlbGltQXN0OiAvXlteXypdKj9cXF9cXF9bXl8qXSo/XFwqW15fKl0qPyg/PVxcX1xcXyl8W3B1bmN0X10oXFwqKykoPz1bXFxzXXwkKXxbXnB1bmN0Kl9cXHNdKFxcKispKD89W3B1bmN0X1xcc118JCl8W3B1bmN0X1xcc10oXFwqKykoPz1bXnB1bmN0Kl9cXHNdKXxbXFxzXShcXCorKSg/PVtwdW5jdF9dKXxbcHVuY3RfXShcXCorKSg/PVtwdW5jdF9dKXxbXnB1bmN0Kl9cXHNdKFxcKispKD89W15wdW5jdCpfXFxzXSkvLFxuICAgIHJEZWxpbVVuZDogL15bXl8qXSo/XFwqXFwqW15fKl0qP1xcX1teXypdKj8oPz1cXCpcXCopfFtwdW5jdCpdKFxcXyspKD89W1xcc118JCl8W15wdW5jdCpfXFxzXShcXF8rKSg/PVtwdW5jdCpcXHNdfCQpfFtwdW5jdCpcXHNdKFxcXyspKD89W15wdW5jdCpfXFxzXSl8W1xcc10oXFxfKykoPz1bcHVuY3QqXSl8W3B1bmN0Kl0oXFxfKykoPz1bcHVuY3QqXSkvIC8vIF4tIE5vdCBhbGxvd2VkIGZvciBfXG4gIH0sXG4gIGNvZGU6IC9eKGArKShbXmBdfFteYF1bXFxzXFxTXSo/W15gXSlcXDEoPyFgKS8sXG4gIGJyOiAvXiggezIsfXxcXFxcKVxcbig/IVxccyokKS8sXG4gIGRlbDogbm9vcFRlc3QsXG4gIHRleHQ6IC9eKGArfFteYF0pKD86KD89IHsyLH1cXG4pfFtcXHNcXFNdKj8oPzooPz1bXFxcXDwhXFxbYCpfXXxcXGJffCQpfFteIF0oPz0gezIsfVxcbikpKS8sXG4gIHB1bmN0dWF0aW9uOiAvXihbXFxzcHVuY3R1YXRpb25dKS9cbn07XG5cbi8vIGxpc3Qgb2YgcHVuY3R1YXRpb24gbWFya3MgZnJvbSBDb21tb25NYXJrIHNwZWNcbi8vIHdpdGhvdXQgKiBhbmQgXyB0byBoYW5kbGUgdGhlIGRpZmZlcmVudCBlbXBoYXNpcyBtYXJrZXJzICogYW5kIF9cbmlubGluZS5fcHVuY3R1YXRpb24gPSAnIVwiIyQlJlxcJygpK1xcXFwtLiwvOjs8PT4/QFxcXFxbXFxcXF1gXnt8fX4nO1xuaW5saW5lLnB1bmN0dWF0aW9uID0gZWRpdChpbmxpbmUucHVuY3R1YXRpb24pLnJlcGxhY2UoL3B1bmN0dWF0aW9uL2csIGlubGluZS5fcHVuY3R1YXRpb24pLmdldFJlZ2V4KCk7XG5cbi8vIHNlcXVlbmNlcyBlbSBzaG91bGQgc2tpcCBvdmVyIFt0aXRsZV0obGluayksIGBjb2RlYCwgPGh0bWw+XG5pbmxpbmUuYmxvY2tTa2lwID0gL1xcW1teXFxdXSo/XFxdXFwoW15cXCldKj9cXCl8YFteYF0qP2B8PFtePl0qPz4vZztcbmlubGluZS5lc2NhcGVkRW1TdCA9IC9cXFxcXFwqfFxcXFxfL2c7XG5cbmlubGluZS5fY29tbWVudCA9IGVkaXQoYmxvY2suX2NvbW1lbnQpLnJlcGxhY2UoJyg/Oi0tPnwkKScsICctLT4nKS5nZXRSZWdleCgpO1xuXG5pbmxpbmUuZW1TdHJvbmcubERlbGltID0gZWRpdChpbmxpbmUuZW1TdHJvbmcubERlbGltKVxuICAucmVwbGFjZSgvcHVuY3QvZywgaW5saW5lLl9wdW5jdHVhdGlvbilcbiAgLmdldFJlZ2V4KCk7XG5cbmlubGluZS5lbVN0cm9uZy5yRGVsaW1Bc3QgPSBlZGl0KGlubGluZS5lbVN0cm9uZy5yRGVsaW1Bc3QsICdnJylcbiAgLnJlcGxhY2UoL3B1bmN0L2csIGlubGluZS5fcHVuY3R1YXRpb24pXG4gIC5nZXRSZWdleCgpO1xuXG5pbmxpbmUuZW1TdHJvbmcuckRlbGltVW5kID0gZWRpdChpbmxpbmUuZW1TdHJvbmcuckRlbGltVW5kLCAnZycpXG4gIC5yZXBsYWNlKC9wdW5jdC9nLCBpbmxpbmUuX3B1bmN0dWF0aW9uKVxuICAuZ2V0UmVnZXgoKTtcblxuaW5saW5lLl9lc2NhcGVzID0gL1xcXFwoWyFcIiMkJSYnKCkqKyxcXC0uLzo7PD0+P0BcXFtcXF1cXFxcXl9ge3x9fl0pL2c7XG5cbmlubGluZS5fc2NoZW1lID0gL1thLXpBLVpdW2EtekEtWjAtOSsuLV17MSwzMX0vO1xuaW5saW5lLl9lbWFpbCA9IC9bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dKyhAKVthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykrKD8hWy1fXSkvO1xuaW5saW5lLmF1dG9saW5rID0gZWRpdChpbmxpbmUuYXV0b2xpbmspXG4gIC5yZXBsYWNlKCdzY2hlbWUnLCBpbmxpbmUuX3NjaGVtZSlcbiAgLnJlcGxhY2UoJ2VtYWlsJywgaW5saW5lLl9lbWFpbClcbiAgLmdldFJlZ2V4KCk7XG5cbmlubGluZS5fYXR0cmlidXRlID0gL1xccytbYS16QS1aOl9dW1xcdy46LV0qKD86XFxzKj1cXHMqXCJbXlwiXSpcInxcXHMqPVxccyonW14nXSonfFxccyo9XFxzKlteXFxzXCInPTw+YF0rKT8vO1xuXG5pbmxpbmUudGFnID0gZWRpdChpbmxpbmUudGFnKVxuICAucmVwbGFjZSgnY29tbWVudCcsIGlubGluZS5fY29tbWVudClcbiAgLnJlcGxhY2UoJ2F0dHJpYnV0ZScsIGlubGluZS5fYXR0cmlidXRlKVxuICAuZ2V0UmVnZXgoKTtcblxuaW5saW5lLl9sYWJlbCA9IC8oPzpcXFsoPzpcXFxcLnxbXlxcW1xcXVxcXFxdKSpcXF18XFxcXC58YFteYF0qYHxbXlxcW1xcXVxcXFxgXSkqPy87XG5pbmxpbmUuX2hyZWYgPSAvPCg/OlxcXFwufFteXFxuPD5cXFxcXSkrPnxbXlxcc1xceDAwLVxceDFmXSovO1xuaW5saW5lLl90aXRsZSA9IC9cIig/OlxcXFxcIj98W15cIlxcXFxdKSpcInwnKD86XFxcXCc/fFteJ1xcXFxdKSonfFxcKCg/OlxcXFxcXCk/fFteKVxcXFxdKSpcXCkvO1xuXG5pbmxpbmUubGluayA9IGVkaXQoaW5saW5lLmxpbmspXG4gIC5yZXBsYWNlKCdsYWJlbCcsIGlubGluZS5fbGFiZWwpXG4gIC5yZXBsYWNlKCdocmVmJywgaW5saW5lLl9ocmVmKVxuICAucmVwbGFjZSgndGl0bGUnLCBpbmxpbmUuX3RpdGxlKVxuICAuZ2V0UmVnZXgoKTtcblxuaW5saW5lLnJlZmxpbmsgPSBlZGl0KGlubGluZS5yZWZsaW5rKVxuICAucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKVxuICAuZ2V0UmVnZXgoKTtcblxuaW5saW5lLnJlZmxpbmtTZWFyY2ggPSBlZGl0KGlubGluZS5yZWZsaW5rU2VhcmNoLCAnZycpXG4gIC5yZXBsYWNlKCdyZWZsaW5rJywgaW5saW5lLnJlZmxpbmspXG4gIC5yZXBsYWNlKCdub2xpbmsnLCBpbmxpbmUubm9saW5rKVxuICAuZ2V0UmVnZXgoKTtcblxuLyoqXG4gKiBOb3JtYWwgSW5saW5lIEdyYW1tYXJcbiAqL1xuXG5pbmxpbmUubm9ybWFsID0gbWVyZ2Uoe30sIGlubGluZSk7XG5cbi8qKlxuICogUGVkYW50aWMgSW5saW5lIEdyYW1tYXJcbiAqL1xuXG5pbmxpbmUucGVkYW50aWMgPSBtZXJnZSh7fSwgaW5saW5lLm5vcm1hbCwge1xuICBzdHJvbmc6IHtcbiAgICBzdGFydDogL15fX3xcXCpcXCovLFxuICAgIG1pZGRsZTogL15fXyg/PVxcUykoW1xcc1xcU10qP1xcUylfXyg/IV8pfF5cXCpcXCooPz1cXFMpKFtcXHNcXFNdKj9cXFMpXFwqXFwqKD8hXFwqKS8sXG4gICAgZW5kQXN0OiAvXFwqXFwqKD8hXFwqKS9nLFxuICAgIGVuZFVuZDogL19fKD8hXykvZ1xuICB9LFxuICBlbToge1xuICAgIHN0YXJ0OiAvXl98XFwqLyxcbiAgICBtaWRkbGU6IC9eKClcXCooPz1cXFMpKFtcXHNcXFNdKj9cXFMpXFwqKD8hXFwqKXxeXyg/PVxcUykoW1xcc1xcU10qP1xcUylfKD8hXykvLFxuICAgIGVuZEFzdDogL1xcKig/IVxcKikvZyxcbiAgICBlbmRVbmQ6IC9fKD8hXykvZ1xuICB9LFxuICBsaW5rOiBlZGl0KC9eIT9cXFsobGFiZWwpXFxdXFwoKC4qPylcXCkvKVxuICAgIC5yZXBsYWNlKCdsYWJlbCcsIGlubGluZS5fbGFiZWwpXG4gICAgLmdldFJlZ2V4KCksXG4gIHJlZmxpbms6IGVkaXQoL14hP1xcWyhsYWJlbClcXF1cXHMqXFxbKFteXFxdXSopXFxdLylcbiAgICAucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKVxuICAgIC5nZXRSZWdleCgpXG59KTtcblxuLyoqXG4gKiBHRk0gSW5saW5lIEdyYW1tYXJcbiAqL1xuXG5pbmxpbmUuZ2ZtID0gbWVyZ2Uoe30sIGlubGluZS5ub3JtYWwsIHtcbiAgZXNjYXBlOiBlZGl0KGlubGluZS5lc2NhcGUpLnJlcGxhY2UoJ10pJywgJ358XSknKS5nZXRSZWdleCgpLFxuICBfZXh0ZW5kZWRfZW1haWw6IC9bQS1aYS16MC05Ll8rLV0rKEApW2EtekEtWjAtOS1fXSsoPzpcXC5bYS16QS1aMC05LV9dKlthLXpBLVowLTldKSsoPyFbLV9dKS8sXG4gIHVybDogL14oKD86ZnRwfGh0dHBzPyk6XFwvXFwvfHd3d1xcLikoPzpbYS16QS1aMC05XFwtXStcXC4/KStbXlxcczxdKnxeZW1haWwvLFxuICBfYmFja3BlZGFsOiAvKD86W14/IS4sOjsqX34oKSZdK3xcXChbXildKlxcKXwmKD8hW2EtekEtWjAtOV0rOyQpfFs/IS4sOjsqX34pXSsoPyEkKSkrLyxcbiAgZGVsOiAvXih+fj8pKD89W15cXHN+XSkoW1xcc1xcU10qP1teXFxzfl0pXFwxKD89W15+XXwkKS8sXG4gIHRleHQ6IC9eKFtgfl0rfFteYH5dKSg/Oig/PSB7Mix9XFxuKXwoPz1bYS16QS1aMC05LiEjJCUmJyorXFwvPT9fYHtcXHx9fi1dK0ApfFtcXHNcXFNdKj8oPzooPz1bXFxcXDwhXFxbYCp+X118XFxiX3xodHRwcz86XFwvXFwvfGZ0cDpcXC9cXC98d3d3XFwufCQpfFteIF0oPz0gezIsfVxcbil8W15hLXpBLVowLTkuISMkJSYnKitcXC89P19ge1xcfH1+LV0oPz1bYS16QS1aMC05LiEjJCUmJyorXFwvPT9fYHtcXHx9fi1dK0ApKSkvXG59KTtcblxuaW5saW5lLmdmbS51cmwgPSBlZGl0KGlubGluZS5nZm0udXJsLCAnaScpXG4gIC5yZXBsYWNlKCdlbWFpbCcsIGlubGluZS5nZm0uX2V4dGVuZGVkX2VtYWlsKVxuICAuZ2V0UmVnZXgoKTtcbi8qKlxuICogR0ZNICsgTGluZSBCcmVha3MgSW5saW5lIEdyYW1tYXJcbiAqL1xuXG5pbmxpbmUuYnJlYWtzID0gbWVyZ2Uoe30sIGlubGluZS5nZm0sIHtcbiAgYnI6IGVkaXQoaW5saW5lLmJyKS5yZXBsYWNlKCd7Mix9JywgJyonKS5nZXRSZWdleCgpLFxuICB0ZXh0OiBlZGl0KGlubGluZS5nZm0udGV4dClcbiAgICAucmVwbGFjZSgnXFxcXGJfJywgJ1xcXFxiX3wgezIsfVxcXFxuJylcbiAgICAucmVwbGFjZSgvXFx7MixcXH0vZywgJyonKVxuICAgIC5nZXRSZWdleCgpXG59KTtcblxuLyoqXG4gKiBzbWFydHlwYW50cyB0ZXh0IHJlcGxhY2VtZW50XG4gKi9cbmZ1bmN0aW9uIHNtYXJ0eXBhbnRzKHRleHQpIHtcbiAgcmV0dXJuIHRleHRcbiAgICAvLyBlbS1kYXNoZXNcbiAgICAucmVwbGFjZSgvLS0tL2csICdcXHUyMDE0JylcbiAgICAvLyBlbi1kYXNoZXNcbiAgICAucmVwbGFjZSgvLS0vZywgJ1xcdTIwMTMnKVxuICAgIC8vIG9wZW5pbmcgc2luZ2xlc1xuICAgIC5yZXBsYWNlKC8oXnxbLVxcdTIwMTQvKFxcW3tcIlxcc10pJy9nLCAnJDFcXHUyMDE4JylcbiAgICAvLyBjbG9zaW5nIHNpbmdsZXMgJiBhcG9zdHJvcGhlc1xuICAgIC5yZXBsYWNlKC8nL2csICdcXHUyMDE5JylcbiAgICAvLyBvcGVuaW5nIGRvdWJsZXNcbiAgICAucmVwbGFjZSgvKF58Wy1cXHUyMDE0LyhcXFt7XFx1MjAxOFxcc10pXCIvZywgJyQxXFx1MjAxYycpXG4gICAgLy8gY2xvc2luZyBkb3VibGVzXG4gICAgLnJlcGxhY2UoL1wiL2csICdcXHUyMDFkJylcbiAgICAvLyBlbGxpcHNlc1xuICAgIC5yZXBsYWNlKC9cXC57M30vZywgJ1xcdTIwMjYnKTtcbn1cblxuLyoqXG4gKiBtYW5nbGUgZW1haWwgYWRkcmVzc2VzXG4gKi9cbmZ1bmN0aW9uIG1hbmdsZSh0ZXh0KSB7XG4gIGxldCBvdXQgPSAnJyxcbiAgICBpLFxuICAgIGNoO1xuXG4gIGNvbnN0IGwgPSB0ZXh0Lmxlbmd0aDtcbiAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIGNoID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC41KSB7XG4gICAgICBjaCA9ICd4JyArIGNoLnRvU3RyaW5nKDE2KTtcbiAgICB9XG4gICAgb3V0ICs9ICcmIycgKyBjaCArICc7JztcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQmxvY2sgTGV4ZXJcbiAqL1xuY2xhc3MgTGV4ZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy50b2tlbnMgPSBbXTtcbiAgICB0aGlzLnRva2Vucy5saW5rcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBkZWZhdWx0cztcbiAgICB0aGlzLm9wdGlvbnMudG9rZW5pemVyID0gdGhpcy5vcHRpb25zLnRva2VuaXplciB8fCBuZXcgVG9rZW5pemVyKCk7XG4gICAgdGhpcy50b2tlbml6ZXIgPSB0aGlzLm9wdGlvbnMudG9rZW5pemVyO1xuICAgIHRoaXMudG9rZW5pemVyLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgdGhpcy50b2tlbml6ZXIubGV4ZXIgPSB0aGlzO1xuICAgIHRoaXMuaW5saW5lUXVldWUgPSBbXTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaW5MaW5rOiBmYWxzZSxcbiAgICAgIGluUmF3QmxvY2s6IGZhbHNlLFxuICAgICAgdG9wOiB0cnVlXG4gICAgfTtcblxuICAgIGNvbnN0IHJ1bGVzID0ge1xuICAgICAgYmxvY2s6IGJsb2NrLm5vcm1hbCxcbiAgICAgIGlubGluZTogaW5saW5lLm5vcm1hbFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgICBydWxlcy5ibG9jayA9IGJsb2NrLnBlZGFudGljO1xuICAgICAgcnVsZXMuaW5saW5lID0gaW5saW5lLnBlZGFudGljO1xuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmdmbSkge1xuICAgICAgcnVsZXMuYmxvY2sgPSBibG9jay5nZm07XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmJyZWFrcykge1xuICAgICAgICBydWxlcy5pbmxpbmUgPSBpbmxpbmUuYnJlYWtzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcnVsZXMuaW5saW5lID0gaW5saW5lLmdmbTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50b2tlbml6ZXIucnVsZXMgPSBydWxlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBvc2UgUnVsZXNcbiAgICovXG4gIHN0YXRpYyBnZXQgcnVsZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJsb2NrLFxuICAgICAgaW5saW5lXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGF0aWMgTGV4IE1ldGhvZFxuICAgKi9cbiAgc3RhdGljIGxleChzcmMsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBsZXhlciA9IG5ldyBMZXhlcihvcHRpb25zKTtcbiAgICByZXR1cm4gbGV4ZXIubGV4KHNyYyk7XG4gIH1cblxuICAvKipcbiAgICogU3RhdGljIExleCBJbmxpbmUgTWV0aG9kXG4gICAqL1xuICBzdGF0aWMgbGV4SW5saW5lKHNyYywgb3B0aW9ucykge1xuICAgIGNvbnN0IGxleGVyID0gbmV3IExleGVyKG9wdGlvbnMpO1xuICAgIHJldHVybiBsZXhlci5pbmxpbmVUb2tlbnMoc3JjKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmVwcm9jZXNzaW5nXG4gICAqL1xuICBsZXgoc3JjKSB7XG4gICAgc3JjID0gc3JjXG4gICAgICAucmVwbGFjZSgvXFxyXFxufFxcci9nLCAnXFxuJylcbiAgICAgIC5yZXBsYWNlKC9cXHQvZywgJyAgICAnKTtcblxuICAgIHRoaXMuYmxvY2tUb2tlbnMoc3JjLCB0aGlzLnRva2Vucyk7XG5cbiAgICBsZXQgbmV4dDtcbiAgICB3aGlsZSAobmV4dCA9IHRoaXMuaW5saW5lUXVldWUuc2hpZnQoKSkge1xuICAgICAgdGhpcy5pbmxpbmVUb2tlbnMobmV4dC5zcmMsIG5leHQudG9rZW5zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy50b2tlbnM7XG4gIH1cblxuICAvKipcbiAgICogTGV4aW5nXG4gICAqL1xuICBibG9ja1Rva2VucyhzcmMsIHRva2VucyA9IFtdKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYykge1xuICAgICAgc3JjID0gc3JjLnJlcGxhY2UoL14gKyQvZ20sICcnKTtcbiAgICB9XG4gICAgbGV0IHRva2VuLCBsYXN0VG9rZW4sIGN1dFNyYywgbGFzdFBhcmFncmFwaENsaXBwZWQ7XG5cbiAgICB3aGlsZSAoc3JjKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmV4dGVuc2lvbnNcbiAgICAgICAgJiYgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuYmxvY2tcbiAgICAgICAgJiYgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuYmxvY2suc29tZSgoZXh0VG9rZW5pemVyKSA9PiB7XG4gICAgICAgICAgaWYgKHRva2VuID0gZXh0VG9rZW5pemVyLmNhbGwoeyBsZXhlcjogdGhpcyB9LCBzcmMsIHRva2VucykpIHtcbiAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gbmV3bGluZVxuICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuc3BhY2Uoc3JjKSkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICBpZiAodG9rZW4udHlwZSkge1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gY29kZVxuICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuY29kZShzcmMpKSB7XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgIGxhc3RUb2tlbiA9IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV07XG4gICAgICAgIC8vIEFuIGluZGVudGVkIGNvZGUgYmxvY2sgY2Fubm90IGludGVycnVwdCBhIHBhcmFncmFwaC5cbiAgICAgICAgaWYgKGxhc3RUb2tlbiAmJiAobGFzdFRva2VuLnR5cGUgPT09ICdwYXJhZ3JhcGgnIHx8IGxhc3RUb2tlbi50eXBlID09PSAndGV4dCcpKSB7XG4gICAgICAgICAgbGFzdFRva2VuLnJhdyArPSAnXFxuJyArIHRva2VuLnJhdztcbiAgICAgICAgICBsYXN0VG9rZW4udGV4dCArPSAnXFxuJyArIHRva2VuLnRleHQ7XG4gICAgICAgICAgdGhpcy5pbmxpbmVRdWV1ZVt0aGlzLmlubGluZVF1ZXVlLmxlbmd0aCAtIDFdLnNyYyA9IGxhc3RUb2tlbi50ZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gZmVuY2VzXG4gICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5mZW5jZXMoc3JjKSkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBoZWFkaW5nXG4gICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5oZWFkaW5nKHNyYykpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gaHJcbiAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmhyKHNyYykpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gYmxvY2txdW90ZVxuICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuYmxvY2txdW90ZShzcmMpKSB7XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGxpc3RcbiAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmxpc3Qoc3JjKSkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBodG1sXG4gICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5odG1sKHNyYykpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gZGVmXG4gICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5kZWYoc3JjKSkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICBsYXN0VG9rZW4gPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobGFzdFRva2VuICYmIChsYXN0VG9rZW4udHlwZSA9PT0gJ3BhcmFncmFwaCcgfHwgbGFzdFRva2VuLnR5cGUgPT09ICd0ZXh0JykpIHtcbiAgICAgICAgICBsYXN0VG9rZW4ucmF3ICs9ICdcXG4nICsgdG9rZW4ucmF3O1xuICAgICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9ICdcXG4nICsgdG9rZW4ucmF3O1xuICAgICAgICAgIHRoaXMuaW5saW5lUXVldWVbdGhpcy5pbmxpbmVRdWV1ZS5sZW5ndGggLSAxXS5zcmMgPSBsYXN0VG9rZW4udGV4dDtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy50b2tlbnMubGlua3NbdG9rZW4udGFnXSkge1xuICAgICAgICAgIHRoaXMudG9rZW5zLmxpbmtzW3Rva2VuLnRhZ10gPSB7XG4gICAgICAgICAgICBocmVmOiB0b2tlbi5ocmVmLFxuICAgICAgICAgICAgdGl0bGU6IHRva2VuLnRpdGxlXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gdGFibGUgKGdmbSlcbiAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnRhYmxlKHNyYykpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gbGhlYWRpbmdcbiAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmxoZWFkaW5nKHNyYykpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gdG9wLWxldmVsIHBhcmFncmFwaFxuICAgICAgLy8gcHJldmVudCBwYXJhZ3JhcGggY29uc3VtaW5nIGV4dGVuc2lvbnMgYnkgY2xpcHBpbmcgJ3NyYycgdG8gZXh0ZW5zaW9uIHN0YXJ0XG4gICAgICBjdXRTcmMgPSBzcmM7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmV4dGVuc2lvbnMgJiYgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuc3RhcnRCbG9jaykge1xuICAgICAgICBsZXQgc3RhcnRJbmRleCA9IEluZmluaXR5O1xuICAgICAgICBjb25zdCB0ZW1wU3JjID0gc3JjLnNsaWNlKDEpO1xuICAgICAgICBsZXQgdGVtcFN0YXJ0O1xuICAgICAgICB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5zdGFydEJsb2NrLmZvckVhY2goZnVuY3Rpb24oZ2V0U3RhcnRJbmRleCkge1xuICAgICAgICAgIHRlbXBTdGFydCA9IGdldFN0YXJ0SW5kZXguY2FsbCh7IGxleGVyOiB0aGlzIH0sIHRlbXBTcmMpO1xuICAgICAgICAgIGlmICh0eXBlb2YgdGVtcFN0YXJ0ID09PSAnbnVtYmVyJyAmJiB0ZW1wU3RhcnQgPj0gMCkgeyBzdGFydEluZGV4ID0gTWF0aC5taW4oc3RhcnRJbmRleCwgdGVtcFN0YXJ0KTsgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHN0YXJ0SW5kZXggPCBJbmZpbml0eSAmJiBzdGFydEluZGV4ID49IDApIHtcbiAgICAgICAgICBjdXRTcmMgPSBzcmMuc3Vic3RyaW5nKDAsIHN0YXJ0SW5kZXggKyAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3RhdGUudG9wICYmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnBhcmFncmFwaChjdXRTcmMpKSkge1xuICAgICAgICBsYXN0VG9rZW4gPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobGFzdFBhcmFncmFwaENsaXBwZWQgJiYgbGFzdFRva2VuLnR5cGUgPT09ICdwYXJhZ3JhcGgnKSB7XG4gICAgICAgICAgbGFzdFRva2VuLnJhdyArPSAnXFxuJyArIHRva2VuLnJhdztcbiAgICAgICAgICBsYXN0VG9rZW4udGV4dCArPSAnXFxuJyArIHRva2VuLnRleHQ7XG4gICAgICAgICAgdGhpcy5pbmxpbmVRdWV1ZS5wb3AoKTtcbiAgICAgICAgICB0aGlzLmlubGluZVF1ZXVlW3RoaXMuaW5saW5lUXVldWUubGVuZ3RoIC0gMV0uc3JjID0gbGFzdFRva2VuLnRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RQYXJhZ3JhcGhDbGlwcGVkID0gKGN1dFNyYy5sZW5ndGggIT09IHNyYy5sZW5ndGgpO1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gdGV4dFxuICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIudGV4dChzcmMpKSB7XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgIGxhc3RUb2tlbiA9IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChsYXN0VG9rZW4gJiYgbGFzdFRva2VuLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgIGxhc3RUb2tlbi5yYXcgKz0gJ1xcbicgKyB0b2tlbi5yYXc7XG4gICAgICAgICAgbGFzdFRva2VuLnRleHQgKz0gJ1xcbicgKyB0b2tlbi50ZXh0O1xuICAgICAgICAgIHRoaXMuaW5saW5lUXVldWUucG9wKCk7XG4gICAgICAgICAgdGhpcy5pbmxpbmVRdWV1ZVt0aGlzLmlubGluZVF1ZXVlLmxlbmd0aCAtIDFdLnNyYyA9IGxhc3RUb2tlbi50ZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNyYykge1xuICAgICAgICBjb25zdCBlcnJNc2cgPSAnSW5maW5pdGUgbG9vcCBvbiBieXRlOiAnICsgc3JjLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2lsZW50KSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnJNc2cpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZS50b3AgPSB0cnVlO1xuICAgIHJldHVybiB0b2tlbnM7XG4gIH1cblxuICBpbmxpbmUoc3JjLCB0b2tlbnMpIHtcbiAgICB0aGlzLmlubGluZVF1ZXVlLnB1c2goeyBzcmMsIHRva2VucyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMZXhpbmcvQ29tcGlsaW5nXG4gICAqL1xuICBpbmxpbmVUb2tlbnMoc3JjLCB0b2tlbnMgPSBbXSkge1xuICAgIGxldCB0b2tlbiwgbGFzdFRva2VuLCBjdXRTcmM7XG5cbiAgICAvLyBTdHJpbmcgd2l0aCBsaW5rcyBtYXNrZWQgdG8gYXZvaWQgaW50ZXJmZXJlbmNlIHdpdGggZW0gYW5kIHN0cm9uZ1xuICAgIGxldCBtYXNrZWRTcmMgPSBzcmM7XG4gICAgbGV0IG1hdGNoO1xuICAgIGxldCBrZWVwUHJldkNoYXIsIHByZXZDaGFyO1xuXG4gICAgLy8gTWFzayBvdXQgcmVmbGlua3NcbiAgICBpZiAodGhpcy50b2tlbnMubGlua3MpIHtcbiAgICAgIGNvbnN0IGxpbmtzID0gT2JqZWN0LmtleXModGhpcy50b2tlbnMubGlua3MpO1xuICAgICAgaWYgKGxpbmtzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IHRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5yZWZsaW5rU2VhcmNoLmV4ZWMobWFza2VkU3JjKSkgIT0gbnVsbCkge1xuICAgICAgICAgIGlmIChsaW5rcy5pbmNsdWRlcyhtYXRjaFswXS5zbGljZShtYXRjaFswXS5sYXN0SW5kZXhPZignWycpICsgMSwgLTEpKSkge1xuICAgICAgICAgICAgbWFza2VkU3JjID0gbWFza2VkU3JjLnNsaWNlKDAsIG1hdGNoLmluZGV4KSArICdbJyArIHJlcGVhdFN0cmluZygnYScsIG1hdGNoWzBdLmxlbmd0aCAtIDIpICsgJ10nICsgbWFza2VkU3JjLnNsaWNlKHRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5yZWZsaW5rU2VhcmNoLmxhc3RJbmRleCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIE1hc2sgb3V0IG90aGVyIGJsb2Nrc1xuICAgIHdoaWxlICgobWF0Y2ggPSB0aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUuYmxvY2tTa2lwLmV4ZWMobWFza2VkU3JjKSkgIT0gbnVsbCkge1xuICAgICAgbWFza2VkU3JjID0gbWFza2VkU3JjLnNsaWNlKDAsIG1hdGNoLmluZGV4KSArICdbJyArIHJlcGVhdFN0cmluZygnYScsIG1hdGNoWzBdLmxlbmd0aCAtIDIpICsgJ10nICsgbWFza2VkU3JjLnNsaWNlKHRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5ibG9ja1NraXAubGFzdEluZGV4KTtcbiAgICB9XG5cbiAgICAvLyBNYXNrIG91dCBlc2NhcGVkIGVtICYgc3Ryb25nIGRlbGltaXRlcnNcbiAgICB3aGlsZSAoKG1hdGNoID0gdGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmVzY2FwZWRFbVN0LmV4ZWMobWFza2VkU3JjKSkgIT0gbnVsbCkge1xuICAgICAgbWFza2VkU3JjID0gbWFza2VkU3JjLnNsaWNlKDAsIG1hdGNoLmluZGV4KSArICcrKycgKyBtYXNrZWRTcmMuc2xpY2UodGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmVzY2FwZWRFbVN0Lmxhc3RJbmRleCk7XG4gICAgfVxuXG4gICAgd2hpbGUgKHNyYykge1xuICAgICAgaWYgKCFrZWVwUHJldkNoYXIpIHtcbiAgICAgICAgcHJldkNoYXIgPSAnJztcbiAgICAgIH1cbiAgICAgIGtlZXBQcmV2Q2hhciA9IGZhbHNlO1xuXG4gICAgICAvLyBleHRlbnNpb25zXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmV4dGVuc2lvbnNcbiAgICAgICAgJiYgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuaW5saW5lXG4gICAgICAgICYmIHRoaXMub3B0aW9ucy5leHRlbnNpb25zLmlubGluZS5zb21lKChleHRUb2tlbml6ZXIpID0+IHtcbiAgICAgICAgICBpZiAodG9rZW4gPSBleHRUb2tlbml6ZXIuY2FsbCh7IGxleGVyOiB0aGlzIH0sIHNyYywgdG9rZW5zKSkge1xuICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBlc2NhcGVcbiAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmVzY2FwZShzcmMpKSB7XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIHRhZ1xuICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIudGFnKHNyYykpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgbGFzdFRva2VuID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGxhc3RUb2tlbiAmJiB0b2tlbi50eXBlID09PSAndGV4dCcgJiYgbGFzdFRva2VuLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgIGxhc3RUb2tlbi5yYXcgKz0gdG9rZW4ucmF3O1xuICAgICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9IHRva2VuLnRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBsaW5rXG4gICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5saW5rKHNyYykpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gcmVmbGluaywgbm9saW5rXG4gICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5yZWZsaW5rKHNyYywgdGhpcy50b2tlbnMubGlua3MpKSB7XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgIGxhc3RUb2tlbiA9IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChsYXN0VG9rZW4gJiYgdG9rZW4udHlwZSA9PT0gJ3RleHQnICYmIGxhc3RUb2tlbi50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICBsYXN0VG9rZW4ucmF3ICs9IHRva2VuLnJhdztcbiAgICAgICAgICBsYXN0VG9rZW4udGV4dCArPSB0b2tlbi50ZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gZW0gJiBzdHJvbmdcbiAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmVtU3Ryb25nKHNyYywgbWFza2VkU3JjLCBwcmV2Q2hhcikpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gY29kZVxuICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuY29kZXNwYW4oc3JjKSkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBiclxuICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuYnIoc3JjKSkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBkZWwgKGdmbSlcbiAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmRlbChzcmMpKSB7XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGF1dG9saW5rXG4gICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5hdXRvbGluayhzcmMsIG1hbmdsZSkpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gdXJsIChnZm0pXG4gICAgICBpZiAoIXRoaXMuc3RhdGUuaW5MaW5rICYmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnVybChzcmMsIG1hbmdsZSkpKSB7XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIHRleHRcbiAgICAgIC8vIHByZXZlbnQgaW5saW5lVGV4dCBjb25zdW1pbmcgZXh0ZW5zaW9ucyBieSBjbGlwcGluZyAnc3JjJyB0byBleHRlbnNpb24gc3RhcnRcbiAgICAgIGN1dFNyYyA9IHNyYztcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucyAmJiB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5zdGFydElubGluZSkge1xuICAgICAgICBsZXQgc3RhcnRJbmRleCA9IEluZmluaXR5O1xuICAgICAgICBjb25zdCB0ZW1wU3JjID0gc3JjLnNsaWNlKDEpO1xuICAgICAgICBsZXQgdGVtcFN0YXJ0O1xuICAgICAgICB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5zdGFydElubGluZS5mb3JFYWNoKGZ1bmN0aW9uKGdldFN0YXJ0SW5kZXgpIHtcbiAgICAgICAgICB0ZW1wU3RhcnQgPSBnZXRTdGFydEluZGV4LmNhbGwoeyBsZXhlcjogdGhpcyB9LCB0ZW1wU3JjKTtcbiAgICAgICAgICBpZiAodHlwZW9mIHRlbXBTdGFydCA9PT0gJ251bWJlcicgJiYgdGVtcFN0YXJ0ID49IDApIHsgc3RhcnRJbmRleCA9IE1hdGgubWluKHN0YXJ0SW5kZXgsIHRlbXBTdGFydCk7IH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzdGFydEluZGV4IDwgSW5maW5pdHkgJiYgc3RhcnRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgY3V0U3JjID0gc3JjLnN1YnN0cmluZygwLCBzdGFydEluZGV4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmlubGluZVRleHQoY3V0U3JjLCBzbWFydHlwYW50cykpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgaWYgKHRva2VuLnJhdy5zbGljZSgtMSkgIT09ICdfJykgeyAvLyBUcmFjayBwcmV2Q2hhciBiZWZvcmUgc3RyaW5nIG9mIF9fX18gc3RhcnRlZFxuICAgICAgICAgIHByZXZDaGFyID0gdG9rZW4ucmF3LnNsaWNlKC0xKTtcbiAgICAgICAgfVxuICAgICAgICBrZWVwUHJldkNoYXIgPSB0cnVlO1xuICAgICAgICBsYXN0VG9rZW4gPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobGFzdFRva2VuICYmIGxhc3RUb2tlbi50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICBsYXN0VG9rZW4ucmF3ICs9IHRva2VuLnJhdztcbiAgICAgICAgICBsYXN0VG9rZW4udGV4dCArPSB0b2tlbi50ZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNyYykge1xuICAgICAgICBjb25zdCBlcnJNc2cgPSAnSW5maW5pdGUgbG9vcCBvbiBieXRlOiAnICsgc3JjLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2lsZW50KSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnJNc2cpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRva2VucztcbiAgfVxufVxuXG4vKipcbiAqIFJlbmRlcmVyXG4gKi9cbmNsYXNzIFJlbmRlcmVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgZGVmYXVsdHM7XG4gIH1cblxuICBjb2RlKGNvZGUsIGluZm9zdHJpbmcsIGVzY2FwZWQpIHtcbiAgICBjb25zdCBsYW5nID0gKGluZm9zdHJpbmcgfHwgJycpLm1hdGNoKC9cXFMqLylbMF07XG4gICAgaWYgKHRoaXMub3B0aW9ucy5oaWdobGlnaHQpIHtcbiAgICAgIGNvbnN0IG91dCA9IHRoaXMub3B0aW9ucy5oaWdobGlnaHQoY29kZSwgbGFuZyk7XG4gICAgICBpZiAob3V0ICE9IG51bGwgJiYgb3V0ICE9PSBjb2RlKSB7XG4gICAgICAgIGVzY2FwZWQgPSB0cnVlO1xuICAgICAgICBjb2RlID0gb3V0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvZGUgPSBjb2RlLnJlcGxhY2UoL1xcbiQvLCAnJykgKyAnXFxuJztcblxuICAgIGlmICghbGFuZykge1xuICAgICAgcmV0dXJuICc8cHJlPjxjb2RlPidcbiAgICAgICAgKyAoZXNjYXBlZCA/IGNvZGUgOiBlc2NhcGUoY29kZSwgdHJ1ZSkpXG4gICAgICAgICsgJzwvY29kZT48L3ByZT5cXG4nO1xuICAgIH1cblxuICAgIHJldHVybiAnPHByZT48Y29kZSBjbGFzcz1cIidcbiAgICAgICsgdGhpcy5vcHRpb25zLmxhbmdQcmVmaXhcbiAgICAgICsgZXNjYXBlKGxhbmcsIHRydWUpXG4gICAgICArICdcIj4nXG4gICAgICArIChlc2NhcGVkID8gY29kZSA6IGVzY2FwZShjb2RlLCB0cnVlKSlcbiAgICAgICsgJzwvY29kZT48L3ByZT5cXG4nO1xuICB9XG5cbiAgYmxvY2txdW90ZShxdW90ZSkge1xuICAgIHJldHVybiAnPGJsb2NrcXVvdGU+XFxuJyArIHF1b3RlICsgJzwvYmxvY2txdW90ZT5cXG4nO1xuICB9XG5cbiAgaHRtbChodG1sKSB7XG4gICAgcmV0dXJuIGh0bWw7XG4gIH1cblxuICBoZWFkaW5nKHRleHQsIGxldmVsLCByYXcsIHNsdWdnZXIpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmhlYWRlcklkcykge1xuICAgICAgcmV0dXJuICc8aCdcbiAgICAgICAgKyBsZXZlbFxuICAgICAgICArICcgaWQ9XCInXG4gICAgICAgICsgdGhpcy5vcHRpb25zLmhlYWRlclByZWZpeFxuICAgICAgICArIHNsdWdnZXIuc2x1ZyhyYXcpXG4gICAgICAgICsgJ1wiPidcbiAgICAgICAgKyB0ZXh0XG4gICAgICAgICsgJzwvaCdcbiAgICAgICAgKyBsZXZlbFxuICAgICAgICArICc+XFxuJztcbiAgICB9XG4gICAgLy8gaWdub3JlIElEc1xuICAgIHJldHVybiAnPGgnICsgbGV2ZWwgKyAnPicgKyB0ZXh0ICsgJzwvaCcgKyBsZXZlbCArICc+XFxuJztcbiAgfVxuXG4gIGhyKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMueGh0bWwgPyAnPGhyLz5cXG4nIDogJzxocj5cXG4nO1xuICB9XG5cbiAgbGlzdChib2R5LCBvcmRlcmVkLCBzdGFydCkge1xuICAgIGNvbnN0IHR5cGUgPSBvcmRlcmVkID8gJ29sJyA6ICd1bCcsXG4gICAgICBzdGFydGF0dCA9IChvcmRlcmVkICYmIHN0YXJ0ICE9PSAxKSA/ICgnIHN0YXJ0PVwiJyArIHN0YXJ0ICsgJ1wiJykgOiAnJztcbiAgICByZXR1cm4gJzwnICsgdHlwZSArIHN0YXJ0YXR0ICsgJz5cXG4nICsgYm9keSArICc8LycgKyB0eXBlICsgJz5cXG4nO1xuICB9XG5cbiAgbGlzdGl0ZW0odGV4dCkge1xuICAgIHJldHVybiAnPGxpPicgKyB0ZXh0ICsgJzwvbGk+XFxuJztcbiAgfVxuXG4gIGNoZWNrYm94KGNoZWNrZWQpIHtcbiAgICByZXR1cm4gJzxpbnB1dCAnXG4gICAgICArIChjaGVja2VkID8gJ2NoZWNrZWQ9XCJcIiAnIDogJycpXG4gICAgICArICdkaXNhYmxlZD1cIlwiIHR5cGU9XCJjaGVja2JveFwiJ1xuICAgICAgKyAodGhpcy5vcHRpb25zLnhodG1sID8gJyAvJyA6ICcnKVxuICAgICAgKyAnPiAnO1xuICB9XG5cbiAgcGFyYWdyYXBoKHRleHQpIHtcbiAgICByZXR1cm4gJzxwPicgKyB0ZXh0ICsgJzwvcD5cXG4nO1xuICB9XG5cbiAgdGFibGUoaGVhZGVyLCBib2R5KSB7XG4gICAgaWYgKGJvZHkpIGJvZHkgPSAnPHRib2R5PicgKyBib2R5ICsgJzwvdGJvZHk+JztcblxuICAgIHJldHVybiAnPHRhYmxlPlxcbidcbiAgICAgICsgJzx0aGVhZD5cXG4nXG4gICAgICArIGhlYWRlclxuICAgICAgKyAnPC90aGVhZD5cXG4nXG4gICAgICArIGJvZHlcbiAgICAgICsgJzwvdGFibGU+XFxuJztcbiAgfVxuXG4gIHRhYmxlcm93KGNvbnRlbnQpIHtcbiAgICByZXR1cm4gJzx0cj5cXG4nICsgY29udGVudCArICc8L3RyPlxcbic7XG4gIH1cblxuICB0YWJsZWNlbGwoY29udGVudCwgZmxhZ3MpIHtcbiAgICBjb25zdCB0eXBlID0gZmxhZ3MuaGVhZGVyID8gJ3RoJyA6ICd0ZCc7XG4gICAgY29uc3QgdGFnID0gZmxhZ3MuYWxpZ25cbiAgICAgID8gJzwnICsgdHlwZSArICcgYWxpZ249XCInICsgZmxhZ3MuYWxpZ24gKyAnXCI+J1xuICAgICAgOiAnPCcgKyB0eXBlICsgJz4nO1xuICAgIHJldHVybiB0YWcgKyBjb250ZW50ICsgJzwvJyArIHR5cGUgKyAnPlxcbic7XG4gIH1cblxuICAvLyBzcGFuIGxldmVsIHJlbmRlcmVyXG4gIHN0cm9uZyh0ZXh0KSB7XG4gICAgcmV0dXJuICc8c3Ryb25nPicgKyB0ZXh0ICsgJzwvc3Ryb25nPic7XG4gIH1cblxuICBlbSh0ZXh0KSB7XG4gICAgcmV0dXJuICc8ZW0+JyArIHRleHQgKyAnPC9lbT4nO1xuICB9XG5cbiAgY29kZXNwYW4odGV4dCkge1xuICAgIHJldHVybiAnPGNvZGU+JyArIHRleHQgKyAnPC9jb2RlPic7XG4gIH1cblxuICBicigpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLnhodG1sID8gJzxici8+JyA6ICc8YnI+JztcbiAgfVxuXG4gIGRlbCh0ZXh0KSB7XG4gICAgcmV0dXJuICc8ZGVsPicgKyB0ZXh0ICsgJzwvZGVsPic7XG4gIH1cblxuICBsaW5rKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgaHJlZiA9IGNsZWFuVXJsKHRoaXMub3B0aW9ucy5zYW5pdGl6ZSwgdGhpcy5vcHRpb25zLmJhc2VVcmwsIGhyZWYpO1xuICAgIGlmIChocmVmID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG4gICAgbGV0IG91dCA9ICc8YSBocmVmPVwiJyArIGVzY2FwZShocmVmKSArICdcIic7XG4gICAgaWYgKHRpdGxlKSB7XG4gICAgICBvdXQgKz0gJyB0aXRsZT1cIicgKyB0aXRsZSArICdcIic7XG4gICAgfVxuICAgIG91dCArPSAnPicgKyB0ZXh0ICsgJzwvYT4nO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICBpbWFnZShocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgIGhyZWYgPSBjbGVhblVybCh0aGlzLm9wdGlvbnMuc2FuaXRpemUsIHRoaXMub3B0aW9ucy5iYXNlVXJsLCBocmVmKTtcbiAgICBpZiAoaHJlZiA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuXG4gICAgbGV0IG91dCA9ICc8aW1nIHNyYz1cIicgKyBocmVmICsgJ1wiIGFsdD1cIicgKyB0ZXh0ICsgJ1wiJztcbiAgICBpZiAodGl0bGUpIHtcbiAgICAgIG91dCArPSAnIHRpdGxlPVwiJyArIHRpdGxlICsgJ1wiJztcbiAgICB9XG4gICAgb3V0ICs9IHRoaXMub3B0aW9ucy54aHRtbCA/ICcvPicgOiAnPic7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuXG4gIHRleHQodGV4dCkge1xuICAgIHJldHVybiB0ZXh0O1xuICB9XG59XG5cbi8qKlxuICogVGV4dFJlbmRlcmVyXG4gKiByZXR1cm5zIG9ubHkgdGhlIHRleHR1YWwgcGFydCBvZiB0aGUgdG9rZW5cbiAqL1xuY2xhc3MgVGV4dFJlbmRlcmVyIHtcbiAgLy8gbm8gbmVlZCBmb3IgYmxvY2sgbGV2ZWwgcmVuZGVyZXJzXG4gIHN0cm9uZyh0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cblxuICBlbSh0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cblxuICBjb2Rlc3Bhbih0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cblxuICBkZWwodGV4dCkge1xuICAgIHJldHVybiB0ZXh0O1xuICB9XG5cbiAgaHRtbCh0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cblxuICB0ZXh0KHRleHQpIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuXG4gIGxpbmsoaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICByZXR1cm4gJycgKyB0ZXh0O1xuICB9XG5cbiAgaW1hZ2UoaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICByZXR1cm4gJycgKyB0ZXh0O1xuICB9XG5cbiAgYnIoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5cbi8qKlxuICogU2x1Z2dlciBnZW5lcmF0ZXMgaGVhZGVyIGlkXG4gKi9cbmNsYXNzIFNsdWdnZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNlZW4gPSB7fTtcbiAgfVxuXG4gIHNlcmlhbGl6ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZVxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC50cmltKClcbiAgICAgIC8vIHJlbW92ZSBodG1sIHRhZ3NcbiAgICAgIC5yZXBsYWNlKC88WyFcXC9hLXpdLio/Pi9pZywgJycpXG4gICAgICAvLyByZW1vdmUgdW53YW50ZWQgY2hhcnNcbiAgICAgIC5yZXBsYWNlKC9bXFx1MjAwMC1cXHUyMDZGXFx1MkUwMC1cXHUyRTdGXFxcXCchXCIjJCUmKCkqKywuLzo7PD0+P0BbXFxdXmB7fH1+XS9nLCAnJylcbiAgICAgIC5yZXBsYWNlKC9cXHMvZywgJy0nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyB0aGUgbmV4dCBzYWZlICh1bmlxdWUpIHNsdWcgdG8gdXNlXG4gICAqL1xuICBnZXROZXh0U2FmZVNsdWcob3JpZ2luYWxTbHVnLCBpc0RyeVJ1bikge1xuICAgIGxldCBzbHVnID0gb3JpZ2luYWxTbHVnO1xuICAgIGxldCBvY2N1cmVuY2VBY2N1bXVsYXRvciA9IDA7XG4gICAgaWYgKHRoaXMuc2Vlbi5oYXNPd25Qcm9wZXJ0eShzbHVnKSkge1xuICAgICAgb2NjdXJlbmNlQWNjdW11bGF0b3IgPSB0aGlzLnNlZW5bb3JpZ2luYWxTbHVnXTtcbiAgICAgIGRvIHtcbiAgICAgICAgb2NjdXJlbmNlQWNjdW11bGF0b3IrKztcbiAgICAgICAgc2x1ZyA9IG9yaWdpbmFsU2x1ZyArICctJyArIG9jY3VyZW5jZUFjY3VtdWxhdG9yO1xuICAgICAgfSB3aGlsZSAodGhpcy5zZWVuLmhhc093blByb3BlcnR5KHNsdWcpKTtcbiAgICB9XG4gICAgaWYgKCFpc0RyeVJ1bikge1xuICAgICAgdGhpcy5zZWVuW29yaWdpbmFsU2x1Z10gPSBvY2N1cmVuY2VBY2N1bXVsYXRvcjtcbiAgICAgIHRoaXMuc2VlbltzbHVnXSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBzbHVnO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgc3RyaW5nIHRvIHVuaXF1ZSBpZFxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuZHJ5cnVuIEdlbmVyYXRlcyB0aGUgbmV4dCB1bmlxdWUgc2x1ZyB3aXRob3V0IHVwZGF0aW5nIHRoZSBpbnRlcm5hbCBhY2N1bXVsYXRvci5cbiAgICovXG4gIHNsdWcodmFsdWUsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHNsdWcgPSB0aGlzLnNlcmlhbGl6ZSh2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TmV4dFNhZmVTbHVnKHNsdWcsIG9wdGlvbnMuZHJ5cnVuKTtcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNpbmcgJiBDb21waWxpbmdcbiAqL1xuY2xhc3MgUGFyc2VyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgZGVmYXVsdHM7XG4gICAgdGhpcy5vcHRpb25zLnJlbmRlcmVyID0gdGhpcy5vcHRpb25zLnJlbmRlcmVyIHx8IG5ldyBSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXI7XG4gICAgdGhpcy5yZW5kZXJlci5vcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIHRoaXMudGV4dFJlbmRlcmVyID0gbmV3IFRleHRSZW5kZXJlcigpO1xuICAgIHRoaXMuc2x1Z2dlciA9IG5ldyBTbHVnZ2VyKCk7XG4gIH1cblxuICAvKipcbiAgICogU3RhdGljIFBhcnNlIE1ldGhvZFxuICAgKi9cbiAgc3RhdGljIHBhcnNlKHRva2Vucywgb3B0aW9ucykge1xuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBQYXJzZXIob3B0aW9ucyk7XG4gICAgcmV0dXJuIHBhcnNlci5wYXJzZSh0b2tlbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXRpYyBQYXJzZSBJbmxpbmUgTWV0aG9kXG4gICAqL1xuICBzdGF0aWMgcGFyc2VJbmxpbmUodG9rZW5zLCBvcHRpb25zKSB7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IFBhcnNlcihvcHRpb25zKTtcbiAgICByZXR1cm4gcGFyc2VyLnBhcnNlSW5saW5lKHRva2Vucyk7XG4gIH1cblxuICAvKipcbiAgICogUGFyc2UgTG9vcFxuICAgKi9cbiAgcGFyc2UodG9rZW5zLCB0b3AgPSB0cnVlKSB7XG4gICAgbGV0IG91dCA9ICcnLFxuICAgICAgaSxcbiAgICAgIGosXG4gICAgICBrLFxuICAgICAgbDIsXG4gICAgICBsMyxcbiAgICAgIHJvdyxcbiAgICAgIGNlbGwsXG4gICAgICBoZWFkZXIsXG4gICAgICBib2R5LFxuICAgICAgdG9rZW4sXG4gICAgICBvcmRlcmVkLFxuICAgICAgc3RhcnQsXG4gICAgICBsb29zZSxcbiAgICAgIGl0ZW1Cb2R5LFxuICAgICAgaXRlbSxcbiAgICAgIGNoZWNrZWQsXG4gICAgICB0YXNrLFxuICAgICAgY2hlY2tib3gsXG4gICAgICByZXQ7XG5cbiAgICBjb25zdCBsID0gdG9rZW5zLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcblxuICAgICAgLy8gUnVuIGFueSByZW5kZXJlciBleHRlbnNpb25zXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmV4dGVuc2lvbnMgJiYgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMucmVuZGVyZXJzICYmIHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnJlbmRlcmVyc1t0b2tlbi50eXBlXSkge1xuICAgICAgICByZXQgPSB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5yZW5kZXJlcnNbdG9rZW4udHlwZV0uY2FsbCh7IHBhcnNlcjogdGhpcyB9LCB0b2tlbik7XG4gICAgICAgIGlmIChyZXQgIT09IGZhbHNlIHx8ICFbJ3NwYWNlJywgJ2hyJywgJ2hlYWRpbmcnLCAnY29kZScsICd0YWJsZScsICdibG9ja3F1b3RlJywgJ2xpc3QnLCAnaHRtbCcsICdwYXJhZ3JhcGgnLCAndGV4dCddLmluY2x1ZGVzKHRva2VuLnR5cGUpKSB7XG4gICAgICAgICAgb3V0ICs9IHJldCB8fCAnJztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnc3BhY2UnOiB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnaHInOiB7XG4gICAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuaHIoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdoZWFkaW5nJzoge1xuICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmhlYWRpbmcoXG4gICAgICAgICAgICB0aGlzLnBhcnNlSW5saW5lKHRva2VuLnRva2VucyksXG4gICAgICAgICAgICB0b2tlbi5kZXB0aCxcbiAgICAgICAgICAgIHVuZXNjYXBlKHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zLCB0aGlzLnRleHRSZW5kZXJlcikpLFxuICAgICAgICAgICAgdGhpcy5zbHVnZ2VyKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdjb2RlJzoge1xuICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmNvZGUodG9rZW4udGV4dCxcbiAgICAgICAgICAgIHRva2VuLmxhbmcsXG4gICAgICAgICAgICB0b2tlbi5lc2NhcGVkKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICd0YWJsZSc6IHtcbiAgICAgICAgICBoZWFkZXIgPSAnJztcblxuICAgICAgICAgIC8vIGhlYWRlclxuICAgICAgICAgIGNlbGwgPSAnJztcbiAgICAgICAgICBsMiA9IHRva2VuLmhlYWRlci5sZW5ndGg7XG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IGwyOyBqKyspIHtcbiAgICAgICAgICAgIGNlbGwgKz0gdGhpcy5yZW5kZXJlci50YWJsZWNlbGwoXG4gICAgICAgICAgICAgIHRoaXMucGFyc2VJbmxpbmUodG9rZW4uaGVhZGVyW2pdLnRva2VucyksXG4gICAgICAgICAgICAgIHsgaGVhZGVyOiB0cnVlLCBhbGlnbjogdG9rZW4uYWxpZ25bal0gfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGVhZGVyICs9IHRoaXMucmVuZGVyZXIudGFibGVyb3coY2VsbCk7XG5cbiAgICAgICAgICBib2R5ID0gJyc7XG4gICAgICAgICAgbDIgPSB0b2tlbi5yb3dzLmxlbmd0aDtcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbDI7IGorKykge1xuICAgICAgICAgICAgcm93ID0gdG9rZW4ucm93c1tqXTtcblxuICAgICAgICAgICAgY2VsbCA9ICcnO1xuICAgICAgICAgICAgbDMgPSByb3cubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IGwzOyBrKyspIHtcbiAgICAgICAgICAgICAgY2VsbCArPSB0aGlzLnJlbmRlcmVyLnRhYmxlY2VsbChcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnNlSW5saW5lKHJvd1trXS50b2tlbnMpLFxuICAgICAgICAgICAgICAgIHsgaGVhZGVyOiBmYWxzZSwgYWxpZ246IHRva2VuLmFsaWduW2tdIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYm9keSArPSB0aGlzLnJlbmRlcmVyLnRhYmxlcm93KGNlbGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci50YWJsZShoZWFkZXIsIGJvZHkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2Jsb2NrcXVvdGUnOiB7XG4gICAgICAgICAgYm9keSA9IHRoaXMucGFyc2UodG9rZW4udG9rZW5zKTtcbiAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5ibG9ja3F1b3RlKGJvZHkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2xpc3QnOiB7XG4gICAgICAgICAgb3JkZXJlZCA9IHRva2VuLm9yZGVyZWQ7XG4gICAgICAgICAgc3RhcnQgPSB0b2tlbi5zdGFydDtcbiAgICAgICAgICBsb29zZSA9IHRva2VuLmxvb3NlO1xuICAgICAgICAgIGwyID0gdG9rZW4uaXRlbXMubGVuZ3RoO1xuXG4gICAgICAgICAgYm9keSA9ICcnO1xuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBsMjsgaisrKSB7XG4gICAgICAgICAgICBpdGVtID0gdG9rZW4uaXRlbXNbal07XG4gICAgICAgICAgICBjaGVja2VkID0gaXRlbS5jaGVja2VkO1xuICAgICAgICAgICAgdGFzayA9IGl0ZW0udGFzaztcblxuICAgICAgICAgICAgaXRlbUJvZHkgPSAnJztcbiAgICAgICAgICAgIGlmIChpdGVtLnRhc2spIHtcbiAgICAgICAgICAgICAgY2hlY2tib3ggPSB0aGlzLnJlbmRlcmVyLmNoZWNrYm94KGNoZWNrZWQpO1xuICAgICAgICAgICAgICBpZiAobG9vc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50b2tlbnMubGVuZ3RoID4gMCAmJiBpdGVtLnRva2Vuc1swXS50eXBlID09PSAncGFyYWdyYXBoJykge1xuICAgICAgICAgICAgICAgICAgaXRlbS50b2tlbnNbMF0udGV4dCA9IGNoZWNrYm94ICsgJyAnICsgaXRlbS50b2tlbnNbMF0udGV4dDtcbiAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnRva2Vuc1swXS50b2tlbnMgJiYgaXRlbS50b2tlbnNbMF0udG9rZW5zLmxlbmd0aCA+IDAgJiYgaXRlbS50b2tlbnNbMF0udG9rZW5zWzBdLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnRva2Vuc1swXS50b2tlbnNbMF0udGV4dCA9IGNoZWNrYm94ICsgJyAnICsgaXRlbS50b2tlbnNbMF0udG9rZW5zWzBdLnRleHQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGl0ZW0udG9rZW5zLnVuc2hpZnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGNoZWNrYm94XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbUJvZHkgKz0gY2hlY2tib3g7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXRlbUJvZHkgKz0gdGhpcy5wYXJzZShpdGVtLnRva2VucywgbG9vc2UpO1xuICAgICAgICAgICAgYm9keSArPSB0aGlzLnJlbmRlcmVyLmxpc3RpdGVtKGl0ZW1Cb2R5LCB0YXNrLCBjaGVja2VkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5saXN0KGJvZHksIG9yZGVyZWQsIHN0YXJ0KTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdodG1sJzoge1xuICAgICAgICAgIC8vIFRPRE8gcGFyc2UgaW5saW5lIGNvbnRlbnQgaWYgcGFyYW1ldGVyIG1hcmtkb3duPTFcbiAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5odG1sKHRva2VuLnRleHQpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3BhcmFncmFwaCc6IHtcbiAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgodGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICd0ZXh0Jzoge1xuICAgICAgICAgIGJvZHkgPSB0b2tlbi50b2tlbnMgPyB0aGlzLnBhcnNlSW5saW5lKHRva2VuLnRva2VucykgOiB0b2tlbi50ZXh0O1xuICAgICAgICAgIHdoaWxlIChpICsgMSA8IGwgJiYgdG9rZW5zW2kgKyAxXS50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5zWysraV07XG4gICAgICAgICAgICBib2R5ICs9ICdcXG4nICsgKHRva2VuLnRva2VucyA/IHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zKSA6IHRva2VuLnRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gdG9wID8gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgoYm9keSkgOiBib2R5O1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGNvbnN0IGVyck1zZyA9ICdUb2tlbiB3aXRoIFwiJyArIHRva2VuLnR5cGUgKyAnXCIgdHlwZSB3YXMgbm90IGZvdW5kLic7XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBJbmxpbmUgVG9rZW5zXG4gICAqL1xuICBwYXJzZUlubGluZSh0b2tlbnMsIHJlbmRlcmVyKSB7XG4gICAgcmVuZGVyZXIgPSByZW5kZXJlciB8fCB0aGlzLnJlbmRlcmVyO1xuICAgIGxldCBvdXQgPSAnJyxcbiAgICAgIGksXG4gICAgICB0b2tlbixcbiAgICAgIHJldDtcblxuICAgIGNvbnN0IGwgPSB0b2tlbnMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuXG4gICAgICAvLyBSdW4gYW55IHJlbmRlcmVyIGV4dGVuc2lvbnNcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucyAmJiB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5yZW5kZXJlcnMgJiYgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMucmVuZGVyZXJzW3Rva2VuLnR5cGVdKSB7XG4gICAgICAgIHJldCA9IHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnJlbmRlcmVyc1t0b2tlbi50eXBlXS5jYWxsKHsgcGFyc2VyOiB0aGlzIH0sIHRva2VuKTtcbiAgICAgICAgaWYgKHJldCAhPT0gZmFsc2UgfHwgIVsnZXNjYXBlJywgJ2h0bWwnLCAnbGluaycsICdpbWFnZScsICdzdHJvbmcnLCAnZW0nLCAnY29kZXNwYW4nLCAnYnInLCAnZGVsJywgJ3RleHQnXS5pbmNsdWRlcyh0b2tlbi50eXBlKSkge1xuICAgICAgICAgIG91dCArPSByZXQgfHwgJyc7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2VzY2FwZSc6IHtcbiAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIudGV4dCh0b2tlbi50ZXh0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdodG1sJzoge1xuICAgICAgICAgIG91dCArPSByZW5kZXJlci5odG1sKHRva2VuLnRleHQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2xpbmsnOiB7XG4gICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmxpbmsodG9rZW4uaHJlZiwgdG9rZW4udGl0bGUsIHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zLCByZW5kZXJlcikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2ltYWdlJzoge1xuICAgICAgICAgIG91dCArPSByZW5kZXJlci5pbWFnZSh0b2tlbi5ocmVmLCB0b2tlbi50aXRsZSwgdG9rZW4udGV4dCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnc3Ryb25nJzoge1xuICAgICAgICAgIG91dCArPSByZW5kZXJlci5zdHJvbmcodGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMsIHJlbmRlcmVyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnZW0nOiB7XG4gICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmVtKHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zLCByZW5kZXJlcikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2NvZGVzcGFuJzoge1xuICAgICAgICAgIG91dCArPSByZW5kZXJlci5jb2Rlc3Bhbih0b2tlbi50ZXh0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdicic6IHtcbiAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIuYnIoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdkZWwnOiB7XG4gICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmRlbCh0aGlzLnBhcnNlSW5saW5lKHRva2VuLnRva2VucywgcmVuZGVyZXIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICd0ZXh0Jzoge1xuICAgICAgICAgIG91dCArPSByZW5kZXJlci50ZXh0KHRva2VuLnRleHQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBjb25zdCBlcnJNc2cgPSAnVG9rZW4gd2l0aCBcIicgKyB0b2tlbi50eXBlICsgJ1wiIHR5cGUgd2FzIG5vdCBmb3VuZC4nO1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2lsZW50KSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0O1xuICB9XG59XG5cbi8qKlxuICogTWFya2VkXG4gKi9cbmZ1bmN0aW9uIG1hcmtlZChzcmMsIG9wdCwgY2FsbGJhY2spIHtcbiAgLy8gdGhyb3cgZXJyb3IgaW4gY2FzZSBvZiBub24gc3RyaW5nIGlucHV0XG4gIGlmICh0eXBlb2Ygc3JjID09PSAndW5kZWZpbmVkJyB8fCBzcmMgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkIG9yIG51bGwnKTtcbiAgfVxuICBpZiAodHlwZW9mIHNyYyAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgb2YgdHlwZSAnXG4gICAgICArIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzcmMpICsgJywgc3RyaW5nIGV4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAodHlwZW9mIG9wdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0O1xuICAgIG9wdCA9IG51bGw7XG4gIH1cblxuICBvcHQgPSBtZXJnZSh7fSwgbWFya2VkLmRlZmF1bHRzLCBvcHQgfHwge30pO1xuICBjaGVja1Nhbml0aXplRGVwcmVjYXRpb24ob3B0KTtcblxuICBpZiAoY2FsbGJhY2spIHtcbiAgICBjb25zdCBoaWdobGlnaHQgPSBvcHQuaGlnaGxpZ2h0O1xuICAgIGxldCB0b2tlbnM7XG5cbiAgICB0cnkge1xuICAgICAgdG9rZW5zID0gTGV4ZXIubGV4KHNyYywgb3B0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZSk7XG4gICAgfVxuXG4gICAgY29uc3QgZG9uZSA9IGZ1bmN0aW9uKGVycikge1xuICAgICAgbGV0IG91dDtcblxuICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAob3B0LndhbGtUb2tlbnMpIHtcbiAgICAgICAgICAgIG1hcmtlZC53YWxrVG9rZW5zKHRva2Vucywgb3B0LndhbGtUb2tlbnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgPSBQYXJzZXIucGFyc2UodG9rZW5zLCBvcHQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgZXJyID0gZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBvcHQuaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0O1xuXG4gICAgICByZXR1cm4gZXJyXG4gICAgICAgID8gY2FsbGJhY2soZXJyKVxuICAgICAgICA6IGNhbGxiYWNrKG51bGwsIG91dCk7XG4gICAgfTtcblxuICAgIGlmICghaGlnaGxpZ2h0IHx8IGhpZ2hsaWdodC5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gZG9uZSgpO1xuICAgIH1cblxuICAgIGRlbGV0ZSBvcHQuaGlnaGxpZ2h0O1xuXG4gICAgaWYgKCF0b2tlbnMubGVuZ3RoKSByZXR1cm4gZG9uZSgpO1xuXG4gICAgbGV0IHBlbmRpbmcgPSAwO1xuICAgIG1hcmtlZC53YWxrVG9rZW5zKHRva2VucywgZnVuY3Rpb24odG9rZW4pIHtcbiAgICAgIGlmICh0b2tlbi50eXBlID09PSAnY29kZScpIHtcbiAgICAgICAgcGVuZGluZysrO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBoaWdobGlnaHQodG9rZW4udGV4dCwgdG9rZW4ubGFuZywgZnVuY3Rpb24oZXJyLCBjb2RlKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkb25lKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29kZSAhPSBudWxsICYmIGNvZGUgIT09IHRva2VuLnRleHQpIHtcbiAgICAgICAgICAgICAgdG9rZW4udGV4dCA9IGNvZGU7XG4gICAgICAgICAgICAgIHRva2VuLmVzY2FwZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwZW5kaW5nLS07XG4gICAgICAgICAgICBpZiAocGVuZGluZyA9PT0gMCkge1xuICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHBlbmRpbmcgPT09IDApIHtcbiAgICAgIGRvbmUoKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHRva2VucyA9IExleGVyLmxleChzcmMsIG9wdCk7XG4gICAgaWYgKG9wdC53YWxrVG9rZW5zKSB7XG4gICAgICBtYXJrZWQud2Fsa1Rva2Vucyh0b2tlbnMsIG9wdC53YWxrVG9rZW5zKTtcbiAgICB9XG4gICAgcmV0dXJuIFBhcnNlci5wYXJzZSh0b2tlbnMsIG9wdCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlLm1lc3NhZ2UgKz0gJ1xcblBsZWFzZSByZXBvcnQgdGhpcyB0byBodHRwczovL2dpdGh1Yi5jb20vbWFya2VkanMvbWFya2VkLic7XG4gICAgaWYgKG9wdC5zaWxlbnQpIHtcbiAgICAgIHJldHVybiAnPHA+QW4gZXJyb3Igb2NjdXJyZWQ6PC9wPjxwcmU+J1xuICAgICAgICArIGVzY2FwZShlLm1lc3NhZ2UgKyAnJywgdHJ1ZSlcbiAgICAgICAgKyAnPC9wcmU+JztcbiAgICB9XG4gICAgdGhyb3cgZTtcbiAgfVxufVxuXG4vKipcbiAqIE9wdGlvbnNcbiAqL1xuXG5tYXJrZWQub3B0aW9ucyA9XG5tYXJrZWQuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdCkge1xuICBtZXJnZShtYXJrZWQuZGVmYXVsdHMsIG9wdCk7XG4gIGNoYW5nZURlZmF1bHRzKG1hcmtlZC5kZWZhdWx0cyk7XG4gIHJldHVybiBtYXJrZWQ7XG59O1xuXG5tYXJrZWQuZ2V0RGVmYXVsdHMgPSBnZXREZWZhdWx0cztcblxubWFya2VkLmRlZmF1bHRzID0gZGVmYXVsdHM7XG5cbi8qKlxuICogVXNlIEV4dGVuc2lvblxuICovXG5cbm1hcmtlZC51c2UgPSBmdW5jdGlvbiguLi5hcmdzKSB7XG4gIGNvbnN0IG9wdHMgPSBtZXJnZSh7fSwgLi4uYXJncyk7XG4gIGNvbnN0IGV4dGVuc2lvbnMgPSBtYXJrZWQuZGVmYXVsdHMuZXh0ZW5zaW9ucyB8fCB7IHJlbmRlcmVyczoge30sIGNoaWxkVG9rZW5zOiB7fSB9O1xuICBsZXQgaGFzRXh0ZW5zaW9ucztcblxuICBhcmdzLmZvckVhY2goKHBhY2spID0+IHtcbiAgICAvLyA9PS0tIFBhcnNlIFwiYWRkb25cIiBleHRlbnNpb25zIC0tPT0gLy9cbiAgICBpZiAocGFjay5leHRlbnNpb25zKSB7XG4gICAgICBoYXNFeHRlbnNpb25zID0gdHJ1ZTtcbiAgICAgIHBhY2suZXh0ZW5zaW9ucy5mb3JFYWNoKChleHQpID0+IHtcbiAgICAgICAgaWYgKCFleHQubmFtZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZXh0ZW5zaW9uIG5hbWUgcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0LnJlbmRlcmVyKSB7IC8vIFJlbmRlcmVyIGV4dGVuc2lvbnNcbiAgICAgICAgICBjb25zdCBwcmV2UmVuZGVyZXIgPSBleHRlbnNpb25zLnJlbmRlcmVycyA/IGV4dGVuc2lvbnMucmVuZGVyZXJzW2V4dC5uYW1lXSA6IG51bGw7XG4gICAgICAgICAgaWYgKHByZXZSZW5kZXJlcikge1xuICAgICAgICAgICAgLy8gUmVwbGFjZSBleHRlbnNpb24gd2l0aCBmdW5jIHRvIHJ1biBuZXcgZXh0ZW5zaW9uIGJ1dCBmYWxsIGJhY2sgaWYgZmFsc2VcbiAgICAgICAgICAgIGV4dGVuc2lvbnMucmVuZGVyZXJzW2V4dC5uYW1lXSA9IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgbGV0IHJldCA9IGV4dC5yZW5kZXJlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgaWYgKHJldCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXQgPSBwcmV2UmVuZGVyZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbnMucmVuZGVyZXJzW2V4dC5uYW1lXSA9IGV4dC5yZW5kZXJlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4dC50b2tlbml6ZXIpIHsgLy8gVG9rZW5pemVyIEV4dGVuc2lvbnNcbiAgICAgICAgICBpZiAoIWV4dC5sZXZlbCB8fCAoZXh0LmxldmVsICE9PSAnYmxvY2snICYmIGV4dC5sZXZlbCAhPT0gJ2lubGluZScpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJleHRlbnNpb24gbGV2ZWwgbXVzdCBiZSAnYmxvY2snIG9yICdpbmxpbmUnXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXh0ZW5zaW9uc1tleHQubGV2ZWxdKSB7XG4gICAgICAgICAgICBleHRlbnNpb25zW2V4dC5sZXZlbF0udW5zaGlmdChleHQudG9rZW5pemVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHQubGV2ZWxdID0gW2V4dC50b2tlbml6ZXJdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXh0LnN0YXJ0KSB7IC8vIEZ1bmN0aW9uIHRvIGNoZWNrIGZvciBzdGFydCBvZiB0b2tlblxuICAgICAgICAgICAgaWYgKGV4dC5sZXZlbCA9PT0gJ2Jsb2NrJykge1xuICAgICAgICAgICAgICBpZiAoZXh0ZW5zaW9ucy5zdGFydEJsb2NrKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5zdGFydEJsb2NrLnB1c2goZXh0LnN0YXJ0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zLnN0YXJ0QmxvY2sgPSBbZXh0LnN0YXJ0XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChleHQubGV2ZWwgPT09ICdpbmxpbmUnKSB7XG4gICAgICAgICAgICAgIGlmIChleHRlbnNpb25zLnN0YXJ0SW5saW5lKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5zdGFydElubGluZS5wdXNoKGV4dC5zdGFydCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5zdGFydElubGluZSA9IFtleHQuc3RhcnRdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChleHQuY2hpbGRUb2tlbnMpIHsgLy8gQ2hpbGQgdG9rZW5zIHRvIGJlIHZpc2l0ZWQgYnkgd2Fsa1Rva2Vuc1xuICAgICAgICAgIGV4dGVuc2lvbnMuY2hpbGRUb2tlbnNbZXh0Lm5hbWVdID0gZXh0LmNoaWxkVG9rZW5zO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyA9PS0tIFBhcnNlIFwib3ZlcndyaXRlXCIgZXh0ZW5zaW9ucyAtLT09IC8vXG4gICAgaWYgKHBhY2sucmVuZGVyZXIpIHtcbiAgICAgIGNvbnN0IHJlbmRlcmVyID0gbWFya2VkLmRlZmF1bHRzLnJlbmRlcmVyIHx8IG5ldyBSZW5kZXJlcigpO1xuICAgICAgZm9yIChjb25zdCBwcm9wIGluIHBhY2sucmVuZGVyZXIpIHtcbiAgICAgICAgY29uc3QgcHJldlJlbmRlcmVyID0gcmVuZGVyZXJbcHJvcF07XG4gICAgICAgIC8vIFJlcGxhY2UgcmVuZGVyZXIgd2l0aCBmdW5jIHRvIHJ1biBleHRlbnNpb24sIGJ1dCBmYWxsIGJhY2sgaWYgZmFsc2VcbiAgICAgICAgcmVuZGVyZXJbcHJvcF0gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgIGxldCByZXQgPSBwYWNrLnJlbmRlcmVyW3Byb3BdLmFwcGx5KHJlbmRlcmVyLCBhcmdzKTtcbiAgICAgICAgICBpZiAocmV0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0ID0gcHJldlJlbmRlcmVyLmFwcGx5KHJlbmRlcmVyLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIG9wdHMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG4gICAgaWYgKHBhY2sudG9rZW5pemVyKSB7XG4gICAgICBjb25zdCB0b2tlbml6ZXIgPSBtYXJrZWQuZGVmYXVsdHMudG9rZW5pemVyIHx8IG5ldyBUb2tlbml6ZXIoKTtcbiAgICAgIGZvciAoY29uc3QgcHJvcCBpbiBwYWNrLnRva2VuaXplcikge1xuICAgICAgICBjb25zdCBwcmV2VG9rZW5pemVyID0gdG9rZW5pemVyW3Byb3BdO1xuICAgICAgICAvLyBSZXBsYWNlIHRva2VuaXplciB3aXRoIGZ1bmMgdG8gcnVuIGV4dGVuc2lvbiwgYnV0IGZhbGwgYmFjayBpZiBmYWxzZVxuICAgICAgICB0b2tlbml6ZXJbcHJvcF0gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgIGxldCByZXQgPSBwYWNrLnRva2VuaXplcltwcm9wXS5hcHBseSh0b2tlbml6ZXIsIGFyZ3MpO1xuICAgICAgICAgIGlmIChyZXQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXQgPSBwcmV2VG9rZW5pemVyLmFwcGx5KHRva2VuaXplciwgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBvcHRzLnRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICB9XG5cbiAgICAvLyA9PS0tIFBhcnNlIFdhbGtUb2tlbnMgZXh0ZW5zaW9ucyAtLT09IC8vXG4gICAgaWYgKHBhY2sud2Fsa1Rva2Vucykge1xuICAgICAgY29uc3Qgd2Fsa1Rva2VucyA9IG1hcmtlZC5kZWZhdWx0cy53YWxrVG9rZW5zO1xuICAgICAgb3B0cy53YWxrVG9rZW5zID0gZnVuY3Rpb24odG9rZW4pIHtcbiAgICAgICAgcGFjay53YWxrVG9rZW5zLmNhbGwodGhpcywgdG9rZW4pO1xuICAgICAgICBpZiAod2Fsa1Rva2Vucykge1xuICAgICAgICAgIHdhbGtUb2tlbnMuY2FsbCh0aGlzLCB0b2tlbik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKGhhc0V4dGVuc2lvbnMpIHtcbiAgICAgIG9wdHMuZXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnM7XG4gICAgfVxuXG4gICAgbWFya2VkLnNldE9wdGlvbnMob3B0cyk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBSdW4gY2FsbGJhY2sgZm9yIGV2ZXJ5IHRva2VuXG4gKi9cblxubWFya2VkLndhbGtUb2tlbnMgPSBmdW5jdGlvbih0b2tlbnMsIGNhbGxiYWNrKSB7XG4gIGZvciAoY29uc3QgdG9rZW4gb2YgdG9rZW5zKSB7XG4gICAgY2FsbGJhY2suY2FsbChtYXJrZWQsIHRva2VuKTtcbiAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3RhYmxlJzoge1xuICAgICAgICBmb3IgKGNvbnN0IGNlbGwgb2YgdG9rZW4uaGVhZGVyKSB7XG4gICAgICAgICAgbWFya2VkLndhbGtUb2tlbnMoY2VsbC50b2tlbnMsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiB0b2tlbi5yb3dzKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBjZWxsIG9mIHJvdykge1xuICAgICAgICAgICAgbWFya2VkLndhbGtUb2tlbnMoY2VsbC50b2tlbnMsIGNhbGxiYWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdsaXN0Jzoge1xuICAgICAgICBtYXJrZWQud2Fsa1Rva2Vucyh0b2tlbi5pdGVtcywgY2FsbGJhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgaWYgKG1hcmtlZC5kZWZhdWx0cy5leHRlbnNpb25zICYmIG1hcmtlZC5kZWZhdWx0cy5leHRlbnNpb25zLmNoaWxkVG9rZW5zICYmIG1hcmtlZC5kZWZhdWx0cy5leHRlbnNpb25zLmNoaWxkVG9rZW5zW3Rva2VuLnR5cGVdKSB7IC8vIFdhbGsgYW55IGV4dGVuc2lvbnNcbiAgICAgICAgICBtYXJrZWQuZGVmYXVsdHMuZXh0ZW5zaW9ucy5jaGlsZFRva2Vuc1t0b2tlbi50eXBlXS5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkVG9rZW5zKSB7XG4gICAgICAgICAgICBtYXJrZWQud2Fsa1Rva2Vucyh0b2tlbltjaGlsZFRva2Vuc10sIGNhbGxiYWNrKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICh0b2tlbi50b2tlbnMpIHtcbiAgICAgICAgICBtYXJrZWQud2Fsa1Rva2Vucyh0b2tlbi50b2tlbnMsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBQYXJzZSBJbmxpbmVcbiAqL1xubWFya2VkLnBhcnNlSW5saW5lID0gZnVuY3Rpb24oc3JjLCBvcHQpIHtcbiAgLy8gdGhyb3cgZXJyb3IgaW4gY2FzZSBvZiBub24gc3RyaW5nIGlucHV0XG4gIGlmICh0eXBlb2Ygc3JjID09PSAndW5kZWZpbmVkJyB8fCBzcmMgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21hcmtlZC5wYXJzZUlubGluZSgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkIG9yIG51bGwnKTtcbiAgfVxuICBpZiAodHlwZW9mIHNyYyAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21hcmtlZC5wYXJzZUlubGluZSgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgb2YgdHlwZSAnXG4gICAgICArIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzcmMpICsgJywgc3RyaW5nIGV4cGVjdGVkJyk7XG4gIH1cblxuICBvcHQgPSBtZXJnZSh7fSwgbWFya2VkLmRlZmF1bHRzLCBvcHQgfHwge30pO1xuICBjaGVja1Nhbml0aXplRGVwcmVjYXRpb24ob3B0KTtcblxuICB0cnkge1xuICAgIGNvbnN0IHRva2VucyA9IExleGVyLmxleElubGluZShzcmMsIG9wdCk7XG4gICAgaWYgKG9wdC53YWxrVG9rZW5zKSB7XG4gICAgICBtYXJrZWQud2Fsa1Rva2Vucyh0b2tlbnMsIG9wdC53YWxrVG9rZW5zKTtcbiAgICB9XG4gICAgcmV0dXJuIFBhcnNlci5wYXJzZUlubGluZSh0b2tlbnMsIG9wdCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlLm1lc3NhZ2UgKz0gJ1xcblBsZWFzZSByZXBvcnQgdGhpcyB0byBodHRwczovL2dpdGh1Yi5jb20vbWFya2VkanMvbWFya2VkLic7XG4gICAgaWYgKG9wdC5zaWxlbnQpIHtcbiAgICAgIHJldHVybiAnPHA+QW4gZXJyb3Igb2NjdXJyZWQ6PC9wPjxwcmU+J1xuICAgICAgICArIGVzY2FwZShlLm1lc3NhZ2UgKyAnJywgdHJ1ZSlcbiAgICAgICAgKyAnPC9wcmU+JztcbiAgICB9XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcblxuLyoqXG4gKiBFeHBvc2VcbiAqL1xubWFya2VkLlBhcnNlciA9IFBhcnNlcjtcbm1hcmtlZC5wYXJzZXIgPSBQYXJzZXIucGFyc2U7XG5tYXJrZWQuUmVuZGVyZXIgPSBSZW5kZXJlcjtcbm1hcmtlZC5UZXh0UmVuZGVyZXIgPSBUZXh0UmVuZGVyZXI7XG5tYXJrZWQuTGV4ZXIgPSBMZXhlcjtcbm1hcmtlZC5sZXhlciA9IExleGVyLmxleDtcbm1hcmtlZC5Ub2tlbml6ZXIgPSBUb2tlbml6ZXI7XG5tYXJrZWQuU2x1Z2dlciA9IFNsdWdnZXI7XG5tYXJrZWQucGFyc2UgPSBtYXJrZWQ7XG5cbmNvbnN0IG9wdGlvbnMgPSBtYXJrZWQub3B0aW9ucztcbmNvbnN0IHNldE9wdGlvbnMgPSBtYXJrZWQuc2V0T3B0aW9ucztcbmNvbnN0IHVzZSA9IG1hcmtlZC51c2U7XG5jb25zdCB3YWxrVG9rZW5zID0gbWFya2VkLndhbGtUb2tlbnM7XG5jb25zdCBwYXJzZUlubGluZSA9IG1hcmtlZC5wYXJzZUlubGluZTtcbmNvbnN0IHBhcnNlID0gbWFya2VkO1xuY29uc3QgcGFyc2VyID0gUGFyc2VyLnBhcnNlO1xuY29uc3QgbGV4ZXIgPSBMZXhlci5sZXg7XG5cbmV4cG9ydCB7IExleGVyLCBQYXJzZXIsIFJlbmRlcmVyLCBTbHVnZ2VyLCBUZXh0UmVuZGVyZXIsIFRva2VuaXplciwgZGVmYXVsdHMsIGdldERlZmF1bHRzLCBsZXhlciwgbWFya2VkLCBvcHRpb25zLCBwYXJzZSwgcGFyc2VJbmxpbmUsIHBhcnNlciwgc2V0T3B0aW9ucywgdXNlLCB3YWxrVG9rZW5zIH07XG4iLCAiaW1wb3J0IHsgV29yZFByZXNzQ2xpZW50LCBXb3JkUHJlc3NDbGllbnRSZXN1bHQsIFdvcmRQcmVzc0NsaWVudFJldHVybkNvZGUgfSBmcm9tICcuL3dwLWNsaWVudCc7XHJcbmltcG9ydCB7IENsaWVudCB9IGZyb20gJ3htbHJwYyc7XHJcbmltcG9ydCB7IEFwcCwgTWFya2Rvd25WaWV3IH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgV29yZHByZXNzUGx1Z2luIGZyb20gJy4vbWFpbic7XHJcbmltcG9ydCBXUEFQSSBmcm9tICd3cGFwaSc7XHJcblxyXG5leHBvcnQgY2xhc3MgV3BSZXN0SmV0cGFja0NsaWVudCBpbXBsZW1lbnRzIFdvcmRQcmVzc0NsaWVudCB7XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgY2xpZW50OiBDbGllbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBhcHA6IEFwcCxcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGx1Z2luOiBXb3JkcHJlc3NQbHVnaW5cclxuICApIHtcclxuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocGx1Z2luLnNldHRpbmdzLmVuZHBvaW50KTtcclxuICAgIGNvbnNvbGUubG9nKHVybCk7XHJcbiAgfVxyXG5cclxuICBuZXdQb3N0KCk6IFByb21pc2U8V29yZFByZXNzQ2xpZW50UmVzdWx0PiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XHJcbiAgICAgIGNvbnN0IGFjdGl2ZVZpZXcgPSB3b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xyXG4gICAgICBpZiAoYWN0aXZlVmlldykge1xyXG4gICAgICAgIGNvbnN0IGVuZHBvaW50ID0gJ2h0dHBzOi8vcHVibGljLWFwaS53b3JkcHJlc3MuY29tL3Jlc3QvdjEvc2l0ZXMvZGV2YmVhbi5ncmVhdC1zaXRlLm5ldC9wb3N0cy8nO1xyXG4gICAgICAgIGNvbnN0IHdwID0gbmV3IFdQQVBJKHsgZW5kcG9pbnQgfSk7XHJcbiAgICAgICAgd3AucG9zdHMoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJlc29sdmUoe1xyXG4gICAgICAgICAgY29kZTogV29yZFByZXNzQ2xpZW50UmV0dXJuQ29kZS5PSyxcclxuICAgICAgICAgIGRhdGE6ICcnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3IgPSAnVGhlcmUgaXMgbm8gZWRpdG9yIGZvdW5kLiBOb3RoaW5nIHdpbGwgYmUgcHVibGlzaGVkLic7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGVycm9yKTtcclxuICAgICAgICByZWplY3QobmV3IEVycm9yKGVycm9yKSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn1cclxuIiwgImltcG9ydCB7IFdvcmRQcmVzc0NsaWVudCwgV29yZFByZXNzQ2xpZW50UmVzdWx0LCBXb3JkUHJlc3NDbGllbnRSZXR1cm5Db2RlIH0gZnJvbSAnLi93cC1jbGllbnQnO1xyXG5pbXBvcnQgeyBDbGllbnQgfSBmcm9tICd4bWxycGMnO1xyXG5pbXBvcnQgeyBBcHAsIE1hcmtkb3duVmlldyB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IFdvcmRwcmVzc1BsdWdpbiBmcm9tICcuL21haW4nO1xyXG5cclxuZXhwb3J0IGNsYXNzIFdwUmVzdE9BdXRoMkNsaWVudCBpbXBsZW1lbnRzIFdvcmRQcmVzc0NsaWVudCB7XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgY2xpZW50OiBDbGllbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBhcHA6IEFwcCxcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGx1Z2luOiBXb3JkcHJlc3NQbHVnaW5cclxuICApIHtcclxuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocGx1Z2luLnNldHRpbmdzLmVuZHBvaW50KTtcclxuICAgIGNvbnNvbGUubG9nKHVybCk7XHJcbiAgfVxyXG5cclxuICBuZXdQb3N0KCk6IFByb21pc2U8V29yZFByZXNzQ2xpZW50UmVzdWx0PiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XHJcbiAgICAgIGNvbnN0IGFjdGl2ZVZpZXcgPSB3b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xyXG4gICAgICBpZiAoYWN0aXZlVmlldykge1xyXG4gICAgICAgIC8vIGNvbnN0IGVuZHBvaW50ID0gJ2h0dHBzOi8vcHVibGljLWFwaS53b3JkcHJlc3MuY29tL3Jlc3QvdjEvc2l0ZXMvZGV2YmVhbi5ncmVhdC1zaXRlLm5ldC9wb3N0cy8nO1xyXG4gICAgICAgIC8vIGNvbnN0IHdwID0gbmV3IFdQQVBJKHsgZW5kcG9pbnQgfSk7XHJcbiAgICAgICAgLy8gd3AucG9zdHMoKS50aGVuKGZ1bmN0aW9uKCBkYXRhICkge1xyXG4gICAgICAgIC8vICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgLy8gfSkuY2F0Y2goZnVuY3Rpb24oIGVyciApIHtcclxuICAgICAgICAvLyAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgLy8gY29uc3Qgd3BBdXRoID0gbmV3IENsaWVudE9BdXRoMih7XHJcbiAgICAgICAgLy8gICBjbGllbnRJZDogJ283cG8zZURtVEk3ZFJVNnZEWXA1aWRLWlVBbmlWTFBqaUh3MFJMR00nLFxyXG4gICAgICAgIC8vICAgY2xpZW50U2VjcmV0OiAnZmtCcVRnUU95VlhGblNUMHFnU05zRmlDNmp4bVRsMEdLdUtMMEgzUicsXHJcbiAgICAgICAgLy8gICBhY2Nlc3NUb2tlblVyaTogJ2h0dHBzOi8vYmxvZy5nYWxheHl3b3JsZC5vcmcvb2F1dGgvdG9rZW4nLFxyXG4gICAgICAgIC8vICAgYXV0aG9yaXphdGlvblVyaTogJ2h0dHBzOi8vYmxvZy5nYWxheHl3b3JsZC5vcmcvb2F1dGgvYXV0aG9yaXplJyxcclxuICAgICAgICAvLyAgIHNjb3BlczogWyAnYmFzaWMnIF1cclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICAvLyB3cEF1dGgudG9rZW4uZ2V0VG9rZW4oKVxyXG4gICAgICAgIC8vIGF4aW9zLmdldCgnaHR0cHM6Ly9ibG9nLmdhbGF4eXdvcmxkLm9yZy9vYXV0aC9hdXRob3JpemUnLCB7XHJcbiAgICAgICAgLy8gICBwYXJhbXM6IHtcclxuICAgICAgICAvLyAgICAgY2xpZW50X2lkOiAnbzdwbzNlRG1USTdkUlU2dkRZcDVpZEtaVUFuaVZMUGppSHcwUkxHTScsXHJcbiAgICAgICAgLy8gICAgIHJlc3BvbnNlX3R5cGU6ICdjb2RlJyxcclxuICAgICAgICAvLyAgICAgc2NvcGU6ICdiYXNpYycsXHJcbiAgICAgICAgLy8gICAgIHJlZGlyZWN0X3VyaTogJ2FwcDovL29ic2lkaWFuLm1kJ1xyXG4gICAgICAgIC8vICAgfVxyXG4gICAgICAgIC8vIH0pXHJcbiAgICAgICAgLy8gICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCc+Pj4+Pj4+Pj4+JywgcmVzcG9uc2UpO1xyXG4gICAgICAgIC8vICAgfSlcclxuICAgICAgICAvLyAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCdFUlJPUj4+Pj4+Pj4+Pj4nLCBlcnJvcik7XHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvLyBmZXRjaCgnaHR0cHM6Ly9ibG9nLmdhbGF4eXdvcmxkLm9yZy9vYXV0aC9hdXRob3JpemUnKVxyXG4gICAgICAgIC8vICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvLyBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cclxuICAgICAgICAvLyBnb3QucG9zdCgnaHR0cHM6Ly9ibG9nLmdhbGF4eXdvcmxkLm9yZy9vYXV0aC9hdXRob3JpemUnLCB7XHJcbiAgICAgICAgLy8gICBzZWFyY2hQYXJhbXM6IHtcclxuICAgICAgICAvLyAgICAgY2xpZW50X2lkOiAnbzdwbzNlRG1USTdkUlU2dkRZcDVpZEtaVUFuaVZMUGppSHcwUkxHTScsXHJcbiAgICAgICAgLy8gICAgIHJlc3BvbnNlX3R5cGU6ICdjb2RlJyxcclxuICAgICAgICAvLyAgICAgc2NvcGU6ICdiYXNpYydcclxuICAgICAgICAvLyAgIH1cclxuICAgICAgICAvLyB9KVxyXG4gICAgICAgIC8vICAgLmpzb24oKVxyXG4gICAgICAgIC8vICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcbiAgICAgICAgLy8gICB9KVxyXG4gICAgICAgIC8vICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgLy8gICB9KTtcclxuXHJcbiAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICBjb2RlOiBXb3JkUHJlc3NDbGllbnRSZXR1cm5Db2RlLk9LLFxyXG4gICAgICAgICAgZGF0YTogJydcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBlcnJvciA9ICdUaGVyZSBpcyBubyBlZGl0b3IgZm91bmQuIE5vdGhpbmcgd2lsbCBiZSBwdWJsaXNoZWQuJztcclxuICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xyXG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoZXJyb3IpKTtcclxuICAgICAgfVxyXG4g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QVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFFBQVE7QUFBQSxRQUNSLFVBQVU7QUFBQSxRQUNWLFVBQVU7QUFBQSxRQUNWLFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFFBQVE7QUFBQSxRQUNSLFVBQVU7QUFBQSxRQUNWLFVBQVU7QUFBQSxRQUNWLFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLE9BQU87QUFBQSxRQUNQLFFBQVE7QUFBQSxRQUNSLFVBQVU7QUFBQSxRQUNWLFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFFBQVE7QUFBQSxRQUNSLFVBQVU7QUFBQSxRQUNWLFVBQVU7QUFBQSxRQUNWLFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFVBQVU7QUFBQSxRQUNWLFVBQVU7QUFBQSxRQUNWLFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFFBQVE7QUFBQSxRQUNSLFVBQVU7QUFBQSxRQUNWLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLE9BQU87QUFBQSxRQUNQLFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLE9BQU87QUFBQSxRQUNQLFVBQVU7QUFBQSxRQUNWLFFBQVE7QUFBQSxRQUNSLE9BQU87QUFBQSxRQUNQLFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULE9BQU87QUFBQSxRQUNQLE9BQU87QUFBQSxRQUNQLFFBQVE7QUFBQSxRQUNSLE9BQU87QUFBQSxRQUNQLFVBQVU7QUFBQSxRQUNWLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFFBQVE7QUFBQSxRQUNSLFVBQVU7QUFBQSxRQUNWLFNBQVM7QUFBQSxRQUNULFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFVBQVU7QUFBQSxRQUNWLFVBQVU7QUFBQSxRQUNWLFVBQVU7QUFBQSxRQUNWLFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFVBQVU7QUFBQSxRQUNWLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFdBQVc7QUFBQSxRQUNYLFFBQVE7QUFBQSxRQUNSLE9BQU87QUFBQSxRQUNQLFNBQVM7QUFBQSxRQUNULFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLE1BQU07QUFBQSxRQUNOLE1BQU07QUFBQSxRQUNOLE1BQU07QUFBQSxRQUNOLFdBQVc7QUFBQSxRQUNYLE1BQU07QUFBQSxRQUNOLE9BQU87QUFBQSxRQUNQLFNBQVM7QUFBQSxRQUNULE9BQU87QUFBQSxRQUNQLFdBQVc7QUFBQSxRQUNYLE9BQU87QUFBQSxRQUNQLE9BQU87QUFBQSxRQUNQLE9BQU87QUFBQSxRQUNQLFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFdBQVc7QUFBQSxRQUNYLFFBQVE7QUFBQSxRQUNSLE9BQU87QUFBQSxRQUNQLFNBQVM7QUFBQSxRQUNULFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLE1BQU07QUFBQSxRQUNOLE1BQU07QUFBQSxRQUNOLE1BQU07QUFBQSxRQUNOLFdBQVc7QUFBQSxRQUNYLE1BQU07QUFBQSxRQUNOLE9BQU87QUFBQSxRQUNQLFVBQVU7QUFBQSxRQUNWLFNBQVM7QUFBQSxRQUNULE9BQU87QUFBQSxRQUNQLFdBQVc7QUFBQSxRQUNYLE9BQU87QUFBQSxRQUNQLE9BQU87QUFBQSxRQUNQLE9BQU87QUFBQSxRQUNQLFNBQVM7QUFBQSxRQUNULFlBQVk7QUFBQSxRQUNaLFNBQVM7QUFBQSxRQUNULE9BQU87QUFBQSxRQUNQLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFVBQVU7QUFBQSxRQUNWLFFBQVE7QUFBQSxRQUNSLE9BQU87QUFBQSxRQUNQLE9BQU87QUFBQSxRQUNQLE9BQU87QUFBQSxRQUNQLFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFVBQVU7QUFBQSxRQUNWLFFBQVE7QUFBQSxRQUNSLFVBQVU7QUFBQSxRQUNWLFVBQVU7QUFBQSxRQUNWLFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFVBQVU7QUFBQSxRQUNWLFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULFdBQVc7QUFBQSxRQUNYLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFVBQVU7QUFBQSxRQUNWLFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULE1BQU07QUFBQSxRQUNOLFFBQVE7QUFBQSxRQUNSLE9BQU87QUFBQSxRQUNQLFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFNBQVM7QUFBQSxRQUNULFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULE9BQU87QUFBQSxRQUNQLE9BQU87QUFBQSxRQUNQLE1BQU07QUFBQSxRQUNOLE9BQU87QUFBQSxRQUNQLE9BQU87QUFBQSxRQUNQLE9BQU87QUFBQSxRQUNQLFVBQVU7QUFBQSxRQUNWLE9BQU87QUFBQSxRQUNQLFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULE1BQU07QUFBQSxRQUNOLFNBQVM7QUFBQSxRQUNULE1BQU07QUFBQSxRQUNOLE1BQU07QUFBQSxRQUNOLE9BQU87QUFBQSxRQUNQLE9BQU87QUFBQSxRQUNQLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLFNBQVM7QUFBQSxRQUNULFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFVBQVU7QUFBQSxRQUNWLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxRQUNSLE9BQU87QUFBQSxRQUNQLFVBQVU7QUFBQSxRQUNWLFNBQVM7QUFBQSxRQUNULFVBQVU7QUFBQSxRQUNWLFNBQVM7QUFBQTtBQUdYLGFBQU8sS0FBSyxJQUFJLFVBQVUsUUFBUSxTQUFVLEtBQUs7QUFDL0MsWUFBSSxJQUFJLElBQUksU0FBUztBQUNyQixZQUFJLEtBQUksT0FBTyxNQUFNLFdBQVcsT0FBTyxhQUFhLEtBQUs7QUFDekQsWUFBSSxTQUFTLE9BQU87QUFBQTtBQUd0QixlQUFTLEtBQUssSUFBSSxPQUFPO0FBQ3ZCLFlBQUksTUFBTSxJQUFJLE1BQU0sTUFBTTtBQUFBO0FBSTVCLFVBQUksSUFBSTtBQUVSLG9CQUFlLFNBQVEs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
