/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// node_modules/xmlbuilder/lib/Utility.js
var require_Utility = __commonJS({
  "node_modules/xmlbuilder/lib/Utility.js"(exports, module2) {
    (function() {
      var assign, camelCase, capitalize, isArray, isEmpty, isFunction, isObject, isPlainObject, kebabCase, snakeCase, titleCase, words, slice = [].slice, hasProp = {}.hasOwnProperty;
      assign = function() {
        var i, key, len, source, sources, target;
        target = arguments[0], sources = 2 <= arguments.length ? slice.call(arguments, 1) : [];
        if (isFunction(Object.assign)) {
          Object.assign.apply(null, arguments);
        } else {
          for (i = 0, len = sources.length; i < len; i++) {
            source = sources[i];
            if (source != null) {
              for (key in source) {
                if (!hasProp.call(source, key))
                  continue;
                target[key] = source[key];
              }
            }
          }
        }
        return target;
      };
      isFunction = function(val) {
        return !!val && Object.prototype.toString.call(val) === "[object Function]";
      };
      isObject = function(val) {
        var ref;
        return !!val && ((ref = typeof val) === "function" || ref === "object");
      };
      isArray = function(val) {
        if (isFunction(Array.isArray)) {
          return Array.isArray(val);
        } else {
          return Object.prototype.toString.call(val) === "[object Array]";
        }
      };
      isEmpty = function(val) {
        var key;
        if (isArray(val)) {
          return !val.length;
        } else {
          for (key in val) {
            if (!hasProp.call(val, key))
              continue;
            return false;
          }
          return true;
        }
      };
      isPlainObject = function(val) {
        var ctor, proto;
        return isObject(val) && (proto = Object.getPrototypeOf(val)) && (ctor = proto.constructor) && typeof ctor === "function" && ctor instanceof ctor && Function.prototype.toString.call(ctor) === Function.prototype.toString.call(Object);
      };
      words = function(val) {
        return (val.split(/[-_\s]+|(?=[A-Z][a-z])/) || []).filter(function(n) {
          return !!n;
        });
      };
      camelCase = function(val) {
        var i, index, len, r, ref, word;
        r = "";
        ref = words(val);
        for (index = i = 0, len = ref.length; i < len; index = ++i) {
          word = ref[index];
          r += index ? capitalize(word.toLowerCase()) : word.toLowerCase();
        }
        return r;
      };
      titleCase = function(val) {
        var i, index, len, r, ref, word;
        r = "";
        ref = words(val);
        for (index = i = 0, len = ref.length; i < len; index = ++i) {
          word = ref[index];
          r += capitalize(word.toLowerCase());
        }
        return r;
      };
      kebabCase = function(val) {
        var i, index, len, r, ref, word;
        r = "";
        ref = words(val);
        for (index = i = 0, len = ref.length; i < len; index = ++i) {
          word = ref[index];
          r += (index ? "-" : "") + word.toLowerCase();
        }
        return r;
      };
      snakeCase = function(val) {
        var i, index, len, r, ref, word;
        r = "";
        ref = words(val);
        for (index = i = 0, len = ref.length; i < len; index = ++i) {
          word = ref[index];
          r += (index ? "_" : "") + word.toLowerCase();
        }
        return r;
      };
      capitalize = function(val) {
        return val.charAt(0).toUpperCase() + val.slice(1);
      };
      module2.exports.assign = assign;
      module2.exports.isFunction = isFunction;
      module2.exports.isObject = isObject;
      module2.exports.isArray = isArray;
      module2.exports.isEmpty = isEmpty;
      module2.exports.isPlainObject = isPlainObject;
      module2.exports.camelCase = camelCase;
      module2.exports.titleCase = titleCase;
      module2.exports.kebabCase = kebabCase;
      module2.exports.snakeCase = snakeCase;
      module2.exports.capitalize = capitalize;
      module2.exports.words = words;
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLAttribute.js
var require_XMLAttribute = __commonJS({
  "node_modules/xmlbuilder/lib/XMLAttribute.js"(exports, module2) {
    (function() {
      var XMLAttribute;
      module2.exports = XMLAttribute = function() {
        function XMLAttribute2(parent, name, value) {
          this.options = parent.options;
          this.stringify = parent.stringify;
          if (name == null) {
            throw new Error("Missing attribute name of element " + parent.name);
          }
          if (value == null) {
            throw new Error("Missing attribute value for attribute " + name + " of element " + parent.name);
          }
          this.name = this.stringify.attName(name);
          this.value = this.stringify.attValue(value);
        }
        XMLAttribute2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLAttribute2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).attribute(this);
        };
        return XMLAttribute2;
      }();
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLElement.js
var require_XMLElement = __commonJS({
  "node_modules/xmlbuilder/lib/XMLElement.js"(exports, module2) {
    (function() {
      var XMLAttribute, XMLElement, XMLNode, isFunction, isObject, ref, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      ref = require_Utility(), isObject = ref.isObject, isFunction = ref.isFunction;
      XMLNode = require_XMLNode();
      XMLAttribute = require_XMLAttribute();
      module2.exports = XMLElement = function(superClass) {
        extend(XMLElement2, superClass);
        function XMLElement2(parent, name, attributes) {
          XMLElement2.__super__.constructor.call(this, parent);
          if (name == null) {
            throw new Error("Missing element name");
          }
          this.name = this.stringify.eleName(name);
          this.attributes = {};
          if (attributes != null) {
            this.attribute(attributes);
          }
          if (parent.isDocument) {
            this.isRoot = true;
            this.documentObject = parent;
            parent.rootObject = this;
          }
        }
        XMLElement2.prototype.clone = function() {
          var att, attName, clonedSelf, ref1;
          clonedSelf = Object.create(this);
          if (clonedSelf.isRoot) {
            clonedSelf.documentObject = null;
          }
          clonedSelf.attributes = {};
          ref1 = this.attributes;
          for (attName in ref1) {
            if (!hasProp.call(ref1, attName))
              continue;
            att = ref1[attName];
            clonedSelf.attributes[attName] = att.clone();
          }
          clonedSelf.children = [];
          this.children.forEach(function(child) {
            var clonedChild;
            clonedChild = child.clone();
            clonedChild.parent = clonedSelf;
            return clonedSelf.children.push(clonedChild);
          });
          return clonedSelf;
        };
        XMLElement2.prototype.attribute = function(name, value) {
          var attName, attValue;
          if (name != null) {
            name = name.valueOf();
          }
          if (isObject(name)) {
            for (attName in name) {
              if (!hasProp.call(name, attName))
                continue;
              attValue = name[attName];
              this.attribute(attName, attValue);
            }
          } else {
            if (isFunction(value)) {
              value = value.apply();
            }
            if (!this.options.skipNullAttributes || value != null) {
              this.attributes[name] = new XMLAttribute(this, name, value);
            }
          }
          return this;
        };
        XMLElement2.prototype.removeAttribute = function(name) {
          var attName, i, len;
          if (name == null) {
            throw new Error("Missing attribute name");
          }
          name = name.valueOf();
          if (Array.isArray(name)) {
            for (i = 0, len = name.length; i < len; i++) {
              attName = name[i];
              delete this.attributes[attName];
            }
          } else {
            delete this.attributes[name];
          }
          return this;
        };
        XMLElement2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).element(this);
        };
        XMLElement2.prototype.att = function(name, value) {
          return this.attribute(name, value);
        };
        XMLElement2.prototype.a = function(name, value) {
          return this.attribute(name, value);
        };
        return XMLElement2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLCData.js
var require_XMLCData = __commonJS({
  "node_modules/xmlbuilder/lib/XMLCData.js"(exports, module2) {
    (function() {
      var XMLCData, XMLNode, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLCData = function(superClass) {
        extend(XMLCData2, superClass);
        function XMLCData2(parent, text) {
          XMLCData2.__super__.constructor.call(this, parent);
          if (text == null) {
            throw new Error("Missing CDATA text");
          }
          this.text = this.stringify.cdata(text);
        }
        XMLCData2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLCData2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).cdata(this);
        };
        return XMLCData2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLComment.js
var require_XMLComment = __commonJS({
  "node_modules/xmlbuilder/lib/XMLComment.js"(exports, module2) {
    (function() {
      var XMLComment, XMLNode, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLComment = function(superClass) {
        extend(XMLComment2, superClass);
        function XMLComment2(parent, text) {
          XMLComment2.__super__.constructor.call(this, parent);
          if (text == null) {
            throw new Error("Missing comment text");
          }
          this.text = this.stringify.comment(text);
        }
        XMLComment2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLComment2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).comment(this);
        };
        return XMLComment2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLDeclaration.js
var require_XMLDeclaration = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDeclaration.js"(exports, module2) {
    (function() {
      var XMLDeclaration, XMLNode, isObject, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      isObject = require_Utility().isObject;
      XMLNode = require_XMLNode();
      module2.exports = XMLDeclaration = function(superClass) {
        extend(XMLDeclaration2, superClass);
        function XMLDeclaration2(parent, version, encoding, standalone) {
          var ref;
          XMLDeclaration2.__super__.constructor.call(this, parent);
          if (isObject(version)) {
            ref = version, version = ref.version, encoding = ref.encoding, standalone = ref.standalone;
          }
          if (!version) {
            version = "1.0";
          }
          this.version = this.stringify.xmlVersion(version);
          if (encoding != null) {
            this.encoding = this.stringify.xmlEncoding(encoding);
          }
          if (standalone != null) {
            this.standalone = this.stringify.xmlStandalone(standalone);
          }
        }
        XMLDeclaration2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).declaration(this);
        };
        return XMLDeclaration2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLDTDAttList.js
var require_XMLDTDAttList = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDTDAttList.js"(exports, module2) {
    (function() {
      var XMLDTDAttList, XMLNode, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLDTDAttList = function(superClass) {
        extend(XMLDTDAttList2, superClass);
        function XMLDTDAttList2(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {
          XMLDTDAttList2.__super__.constructor.call(this, parent);
          if (elementName == null) {
            throw new Error("Missing DTD element name");
          }
          if (attributeName == null) {
            throw new Error("Missing DTD attribute name");
          }
          if (!attributeType) {
            throw new Error("Missing DTD attribute type");
          }
          if (!defaultValueType) {
            throw new Error("Missing DTD attribute default");
          }
          if (defaultValueType.indexOf("#") !== 0) {
            defaultValueType = "#" + defaultValueType;
          }
          if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {
            throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");
          }
          if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {
            throw new Error("Default value only applies to #FIXED or #DEFAULT");
          }
          this.elementName = this.stringify.eleName(elementName);
          this.attributeName = this.stringify.attName(attributeName);
          this.attributeType = this.stringify.dtdAttType(attributeType);
          this.defaultValue = this.stringify.dtdAttDefault(defaultValue);
          this.defaultValueType = defaultValueType;
        }
        XMLDTDAttList2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).dtdAttList(this);
        };
        return XMLDTDAttList2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLDTDEntity.js
var require_XMLDTDEntity = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDTDEntity.js"(exports, module2) {
    (function() {
      var XMLDTDEntity, XMLNode, isObject, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      isObject = require_Utility().isObject;
      XMLNode = require_XMLNode();
      module2.exports = XMLDTDEntity = function(superClass) {
        extend(XMLDTDEntity2, superClass);
        function XMLDTDEntity2(parent, pe, name, value) {
          XMLDTDEntity2.__super__.constructor.call(this, parent);
          if (name == null) {
            throw new Error("Missing entity name");
          }
          if (value == null) {
            throw new Error("Missing entity value");
          }
          this.pe = !!pe;
          this.name = this.stringify.eleName(name);
          if (!isObject(value)) {
            this.value = this.stringify.dtdEntityValue(value);
          } else {
            if (!value.pubID && !value.sysID) {
              throw new Error("Public and/or system identifiers are required for an external entity");
            }
            if (value.pubID && !value.sysID) {
              throw new Error("System identifier is required for a public external entity");
            }
            if (value.pubID != null) {
              this.pubID = this.stringify.dtdPubID(value.pubID);
            }
            if (value.sysID != null) {
              this.sysID = this.stringify.dtdSysID(value.sysID);
            }
            if (value.nData != null) {
              this.nData = this.stringify.dtdNData(value.nData);
            }
            if (this.pe && this.nData) {
              throw new Error("Notation declaration is not allowed in a parameter entity");
            }
          }
        }
        XMLDTDEntity2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).dtdEntity(this);
        };
        return XMLDTDEntity2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLDTDElement.js
var require_XMLDTDElement = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDTDElement.js"(exports, module2) {
    (function() {
      var XMLDTDElement, XMLNode, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLDTDElement = function(superClass) {
        extend(XMLDTDElement2, superClass);
        function XMLDTDElement2(parent, name, value) {
          XMLDTDElement2.__super__.constructor.call(this, parent);
          if (name == null) {
            throw new Error("Missing DTD element name");
          }
          if (!value) {
            value = "(#PCDATA)";
          }
          if (Array.isArray(value)) {
            value = "(" + value.join(",") + ")";
          }
          this.name = this.stringify.eleName(name);
          this.value = this.stringify.dtdElementValue(value);
        }
        XMLDTDElement2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).dtdElement(this);
        };
        return XMLDTDElement2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLDTDNotation.js
var require_XMLDTDNotation = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDTDNotation.js"(exports, module2) {
    (function() {
      var XMLDTDNotation, XMLNode, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLDTDNotation = function(superClass) {
        extend(XMLDTDNotation2, superClass);
        function XMLDTDNotation2(parent, name, value) {
          XMLDTDNotation2.__super__.constructor.call(this, parent);
          if (name == null) {
            throw new Error("Missing notation name");
          }
          if (!value.pubID && !value.sysID) {
            throw new Error("Public or system identifiers are required for an external entity");
          }
          this.name = this.stringify.eleName(name);
          if (value.pubID != null) {
            this.pubID = this.stringify.dtdPubID(value.pubID);
          }
          if (value.sysID != null) {
            this.sysID = this.stringify.dtdSysID(value.sysID);
          }
        }
        XMLDTDNotation2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).dtdNotation(this);
        };
        return XMLDTDNotation2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLDocType.js
var require_XMLDocType = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDocType.js"(exports, module2) {
    (function() {
      var XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDocType, XMLNode, isObject, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      isObject = require_Utility().isObject;
      XMLNode = require_XMLNode();
      XMLDTDAttList = require_XMLDTDAttList();
      XMLDTDEntity = require_XMLDTDEntity();
      XMLDTDElement = require_XMLDTDElement();
      XMLDTDNotation = require_XMLDTDNotation();
      module2.exports = XMLDocType = function(superClass) {
        extend(XMLDocType2, superClass);
        function XMLDocType2(parent, pubID, sysID) {
          var ref, ref1;
          XMLDocType2.__super__.constructor.call(this, parent);
          this.documentObject = parent;
          if (isObject(pubID)) {
            ref = pubID, pubID = ref.pubID, sysID = ref.sysID;
          }
          if (sysID == null) {
            ref1 = [pubID, sysID], sysID = ref1[0], pubID = ref1[1];
          }
          if (pubID != null) {
            this.pubID = this.stringify.dtdPubID(pubID);
          }
          if (sysID != null) {
            this.sysID = this.stringify.dtdSysID(sysID);
          }
        }
        XMLDocType2.prototype.element = function(name, value) {
          var child;
          child = new XMLDTDElement(this, name, value);
          this.children.push(child);
          return this;
        };
        XMLDocType2.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {
          var child;
          child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);
          this.children.push(child);
          return this;
        };
        XMLDocType2.prototype.entity = function(name, value) {
          var child;
          child = new XMLDTDEntity(this, false, name, value);
          this.children.push(child);
          return this;
        };
        XMLDocType2.prototype.pEntity = function(name, value) {
          var child;
          child = new XMLDTDEntity(this, true, name, value);
          this.children.push(child);
          return this;
        };
        XMLDocType2.prototype.notation = function(name, value) {
          var child;
          child = new XMLDTDNotation(this, name, value);
          this.children.push(child);
          return this;
        };
        XMLDocType2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).docType(this);
        };
        XMLDocType2.prototype.ele = function(name, value) {
          return this.element(name, value);
        };
        XMLDocType2.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {
          return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);
        };
        XMLDocType2.prototype.ent = function(name, value) {
          return this.entity(name, value);
        };
        XMLDocType2.prototype.pent = function(name, value) {
          return this.pEntity(name, value);
        };
        XMLDocType2.prototype.not = function(name, value) {
          return this.notation(name, value);
        };
        XMLDocType2.prototype.up = function() {
          return this.root() || this.documentObject;
        };
        return XMLDocType2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLRaw.js
var require_XMLRaw = __commonJS({
  "node_modules/xmlbuilder/lib/XMLRaw.js"(exports, module2) {
    (function() {
      var XMLNode, XMLRaw, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLRaw = function(superClass) {
        extend(XMLRaw2, superClass);
        function XMLRaw2(parent, text) {
          XMLRaw2.__super__.constructor.call(this, parent);
          if (text == null) {
            throw new Error("Missing raw text");
          }
          this.value = this.stringify.raw(text);
        }
        XMLRaw2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLRaw2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).raw(this);
        };
        return XMLRaw2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLText.js
var require_XMLText = __commonJS({
  "node_modules/xmlbuilder/lib/XMLText.js"(exports, module2) {
    (function() {
      var XMLNode, XMLText, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLText = function(superClass) {
        extend(XMLText2, superClass);
        function XMLText2(parent, text) {
          XMLText2.__super__.constructor.call(this, parent);
          if (text == null) {
            throw new Error("Missing element text");
          }
          this.value = this.stringify.eleText(text);
        }
        XMLText2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLText2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).text(this);
        };
        return XMLText2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLProcessingInstruction.js
var require_XMLProcessingInstruction = __commonJS({
  "node_modules/xmlbuilder/lib/XMLProcessingInstruction.js"(exports, module2) {
    (function() {
      var XMLNode, XMLProcessingInstruction, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLProcessingInstruction = function(superClass) {
        extend(XMLProcessingInstruction2, superClass);
        function XMLProcessingInstruction2(parent, target, value) {
          XMLProcessingInstruction2.__super__.constructor.call(this, parent);
          if (target == null) {
            throw new Error("Missing instruction target");
          }
          this.target = this.stringify.insTarget(target);
          if (value) {
            this.value = this.stringify.insValue(value);
          }
        }
        XMLProcessingInstruction2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLProcessingInstruction2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).processingInstruction(this);
        };
        return XMLProcessingInstruction2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLNode.js
var require_XMLNode = __commonJS({
  "node_modules/xmlbuilder/lib/XMLNode.js"(exports, module2) {
    (function() {
      var XMLCData, XMLComment, XMLDeclaration, XMLDocType, XMLElement, XMLNode, XMLProcessingInstruction, XMLRaw, XMLText, isEmpty, isFunction, isObject, ref, hasProp = {}.hasOwnProperty;
      ref = require_Utility(), isObject = ref.isObject, isFunction = ref.isFunction, isEmpty = ref.isEmpty;
      XMLElement = null;
      XMLCData = null;
      XMLComment = null;
      XMLDeclaration = null;
      XMLDocType = null;
      XMLRaw = null;
      XMLText = null;
      XMLProcessingInstruction = null;
      module2.exports = XMLNode = function() {
        function XMLNode2(parent) {
          this.parent = parent;
          if (this.parent) {
            this.options = this.parent.options;
            this.stringify = this.parent.stringify;
          }
          this.children = [];
          if (!XMLElement) {
            XMLElement = require_XMLElement();
            XMLCData = require_XMLCData();
            XMLComment = require_XMLComment();
            XMLDeclaration = require_XMLDeclaration();
            XMLDocType = require_XMLDocType();
            XMLRaw = require_XMLRaw();
            XMLText = require_XMLText();
            XMLProcessingInstruction = require_XMLProcessingInstruction();
          }
        }
        XMLNode2.prototype.element = function(name, attributes, text) {
          var childNode, item, j, k, key, lastChild, len, len1, ref1, val;
          lastChild = null;
          if (attributes == null) {
            attributes = {};
          }
          attributes = attributes.valueOf();
          if (!isObject(attributes)) {
            ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];
          }
          if (name != null) {
            name = name.valueOf();
          }
          if (Array.isArray(name)) {
            for (j = 0, len = name.length; j < len; j++) {
              item = name[j];
              lastChild = this.element(item);
            }
          } else if (isFunction(name)) {
            lastChild = this.element(name.apply());
          } else if (isObject(name)) {
            for (key in name) {
              if (!hasProp.call(name, key))
                continue;
              val = name[key];
              if (isFunction(val)) {
                val = val.apply();
              }
              if (isObject(val) && isEmpty(val)) {
                val = null;
              }
              if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {
                lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);
              } else if (!this.options.separateArrayItems && Array.isArray(val)) {
                for (k = 0, len1 = val.length; k < len1; k++) {
                  item = val[k];
                  childNode = {};
                  childNode[key] = item;
                  lastChild = this.element(childNode);
                }
              } else if (isObject(val)) {
                lastChild = this.element(key);
                lastChild.element(val);
              } else {
                lastChild = this.element(key, val);
              }
            }
          } else {
            if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {
              lastChild = this.text(text);
            } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {
              lastChild = this.cdata(text);
            } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {
              lastChild = this.comment(text);
            } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {
              lastChild = this.raw(text);
            } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && name.indexOf(this.stringify.convertPIKey) === 0) {
              lastChild = this.instruction(name.substr(this.stringify.convertPIKey.length), text);
            } else {
              lastChild = this.node(name, attributes, text);
            }
          }
          if (lastChild == null) {
            throw new Error("Could not create any elements with: " + name);
          }
          return lastChild;
        };
        XMLNode2.prototype.insertBefore = function(name, attributes, text) {
          var child, i, removed;
          if (this.isRoot) {
            throw new Error("Cannot insert elements at root level");
          }
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i);
          child = this.parent.element(name, attributes, text);
          Array.prototype.push.apply(this.parent.children, removed);
          return child;
        };
        XMLNode2.prototype.insertAfter = function(name, attributes, text) {
          var child, i, removed;
          if (this.isRoot) {
            throw new Error("Cannot insert elements at root level");
          }
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i + 1);
          child = this.parent.element(name, attributes, text);
          Array.prototype.push.apply(this.parent.children, removed);
          return child;
        };
        XMLNode2.prototype.remove = function() {
          var i, ref1;
          if (this.isRoot) {
            throw new Error("Cannot remove the root element");
          }
          i = this.parent.children.indexOf(this);
          [].splice.apply(this.parent.children, [i, i - i + 1].concat(ref1 = [])), ref1;
          return this.parent;
        };
        XMLNode2.prototype.node = function(name, attributes, text) {
          var child, ref1;
          if (name != null) {
            name = name.valueOf();
          }
          attributes || (attributes = {});
          attributes = attributes.valueOf();
          if (!isObject(attributes)) {
            ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];
          }
          child = new XMLElement(this, name, attributes);
          if (text != null) {
            child.text(text);
          }
          this.children.push(child);
          return child;
        };
        XMLNode2.prototype.text = function(value) {
          var child;
          child = new XMLText(this, value);
          this.children.push(child);
          return this;
        };
        XMLNode2.prototype.cdata = function(value) {
          var child;
          child = new XMLCData(this, value);
          this.children.push(child);
          return this;
        };
        XMLNode2.prototype.comment = function(value) {
          var child;
          child = new XMLComment(this, value);
          this.children.push(child);
          return this;
        };
        XMLNode2.prototype.commentBefore = function(value) {
          var child, i, removed;
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i);
          child = this.parent.comment(value);
          Array.prototype.push.apply(this.parent.children, removed);
          return this;
        };
        XMLNode2.prototype.commentAfter = function(value) {
          var child, i, removed;
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i + 1);
          child = this.parent.comment(value);
          Array.prototype.push.apply(this.parent.children, removed);
          return this;
        };
        XMLNode2.prototype.raw = function(value) {
          var child;
          child = new XMLRaw(this, value);
          this.children.push(child);
          return this;
        };
        XMLNode2.prototype.instruction = function(target, value) {
          var insTarget, insValue, instruction, j, len;
          if (target != null) {
            target = target.valueOf();
          }
          if (value != null) {
            value = value.valueOf();
          }
          if (Array.isArray(target)) {
            for (j = 0, len = target.length; j < len; j++) {
              insTarget = target[j];
              this.instruction(insTarget);
            }
          } else if (isObject(target)) {
            for (insTarget in target) {
              if (!hasProp.call(target, insTarget))
                continue;
              insValue = target[insTarget];
              this.instruction(insTarget, insValue);
            }
          } else {
            if (isFunction(value)) {
              value = value.apply();
            }
            instruction = new XMLProcessingInstruction(this, target, value);
            this.children.push(instruction);
          }
          return this;
        };
        XMLNode2.prototype.instructionBefore = function(target, value) {
          var child, i, removed;
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i);
          child = this.parent.instruction(target, value);
          Array.prototype.push.apply(this.parent.children, removed);
          return this;
        };
        XMLNode2.prototype.instructionAfter = function(target, value) {
          var child, i, removed;
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i + 1);
          child = this.parent.instruction(target, value);
          Array.prototype.push.apply(this.parent.children, removed);
          return this;
        };
        XMLNode2.prototype.declaration = function(version, encoding, standalone) {
          var doc, xmldec;
          doc = this.document();
          xmldec = new XMLDeclaration(doc, version, encoding, standalone);
          if (doc.children[0] instanceof XMLDeclaration) {
            doc.children[0] = xmldec;
          } else {
            doc.children.unshift(xmldec);
          }
          return doc.root() || doc;
        };
        XMLNode2.prototype.doctype = function(pubID, sysID) {
          var child, doc, doctype, i, j, k, len, len1, ref1, ref2;
          doc = this.document();
          doctype = new XMLDocType(doc, pubID, sysID);
          ref1 = doc.children;
          for (i = j = 0, len = ref1.length; j < len; i = ++j) {
            child = ref1[i];
            if (child instanceof XMLDocType) {
              doc.children[i] = doctype;
              return doctype;
            }
          }
          ref2 = doc.children;
          for (i = k = 0, len1 = ref2.length; k < len1; i = ++k) {
            child = ref2[i];
            if (child.isRoot) {
              doc.children.splice(i, 0, doctype);
              return doctype;
            }
          }
          doc.children.push(doctype);
          return doctype;
        };
        XMLNode2.prototype.up = function() {
          if (this.isRoot) {
            throw new Error("The root node has no parent. Use doc() if you need to get the document object.");
          }
          return this.parent;
        };
        XMLNode2.prototype.root = function() {
          var node;
          node = this;
          while (node) {
            if (node.isDocument) {
              return node.rootObject;
            } else if (node.isRoot) {
              return node;
            } else {
              node = node.parent;
            }
          }
        };
        XMLNode2.prototype.document = function() {
          var node;
          node = this;
          while (node) {
            if (node.isDocument) {
              return node;
            } else {
              node = node.parent;
            }
          }
        };
        XMLNode2.prototype.end = function(options2) {
          return this.document().end(options2);
        };
        XMLNode2.prototype.prev = function() {
          var i;
          i = this.parent.children.indexOf(this);
          if (i < 1) {
            throw new Error("Already at the first node");
          }
          return this.parent.children[i - 1];
        };
        XMLNode2.prototype.next = function() {
          var i;
          i = this.parent.children.indexOf(this);
          if (i === -1 || i === this.parent.children.length - 1) {
            throw new Error("Already at the last node");
          }
          return this.parent.children[i + 1];
        };
        XMLNode2.prototype.importDocument = function(doc) {
          var clonedRoot;
          clonedRoot = doc.root().clone();
          clonedRoot.parent = this;
          clonedRoot.isRoot = false;
          this.children.push(clonedRoot);
          return this;
        };
        XMLNode2.prototype.ele = function(name, attributes, text) {
          return this.element(name, attributes, text);
        };
        XMLNode2.prototype.nod = function(name, attributes, text) {
          return this.node(name, attributes, text);
        };
        XMLNode2.prototype.txt = function(value) {
          return this.text(value);
        };
        XMLNode2.prototype.dat = function(value) {
          return this.cdata(value);
        };
        XMLNode2.prototype.com = function(value) {
          return this.comment(value);
        };
        XMLNode2.prototype.ins = function(target, value) {
          return this.instruction(target, value);
        };
        XMLNode2.prototype.doc = function() {
          return this.document();
        };
        XMLNode2.prototype.dec = function(version, encoding, standalone) {
          return this.declaration(version, encoding, standalone);
        };
        XMLNode2.prototype.dtd = function(pubID, sysID) {
          return this.doctype(pubID, sysID);
        };
        XMLNode2.prototype.e = function(name, attributes, text) {
          return this.element(name, attributes, text);
        };
        XMLNode2.prototype.n = function(name, attributes, text) {
          return this.node(name, attributes, text);
        };
        XMLNode2.prototype.t = function(value) {
          return this.text(value);
        };
        XMLNode2.prototype.d = function(value) {
          return this.cdata(value);
        };
        XMLNode2.prototype.c = function(value) {
          return this.comment(value);
        };
        XMLNode2.prototype.r = function(value) {
          return this.raw(value);
        };
        XMLNode2.prototype.i = function(target, value) {
          return this.instruction(target, value);
        };
        XMLNode2.prototype.u = function() {
          return this.up();
        };
        XMLNode2.prototype.importXMLBuilder = function(doc) {
          return this.importDocument(doc);
        };
        return XMLNode2;
      }();
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLStringifier.js
var require_XMLStringifier = __commonJS({
  "node_modules/xmlbuilder/lib/XMLStringifier.js"(exports, module2) {
    (function() {
      var XMLStringifier, camelCase, kebabCase, ref, snakeCase, titleCase, bind = function(fn, me) {
        return function() {
          return fn.apply(me, arguments);
        };
      }, hasProp = {}.hasOwnProperty;
      ref = require_Utility(), camelCase = ref.camelCase, titleCase = ref.titleCase, kebabCase = ref.kebabCase, snakeCase = ref.snakeCase;
      module2.exports = XMLStringifier = function() {
        function XMLStringifier2(options2) {
          this.assertLegalChar = bind(this.assertLegalChar, this);
          var key, ref1, value;
          options2 || (options2 = {});
          this.allowSurrogateChars = options2.allowSurrogateChars;
          this.noDoubleEncoding = options2.noDoubleEncoding;
          this.textCase = options2.textCase;
          ref1 = options2.stringify || {};
          for (key in ref1) {
            if (!hasProp.call(ref1, key))
              continue;
            value = ref1[key];
            this[key] = value;
          }
        }
        XMLStringifier2.prototype.eleName = function(val) {
          val = "" + val || "";
          val = this.applyCase(val);
          return this.assertLegalChar(val);
        };
        XMLStringifier2.prototype.eleText = function(val) {
          val = "" + val || "";
          return this.assertLegalChar(this.elEscape(val));
        };
        XMLStringifier2.prototype.cdata = function(val) {
          val = "" + val || "";
          val = val.replace("]]>", "]]]]><![CDATA[>");
          return this.assertLegalChar(val);
        };
        XMLStringifier2.prototype.comment = function(val) {
          val = "" + val || "";
          if (val.match(/--/)) {
            throw new Error("Comment text cannot contain double-hypen: " + val);
          }
          return this.assertLegalChar(val);
        };
        XMLStringifier2.prototype.raw = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.attName = function(val) {
          val = "" + val || "";
          return val = this.applyCase(val);
        };
        XMLStringifier2.prototype.attValue = function(val) {
          val = "" + val || "";
          return this.attEscape(val);
        };
        XMLStringifier2.prototype.insTarget = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.insValue = function(val) {
          val = "" + val || "";
          if (val.match(/\?>/)) {
            throw new Error("Invalid processing instruction value: " + val);
          }
          return val;
        };
        XMLStringifier2.prototype.xmlVersion = function(val) {
          val = "" + val || "";
          if (!val.match(/1\.[0-9]+/)) {
            throw new Error("Invalid version number: " + val);
          }
          return val;
        };
        XMLStringifier2.prototype.xmlEncoding = function(val) {
          val = "" + val || "";
          if (!val.match(/^[A-Za-z](?:[A-Za-z0-9._-]|-)*$/)) {
            throw new Error("Invalid encoding: " + val);
          }
          return val;
        };
        XMLStringifier2.prototype.xmlStandalone = function(val) {
          if (val) {
            return "yes";
          } else {
            return "no";
          }
        };
        XMLStringifier2.prototype.dtdPubID = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.dtdSysID = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.dtdElementValue = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.dtdAttType = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.dtdAttDefault = function(val) {
          if (val != null) {
            return "" + val || "";
          } else {
            return val;
          }
        };
        XMLStringifier2.prototype.dtdEntityValue = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.dtdNData = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.convertAttKey = "@";
        XMLStringifier2.prototype.convertPIKey = "?";
        XMLStringifier2.prototype.convertTextKey = "#text";
        XMLStringifier2.prototype.convertCDataKey = "#cdata";
        XMLStringifier2.prototype.convertCommentKey = "#comment";
        XMLStringifier2.prototype.convertRawKey = "#raw";
        XMLStringifier2.prototype.assertLegalChar = function(str) {
          var chars, chr;
          if (this.allowSurrogateChars) {
            chars = /[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uFFFE-\uFFFF]/;
          } else {
            chars = /[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE-\uFFFF]/;
          }
          chr = str.match(chars);
          if (chr) {
            throw new Error("Invalid character (" + chr + ") in string: " + str + " at index " + chr.index);
          }
          return str;
        };
        XMLStringifier2.prototype.applyCase = function(str) {
          switch (this.textCase) {
            case "camel":
              return camelCase(str);
            case "title":
              return titleCase(str);
            case "kebab":
            case "lower":
              return kebabCase(str);
            case "snake":
              return snakeCase(str);
            case "upper":
              return kebabCase(str).toUpperCase();
            default:
              return str;
          }
        };
        XMLStringifier2.prototype.elEscape = function(str) {
          var ampregex;
          ampregex = this.noDoubleEncoding ? /(?!&\S+;)&/g : /&/g;
          return str.replace(ampregex, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\r/g, "&#xD;");
        };
        XMLStringifier2.prototype.attEscape = function(str) {
          var ampregex;
          ampregex = this.noDoubleEncoding ? /(?!&\S+;)&/g : /&/g;
          return str.replace(ampregex, "&amp;").replace(/</g, "&lt;").replace(/"/g, "&quot;").replace(/\t/g, "&#x9;").replace(/\n/g, "&#xA;").replace(/\r/g, "&#xD;");
        };
        return XMLStringifier2;
      }();
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLWriterBase.js
var require_XMLWriterBase = __commonJS({
  "node_modules/xmlbuilder/lib/XMLWriterBase.js"(exports, module2) {
    (function() {
      var XMLWriterBase, hasProp = {}.hasOwnProperty;
      module2.exports = XMLWriterBase = function() {
        function XMLWriterBase2(options2) {
          var key, ref, ref1, ref2, ref3, ref4, value;
          options2 || (options2 = {});
          this.pretty = options2.pretty || false;
          this.allowEmpty = (ref = options2.allowEmpty) != null ? ref : false;
          if (this.pretty) {
            this.indent = (ref1 = options2.indent) != null ? ref1 : "  ";
            this.newline = (ref2 = options2.newline) != null ? ref2 : "\n";
            this.offset = (ref3 = options2.offset) != null ? ref3 : 0;
          } else {
            this.indent = "";
            this.newline = "";
            this.offset = 0;
          }
          ref4 = options2.writer || {};
          for (key in ref4) {
            if (!hasProp.call(ref4, key))
              continue;
            value = ref4[key];
            this[key] = value;
          }
        }
        XMLWriterBase2.prototype.set = function(options2) {
          var key, ref, value;
          options2 || (options2 = {});
          if ("pretty" in options2) {
            this.pretty = options2.pretty;
          }
          if ("allowEmpty" in options2) {
            this.allowEmpty = options2.allowEmpty;
          }
          if (this.pretty) {
            this.indent = "indent" in options2 ? options2.indent : "  ";
            this.newline = "newline" in options2 ? options2.newline : "\n";
            this.offset = "offset" in options2 ? options2.offset : 0;
          } else {
            this.indent = "";
            this.newline = "";
            this.offset = 0;
          }
          ref = options2.writer || {};
          for (key in ref) {
            if (!hasProp.call(ref, key))
              continue;
            value = ref[key];
            this[key] = value;
          }
          return this;
        };
        XMLWriterBase2.prototype.space = function(level) {
          if (this.pretty) {
            return new Array((level || 0) + this.offset + 1).join(this.indent);
          } else {
            return "";
          }
        };
        return XMLWriterBase2;
      }();
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLStringWriter.js
var require_XMLStringWriter = __commonJS({
  "node_modules/xmlbuilder/lib/XMLStringWriter.js"(exports, module2) {
    (function() {
      var XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLText, XMLWriterBase, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLDeclaration = require_XMLDeclaration();
      XMLDocType = require_XMLDocType();
      XMLCData = require_XMLCData();
      XMLComment = require_XMLComment();
      XMLElement = require_XMLElement();
      XMLRaw = require_XMLRaw();
      XMLText = require_XMLText();
      XMLProcessingInstruction = require_XMLProcessingInstruction();
      XMLDTDAttList = require_XMLDTDAttList();
      XMLDTDElement = require_XMLDTDElement();
      XMLDTDEntity = require_XMLDTDEntity();
      XMLDTDNotation = require_XMLDTDNotation();
      XMLWriterBase = require_XMLWriterBase();
      module2.exports = XMLStringWriter = function(superClass) {
        extend(XMLStringWriter2, superClass);
        function XMLStringWriter2(options2) {
          XMLStringWriter2.__super__.constructor.call(this, options2);
        }
        XMLStringWriter2.prototype.document = function(doc) {
          var child, i, len, r, ref;
          r = "";
          ref = doc.children;
          for (i = 0, len = ref.length; i < len; i++) {
            child = ref[i];
            r += function() {
              switch (false) {
                case !(child instanceof XMLDeclaration):
                  return this.declaration(child);
                case !(child instanceof XMLDocType):
                  return this.docType(child);
                case !(child instanceof XMLComment):
                  return this.comment(child);
                case !(child instanceof XMLProcessingInstruction):
                  return this.processingInstruction(child);
                default:
                  return this.element(child, 0);
              }
            }.call(this);
          }
          if (this.pretty && r.slice(-this.newline.length) === this.newline) {
            r = r.slice(0, -this.newline.length);
          }
          return r;
        };
        XMLStringWriter2.prototype.attribute = function(att) {
          return " " + att.name + '="' + att.value + '"';
        };
        XMLStringWriter2.prototype.cdata = function(node, level) {
          return this.space(level) + "<![CDATA[" + node.text + "]]>" + this.newline;
        };
        XMLStringWriter2.prototype.comment = function(node, level) {
          return this.space(level) + "<!-- " + node.text + " -->" + this.newline;
        };
        XMLStringWriter2.prototype.declaration = function(node, level) {
          var r;
          r = this.space(level);
          r += '<?xml version="' + node.version + '"';
          if (node.encoding != null) {
            r += ' encoding="' + node.encoding + '"';
          }
          if (node.standalone != null) {
            r += ' standalone="' + node.standalone + '"';
          }
          r += "?>";
          r += this.newline;
          return r;
        };
        XMLStringWriter2.prototype.docType = function(node, level) {
          var child, i, len, r, ref;
          level || (level = 0);
          r = this.space(level);
          r += "<!DOCTYPE " + node.root().name;
          if (node.pubID && node.sysID) {
            r += ' PUBLIC "' + node.pubID + '" "' + node.sysID + '"';
          } else if (node.sysID) {
            r += ' SYSTEM "' + node.sysID + '"';
          }
          if (node.children.length > 0) {
            r += " [";
            r += this.newline;
            ref = node.children;
            for (i = 0, len = ref.length; i < len; i++) {
              child = ref[i];
              r += function() {
                switch (false) {
                  case !(child instanceof XMLDTDAttList):
                    return this.dtdAttList(child, level + 1);
                  case !(child instanceof XMLDTDElement):
                    return this.dtdElement(child, level + 1);
                  case !(child instanceof XMLDTDEntity):
                    return this.dtdEntity(child, level + 1);
                  case !(child instanceof XMLDTDNotation):
                    return this.dtdNotation(child, level + 1);
                  case !(child instanceof XMLCData):
                    return this.cdata(child, level + 1);
                  case !(child instanceof XMLComment):
                    return this.comment(child, level + 1);
                  case !(child instanceof XMLProcessingInstruction):
                    return this.processingInstruction(child, level + 1);
                  default:
                    throw new Error("Unknown DTD node type: " + child.constructor.name);
                }
              }.call(this);
            }
            r += "]";
          }
          r += ">";
          r += this.newline;
          return r;
        };
        XMLStringWriter2.prototype.element = function(node, level) {
          var att, child, i, len, name, r, ref, ref1, space;
          level || (level = 0);
          space = this.space(level);
          r = "";
          r += space + "<" + node.name;
          ref = node.attributes;
          for (name in ref) {
            if (!hasProp.call(ref, name))
              continue;
            att = ref[name];
            r += this.attribute(att);
          }
          if (node.children.length === 0 || node.children.every(function(e) {
            return e.value === "";
          })) {
            if (this.allowEmpty) {
              r += "></" + node.name + ">" + this.newline;
            } else {
              r += "/>" + this.newline;
            }
          } else if (this.pretty && node.children.length === 1 && node.children[0].value != null) {
            r += ">";
            r += node.children[0].value;
            r += "</" + node.name + ">" + this.newline;
          } else {
            r += ">" + this.newline;
            ref1 = node.children;
            for (i = 0, len = ref1.length; i < len; i++) {
              child = ref1[i];
              r += function() {
                switch (false) {
                  case !(child instanceof XMLCData):
                    return this.cdata(child, level + 1);
                  case !(child instanceof XMLComment):
                    return this.comment(child, level + 1);
                  case !(child instanceof XMLElement):
                    return this.element(child, level + 1);
                  case !(child instanceof XMLRaw):
                    return this.raw(child, level + 1);
                  case !(child instanceof XMLText):
                    return this.text(child, level + 1);
                  case !(child instanceof XMLProcessingInstruction):
                    return this.processingInstruction(child, level + 1);
                  default:
                    throw new Error("Unknown XML node type: " + child.constructor.name);
                }
              }.call(this);
            }
            r += space + "</" + node.name + ">" + this.newline;
          }
          return r;
        };
        XMLStringWriter2.prototype.processingInstruction = function(node, level) {
          var r;
          r = this.space(level) + "<?" + node.target;
          if (node.value) {
            r += " " + node.value;
          }
          r += "?>" + this.newline;
          return r;
        };
        XMLStringWriter2.prototype.raw = function(node, level) {
          return this.space(level) + node.value + this.newline;
        };
        XMLStringWriter2.prototype.text = function(node, level) {
          return this.space(level) + node.value + this.newline;
        };
        XMLStringWriter2.prototype.dtdAttList = function(node, level) {
          var r;
          r = this.space(level) + "<!ATTLIST " + node.elementName + " " + node.attributeName + " " + node.attributeType;
          if (node.defaultValueType !== "#DEFAULT") {
            r += " " + node.defaultValueType;
          }
          if (node.defaultValue) {
            r += ' "' + node.defaultValue + '"';
          }
          r += ">" + this.newline;
          return r;
        };
        XMLStringWriter2.prototype.dtdElement = function(node, level) {
          return this.space(level) + "<!ELEMENT " + node.name + " " + node.value + ">" + this.newline;
        };
        XMLStringWriter2.prototype.dtdEntity = function(node, level) {
          var r;
          r = this.space(level) + "<!ENTITY";
          if (node.pe) {
            r += " %";
          }
          r += " " + node.name;
          if (node.value) {
            r += ' "' + node.value + '"';
          } else {
            if (node.pubID && node.sysID) {
              r += ' PUBLIC "' + node.pubID + '" "' + node.sysID + '"';
            } else if (node.sysID) {
              r += ' SYSTEM "' + node.sysID + '"';
            }
            if (node.nData) {
              r += " NDATA " + node.nData;
            }
          }
          r += ">" + this.newline;
          return r;
        };
        XMLStringWriter2.prototype.dtdNotation = function(node, level) {
          var r;
          r = this.space(level) + "<!NOTATION " + node.name;
          if (node.pubID && node.sysID) {
            r += ' PUBLIC "' + node.pubID + '" "' + node.sysID + '"';
          } else if (node.pubID) {
            r += ' PUBLIC "' + node.pubID + '"';
          } else if (node.sysID) {
            r += ' SYSTEM "' + node.sysID + '"';
          }
          r += ">" + this.newline;
          return r;
        };
        XMLStringWriter2.prototype.openNode = function(node, level) {
          var att, name, r, ref;
          level || (level = 0);
          if (node instanceof XMLElement) {
            r = this.space(level) + "<" + node.name;
            ref = node.attributes;
            for (name in ref) {
              if (!hasProp.call(ref, name))
                continue;
              att = ref[name];
              r += this.attribute(att);
            }
            r += (node.children ? ">" : "/>") + this.newline;
            return r;
          } else {
            r = this.space(level) + "<!DOCTYPE " + node.rootNodeName;
            if (node.pubID && node.sysID) {
              r += ' PUBLIC "' + node.pubID + '" "' + node.sysID + '"';
            } else if (node.sysID) {
              r += ' SYSTEM "' + node.sysID + '"';
            }
            r += (node.children ? " [" : ">") + this.newline;
            return r;
          }
        };
        XMLStringWriter2.prototype.closeNode = function(node, level) {
          level || (level = 0);
          switch (false) {
            case !(node instanceof XMLElement):
              return this.space(level) + "</" + node.name + ">" + this.newline;
            case !(node instanceof XMLDocType):
              return this.space(level) + "]>" + this.newline;
          }
        };
        return XMLStringWriter2;
      }(XMLWriterBase);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLDocument.js
var require_XMLDocument = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDocument.js"(exports, module2) {
    (function() {
      var XMLDocument, XMLNode, XMLStringWriter, XMLStringifier, isPlainObject, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      isPlainObject = require_Utility().isPlainObject;
      XMLNode = require_XMLNode();
      XMLStringifier = require_XMLStringifier();
      XMLStringWriter = require_XMLStringWriter();
      module2.exports = XMLDocument = function(superClass) {
        extend(XMLDocument2, superClass);
        function XMLDocument2(options2) {
          XMLDocument2.__super__.constructor.call(this, null);
          options2 || (options2 = {});
          if (!options2.writer) {
            options2.writer = new XMLStringWriter();
          }
          this.options = options2;
          this.stringify = new XMLStringifier(options2);
          this.isDocument = true;
        }
        XMLDocument2.prototype.end = function(writer) {
          var writerOptions;
          if (!writer) {
            writer = this.options.writer;
          } else if (isPlainObject(writer)) {
            writerOptions = writer;
            writer = this.options.writer.set(writerOptions);
          }
          return writer.document(this);
        };
        XMLDocument2.prototype.toString = function(options2) {
          return this.options.writer.set(options2).document(this);
        };
        return XMLDocument2;
      }(XMLNode);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLDocumentCB.js
var require_XMLDocumentCB = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDocumentCB.js"(exports, module2) {
    (function() {
      var XMLAttribute, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDocumentCB, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLStringifier, XMLText, isFunction, isObject, isPlainObject, ref, hasProp = {}.hasOwnProperty;
      ref = require_Utility(), isObject = ref.isObject, isFunction = ref.isFunction, isPlainObject = ref.isPlainObject;
      XMLElement = require_XMLElement();
      XMLCData = require_XMLCData();
      XMLComment = require_XMLComment();
      XMLRaw = require_XMLRaw();
      XMLText = require_XMLText();
      XMLProcessingInstruction = require_XMLProcessingInstruction();
      XMLDeclaration = require_XMLDeclaration();
      XMLDocType = require_XMLDocType();
      XMLDTDAttList = require_XMLDTDAttList();
      XMLDTDEntity = require_XMLDTDEntity();
      XMLDTDElement = require_XMLDTDElement();
      XMLDTDNotation = require_XMLDTDNotation();
      XMLAttribute = require_XMLAttribute();
      XMLStringifier = require_XMLStringifier();
      XMLStringWriter = require_XMLStringWriter();
      module2.exports = XMLDocumentCB = function() {
        function XMLDocumentCB2(options2, onData, onEnd) {
          var writerOptions;
          options2 || (options2 = {});
          if (!options2.writer) {
            options2.writer = new XMLStringWriter(options2);
          } else if (isPlainObject(options2.writer)) {
            writerOptions = options2.writer;
            options2.writer = new XMLStringWriter(writerOptions);
          }
          this.options = options2;
          this.writer = options2.writer;
          this.stringify = new XMLStringifier(options2);
          this.onDataCallback = onData || function() {
          };
          this.onEndCallback = onEnd || function() {
          };
          this.currentNode = null;
          this.currentLevel = -1;
          this.openTags = {};
          this.documentStarted = false;
          this.documentCompleted = false;
          this.root = null;
        }
        XMLDocumentCB2.prototype.node = function(name, attributes, text) {
          var ref1;
          if (name == null) {
            throw new Error("Missing node name");
          }
          if (this.root && this.currentLevel === -1) {
            throw new Error("Document can only have one root node");
          }
          this.openCurrent();
          name = name.valueOf();
          if (attributes == null) {
            attributes = {};
          }
          attributes = attributes.valueOf();
          if (!isObject(attributes)) {
            ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];
          }
          this.currentNode = new XMLElement(this, name, attributes);
          this.currentNode.children = false;
          this.currentLevel++;
          this.openTags[this.currentLevel] = this.currentNode;
          if (text != null) {
            this.text(text);
          }
          return this;
        };
        XMLDocumentCB2.prototype.element = function(name, attributes, text) {
          if (this.currentNode && this.currentNode instanceof XMLDocType) {
            return this.dtdElement.apply(this, arguments);
          } else {
            return this.node(name, attributes, text);
          }
        };
        XMLDocumentCB2.prototype.attribute = function(name, value) {
          var attName, attValue;
          if (!this.currentNode || this.currentNode.children) {
            throw new Error("att() can only be used immediately after an ele() call in callback mode");
          }
          if (name != null) {
            name = name.valueOf();
          }
          if (isObject(name)) {
            for (attName in name) {
              if (!hasProp.call(name, attName))
                continue;
              attValue = name[attName];
              this.attribute(attName, attValue);
            }
          } else {
            if (isFunction(value)) {
              value = value.apply();
            }
            if (!this.options.skipNullAttributes || value != null) {
              this.currentNode.attributes[name] = new XMLAttribute(this, name, value);
            }
          }
          return this;
        };
        XMLDocumentCB2.prototype.text = function(value) {
          var node;
          this.openCurrent();
          node = new XMLText(this, value);
          this.onData(this.writer.text(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.cdata = function(value) {
          var node;
          this.openCurrent();
          node = new XMLCData(this, value);
          this.onData(this.writer.cdata(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.comment = function(value) {
          var node;
          this.openCurrent();
          node = new XMLComment(this, value);
          this.onData(this.writer.comment(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.raw = function(value) {
          var node;
          this.openCurrent();
          node = new XMLRaw(this, value);
          this.onData(this.writer.raw(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.instruction = function(target, value) {
          var i, insTarget, insValue, len, node;
          this.openCurrent();
          if (target != null) {
            target = target.valueOf();
          }
          if (value != null) {
            value = value.valueOf();
          }
          if (Array.isArray(target)) {
            for (i = 0, len = target.length; i < len; i++) {
              insTarget = target[i];
              this.instruction(insTarget);
            }
          } else if (isObject(target)) {
            for (insTarget in target) {
              if (!hasProp.call(target, insTarget))
                continue;
              insValue = target[insTarget];
              this.instruction(insTarget, insValue);
            }
          } else {
            if (isFunction(value)) {
              value = value.apply();
            }
            node = new XMLProcessingInstruction(this, target, value);
            this.onData(this.writer.processingInstruction(node, this.currentLevel + 1));
          }
          return this;
        };
        XMLDocumentCB2.prototype.declaration = function(version, encoding, standalone) {
          var node;
          this.openCurrent();
          if (this.documentStarted) {
            throw new Error("declaration() must be the first node");
          }
          node = new XMLDeclaration(this, version, encoding, standalone);
          this.onData(this.writer.declaration(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.doctype = function(root, pubID, sysID) {
          this.openCurrent();
          if (root == null) {
            throw new Error("Missing root node name");
          }
          if (this.root) {
            throw new Error("dtd() must come before the root node");
          }
          this.currentNode = new XMLDocType(this, pubID, sysID);
          this.currentNode.rootNodeName = root;
          this.currentNode.children = false;
          this.currentLevel++;
          this.openTags[this.currentLevel] = this.currentNode;
          return this;
        };
        XMLDocumentCB2.prototype.dtdElement = function(name, value) {
          var node;
          this.openCurrent();
          node = new XMLDTDElement(this, name, value);
          this.onData(this.writer.dtdElement(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {
          var node;
          this.openCurrent();
          node = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);
          this.onData(this.writer.dtdAttList(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.entity = function(name, value) {
          var node;
          this.openCurrent();
          node = new XMLDTDEntity(this, false, name, value);
          this.onData(this.writer.dtdEntity(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.pEntity = function(name, value) {
          var node;
          this.openCurrent();
          node = new XMLDTDEntity(this, true, name, value);
          this.onData(this.writer.dtdEntity(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.notation = function(name, value) {
          var node;
          this.openCurrent();
          node = new XMLDTDNotation(this, name, value);
          this.onData(this.writer.dtdNotation(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.up = function() {
          if (this.currentLevel < 0) {
            throw new Error("The document node has no parent");
          }
          if (this.currentNode) {
            if (this.currentNode.children) {
              this.closeNode(this.currentNode);
            } else {
              this.openNode(this.currentNode);
            }
            this.currentNode = null;
          } else {
            this.closeNode(this.openTags[this.currentLevel]);
          }
          delete this.openTags[this.currentLevel];
          this.currentLevel--;
          return this;
        };
        XMLDocumentCB2.prototype.end = function() {
          while (this.currentLevel >= 0) {
            this.up();
          }
          return this.onEnd();
        };
        XMLDocumentCB2.prototype.openCurrent = function() {
          if (this.currentNode) {
            this.currentNode.children = true;
            return this.openNode(this.currentNode);
          }
        };
        XMLDocumentCB2.prototype.openNode = function(node) {
          if (!node.isOpen) {
            if (!this.root && this.currentLevel === 0 && node instanceof XMLElement) {
              this.root = node;
            }
            this.onData(this.writer.openNode(node, this.currentLevel));
            return node.isOpen = true;
          }
        };
        XMLDocumentCB2.prototype.closeNode = function(node) {
          if (!node.isClosed) {
            this.onData(this.writer.closeNode(node, this.currentLevel));
            return node.isClosed = true;
          }
        };
        XMLDocumentCB2.prototype.onData = function(chunk) {
          this.documentStarted = true;
          return this.onDataCallback(chunk);
        };
        XMLDocumentCB2.prototype.onEnd = function() {
          this.documentCompleted = true;
          return this.onEndCallback();
        };
        XMLDocumentCB2.prototype.ele = function() {
          return this.element.apply(this, arguments);
        };
        XMLDocumentCB2.prototype.nod = function(name, attributes, text) {
          return this.node(name, attributes, text);
        };
        XMLDocumentCB2.prototype.txt = function(value) {
          return this.text(value);
        };
        XMLDocumentCB2.prototype.dat = function(value) {
          return this.cdata(value);
        };
        XMLDocumentCB2.prototype.com = function(value) {
          return this.comment(value);
        };
        XMLDocumentCB2.prototype.ins = function(target, value) {
          return this.instruction(target, value);
        };
        XMLDocumentCB2.prototype.dec = function(version, encoding, standalone) {
          return this.declaration(version, encoding, standalone);
        };
        XMLDocumentCB2.prototype.dtd = function(root, pubID, sysID) {
          return this.doctype(root, pubID, sysID);
        };
        XMLDocumentCB2.prototype.e = function(name, attributes, text) {
          return this.element(name, attributes, text);
        };
        XMLDocumentCB2.prototype.n = function(name, attributes, text) {
          return this.node(name, attributes, text);
        };
        XMLDocumentCB2.prototype.t = function(value) {
          return this.text(value);
        };
        XMLDocumentCB2.prototype.d = function(value) {
          return this.cdata(value);
        };
        XMLDocumentCB2.prototype.c = function(value) {
          return this.comment(value);
        };
        XMLDocumentCB2.prototype.r = function(value) {
          return this.raw(value);
        };
        XMLDocumentCB2.prototype.i = function(target, value) {
          return this.instruction(target, value);
        };
        XMLDocumentCB2.prototype.att = function() {
          if (this.currentNode && this.currentNode instanceof XMLDocType) {
            return this.attList.apply(this, arguments);
          } else {
            return this.attribute.apply(this, arguments);
          }
        };
        XMLDocumentCB2.prototype.a = function() {
          if (this.currentNode && this.currentNode instanceof XMLDocType) {
            return this.attList.apply(this, arguments);
          } else {
            return this.attribute.apply(this, arguments);
          }
        };
        XMLDocumentCB2.prototype.ent = function(name, value) {
          return this.entity(name, value);
        };
        XMLDocumentCB2.prototype.pent = function(name, value) {
          return this.pEntity(name, value);
        };
        XMLDocumentCB2.prototype.not = function(name, value) {
          return this.notation(name, value);
        };
        return XMLDocumentCB2;
      }();
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/XMLStreamWriter.js
var require_XMLStreamWriter = __commonJS({
  "node_modules/xmlbuilder/lib/XMLStreamWriter.js"(exports, module2) {
    (function() {
      var XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStreamWriter, XMLText, XMLWriterBase, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLDeclaration = require_XMLDeclaration();
      XMLDocType = require_XMLDocType();
      XMLCData = require_XMLCData();
      XMLComment = require_XMLComment();
      XMLElement = require_XMLElement();
      XMLRaw = require_XMLRaw();
      XMLText = require_XMLText();
      XMLProcessingInstruction = require_XMLProcessingInstruction();
      XMLDTDAttList = require_XMLDTDAttList();
      XMLDTDElement = require_XMLDTDElement();
      XMLDTDEntity = require_XMLDTDEntity();
      XMLDTDNotation = require_XMLDTDNotation();
      XMLWriterBase = require_XMLWriterBase();
      module2.exports = XMLStreamWriter = function(superClass) {
        extend(XMLStreamWriter2, superClass);
        function XMLStreamWriter2(stream, options2) {
          this.stream = stream;
          XMLStreamWriter2.__super__.constructor.call(this, options2);
        }
        XMLStreamWriter2.prototype.document = function(doc) {
          var child, i, j, len, len1, ref, ref1, results;
          ref = doc.children;
          for (i = 0, len = ref.length; i < len; i++) {
            child = ref[i];
            child.isLastRootNode = false;
          }
          doc.children[doc.children.length - 1].isLastRootNode = true;
          ref1 = doc.children;
          results = [];
          for (j = 0, len1 = ref1.length; j < len1; j++) {
            child = ref1[j];
            switch (false) {
              case !(child instanceof XMLDeclaration):
                results.push(this.declaration(child));
                break;
              case !(child instanceof XMLDocType):
                results.push(this.docType(child));
                break;
              case !(child instanceof XMLComment):
                results.push(this.comment(child));
                break;
              case !(child instanceof XMLProcessingInstruction):
                results.push(this.processingInstruction(child));
                break;
              default:
                results.push(this.element(child));
            }
          }
          return results;
        };
        XMLStreamWriter2.prototype.attribute = function(att) {
          return this.stream.write(" " + att.name + '="' + att.value + '"');
        };
        XMLStreamWriter2.prototype.cdata = function(node, level) {
          return this.stream.write(this.space(level) + "<![CDATA[" + node.text + "]]>" + this.endline(node));
        };
        XMLStreamWriter2.prototype.comment = function(node, level) {
          return this.stream.write(this.space(level) + "<!-- " + node.text + " -->" + this.endline(node));
        };
        XMLStreamWriter2.prototype.declaration = function(node, level) {
          this.stream.write(this.space(level));
          this.stream.write('<?xml version="' + node.version + '"');
          if (node.encoding != null) {
            this.stream.write(' encoding="' + node.encoding + '"');
          }
          if (node.standalone != null) {
            this.stream.write(' standalone="' + node.standalone + '"');
          }
          this.stream.write("?>");
          return this.stream.write(this.endline(node));
        };
        XMLStreamWriter2.prototype.docType = function(node, level) {
          var child, i, len, ref;
          level || (level = 0);
          this.stream.write(this.space(level));
          this.stream.write("<!DOCTYPE " + node.root().name);
          if (node.pubID && node.sysID) {
            this.stream.write(' PUBLIC "' + node.pubID + '" "' + node.sysID + '"');
          } else if (node.sysID) {
            this.stream.write(' SYSTEM "' + node.sysID + '"');
          }
          if (node.children.length > 0) {
            this.stream.write(" [");
            this.stream.write(this.endline(node));
            ref = node.children;
            for (i = 0, len = ref.length; i < len; i++) {
              child = ref[i];
              switch (false) {
                case !(child instanceof XMLDTDAttList):
                  this.dtdAttList(child, level + 1);
                  break;
                case !(child instanceof XMLDTDElement):
                  this.dtdElement(child, level + 1);
                  break;
                case !(child instanceof XMLDTDEntity):
                  this.dtdEntity(child, level + 1);
                  break;
                case !(child instanceof XMLDTDNotation):
                  this.dtdNotation(child, level + 1);
                  break;
                case !(child instanceof XMLCData):
                  this.cdata(child, level + 1);
                  break;
                case !(child instanceof XMLComment):
                  this.comment(child, level + 1);
                  break;
                case !(child instanceof XMLProcessingInstruction):
                  this.processingInstruction(child, level + 1);
                  break;
                default:
                  throw new Error("Unknown DTD node type: " + child.constructor.name);
              }
            }
            this.stream.write("]");
          }
          this.stream.write(">");
          return this.stream.write(this.endline(node));
        };
        XMLStreamWriter2.prototype.element = function(node, level) {
          var att, child, i, len, name, ref, ref1, space;
          level || (level = 0);
          space = this.space(level);
          this.stream.write(space + "<" + node.name);
          ref = node.attributes;
          for (name in ref) {
            if (!hasProp.call(ref, name))
              continue;
            att = ref[name];
            this.attribute(att);
          }
          if (node.children.length === 0 || node.children.every(function(e) {
            return e.value === "";
          })) {
            if (this.allowEmpty) {
              this.stream.write("></" + node.name + ">");
            } else {
              this.stream.write("/>");
            }
          } else if (this.pretty && node.children.length === 1 && node.children[0].value != null) {
            this.stream.write(">");
            this.stream.write(node.children[0].value);
            this.stream.write("</" + node.name + ">");
          } else {
            this.stream.write(">" + this.newline);
            ref1 = node.children;
            for (i = 0, len = ref1.length; i < len; i++) {
              child = ref1[i];
              switch (false) {
                case !(child instanceof XMLCData):
                  this.cdata(child, level + 1);
                  break;
                case !(child instanceof XMLComment):
                  this.comment(child, level + 1);
                  break;
                case !(child instanceof XMLElement):
                  this.element(child, level + 1);
                  break;
                case !(child instanceof XMLRaw):
                  this.raw(child, level + 1);
                  break;
                case !(child instanceof XMLText):
                  this.text(child, level + 1);
                  break;
                case !(child instanceof XMLProcessingInstruction):
                  this.processingInstruction(child, level + 1);
                  break;
                default:
                  throw new Error("Unknown XML node type: " + child.constructor.name);
              }
            }
            this.stream.write(space + "</" + node.name + ">");
          }
          return this.stream.write(this.endline(node));
        };
        XMLStreamWriter2.prototype.processingInstruction = function(node, level) {
          this.stream.write(this.space(level) + "<?" + node.target);
          if (node.value) {
            this.stream.write(" " + node.value);
          }
          return this.stream.write("?>" + this.endline(node));
        };
        XMLStreamWriter2.prototype.raw = function(node, level) {
          return this.stream.write(this.space(level) + node.value + this.endline(node));
        };
        XMLStreamWriter2.prototype.text = function(node, level) {
          return this.stream.write(this.space(level) + node.value + this.endline(node));
        };
        XMLStreamWriter2.prototype.dtdAttList = function(node, level) {
          this.stream.write(this.space(level) + "<!ATTLIST " + node.elementName + " " + node.attributeName + " " + node.attributeType);
          if (node.defaultValueType !== "#DEFAULT") {
            this.stream.write(" " + node.defaultValueType);
          }
          if (node.defaultValue) {
            this.stream.write(' "' + node.defaultValue + '"');
          }
          return this.stream.write(">" + this.endline(node));
        };
        XMLStreamWriter2.prototype.dtdElement = function(node, level) {
          return this.stream.write(this.space(level) + "<!ELEMENT " + node.name + " " + node.value + ">" + this.endline(node));
        };
        XMLStreamWriter2.prototype.dtdEntity = function(node, level) {
          this.stream.write(this.space(level) + "<!ENTITY");
          if (node.pe) {
            this.stream.write(" %");
          }
          this.stream.write(" " + node.name);
          if (node.value) {
            this.stream.write(' "' + node.value + '"');
          } else {
            if (node.pubID && node.sysID) {
              this.stream.write(' PUBLIC "' + node.pubID + '" "' + node.sysID + '"');
            } else if (node.sysID) {
              this.stream.write(' SYSTEM "' + node.sysID + '"');
            }
            if (node.nData) {
              this.stream.write(" NDATA " + node.nData);
            }
          }
          return this.stream.write(">" + this.endline(node));
        };
        XMLStreamWriter2.prototype.dtdNotation = function(node, level) {
          this.stream.write(this.space(level) + "<!NOTATION " + node.name);
          if (node.pubID && node.sysID) {
            this.stream.write(' PUBLIC "' + node.pubID + '" "' + node.sysID + '"');
          } else if (node.pubID) {
            this.stream.write(' PUBLIC "' + node.pubID + '"');
          } else if (node.sysID) {
            this.stream.write(' SYSTEM "' + node.sysID + '"');
          }
          return this.stream.write(">" + this.endline(node));
        };
        XMLStreamWriter2.prototype.endline = function(node) {
          if (!node.isLastRootNode) {
            return this.newline;
          } else {
            return "";
          }
        };
        return XMLStreamWriter2;
      }(XMLWriterBase);
    }).call(exports);
  }
});

// node_modules/xmlbuilder/lib/index.js
var require_lib = __commonJS({
  "node_modules/xmlbuilder/lib/index.js"(exports, module2) {
    (function() {
      var XMLDocument, XMLDocumentCB, XMLStreamWriter, XMLStringWriter, assign, isFunction, ref;
      ref = require_Utility(), assign = ref.assign, isFunction = ref.isFunction;
      XMLDocument = require_XMLDocument();
      XMLDocumentCB = require_XMLDocumentCB();
      XMLStringWriter = require_XMLStringWriter();
      XMLStreamWriter = require_XMLStreamWriter();
      module2.exports.create = function(name, xmldec, doctype, options2) {
        var doc, root;
        if (name == null) {
          throw new Error("Root element needs a name");
        }
        options2 = assign({}, xmldec, doctype, options2);
        doc = new XMLDocument(options2);
        root = doc.element(name);
        if (!options2.headless) {
          doc.declaration(options2);
          if (options2.pubID != null || options2.sysID != null) {
            doc.doctype(options2);
          }
        }
        return root;
      };
      module2.exports.begin = function(options2, onData, onEnd) {
        var ref1;
        if (isFunction(options2)) {
          ref1 = [options2, onData], onData = ref1[0], onEnd = ref1[1];
          options2 = {};
        }
        if (onData) {
          return new XMLDocumentCB(options2, onData, onEnd);
        } else {
          return new XMLDocument(options2);
        }
      };
      module2.exports.stringWriter = function(options2) {
        return new XMLStringWriter(options2);
      };
      module2.exports.streamWriter = function(stream, options2) {
        return new XMLStreamWriter(stream, options2);
      };
    }).call(exports);
  }
});

// node_modules/xmlrpc/lib/date_formatter.js
var require_date_formatter = __commonJS({
  "node_modules/xmlrpc/lib/date_formatter.js"(exports, module2) {
    var DateFormatter = function(opts) {
      this.opts = {};
      this.setOpts(opts);
    };
    DateFormatter.DEFAULT_OPTIONS = {
      colons: true,
      hyphens: false,
      local: true,
      ms: false,
      offset: false
    };
    DateFormatter.ISO8601 = new RegExp("([0-9]{4})([-]?([0-9]{2}))([-]?([0-9]{2}))(T([0-9]{2})(((:?([0-9]{2}))?((:?([0-9]{2}))?(.([0-9]+))?))?)(Z|([+-]([0-9]{2}(:?([0-9]{2}))?)))?)?");
    DateFormatter.prototype.setOpts = function(opts) {
      if (!opts)
        opts = DateFormatter.DEFAULT_OPTIONS;
      var ctx = this;
      Object.keys(DateFormatter.DEFAULT_OPTIONS).forEach(function(k) {
        ctx.opts[k] = opts.hasOwnProperty(k) ? opts[k] : DateFormatter.DEFAULT_OPTIONS[k];
      });
    };
    DateFormatter.prototype.decodeIso8601 = function(time) {
      var dateParts = time.toString().match(DateFormatter.ISO8601);
      if (!dateParts) {
        throw new Error("Expected a ISO8601 datetime but got '" + time + "'");
      }
      var date = [
        [dateParts[1], dateParts[3] || "01", dateParts[5] || "01"].join("-"),
        "T",
        [
          dateParts[7] || "00",
          dateParts[11] || "00",
          dateParts[14] || "00"
        ].join(":"),
        ".",
        dateParts[16] || "000"
      ].join("");
      date += dateParts[17] !== void 0 ? dateParts[17] + (dateParts[19] && dateParts[20] === void 0 ? "00" : "") : DateFormatter.formatCurrentOffset(new Date(date));
      return new Date(date);
    };
    DateFormatter.prototype.encodeIso8601 = function(date) {
      var parts = this.opts.local ? DateFormatter.getLocalDateParts(date) : DateFormatter.getUTCDateParts(date);
      return [
        [parts[0], parts[1], parts[2]].join(this.opts.hyphens ? "-" : ""),
        "T",
        [parts[3], parts[4], parts[5]].join(this.opts.colons ? ":" : ""),
        this.opts.ms ? "." + parts[6] : "",
        this.opts.local ? this.opts.offset ? DateFormatter.formatCurrentOffset(date) : "" : "Z"
      ].join("");
    };
    DateFormatter.getUTCDateParts = function(date) {
      return [
        date.getUTCFullYear(),
        DateFormatter.zeroPad(date.getUTCMonth() + 1, 2),
        DateFormatter.zeroPad(date.getUTCDate(), 2),
        DateFormatter.zeroPad(date.getUTCHours(), 2),
        DateFormatter.zeroPad(date.getUTCMinutes(), 2),
        DateFormatter.zeroPad(date.getUTCSeconds(), 2),
        DateFormatter.zeroPad(date.getUTCMilliseconds(), 3)
      ];
    };
    DateFormatter.getLocalDateParts = function(date) {
      return [
        date.getFullYear(),
        DateFormatter.zeroPad(date.getMonth() + 1, 2),
        DateFormatter.zeroPad(date.getDate(), 2),
        DateFormatter.zeroPad(date.getHours(), 2),
        DateFormatter.zeroPad(date.getMinutes(), 2),
        DateFormatter.zeroPad(date.getSeconds(), 2),
        DateFormatter.zeroPad(date.getMilliseconds(), 3)
      ];
    };
    DateFormatter.zeroPad = function(digit, length) {
      var padded = "" + digit;
      while (padded.length < length) {
        padded = "0" + padded;
      }
      return padded;
    };
    DateFormatter.formatCurrentOffset = function(d) {
      var offset = (d || new Date()).getTimezoneOffset();
      return offset === 0 ? "Z" : [
        offset < 0 ? "+" : "-",
        DateFormatter.zeroPad(Math.abs(Math.floor(offset / 60)), 2),
        ":",
        DateFormatter.zeroPad(Math.abs(offset % 60), 2)
      ].join("");
    };
    module2.exports = new DateFormatter();
  }
});

// node_modules/xmlrpc/lib/customtype.js
var require_customtype = __commonJS({
  "node_modules/xmlrpc/lib/customtype.js"(exports, module2) {
    var CustomType = module2.exports = function(raw) {
      this.raw = raw;
    };
    CustomType.prototype.serialize = function(xml) {
      return xml.ele(this.tagName).txt(this.raw);
    };
    CustomType.prototype.tagName = "customType";
  }
});

// node_modules/xmlrpc/lib/serializer.js
var require_serializer = __commonJS({
  "node_modules/xmlrpc/lib/serializer.js"(exports) {
    var xmlBuilder = require_lib();
    var dateFormatter = require_date_formatter();
    var CustomType = require_customtype();
    exports.serializeMethodCall = function(method, params, encoding) {
      var params = params || [];
      var options2 = { version: "1.0", allowSurrogateChars: true };
      if (encoding) {
        options2.encoding = encoding;
      }
      var xml = xmlBuilder.create("methodCall", options2).ele("methodName").txt(method).up().ele("params");
      params.forEach(function(param) {
        serializeValue(param, xml.ele("param"));
      });
      return xml.doc().toString();
    };
    exports.serializeMethodResponse = function(result) {
      var xml = xmlBuilder.create("methodResponse", { version: "1.0", allowSurrogateChars: true }).ele("params").ele("param");
      serializeValue(result, xml);
      return xml.doc().toString();
    };
    exports.serializeFault = function(fault) {
      var xml = xmlBuilder.create("methodResponse", { version: "1.0", allowSurrogateChars: true }).ele("fault");
      serializeValue(fault, xml);
      return xml.doc().toString();
    };
    function serializeValue(value, xml) {
      var stack = [{ value, xml }], current = null, valueNode = null, next = null;
      while (stack.length > 0) {
        current = stack[stack.length - 1];
        if (current.index !== void 0) {
          next = getNextItemsFrame(current);
          if (next) {
            stack.push(next);
          } else {
            stack.pop();
          }
        } else {
          valueNode = current.xml.ele("value");
          switch (typeof current.value) {
            case "boolean":
              appendBoolean(current.value, valueNode);
              stack.pop();
              break;
            case "string":
              appendString(current.value, valueNode);
              stack.pop();
              break;
            case "number":
              appendNumber(current.value, valueNode);
              stack.pop();
              break;
            case "object":
              if (current.value === null) {
                valueNode.ele("nil");
                stack.pop();
              } else if (current.value instanceof Date) {
                appendDatetime(current.value, valueNode);
                stack.pop();
              } else if (Buffer.isBuffer(current.value)) {
                appendBuffer(current.value, valueNode);
                stack.pop();
              } else if (current.value instanceof CustomType) {
                current.value.serialize(valueNode);
                stack.pop();
              } else {
                if (Array.isArray(current.value)) {
                  current.xml = valueNode.ele("array").ele("data");
                } else {
                  current.xml = valueNode.ele("struct");
                  current.keys = Object.keys(current.value);
                }
                current.index = 0;
                next = getNextItemsFrame(current);
                if (next) {
                  stack.push(next);
                } else {
                  stack.pop();
                }
              }
              break;
            default:
              stack.pop();
              break;
          }
        }
      }
    }
    function getNextItemsFrame(frame) {
      var nextFrame = null;
      if (frame.keys) {
        if (frame.index < frame.keys.length) {
          var key = frame.keys[frame.index++], member = frame.xml.ele("member").ele("name").text(key).up();
          nextFrame = {
            value: frame.value[key],
            xml: member
          };
        }
      } else if (frame.index < frame.value.length) {
        nextFrame = {
          value: frame.value[frame.index],
          xml: frame.xml
        };
        frame.index++;
      }
      return nextFrame;
    }
    function appendBoolean(value, xml) {
      xml.ele("boolean").txt(value ? 1 : 0);
    }
    var illegalChars = /^(?![^<&]*]]>[^<&]*)[^<&]*$/;
    function appendString(value, xml) {
      if (value.length === 0) {
        xml.ele("string");
      } else if (!illegalChars.test(value)) {
        xml.ele("string").d(value);
      } else {
        xml.ele("string").txt(value);
      }
    }
    function appendNumber(value, xml) {
      if (value % 1 == 0) {
        xml.ele("int").txt(value);
      } else {
        xml.ele("double").txt(value);
      }
    }
    function appendDatetime(value, xml) {
      xml.ele("dateTime.iso8601").txt(dateFormatter.encodeIso8601(value));
    }
    function appendBuffer(value, xml) {
      xml.ele("base64").txt(value.toString("base64"));
    }
  }
});

// node_modules/sax/lib/sax.js
var require_sax = __commonJS({
  "node_modules/sax/lib/sax.js"(exports) {
    (function(sax) {
      sax.parser = function(strict, opt) {
        return new SAXParser(strict, opt);
      };
      sax.SAXParser = SAXParser;
      sax.SAXStream = SAXStream;
      sax.createStream = createStream;
      sax.MAX_BUFFER_LENGTH = 64 * 1024;
      var buffers = [
        "comment",
        "sgmlDecl",
        "textNode",
        "tagName",
        "doctype",
        "procInstName",
        "procInstBody",
        "entity",
        "attribName",
        "attribValue",
        "cdata",
        "script"
      ];
      sax.EVENTS = [
        "text",
        "processinginstruction",
        "sgmldeclaration",
        "doctype",
        "comment",
        "opentagstart",
        "attribute",
        "opentag",
        "closetag",
        "opencdata",
        "cdata",
        "closecdata",
        "error",
        "end",
        "ready",
        "script",
        "opennamespace",
        "closenamespace"
      ];
      function SAXParser(strict, opt) {
        if (!(this instanceof SAXParser)) {
          return new SAXParser(strict, opt);
        }
        var parser2 = this;
        clearBuffers(parser2);
        parser2.q = parser2.c = "";
        parser2.bufferCheckPosition = sax.MAX_BUFFER_LENGTH;
        parser2.opt = opt || {};
        parser2.opt.lowercase = parser2.opt.lowercase || parser2.opt.lowercasetags;
        parser2.looseCase = parser2.opt.lowercase ? "toLowerCase" : "toUpperCase";
        parser2.tags = [];
        parser2.closed = parser2.closedRoot = parser2.sawRoot = false;
        parser2.tag = parser2.error = null;
        parser2.strict = !!strict;
        parser2.noscript = !!(strict || parser2.opt.noscript);
        parser2.state = S.BEGIN;
        parser2.strictEntities = parser2.opt.strictEntities;
        parser2.ENTITIES = parser2.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES);
        parser2.attribList = [];
        if (parser2.opt.xmlns) {
          parser2.ns = Object.create(rootNS);
        }
        parser2.trackPosition = parser2.opt.position !== false;
        if (parser2.trackPosition) {
          parser2.position = parser2.line = parser2.column = 0;
        }
        emit(parser2, "onready");
      }
      if (!Object.create) {
        Object.create = function(o) {
          function F() {
          }
          F.prototype = o;
          var newf = new F();
          return newf;
        };
      }
      if (!Object.keys) {
        Object.keys = function(o) {
          var a = [];
          for (var i in o)
            if (o.hasOwnProperty(i))
              a.push(i);
          return a;
        };
      }
      function checkBufferLength(parser2) {
        var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10);
        var maxActual = 0;
        for (var i = 0, l = buffers.length; i < l; i++) {
          var len = parser2[buffers[i]].length;
          if (len > maxAllowed) {
            switch (buffers[i]) {
              case "textNode":
                closeText(parser2);
                break;
              case "cdata":
                emitNode(parser2, "oncdata", parser2.cdata);
                parser2.cdata = "";
                break;
              case "script":
                emitNode(parser2, "onscript", parser2.script);
                parser2.script = "";
                break;
              default:
                error(parser2, "Max buffer length exceeded: " + buffers[i]);
            }
          }
          maxActual = Math.max(maxActual, len);
        }
        var m = sax.MAX_BUFFER_LENGTH - maxActual;
        parser2.bufferCheckPosition = m + parser2.position;
      }
      function clearBuffers(parser2) {
        for (var i = 0, l = buffers.length; i < l; i++) {
          parser2[buffers[i]] = "";
        }
      }
      function flushBuffers(parser2) {
        closeText(parser2);
        if (parser2.cdata !== "") {
          emitNode(parser2, "oncdata", parser2.cdata);
          parser2.cdata = "";
        }
        if (parser2.script !== "") {
          emitNode(parser2, "onscript", parser2.script);
          parser2.script = "";
        }
      }
      SAXParser.prototype = {
        end: function() {
          end(this);
        },
        write,
        resume: function() {
          this.error = null;
          return this;
        },
        close: function() {
          return this.write(null);
        },
        flush: function() {
          flushBuffers(this);
        }
      };
      var Stream;
      try {
        Stream = require("stream").Stream;
      } catch (ex) {
        Stream = function() {
        };
      }
      var streamWraps = sax.EVENTS.filter(function(ev) {
        return ev !== "error" && ev !== "end";
      });
      function createStream(strict, opt) {
        return new SAXStream(strict, opt);
      }
      function SAXStream(strict, opt) {
        if (!(this instanceof SAXStream)) {
          return new SAXStream(strict, opt);
        }
        Stream.apply(this);
        this._parser = new SAXParser(strict, opt);
        this.writable = true;
        this.readable = true;
        var me = this;
        this._parser.onend = function() {
          me.emit("end");
        };
        this._parser.onerror = function(er) {
          me.emit("error", er);
          me._parser.error = null;
        };
        this._decoder = null;
        streamWraps.forEach(function(ev) {
          Object.defineProperty(me, "on" + ev, {
            get: function() {
              return me._parser["on" + ev];
            },
            set: function(h) {
              if (!h) {
                me.removeAllListeners(ev);
                me._parser["on" + ev] = h;
                return h;
              }
              me.on(ev, h);
            },
            enumerable: true,
            configurable: false
          });
        });
      }
      SAXStream.prototype = Object.create(Stream.prototype, {
        constructor: {
          value: SAXStream
        }
      });
      SAXStream.prototype.write = function(data) {
        if (typeof Buffer === "function" && typeof Buffer.isBuffer === "function" && Buffer.isBuffer(data)) {
          if (!this._decoder) {
            var SD = require("string_decoder").StringDecoder;
            this._decoder = new SD("utf8");
          }
          data = this._decoder.write(data);
        }
        this._parser.write(data.toString());
        this.emit("data", data);
        return true;
      };
      SAXStream.prototype.end = function(chunk) {
        if (chunk && chunk.length) {
          this.write(chunk);
        }
        this._parser.end();
        return true;
      };
      SAXStream.prototype.on = function(ev, handler) {
        var me = this;
        if (!me._parser["on" + ev] && streamWraps.indexOf(ev) !== -1) {
          me._parser["on" + ev] = function() {
            var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments);
            args.splice(0, 0, ev);
            me.emit.apply(me, args);
          };
        }
        return Stream.prototype.on.call(me, ev, handler);
      };
      var CDATA = "[CDATA[";
      var DOCTYPE = "DOCTYPE";
      var XML_NAMESPACE = "http://www.w3.org/XML/1998/namespace";
      var XMLNS_NAMESPACE = "http://www.w3.org/2000/xmlns/";
      var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE };
      var nameStart = /[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;
      var nameBody = /[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;
      var entityStart = /[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;
      var entityBody = /[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;
      function isWhitespace(c) {
        return c === " " || c === "\n" || c === "\r" || c === "	";
      }
      function isQuote(c) {
        return c === '"' || c === "'";
      }
      function isAttribEnd(c) {
        return c === ">" || isWhitespace(c);
      }
      function isMatch(regex, c) {
        return regex.test(c);
      }
      function notMatch(regex, c) {
        return !isMatch(regex, c);
      }
      var S = 0;
      sax.STATE = {
        BEGIN: S++,
        BEGIN_WHITESPACE: S++,
        TEXT: S++,
        TEXT_ENTITY: S++,
        OPEN_WAKA: S++,
        SGML_DECL: S++,
        SGML_DECL_QUOTED: S++,
        DOCTYPE: S++,
        DOCTYPE_QUOTED: S++,
        DOCTYPE_DTD: S++,
        DOCTYPE_DTD_QUOTED: S++,
        COMMENT_STARTING: S++,
        COMMENT: S++,
        COMMENT_ENDING: S++,
        COMMENT_ENDED: S++,
        CDATA: S++,
        CDATA_ENDING: S++,
        CDATA_ENDING_2: S++,
        PROC_INST: S++,
        PROC_INST_BODY: S++,
        PROC_INST_ENDING: S++,
        OPEN_TAG: S++,
        OPEN_TAG_SLASH: S++,
        ATTRIB: S++,
        ATTRIB_NAME: S++,
        ATTRIB_NAME_SAW_WHITE: S++,
        ATTRIB_VALUE: S++,
        ATTRIB_VALUE_QUOTED: S++,
        ATTRIB_VALUE_CLOSED: S++,
        ATTRIB_VALUE_UNQUOTED: S++,
        ATTRIB_VALUE_ENTITY_Q: S++,
        ATTRIB_VALUE_ENTITY_U: S++,
        CLOSE_TAG: S++,
        CLOSE_TAG_SAW_WHITE: S++,
        SCRIPT: S++,
        SCRIPT_ENDING: S++
      };
      sax.XML_ENTITIES = {
        "amp": "&",
        "gt": ">",
        "lt": "<",
        "quot": '"',
        "apos": "'"
      };
      sax.ENTITIES = {
        "amp": "&",
        "gt": ">",
        "lt": "<",
        "quot": '"',
        "apos": "'",
        "AElig": 198,
        "Aacute": 193,
        "Acirc": 194,
        "Agrave": 192,
        "Aring": 197,
        "Atilde": 195,
        "Auml": 196,
        "Ccedil": 199,
        "ETH": 208,
        "Eacute": 201,
        "Ecirc": 202,
        "Egrave": 200,
        "Euml": 203,
        "Iacute": 205,
        "Icirc": 206,
        "Igrave": 204,
        "Iuml": 207,
        "Ntilde": 209,
        "Oacute": 211,
        "Ocirc": 212,
        "Ograve": 210,
        "Oslash": 216,
        "Otilde": 213,
        "Ouml": 214,
        "THORN": 222,
        "Uacute": 218,
        "Ucirc": 219,
        "Ugrave": 217,
        "Uuml": 220,
        "Yacute": 221,
        "aacute": 225,
        "acirc": 226,
        "aelig": 230,
        "agrave": 224,
        "aring": 229,
        "atilde": 227,
        "auml": 228,
        "ccedil": 231,
        "eacute": 233,
        "ecirc": 234,
        "egrave": 232,
        "eth": 240,
        "euml": 235,
        "iacute": 237,
        "icirc": 238,
        "igrave": 236,
        "iuml": 239,
        "ntilde": 241,
        "oacute": 243,
        "ocirc": 244,
        "ograve": 242,
        "oslash": 248,
        "otilde": 245,
        "ouml": 246,
        "szlig": 223,
        "thorn": 254,
        "uacute": 250,
        "ucirc": 251,
        "ugrave": 249,
        "uuml": 252,
        "yacute": 253,
        "yuml": 255,
        "copy": 169,
        "reg": 174,
        "nbsp": 160,
        "iexcl": 161,
        "cent": 162,
        "pound": 163,
        "curren": 164,
        "yen": 165,
        "brvbar": 166,
        "sect": 167,
        "uml": 168,
        "ordf": 170,
        "laquo": 171,
        "not": 172,
        "shy": 173,
        "macr": 175,
        "deg": 176,
        "plusmn": 177,
        "sup1": 185,
        "sup2": 178,
        "sup3": 179,
        "acute": 180,
        "micro": 181,
        "para": 182,
        "middot": 183,
        "cedil": 184,
        "ordm": 186,
        "raquo": 187,
        "frac14": 188,
        "frac12": 189,
        "frac34": 190,
        "iquest": 191,
        "times": 215,
        "divide": 247,
        "OElig": 338,
        "oelig": 339,
        "Scaron": 352,
        "scaron": 353,
        "Yuml": 376,
        "fnof": 402,
        "circ": 710,
        "tilde": 732,
        "Alpha": 913,
        "Beta": 914,
        "Gamma": 915,
        "Delta": 916,
        "Epsilon": 917,
        "Zeta": 918,
        "Eta": 919,
        "Theta": 920,
        "Iota": 921,
        "Kappa": 922,
        "Lambda": 923,
        "Mu": 924,
        "Nu": 925,
        "Xi": 926,
        "Omicron": 927,
        "Pi": 928,
        "Rho": 929,
        "Sigma": 931,
        "Tau": 932,
        "Upsilon": 933,
        "Phi": 934,
        "Chi": 935,
        "Psi": 936,
        "Omega": 937,
        "alpha": 945,
        "beta": 946,
        "gamma": 947,
        "delta": 948,
        "epsilon": 949,
        "zeta": 950,
        "eta": 951,
        "theta": 952,
        "iota": 953,
        "kappa": 954,
        "lambda": 955,
        "mu": 956,
        "nu": 957,
        "xi": 958,
        "omicron": 959,
        "pi": 960,
        "rho": 961,
        "sigmaf": 962,
        "sigma": 963,
        "tau": 964,
        "upsilon": 965,
        "phi": 966,
        "chi": 967,
        "psi": 968,
        "omega": 969,
        "thetasym": 977,
        "upsih": 978,
        "piv": 982,
        "ensp": 8194,
        "emsp": 8195,
        "thinsp": 8201,
        "zwnj": 8204,
        "zwj": 8205,
        "lrm": 8206,
        "rlm": 8207,
        "ndash": 8211,
        "mdash": 8212,
        "lsquo": 8216,
        "rsquo": 8217,
        "sbquo": 8218,
        "ldquo": 8220,
        "rdquo": 8221,
        "bdquo": 8222,
        "dagger": 8224,
        "Dagger": 8225,
        "bull": 8226,
        "hellip": 8230,
        "permil": 8240,
        "prime": 8242,
        "Prime": 8243,
        "lsaquo": 8249,
        "rsaquo": 8250,
        "oline": 8254,
        "frasl": 8260,
        "euro": 8364,
        "image": 8465,
        "weierp": 8472,
        "real": 8476,
        "trade": 8482,
        "alefsym": 8501,
        "larr": 8592,
        "uarr": 8593,
        "rarr": 8594,
        "darr": 8595,
        "harr": 8596,
        "crarr": 8629,
        "lArr": 8656,
        "uArr": 8657,
        "rArr": 8658,
        "dArr": 8659,
        "hArr": 8660,
        "forall": 8704,
        "part": 8706,
        "exist": 8707,
        "empty": 8709,
        "nabla": 8711,
        "isin": 8712,
        "notin": 8713,
        "ni": 8715,
        "prod": 8719,
        "sum": 8721,
        "minus": 8722,
        "lowast": 8727,
        "radic": 8730,
        "prop": 8733,
        "infin": 8734,
        "ang": 8736,
        "and": 8743,
        "or": 8744,
        "cap": 8745,
        "cup": 8746,
        "int": 8747,
        "there4": 8756,
        "sim": 8764,
        "cong": 8773,
        "asymp": 8776,
        "ne": 8800,
        "equiv": 8801,
        "le": 8804,
        "ge": 8805,
        "sub": 8834,
        "sup": 8835,
        "nsub": 8836,
        "sube": 8838,
        "supe": 8839,
        "oplus": 8853,
        "otimes": 8855,
        "perp": 8869,
        "sdot": 8901,
        "lceil": 8968,
        "rceil": 8969,
        "lfloor": 8970,
        "rfloor": 8971,
        "lang": 9001,
        "rang": 9002,
        "loz": 9674,
        "spades": 9824,
        "clubs": 9827,
        "hearts": 9829,
        "diams": 9830
      };
      Object.keys(sax.ENTITIES).forEach(function(key) {
        var e = sax.ENTITIES[key];
        var s2 = typeof e === "number" ? String.fromCharCode(e) : e;
        sax.ENTITIES[key] = s2;
      });
      for (var s in sax.STATE) {
        sax.STATE[sax.STATE[s]] = s;
      }
      S = sax.STATE;
      function emit(parser2, event, data) {
        parser2[event] && parser2[event](data);
      }
      function emitNode(parser2, nodeType, data) {
        if (parser2.textNode)
          closeText(parser2);
        emit(parser2, nodeType, data);
      }
      function closeText(parser2) {
        parser2.textNode = textopts(parser2.opt, parser2.textNode);
        if (parser2.textNode)
          emit(parser2, "ontext", parser2.textNode);
        parser2.textNode = "";
      }
      function textopts(opt, text) {
        if (opt.trim)
          text = text.trim();
        if (opt.normalize)
          text = text.replace(/\s+/g, " ");
        return text;
      }
      function error(parser2, er) {
        closeText(parser2);
        if (parser2.trackPosition) {
          er += "\nLine: " + parser2.line + "\nColumn: " + parser2.column + "\nChar: " + parser2.c;
        }
        er = new Error(er);
        parser2.error = er;
        emit(parser2, "onerror", er);
        return parser2;
      }
      function end(parser2) {
        if (parser2.sawRoot && !parser2.closedRoot)
          strictFail(parser2, "Unclosed root tag");
        if (parser2.state !== S.BEGIN && parser2.state !== S.BEGIN_WHITESPACE && parser2.state !== S.TEXT) {
          error(parser2, "Unexpected end");
        }
        closeText(parser2);
        parser2.c = "";
        parser2.closed = true;
        emit(parser2, "onend");
        SAXParser.call(parser2, parser2.strict, parser2.opt);
        return parser2;
      }
      function strictFail(parser2, message) {
        if (typeof parser2 !== "object" || !(parser2 instanceof SAXParser)) {
          throw new Error("bad call to strictFail");
        }
        if (parser2.strict) {
          error(parser2, message);
        }
      }
      function newTag(parser2) {
        if (!parser2.strict)
          parser2.tagName = parser2.tagName[parser2.looseCase]();
        var parent = parser2.tags[parser2.tags.length - 1] || parser2;
        var tag = parser2.tag = { name: parser2.tagName, attributes: {} };
        if (parser2.opt.xmlns) {
          tag.ns = parent.ns;
        }
        parser2.attribList.length = 0;
        emitNode(parser2, "onopentagstart", tag);
      }
      function qname(name, attribute) {
        var i = name.indexOf(":");
        var qualName = i < 0 ? ["", name] : name.split(":");
        var prefix = qualName[0];
        var local = qualName[1];
        if (attribute && name === "xmlns") {
          prefix = "xmlns";
          local = "";
        }
        return { prefix, local };
      }
      function attrib(parser2) {
        if (!parser2.strict) {
          parser2.attribName = parser2.attribName[parser2.looseCase]();
        }
        if (parser2.attribList.indexOf(parser2.attribName) !== -1 || parser2.tag.attributes.hasOwnProperty(parser2.attribName)) {
          parser2.attribName = parser2.attribValue = "";
          return;
        }
        if (parser2.opt.xmlns) {
          var qn = qname(parser2.attribName, true);
          var prefix = qn.prefix;
          var local = qn.local;
          if (prefix === "xmlns") {
            if (local === "xml" && parser2.attribValue !== XML_NAMESPACE) {
              strictFail(parser2, "xml: prefix must be bound to " + XML_NAMESPACE + "\nActual: " + parser2.attribValue);
            } else if (local === "xmlns" && parser2.attribValue !== XMLNS_NAMESPACE) {
              strictFail(parser2, "xmlns: prefix must be bound to " + XMLNS_NAMESPACE + "\nActual: " + parser2.attribValue);
            } else {
              var tag = parser2.tag;
              var parent = parser2.tags[parser2.tags.length - 1] || parser2;
              if (tag.ns === parent.ns) {
                tag.ns = Object.create(parent.ns);
              }
              tag.ns[local] = parser2.attribValue;
            }
          }
          parser2.attribList.push([parser2.attribName, parser2.attribValue]);
        } else {
          parser2.tag.attributes[parser2.attribName] = parser2.attribValue;
          emitNode(parser2, "onattribute", {
            name: parser2.attribName,
            value: parser2.attribValue
          });
        }
        parser2.attribName = parser2.attribValue = "";
      }
      function openTag(parser2, selfClosing) {
        if (parser2.opt.xmlns) {
          var tag = parser2.tag;
          var qn = qname(parser2.tagName);
          tag.prefix = qn.prefix;
          tag.local = qn.local;
          tag.uri = tag.ns[qn.prefix] || "";
          if (tag.prefix && !tag.uri) {
            strictFail(parser2, "Unbound namespace prefix: " + JSON.stringify(parser2.tagName));
            tag.uri = qn.prefix;
          }
          var parent = parser2.tags[parser2.tags.length - 1] || parser2;
          if (tag.ns && parent.ns !== tag.ns) {
            Object.keys(tag.ns).forEach(function(p) {
              emitNode(parser2, "onopennamespace", {
                prefix: p,
                uri: tag.ns[p]
              });
            });
          }
          for (var i = 0, l = parser2.attribList.length; i < l; i++) {
            var nv = parser2.attribList[i];
            var name = nv[0];
            var value = nv[1];
            var qualName = qname(name, true);
            var prefix = qualName.prefix;
            var local = qualName.local;
            var uri = prefix === "" ? "" : tag.ns[prefix] || "";
            var a = {
              name,
              value,
              prefix,
              local,
              uri
            };
            if (prefix && prefix !== "xmlns" && !uri) {
              strictFail(parser2, "Unbound namespace prefix: " + JSON.stringify(prefix));
              a.uri = prefix;
            }
            parser2.tag.attributes[name] = a;
            emitNode(parser2, "onattribute", a);
          }
          parser2.attribList.length = 0;
        }
        parser2.tag.isSelfClosing = !!selfClosing;
        parser2.sawRoot = true;
        parser2.tags.push(parser2.tag);
        emitNode(parser2, "onopentag", parser2.tag);
        if (!selfClosing) {
          if (!parser2.noscript && parser2.tagName.toLowerCase() === "script") {
            parser2.state = S.SCRIPT;
          } else {
            parser2.state = S.TEXT;
          }
          parser2.tag = null;
          parser2.tagName = "";
        }
        parser2.attribName = parser2.attribValue = "";
        parser2.attribList.length = 0;
      }
      function closeTag(parser2) {
        if (!parser2.tagName) {
          strictFail(parser2, "Weird empty close tag.");
          parser2.textNode += "</>";
          parser2.state = S.TEXT;
          return;
        }
        if (parser2.script) {
          if (parser2.tagName !== "script") {
            parser2.script += "</" + parser2.tagName + ">";
            parser2.tagName = "";
            parser2.state = S.SCRIPT;
            return;
          }
          emitNode(parser2, "onscript", parser2.script);
          parser2.script = "";
        }
        var t = parser2.tags.length;
        var tagName = parser2.tagName;
        if (!parser2.strict) {
          tagName = tagName[parser2.looseCase]();
        }
        var closeTo = tagName;
        while (t--) {
          var close = parser2.tags[t];
          if (close.name !== closeTo) {
            strictFail(parser2, "Unexpected close tag");
          } else {
            break;
          }
        }
        if (t < 0) {
          strictFail(parser2, "Unmatched closing tag: " + parser2.tagName);
          parser2.textNode += "</" + parser2.tagName + ">";
          parser2.state = S.TEXT;
          return;
        }
        parser2.tagName = tagName;
        var s2 = parser2.tags.length;
        while (s2-- > t) {
          var tag = parser2.tag = parser2.tags.pop();
          parser2.tagName = parser2.tag.name;
          emitNode(parser2, "onclosetag", parser2.tagName);
          var x = {};
          for (var i in tag.ns) {
            x[i] = tag.ns[i];
          }
          var parent = parser2.tags[parser2.tags.length - 1] || parser2;
          if (parser2.opt.xmlns && tag.ns !== parent.ns) {
            Object.keys(tag.ns).forEach(function(p) {
              var n = tag.ns[p];
              emitNode(parser2, "onclosenamespace", { prefix: p, uri: n });
            });
          }
        }
        if (t === 0)
          parser2.closedRoot = true;
        parser2.tagName = parser2.attribValue = parser2.attribName = "";
        parser2.attribList.length = 0;
        parser2.state = S.TEXT;
      }
      function parseEntity(parser2) {
        var entity = parser2.entity;
        var entityLC = entity.toLowerCase();
        var num;
        var numStr = "";
        if (parser2.ENTITIES[entity]) {
          return parser2.ENTITIES[entity];
        }
        if (parser2.ENTITIES[entityLC]) {
          return parser2.ENTITIES[entityLC];
        }
        entity = entityLC;
        if (entity.charAt(0) === "#") {
          if (entity.charAt(1) === "x") {
            entity = entity.slice(2);
            num = parseInt(entity, 16);
            numStr = num.toString(16);
          } else {
            entity = entity.slice(1);
            num = parseInt(entity, 10);
            numStr = num.toString(10);
          }
        }
        entity = entity.replace(/^0+/, "");
        if (isNaN(num) || numStr.toLowerCase() !== entity) {
          strictFail(parser2, "Invalid character entity");
          return "&" + parser2.entity + ";";
        }
        return String.fromCodePoint(num);
      }
      function beginWhiteSpace(parser2, c) {
        if (c === "<") {
          parser2.state = S.OPEN_WAKA;
          parser2.startTagPosition = parser2.position;
        } else if (!isWhitespace(c)) {
          strictFail(parser2, "Non-whitespace before first tag.");
          parser2.textNode = c;
          parser2.state = S.TEXT;
        }
      }
      function charAt(chunk, i) {
        var result = "";
        if (i < chunk.length) {
          result = chunk.charAt(i);
        }
        return result;
      }
      function write(chunk) {
        var parser2 = this;
        if (this.error) {
          throw this.error;
        }
        if (parser2.closed) {
          return error(parser2, "Cannot write after close. Assign an onready handler.");
        }
        if (chunk === null) {
          return end(parser2);
        }
        if (typeof chunk === "object") {
          chunk = chunk.toString();
        }
        var i = 0;
        var c = "";
        while (true) {
          c = charAt(chunk, i++);
          parser2.c = c;
          if (!c) {
            break;
          }
          if (parser2.trackPosition) {
            parser2.position++;
            if (c === "\n") {
              parser2.line++;
              parser2.column = 0;
            } else {
              parser2.column++;
            }
          }
          switch (parser2.state) {
            case S.BEGIN:
              parser2.state = S.BEGIN_WHITESPACE;
              if (c === "\uFEFF") {
                continue;
              }
              beginWhiteSpace(parser2, c);
              continue;
            case S.BEGIN_WHITESPACE:
              beginWhiteSpace(parser2, c);
              continue;
            case S.TEXT:
              if (parser2.sawRoot && !parser2.closedRoot) {
                var starti = i - 1;
                while (c && c !== "<" && c !== "&") {
                  c = charAt(chunk, i++);
                  if (c && parser2.trackPosition) {
                    parser2.position++;
                    if (c === "\n") {
                      parser2.line++;
                      parser2.column = 0;
                    } else {
                      parser2.column++;
                    }
                  }
                }
                parser2.textNode += chunk.substring(starti, i - 1);
              }
              if (c === "<" && !(parser2.sawRoot && parser2.closedRoot && !parser2.strict)) {
                parser2.state = S.OPEN_WAKA;
                parser2.startTagPosition = parser2.position;
              } else {
                if (!isWhitespace(c) && (!parser2.sawRoot || parser2.closedRoot)) {
                  strictFail(parser2, "Text data outside of root node.");
                }
                if (c === "&") {
                  parser2.state = S.TEXT_ENTITY;
                } else {
                  parser2.textNode += c;
                }
              }
              continue;
            case S.SCRIPT:
              if (c === "<") {
                parser2.state = S.SCRIPT_ENDING;
              } else {
                parser2.script += c;
              }
              continue;
            case S.SCRIPT_ENDING:
              if (c === "/") {
                parser2.state = S.CLOSE_TAG;
              } else {
                parser2.script += "<" + c;
                parser2.state = S.SCRIPT;
              }
              continue;
            case S.OPEN_WAKA:
              if (c === "!") {
                parser2.state = S.SGML_DECL;
                parser2.sgmlDecl = "";
              } else if (isWhitespace(c)) {
              } else if (isMatch(nameStart, c)) {
                parser2.state = S.OPEN_TAG;
                parser2.tagName = c;
              } else if (c === "/") {
                parser2.state = S.CLOSE_TAG;
                parser2.tagName = "";
              } else if (c === "?") {
                parser2.state = S.PROC_INST;
                parser2.procInstName = parser2.procInstBody = "";
              } else {
                strictFail(parser2, "Unencoded <");
                if (parser2.startTagPosition + 1 < parser2.position) {
                  var pad = parser2.position - parser2.startTagPosition;
                  c = new Array(pad).join(" ") + c;
                }
                parser2.textNode += "<" + c;
                parser2.state = S.TEXT;
              }
              continue;
            case S.SGML_DECL:
              if ((parser2.sgmlDecl + c).toUpperCase() === CDATA) {
                emitNode(parser2, "onopencdata");
                parser2.state = S.CDATA;
                parser2.sgmlDecl = "";
                parser2.cdata = "";
              } else if (parser2.sgmlDecl + c === "--") {
                parser2.state = S.COMMENT;
                parser2.comment = "";
                parser2.sgmlDecl = "";
              } else if ((parser2.sgmlDecl + c).toUpperCase() === DOCTYPE) {
                parser2.state = S.DOCTYPE;
                if (parser2.doctype || parser2.sawRoot) {
                  strictFail(parser2, "Inappropriately located doctype declaration");
                }
                parser2.doctype = "";
                parser2.sgmlDecl = "";
              } else if (c === ">") {
                emitNode(parser2, "onsgmldeclaration", parser2.sgmlDecl);
                parser2.sgmlDecl = "";
                parser2.state = S.TEXT;
              } else if (isQuote(c)) {
                parser2.state = S.SGML_DECL_QUOTED;
                parser2.sgmlDecl += c;
              } else {
                parser2.sgmlDecl += c;
              }
              continue;
            case S.SGML_DECL_QUOTED:
              if (c === parser2.q) {
                parser2.state = S.SGML_DECL;
                parser2.q = "";
              }
              parser2.sgmlDecl += c;
              continue;
            case S.DOCTYPE:
              if (c === ">") {
                parser2.state = S.TEXT;
                emitNode(parser2, "ondoctype", parser2.doctype);
                parser2.doctype = true;
              } else {
                parser2.doctype += c;
                if (c === "[") {
                  parser2.state = S.DOCTYPE_DTD;
                } else if (isQuote(c)) {
                  parser2.state = S.DOCTYPE_QUOTED;
                  parser2.q = c;
                }
              }
              continue;
            case S.DOCTYPE_QUOTED:
              parser2.doctype += c;
              if (c === parser2.q) {
                parser2.q = "";
                parser2.state = S.DOCTYPE;
              }
              continue;
            case S.DOCTYPE_DTD:
              parser2.doctype += c;
              if (c === "]") {
                parser2.state = S.DOCTYPE;
              } else if (isQuote(c)) {
                parser2.state = S.DOCTYPE_DTD_QUOTED;
                parser2.q = c;
              }
              continue;
            case S.DOCTYPE_DTD_QUOTED:
              parser2.doctype += c;
              if (c === parser2.q) {
                parser2.state = S.DOCTYPE_DTD;
                parser2.q = "";
              }
              continue;
            case S.COMMENT:
              if (c === "-") {
                parser2.state = S.COMMENT_ENDING;
              } else {
                parser2.comment += c;
              }
              continue;
            case S.COMMENT_ENDING:
              if (c === "-") {
                parser2.state = S.COMMENT_ENDED;
                parser2.comment = textopts(parser2.opt, parser2.comment);
                if (parser2.comment) {
                  emitNode(parser2, "oncomment", parser2.comment);
                }
                parser2.comment = "";
              } else {
                parser2.comment += "-" + c;
                parser2.state = S.COMMENT;
              }
              continue;
            case S.COMMENT_ENDED:
              if (c !== ">") {
                strictFail(parser2, "Malformed comment");
                parser2.comment += "--" + c;
                parser2.state = S.COMMENT;
              } else {
                parser2.state = S.TEXT;
              }
              continue;
            case S.CDATA:
              if (c === "]") {
                parser2.state = S.CDATA_ENDING;
              } else {
                parser2.cdata += c;
              }
              continue;
            case S.CDATA_ENDING:
              if (c === "]") {
                parser2.state = S.CDATA_ENDING_2;
              } else {
                parser2.cdata += "]" + c;
                parser2.state = S.CDATA;
              }
              continue;
            case S.CDATA_ENDING_2:
              if (c === ">") {
                if (parser2.cdata) {
                  emitNode(parser2, "oncdata", parser2.cdata);
                }
                emitNode(parser2, "onclosecdata");
                parser2.cdata = "";
                parser2.state = S.TEXT;
              } else if (c === "]") {
                parser2.cdata += "]";
              } else {
                parser2.cdata += "]]" + c;
                parser2.state = S.CDATA;
              }
              continue;
            case S.PROC_INST:
              if (c === "?") {
                parser2.state = S.PROC_INST_ENDING;
              } else if (isWhitespace(c)) {
                parser2.state = S.PROC_INST_BODY;
              } else {
                parser2.procInstName += c;
              }
              continue;
            case S.PROC_INST_BODY:
              if (!parser2.procInstBody && isWhitespace(c)) {
                continue;
              } else if (c === "?") {
                parser2.state = S.PROC_INST_ENDING;
              } else {
                parser2.procInstBody += c;
              }
              continue;
            case S.PROC_INST_ENDING:
              if (c === ">") {
                emitNode(parser2, "onprocessinginstruction", {
                  name: parser2.procInstName,
                  body: parser2.procInstBody
                });
                parser2.procInstName = parser2.procInstBody = "";
                parser2.state = S.TEXT;
              } else {
                parser2.procInstBody += "?" + c;
                parser2.state = S.PROC_INST_BODY;
              }
              continue;
            case S.OPEN_TAG:
              if (isMatch(nameBody, c)) {
                parser2.tagName += c;
              } else {
                newTag(parser2);
                if (c === ">") {
                  openTag(parser2);
                } else if (c === "/") {
                  parser2.state = S.OPEN_TAG_SLASH;
                } else {
                  if (!isWhitespace(c)) {
                    strictFail(parser2, "Invalid character in tag name");
                  }
                  parser2.state = S.ATTRIB;
                }
              }
              continue;
            case S.OPEN_TAG_SLASH:
              if (c === ">") {
                openTag(parser2, true);
                closeTag(parser2);
              } else {
                strictFail(parser2, "Forward-slash in opening tag not followed by >");
                parser2.state = S.ATTRIB;
              }
              continue;
            case S.ATTRIB:
              if (isWhitespace(c)) {
                continue;
              } else if (c === ">") {
                openTag(parser2);
              } else if (c === "/") {
                parser2.state = S.OPEN_TAG_SLASH;
              } else if (isMatch(nameStart, c)) {
                parser2.attribName = c;
                parser2.attribValue = "";
                parser2.state = S.ATTRIB_NAME;
              } else {
                strictFail(parser2, "Invalid attribute name");
              }
              continue;
            case S.ATTRIB_NAME:
              if (c === "=") {
                parser2.state = S.ATTRIB_VALUE;
              } else if (c === ">") {
                strictFail(parser2, "Attribute without value");
                parser2.attribValue = parser2.attribName;
                attrib(parser2);
                openTag(parser2);
              } else if (isWhitespace(c)) {
                parser2.state = S.ATTRIB_NAME_SAW_WHITE;
              } else if (isMatch(nameBody, c)) {
                parser2.attribName += c;
              } else {
                strictFail(parser2, "Invalid attribute name");
              }
              continue;
            case S.ATTRIB_NAME_SAW_WHITE:
              if (c === "=") {
                parser2.state = S.ATTRIB_VALUE;
              } else if (isWhitespace(c)) {
                continue;
              } else {
                strictFail(parser2, "Attribute without value");
                parser2.tag.attributes[parser2.attribName] = "";
                parser2.attribValue = "";
                emitNode(parser2, "onattribute", {
                  name: parser2.attribName,
                  value: ""
                });
                parser2.attribName = "";
                if (c === ">") {
                  openTag(parser2);
                } else if (isMatch(nameStart, c)) {
                  parser2.attribName = c;
                  parser2.state = S.ATTRIB_NAME;
                } else {
                  strictFail(parser2, "Invalid attribute name");
                  parser2.state = S.ATTRIB;
                }
              }
              continue;
            case S.ATTRIB_VALUE:
              if (isWhitespace(c)) {
                continue;
              } else if (isQuote(c)) {
                parser2.q = c;
                parser2.state = S.ATTRIB_VALUE_QUOTED;
              } else {
                strictFail(parser2, "Unquoted attribute value");
                parser2.state = S.ATTRIB_VALUE_UNQUOTED;
                parser2.attribValue = c;
              }
              continue;
            case S.ATTRIB_VALUE_QUOTED:
              if (c !== parser2.q) {
                if (c === "&") {
                  parser2.state = S.ATTRIB_VALUE_ENTITY_Q;
                } else {
                  parser2.attribValue += c;
                }
                continue;
              }
              attrib(parser2);
              parser2.q = "";
              parser2.state = S.ATTRIB_VALUE_CLOSED;
              continue;
            case S.ATTRIB_VALUE_CLOSED:
              if (isWhitespace(c)) {
                parser2.state = S.ATTRIB;
              } else if (c === ">") {
                openTag(parser2);
              } else if (c === "/") {
                parser2.state = S.OPEN_TAG_SLASH;
              } else if (isMatch(nameStart, c)) {
                strictFail(parser2, "No whitespace between attributes");
                parser2.attribName = c;
                parser2.attribValue = "";
                parser2.state = S.ATTRIB_NAME;
              } else {
                strictFail(parser2, "Invalid attribute name");
              }
              continue;
            case S.ATTRIB_VALUE_UNQUOTED:
              if (!isAttribEnd(c)) {
                if (c === "&") {
                  parser2.state = S.ATTRIB_VALUE_ENTITY_U;
                } else {
                  parser2.attribValue += c;
                }
                continue;
              }
              attrib(parser2);
              if (c === ">") {
                openTag(parser2);
              } else {
                parser2.state = S.ATTRIB;
              }
              continue;
            case S.CLOSE_TAG:
              if (!parser2.tagName) {
                if (isWhitespace(c)) {
                  continue;
                } else if (notMatch(nameStart, c)) {
                  if (parser2.script) {
                    parser2.script += "</" + c;
                    parser2.state = S.SCRIPT;
                  } else {
                    strictFail(parser2, "Invalid tagname in closing tag.");
                  }
                } else {
                  parser2.tagName = c;
                }
              } else if (c === ">") {
                closeTag(parser2);
              } else if (isMatch(nameBody, c)) {
                parser2.tagName += c;
              } else if (parser2.script) {
                parser2.script += "</" + parser2.tagName;
                parser2.tagName = "";
                parser2.state = S.SCRIPT;
              } else {
                if (!isWhitespace(c)) {
                  strictFail(parser2, "Invalid tagname in closing tag");
                }
                parser2.state = S.CLOSE_TAG_SAW_WHITE;
              }
              continue;
            case S.CLOSE_TAG_SAW_WHITE:
              if (isWhitespace(c)) {
                continue;
              }
              if (c === ">") {
                closeTag(parser2);
              } else {
                strictFail(parser2, "Invalid characters in closing tag");
              }
              continue;
            case S.TEXT_ENTITY:
            case S.ATTRIB_VALUE_ENTITY_Q:
            case S.ATTRIB_VALUE_ENTITY_U:
              var returnState;
              var buffer;
              switch (parser2.state) {
                case S.TEXT_ENTITY:
                  returnState = S.TEXT;
                  buffer = "textNode";
                  break;
                case S.ATTRIB_VALUE_ENTITY_Q:
                  returnState = S.ATTRIB_VALUE_QUOTED;
                  buffer = "attribValue";
                  break;
                case S.ATTRIB_VALUE_ENTITY_U:
                  returnState = S.ATTRIB_VALUE_UNQUOTED;
                  buffer = "attribValue";
                  break;
              }
              if (c === ";") {
                parser2[buffer] += parseEntity(parser2);
                parser2.entity = "";
                parser2.state = returnState;
              } else if (isMatch(parser2.entity.length ? entityBody : entityStart, c)) {
                parser2.entity += c;
              } else {
                strictFail(parser2, "Invalid character in entity name");
                parser2[buffer] += "&" + parser2.entity + c;
                parser2.entity = "";
                parser2.state = returnState;
              }
              continue;
            default:
              throw new Error(parser2, "Unknown state: " + parser2.state);
          }
        }
        if (parser2.position >= parser2.bufferCheckPosition) {
          checkBufferLength(parser2);
        }
        return parser2;
      }
      if (!String.fromCodePoint) {
        (function() {
          var stringFromCharCode = String.fromCharCode;
          var floor = Math.floor;
          var fromCodePoint = function() {
            var MAX_SIZE = 16384;
            var codeUnits = [];
            var highSurrogate;
            var lowSurrogate;
            var index = -1;
            var length = arguments.length;
            if (!length) {
              return "";
            }
            var result = "";
            while (++index < length) {
              var codePoint = Number(arguments[index]);
              if (!isFinite(codePoint) || codePoint < 0 || codePoint > 1114111 || floor(codePoint) !== codePoint) {
                throw RangeError("Invalid code point: " + codePoint);
              }
              if (codePoint <= 65535) {
                codeUnits.push(codePoint);
              } else {
                codePoint -= 65536;
                highSurrogate = (codePoint >> 10) + 55296;
                lowSurrogate = codePoint % 1024 + 56320;
                codeUnits.push(highSurrogate, lowSurrogate);
              }
              if (index + 1 === length || codeUnits.length > MAX_SIZE) {
                result += stringFromCharCode.apply(null, codeUnits);
                codeUnits.length = 0;
              }
            }
            return result;
          };
          if (Object.defineProperty) {
            Object.defineProperty(String, "fromCodePoint", {
              value: fromCodePoint,
              configurable: true,
              writable: true
            });
          } else {
            String.fromCodePoint = fromCodePoint;
          }
        })();
      }
    })(typeof exports === "undefined" ? exports.sax = {} : exports);
  }
});

// node_modules/xmlrpc/lib/deserializer.js
var require_deserializer = __commonJS({
  "node_modules/xmlrpc/lib/deserializer.js"(exports, module2) {
    var sax = require_sax();
    var dateFormatter = require_date_formatter();
    var Deserializer = function(encoding) {
      this.type = null;
      this.responseType = null;
      this.stack = [];
      this.marks = [];
      this.data = [];
      this.methodname = null;
      this.encoding = encoding || "utf8";
      this.value = false;
      this.callback = null;
      this.error = null;
      this.parser = sax.createStream();
      this.parser.on("opentag", this.onOpentag.bind(this));
      this.parser.on("closetag", this.onClosetag.bind(this));
      this.parser.on("text", this.onText.bind(this));
      this.parser.on("cdata", this.onCDATA.bind(this));
      this.parser.on("end", this.onDone.bind(this));
      this.parser.on("error", this.onError.bind(this));
    };
    Deserializer.prototype.deserializeMethodResponse = function(stream, callback) {
      var that = this;
      this.callback = function(error, result) {
        if (error) {
          callback(error);
        } else if (result.length > 1) {
          callback(new Error("Response has more than one param"));
        } else if (that.type !== "methodresponse") {
          callback(new Error("Not a method response"));
        } else if (!that.responseType) {
          callback(new Error("Invalid method response"));
        } else {
          callback(null, result[0]);
        }
      };
      stream.setEncoding(this.encoding);
      stream.on("error", this.onError.bind(this));
      stream.pipe(this.parser);
    };
    Deserializer.prototype.deserializeMethodCall = function(stream, callback) {
      var that = this;
      this.callback = function(error, result) {
        if (error) {
          callback(error);
        } else if (that.type !== "methodcall") {
          callback(new Error("Not a method call"));
        } else if (!that.methodname) {
          callback(new Error("Method call did not contain a method name"));
        } else {
          callback(null, that.methodname, result);
        }
      };
      stream.setEncoding(this.encoding);
      stream.on("error", this.onError.bind(this));
      stream.pipe(this.parser);
    };
    Deserializer.prototype.onDone = function() {
      var that = this;
      if (!this.error) {
        if (this.type === null || this.marks.length) {
          this.callback(new Error("Invalid XML-RPC message"));
        } else if (this.responseType === "fault") {
          var createFault = function(fault) {
            var error = new Error("XML-RPC fault" + (fault.faultString ? ": " + fault.faultString : ""));
            error.code = fault.faultCode;
            error.faultCode = fault.faultCode;
            error.faultString = fault.faultString;
            return error;
          };
          this.callback(createFault(this.stack[0]));
        } else {
          this.callback(void 0, this.stack);
        }
      }
    };
    Deserializer.prototype.onError = function(msg) {
      if (!this.error) {
        if (typeof msg === "string") {
          this.error = new Error(msg);
        } else {
          this.error = msg;
        }
        this.callback(this.error);
      }
    };
    Deserializer.prototype.push = function(value) {
      this.stack.push(value);
    };
    Deserializer.prototype.onOpentag = function(node) {
      if (node.name === "ARRAY" || node.name === "STRUCT") {
        this.marks.push(this.stack.length);
      }
      this.data = [];
      this.value = node.name === "VALUE";
    };
    Deserializer.prototype.onText = function(text) {
      this.data.push(text);
    };
    Deserializer.prototype.onCDATA = function(cdata) {
      this.data.push(cdata);
    };
    Deserializer.prototype.onClosetag = function(el) {
      var data = this.data.join("");
      try {
        switch (el) {
          case "BOOLEAN":
            this.endBoolean(data);
            break;
          case "INT":
          case "I4":
            this.endInt(data);
            break;
          case "I8":
            this.endI8(data);
            break;
          case "DOUBLE":
            this.endDouble(data);
            break;
          case "STRING":
          case "NAME":
            this.endString(data);
            break;
          case "ARRAY":
            this.endArray(data);
            break;
          case "STRUCT":
            this.endStruct(data);
            break;
          case "BASE64":
            this.endBase64(data);
            break;
          case "DATETIME.ISO8601":
            this.endDateTime(data);
            break;
          case "VALUE":
            this.endValue(data);
            break;
          case "PARAMS":
            this.endParams(data);
            break;
          case "FAULT":
            this.endFault(data);
            break;
          case "METHODRESPONSE":
            this.endMethodResponse(data);
            break;
          case "METHODNAME":
            this.endMethodName(data);
            break;
          case "METHODCALL":
            this.endMethodCall(data);
            break;
          case "NIL":
            this.endNil(data);
            break;
          case "DATA":
          case "PARAM":
          case "MEMBER":
            break;
          default:
            this.onError("Unknown XML-RPC tag '" + el + "'");
            break;
        }
      } catch (e) {
        this.onError(e);
      }
    };
    Deserializer.prototype.endNil = function(data) {
      this.push(null);
      this.value = false;
    };
    Deserializer.prototype.endBoolean = function(data) {
      if (data === "1") {
        this.push(true);
      } else if (data === "0") {
        this.push(false);
      } else {
        throw new Error("Illegal boolean value '" + data + "'");
      }
      this.value = false;
    };
    Deserializer.prototype.endInt = function(data) {
      var value = parseInt(data, 10);
      if (isNaN(value)) {
        throw new Error("Expected an integer but got '" + data + "'");
      } else {
        this.push(value);
        this.value = false;
      }
    };
    Deserializer.prototype.endDouble = function(data) {
      var value = parseFloat(data);
      if (isNaN(value)) {
        throw new Error("Expected a double but got '" + data + "'");
      } else {
        this.push(value);
        this.value = false;
      }
    };
    Deserializer.prototype.endString = function(data) {
      this.push(data);
      this.value = false;
    };
    Deserializer.prototype.endArray = function(data) {
      var mark = this.marks.pop();
      this.stack.splice(mark, this.stack.length - mark, this.stack.slice(mark));
      this.value = false;
    };
    Deserializer.prototype.endStruct = function(data) {
      var mark = this.marks.pop(), struct = {}, items = this.stack.slice(mark), i = 0;
      for (; i < items.length; i += 2) {
        struct[items[i]] = items[i + 1];
      }
      this.stack.splice(mark, this.stack.length - mark, struct);
      this.value = false;
    };
    Deserializer.prototype.endBase64 = function(data) {
      var buffer = new Buffer(data, "base64");
      this.push(buffer);
      this.value = false;
    };
    Deserializer.prototype.endDateTime = function(data) {
      var date = dateFormatter.decodeIso8601(data);
      this.push(date);
      this.value = false;
    };
    var isInteger = /^-?\d+$/;
    Deserializer.prototype.endI8 = function(data) {
      if (!isInteger.test(data)) {
        throw new Error("Expected integer (I8) value but got '" + data + "'");
      } else {
        this.endString(data);
      }
    };
    Deserializer.prototype.endValue = function(data) {
      if (this.value) {
        this.endString(data);
      }
    };
    Deserializer.prototype.endParams = function(data) {
      this.responseType = "params";
    };
    Deserializer.prototype.endFault = function(data) {
      this.responseType = "fault";
    };
    Deserializer.prototype.endMethodResponse = function(data) {
      this.type = "methodresponse";
    };
    Deserializer.prototype.endMethodName = function(data) {
      this.methodname = data;
    };
    Deserializer.prototype.endMethodCall = function(data) {
      this.type = "methodcall";
    };
    module2.exports = Deserializer;
  }
});

// node_modules/xmlrpc/lib/cookies.js
var require_cookies = __commonJS({
  "node_modules/xmlrpc/lib/cookies.js"(exports, module2) {
    function Cookies() {
      this.cookies = {};
    }
    Cookies.prototype = {
      get: function(name) {
        var cookie = this.cookies[name];
        if (cookie && this.checkNotExpired(name)) {
          return this.cookies[name].value;
        }
        return null;
      },
      set: function(name, value, options2) {
        var cookie = typeof options2 == "object" ? { value, expires: options2.expires, secure: options2.secure || false, new: options2.new || false } : { value };
        if (this.checkNotExpired(name, cookie)) {
          this.cookies[name] = cookie;
        }
      },
      getExpirationDate: function(name) {
        return this.cookies[name] ? this.cookies[name].expires : null;
      },
      checkNotExpired: function(name, cookie) {
        if (typeof cookie === "undefined") {
          cookie = this.cookies[name];
        }
        var now = new Date();
        if (cookie && cookie.expires && now > cookie.expires) {
          delete this.cookies[name];
          return false;
        }
        return true;
      },
      parseResponse: function(headers) {
        var cookies = headers["set-cookie"];
        if (cookies) {
          cookies.forEach(function(c) {
            var cookiesParams = c.split(";");
            var cookiePair = cookiesParams.shift().split("=");
            var options2 = {};
            cookiesParams.forEach(function(param) {
              param = param.trim();
              if (param.toLowerCase().indexOf("expires") == 0) {
                var date = param.split("=")[1].trim();
                options2.expires = new Date(date);
              }
            });
            this.set(cookiePair[0].trim(), cookiePair[1].trim(), options2);
          }.bind(this));
        }
      },
      composeRequest: function(headers) {
        if (Object.keys(this.cookies).length == 0) {
          return;
        }
        headers["Cookie"] = this.toString();
      },
      toString: function() {
        return Object.keys(this.cookies).filter(this.checkNotExpired.bind(this)).map(function(name) {
          return name + "=" + this.cookies[name].value;
        }.bind(this)).join(";");
      }
    };
    module2.exports = Cookies;
  }
});

// node_modules/xmlrpc/lib/client.js
var require_client = __commonJS({
  "node_modules/xmlrpc/lib/client.js"(exports, module2) {
    var http = require("http");
    var https = require("https");
    var url = require("url");
    var Serializer = require_serializer();
    var Deserializer = require_deserializer();
    var Cookies = require_cookies();
    function Client2(options2, isSecure) {
      if (this instanceof Client2 === false) {
        return new Client2(options2, isSecure);
      }
      if (typeof options2 === "string") {
        options2 = url.parse(options2);
        options2.host = options2.hostname;
        options2.path = options2.pathname;
      }
      if (typeof options2.url !== "undefined") {
        var parsedUrl = url.parse(options2.url);
        options2.host = parsedUrl.hostname;
        options2.path = parsedUrl.pathname;
        options2.port = parsedUrl.port;
      }
      var headers = {
        "User-Agent": "NodeJS XML-RPC Client",
        "Content-Type": "text/xml",
        "Accept": "text/xml",
        "Accept-Charset": "UTF8",
        "Connection": "Keep-Alive"
      };
      options2.headers = options2.headers || {};
      if (options2.headers.Authorization == null && options2.basic_auth != null && options2.basic_auth.user != null && options2.basic_auth.pass != null) {
        var auth = options2.basic_auth.user + ":" + options2.basic_auth.pass;
        options2.headers["Authorization"] = "Basic " + new Buffer(auth).toString("base64");
      }
      for (var attribute in headers) {
        if (options2.headers[attribute] === void 0) {
          options2.headers[attribute] = headers[attribute];
        }
      }
      options2.method = "POST";
      this.options = options2;
      this.isSecure = isSecure;
      this.headersProcessors = {
        processors: [],
        composeRequest: function(headers2) {
          this.processors.forEach(function(p) {
            p.composeRequest(headers2);
          });
        },
        parseResponse: function(headers2) {
          this.processors.forEach(function(p) {
            p.parseResponse(headers2);
          });
        }
      };
      if (options2.cookies) {
        this.cookies = new Cookies();
        this.headersProcessors.processors.unshift(this.cookies);
      }
    }
    Client2.prototype.methodCall = function methodCall(method, params, callback) {
      var options2 = this.options;
      var xml = Serializer.serializeMethodCall(method, params, options2.encoding);
      var transport = this.isSecure ? https : http;
      options2.headers["Content-Length"] = Buffer.byteLength(xml, "utf8");
      this.headersProcessors.composeRequest(options2.headers);
      var request = transport.request(options2, function(response) {
        var body = [];
        response.on("data", function(chunk) {
          body.push(chunk);
        });
        function __enrichError(err) {
          Object.defineProperty(err, "req", { value: request });
          Object.defineProperty(err, "res", { value: response });
          Object.defineProperty(err, "body", { value: body.join("") });
          return err;
        }
        if (response.statusCode == 404) {
          callback(__enrichError(new Error("Not Found")));
        } else {
          this.headersProcessors.parseResponse(response.headers);
          var deserializer = new Deserializer(options2.responseEncoding);
          deserializer.deserializeMethodResponse(response, function(err, result) {
            if (err) {
              err = __enrichError(err);
            }
            callback(err, result);
          });
        }
      }.bind(this));
      request.on("error", callback);
      request.write(xml, "utf8");
      request.end();
    };
    Client2.prototype.getCookie = function getCookie(name) {
      if (!this.cookies) {
        throw "Cookies support is not turned on for this client instance";
      }
      return this.cookies.get(name);
    };
    Client2.prototype.setCookie = function setCookie(name, value) {
      if (!this.cookies) {
        throw "Cookies support is not turned on for this client instance";
      }
      this.cookies.set(name, value);
      return this;
    };
    module2.exports = Client2;
  }
});

// node_modules/xmlrpc/lib/server.js
var require_server = __commonJS({
  "node_modules/xmlrpc/lib/server.js"(exports, module2) {
    var http = require("http");
    var https = require("https");
    var url = require("url");
    var EventEmitter = require("events").EventEmitter;
    var Serializer = require_serializer();
    var Deserializer = require_deserializer();
    function Server(options2, isSecure, onListening) {
      if (this instanceof Server === false) {
        return new Server(options2, isSecure);
      }
      onListening = onListening || function() {
      };
      var that = this;
      if (typeof options2 === "string") {
        options2 = url.parse(options2);
        options2.host = options2.hostname;
        options2.path = options2.pathname;
      }
      function handleMethodCall(request, response) {
        var deserializer = new Deserializer();
        deserializer.deserializeMethodCall(request, function(error, methodName, params) {
          if (Object.prototype.hasOwnProperty.call(that._events, methodName)) {
            that.emit(methodName, null, params, function(error2, value) {
              var xml = null;
              if (error2 !== null) {
                xml = Serializer.serializeFault(error2);
              } else {
                xml = Serializer.serializeMethodResponse(value);
              }
              response.writeHead(200, { "Content-Type": "text/xml" });
              response.end(xml);
            });
          } else {
            that.emit("NotFound", methodName, params);
            response.writeHead(404);
            response.end();
          }
        });
      }
      this.httpServer = isSecure ? https.createServer(options2, handleMethodCall) : http.createServer(handleMethodCall);
      process.nextTick(function() {
        this.httpServer.listen(options2.port, options2.host, onListening);
      }.bind(this));
      this.close = function(callback) {
        this.httpServer.once("close", callback);
        this.httpServer.close();
      }.bind(this);
    }
    Server.prototype.__proto__ = EventEmitter.prototype;
    module2.exports = Server;
  }
});

// node_modules/xmlrpc/lib/xmlrpc.js
var require_xmlrpc = __commonJS({
  "node_modules/xmlrpc/lib/xmlrpc.js"(exports) {
    var Client2 = require_client();
    var Server = require_server();
    var CustomType = require_customtype();
    var dateFormatter = require_date_formatter();
    var xmlrpc = exports;
    xmlrpc.createClient = function(options2) {
      return new Client2(options2, false);
    };
    xmlrpc.createSecureClient = function(options2) {
      return new Client2(options2, true);
    };
    xmlrpc.createServer = function(options2, callback) {
      return new Server(options2, false, callback);
    };
    xmlrpc.createSecureServer = function(options2, callback) {
      return new Server(options2, true, callback);
    };
    xmlrpc.CustomType = CustomType;
    xmlrpc.dateFormatter = dateFormatter;
  }
});

// node_modules/wpapi/lib/util/object-reduce.js
var require_object_reduce = __commonJS({
  "node_modules/wpapi/lib/util/object-reduce.js"(exports, module2) {
    "use strict";
    module2.exports = (obj, iterator, initialState) => Object.keys(obj).reduce((memo, key) => iterator(memo, obj[key], key), initialState);
  }
});

// node_modules/wpapi/lib/data/default-routes.json
var require_default_routes = __commonJS({
  "node_modules/wpapi/lib/data/default-routes.json"(exports, module2) {
    module2.exports = { "/": { namespace: "", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { context: {} } }] }, "/oembed/1.0": { namespace: "oembed/1.0", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { namespace: {}, context: {} } }] }, "/oembed/1.0/embed": { namespace: "oembed/1.0", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { url: {}, format: {}, maxwidth: {} } }] }, "/oembed/1.0/proxy": { namespace: "oembed/1.0", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { url: {}, format: {}, maxwidth: {}, maxheight: {}, discover: {} } }] }, "/wp/v2": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { namespace: {}, context: {} } }] }, "/wp/v2/posts": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, after: {}, author: {}, author_exclude: {}, before: {}, exclude: {}, include: {}, offset: {}, order: {}, orderby: {}, slug: {}, status: {}, categories: {}, categories_exclude: {}, tags: {}, tags_exclude: {}, sticky: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/posts/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { id: {}, context: {}, password: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/posts/(?P<parent>[\\d]+)/revisions": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { parent: {}, context: {}, page: {}, per_page: {}, search: {}, exclude: {}, include: {}, offset: {}, order: {}, orderby: {} } }] }, "/wp/v2/posts/(?P<parent>[\\d]+)/revisions/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "DELETE"], endpoints: [{ methods: ["GET"], args: { parent: {}, id: {}, context: {} } }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/posts/(?P<id>[\\d]+)/autosaves": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { parent: {}, context: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/posts/(?P<parent>[\\d]+)/autosaves/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { parent: {}, id: {}, context: {} } }] }, "/wp/v2/pages": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, after: {}, author: {}, author_exclude: {}, before: {}, exclude: {}, include: {}, menu_order: {}, offset: {}, order: {}, orderby: {}, parent: {}, parent_exclude: {}, slug: {}, status: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/pages/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { id: {}, context: {}, password: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/pages/(?P<parent>[\\d]+)/revisions": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { parent: {}, context: {}, page: {}, per_page: {}, search: {}, exclude: {}, include: {}, offset: {}, order: {}, orderby: {} } }] }, "/wp/v2/pages/(?P<parent>[\\d]+)/revisions/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "DELETE"], endpoints: [{ methods: ["GET"], args: { parent: {}, id: {}, context: {} } }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/pages/(?P<id>[\\d]+)/autosaves": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { parent: {}, context: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/pages/(?P<parent>[\\d]+)/autosaves/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { parent: {}, id: {}, context: {} } }] }, "/wp/v2/media": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, after: {}, author: {}, author_exclude: {}, before: {}, exclude: {}, include: {}, offset: {}, order: {}, orderby: {}, parent: {}, parent_exclude: {}, slug: {}, status: {}, media_type: {}, mime_type: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/media/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { id: {}, context: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/blocks": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, after: {}, before: {}, exclude: {}, include: {}, offset: {}, order: {}, orderby: {}, slug: {}, status: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/blocks/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { id: {}, context: {}, password: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/blocks/(?P<id>[\\d]+)/autosaves": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { parent: {}, context: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/blocks/(?P<parent>[\\d]+)/autosaves/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { parent: {}, id: {}, context: {} } }] }, "/wp/v2/types": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { context: {} } }] }, "/wp/v2/types/(?P<type>[\\w-]+)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { type: {}, context: {} } }] }, "/wp/v2/statuses": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { context: {} } }] }, "/wp/v2/statuses/(?P<status>[\\w-]+)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { status: {}, context: {} } }] }, "/wp/v2/taxonomies": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { context: {}, type: {} } }] }, "/wp/v2/taxonomies/(?P<taxonomy>[\\w-]+)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { taxonomy: {}, context: {} } }] }, "/wp/v2/categories": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, exclude: {}, include: {}, order: {}, orderby: {}, hide_empty: {}, parent: {}, post: {}, slug: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/categories/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { id: {}, context: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/tags": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, exclude: {}, include: {}, offset: {}, order: {}, orderby: {}, hide_empty: {}, post: {}, slug: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/tags/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { id: {}, context: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/users": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, exclude: {}, include: {}, offset: {}, order: {}, orderby: {}, slug: {}, roles: {}, who: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/users/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { id: {}, context: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/users/me": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { context: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/comments": { namespace: "wp/v2", methods: ["GET", "POST"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, after: {}, author: {}, author_exclude: {}, author_email: {}, before: {}, exclude: {}, include: {}, offset: {}, order: {}, orderby: {}, parent: {}, parent_exclude: {}, post: {}, status: {}, type: {}, password: {} } }, { methods: ["POST"], args: {} }] }, "/wp/v2/comments/(?P<id>[\\d]+)": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH", "DELETE"], endpoints: [{ methods: ["GET"], args: { id: {}, context: {}, password: {} } }, { methods: ["POST", "PUT", "PATCH"], args: {} }, { methods: ["DELETE"], args: {} }] }, "/wp/v2/search": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, type: {}, subtype: {} } }] }, "/wp/v2/block-renderer/(?P<name>core/block)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { name: {}, context: {}, attributes: {}, post_id: {} } }] }, "/wp/v2/block-renderer/(?P<name>core/latest-comments)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { name: {}, context: {}, attributes: {}, post_id: {} } }] }, "/wp/v2/block-renderer/(?P<name>core/archives)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { name: {}, context: {}, attributes: {}, post_id: {} } }] }, "/wp/v2/block-renderer/(?P<name>core/categories)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { name: {}, context: {}, attributes: {}, post_id: {} } }] }, "/wp/v2/block-renderer/(?P<name>core/latest-posts)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { name: {}, context: {}, attributes: {}, post_id: {} } }] }, "/wp/v2/block-renderer/(?P<name>core/shortcode)": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { name: {}, context: {}, attributes: {}, post_id: {} } }] }, "/wp/v2/settings": { namespace: "wp/v2", methods: ["GET", "POST", "PUT", "PATCH"], endpoints: [{ methods: ["GET"], args: {} }, { methods: ["POST", "PUT", "PATCH"], args: {} }] }, "/wp/v2/themes": { namespace: "wp/v2", methods: ["GET"], endpoints: [{ methods: ["GET"], args: { context: {}, page: {}, per_page: {}, search: {}, status: {} } }] } };
  }
});

// node_modules/wpapi/lib/util/named-group-regexp.js
var require_named_group_regexp = __commonJS({
  "node_modules/wpapi/lib/util/named-group-regexp.js"(exports, module2) {
    "use strict";
    var pattern = [
      "\\(\\?",
      "(?:P<|<|')",
      "([^>']+)",
      "[>']",
      "([^\\)]*(\\))?\\??)",
      "\\)"
    ].join("");
    module2.exports = {
      pattern,
      namedGroupRE: new RegExp(pattern)
    };
  }
});

// node_modules/wpapi/lib/util/split-path.js
var require_split_path = __commonJS({
  "node_modules/wpapi/lib/util/split-path.js"(exports, module2) {
    "use strict";
    var namedGroupPattern = require_named_group_regexp().pattern;
    var patternWithoutSubgroups = namedGroupPattern.replace(/([^\\])\(([^?])/g, "$1(?:$2");
    var namedGroupRE = new RegExp("([^/]*" + patternWithoutSubgroups + "[^/]*)");
    module2.exports = (pathStr) => pathStr.split(namedGroupRE).reduce((components, part) => {
      if (!part) {
        return components;
      }
      if (namedGroupRE.test(part)) {
        return components.concat(part);
      }
      return components.concat(part.split("/").filter(Boolean));
    }, []);
  }
});

// node_modules/wpapi/lib/util/ensure.js
var require_ensure = __commonJS({
  "node_modules/wpapi/lib/util/ensure.js"(exports, module2) {
    "use strict";
    module2.exports = (obj, prop, propDefaultValue) => {
      if (obj && obj[prop] === void 0) {
        obj[prop] = propDefaultValue;
      }
    };
  }
});

// node_modules/wpapi/lib/route-tree.js
var require_route_tree = __commonJS({
  "node_modules/wpapi/lib/route-tree.js"(exports, module2) {
    "use strict";
    var namedGroupRE = require_named_group_regexp().namedGroupRE;
    var splitPath = require_split_path();
    var ensure = require_ensure();
    var objectReduce = require_object_reduce();
    function reduceRouteComponents(routeObj, topLevel, parentLevel, component, idx, components) {
      const namedGroup = component.match(namedGroupRE);
      const groupName = namedGroup && namedGroup[1];
      const groupPattern = namedGroup && namedGroup[2];
      const levelKey = namedGroup ? groupPattern || groupName : component;
      const levelName = namedGroup ? groupName : component;
      const currentLevel = parentLevel[levelKey] || {
        component,
        namedGroup: namedGroup ? true : false,
        level: idx,
        names: []
      };
      if (currentLevel.names.indexOf(levelName) < 0) {
        currentLevel.names.push(levelName);
      }
      const groupPatternRE = groupPattern === "" ? /.*/ : new RegExp(groupPattern ? "^" + groupPattern + "$" : component, "i");
      currentLevel.validate = (input) => groupPatternRE.test(input);
      if (components[idx + 1]) {
        currentLevel.children = currentLevel.children || {};
      } else {
        currentLevel.methods = (routeObj.methods || []).map((str) => str.toLowerCase());
        if (currentLevel.methods.indexOf("get") > -1 && currentLevel.methods.indexOf("head") === -1) {
          currentLevel.methods.push("head");
        }
        if (routeObj.endpoints) {
          topLevel._getArgs = topLevel._getArgs || {};
          routeObj.endpoints.forEach((endpoint) => {
            endpoint.methods.forEach((method) => {
              if (method.toLowerCase() === "get") {
                Object.keys(endpoint.args).forEach((argKey) => {
                  topLevel._getArgs[argKey] = endpoint.args[argKey];
                });
              }
            });
          });
        }
      }
      parentLevel[levelKey] = currentLevel;
      return currentLevel.children;
    }
    function reduceRouteTree(namespaces, routeObj, route) {
      const nsForRoute = routeObj.namespace;
      const routeString = route.replace("/" + nsForRoute + "/", "").replace(/\/\?$/, "");
      const routeComponents = splitPath(routeString);
      if (!nsForRoute || "/" + nsForRoute === route || !routeString) {
        return namespaces;
      }
      ensure(namespaces, nsForRoute, {});
      const ns = namespaces[nsForRoute];
      const resource = routeComponents[0];
      ensure(ns, resource, {});
      const levels = ns[resource];
      routeComponents.reduce(reduceRouteComponents.bind(null, routeObj, levels), levels);
      return namespaces;
    }
    function buildRouteTree(routes) {
      return objectReduce(routes, reduceRouteTree, {});
    }
    module2.exports = {
      build: buildRouteTree
    };
  }
});

// node_modules/wpapi/lib/path-part-setter.js
var require_path_part_setter = __commonJS({
  "node_modules/wpapi/lib/path-part-setter.js"(exports, module2) {
    "use strict";
    function createPathPartSetter(node) {
      const nodeLevel = node.level;
      const nodeName = node.names[0];
      const supportedMethods = node.methods || [];
      const dynamicChildren = node.children ? Object.keys(node.children).map((key) => node.children[key]).filter((childNode) => childNode.namedGroup === true) : [];
      const dynamicChild = dynamicChildren.length === 1 && dynamicChildren[0];
      const dynamicChildLevel = dynamicChild && dynamicChild.level;
      if (node.namedGroup) {
        return function(val) {
          this.setPathPart(nodeLevel, val);
          if (supportedMethods.length) {
            this._supportedMethods = supportedMethods;
          }
          return this;
        };
      } else {
        return function(val) {
          this.setPathPart(nodeLevel, nodeName);
          if (val !== void 0 && dynamicChildLevel) {
            this.setPathPart(dynamicChildLevel, val);
          }
          return this;
        };
      }
    }
    module2.exports = {
      create: createPathPartSetter
    };
  }
});

// node_modules/wpapi/lib/resource-handler-spec.js
var require_resource_handler_spec = __commonJS({
  "node_modules/wpapi/lib/resource-handler-spec.js"(exports, module2) {
    "use strict";
    var createPathPartSetter = require_path_part_setter().create;
    function addLevelOption(levelsObj, level, obj) {
      levelsObj[level] = levelsObj[level] || [];
      levelsObj[level].push(obj);
    }
    function assignSetterFnForNode(handler, node) {
      let setterFn;
      addLevelOption(handler._levels, node.level, {
        component: node.component,
        validate: node.validate,
        methods: node.methods
      });
      if (node.level > 0) {
        setterFn = createPathPartSetter(node);
        node.names.forEach((name) => {
          const setterFnName = name.replace(/[_-]+\w/g, (match) => match.replace(/[_-]+/, "").toUpperCase());
          if (!handler._setters[setterFnName]) {
            handler._setters[setterFnName] = setterFn;
          }
        });
      }
    }
    function extractSetterFromNode(handler, node) {
      assignSetterFnForNode(handler, node);
      if (node.children) {
        Object.keys(node.children).forEach((key) => {
          extractSetterFromNode(handler, node.children[key]);
        });
      }
    }
    function createNodeHandlerSpec(routeDefinition, resource) {
      const handler = {
        _path: {
          "0": resource
        },
        _levels: {},
        _setters: {},
        _getArgs: routeDefinition._getArgs
      };
      Object.keys(routeDefinition).forEach((routeDefProp) => {
        if (routeDefProp !== "_getArgs") {
          extractSetterFromNode(handler, routeDefinition[routeDefProp]);
        }
      });
      return handler;
    }
    module2.exports = {
      create: createNodeHandlerSpec
    };
  }
});

// node_modules/has-symbols/shams.js
var require_shams = __commonJS({
  "node_modules/has-symbols/shams.js"(exports, module2) {
    "use strict";
    module2.exports = function hasSymbols() {
      if (typeof Symbol !== "function" || typeof Object.getOwnPropertySymbols !== "function") {
        return false;
      }
      if (typeof Symbol.iterator === "symbol") {
        return true;
      }
      var obj = {};
      var sym = Symbol("test");
      var symObj = Object(sym);
      if (typeof sym === "string") {
        return false;
      }
      if (Object.prototype.toString.call(sym) !== "[object Symbol]") {
        return false;
      }
      if (Object.prototype.toString.call(symObj) !== "[object Symbol]") {
        return false;
      }
      var symVal = 42;
      obj[sym] = symVal;
      for (sym in obj) {
        return false;
      }
      if (typeof Object.keys === "function" && Object.keys(obj).length !== 0) {
        return false;
      }
      if (typeof Object.getOwnPropertyNames === "function" && Object.getOwnPropertyNames(obj).length !== 0) {
        return false;
      }
      var syms = Object.getOwnPropertySymbols(obj);
      if (syms.length !== 1 || syms[0] !== sym) {
        return false;
      }
      if (!Object.prototype.propertyIsEnumerable.call(obj, sym)) {
        return false;
      }
      if (typeof Object.getOwnPropertyDescriptor === "function") {
        var descriptor = Object.getOwnPropertyDescriptor(obj, sym);
        if (descriptor.value !== symVal || descriptor.enumerable !== true) {
          return false;
        }
      }
      return true;
    };
  }
});

// node_modules/has-symbols/index.js
var require_has_symbols = __commonJS({
  "node_modules/has-symbols/index.js"(exports, module2) {
    "use strict";
    var origSymbol = typeof Symbol !== "undefined" && Symbol;
    var hasSymbolSham = require_shams();
    module2.exports = function hasNativeSymbols() {
      if (typeof origSymbol !== "function") {
        return false;
      }
      if (typeof Symbol !== "function") {
        return false;
      }
      if (typeof origSymbol("foo") !== "symbol") {
        return false;
      }
      if (typeof Symbol("bar") !== "symbol") {
        return false;
      }
      return hasSymbolSham();
    };
  }
});

// node_modules/function-bind/implementation.js
var require_implementation = __commonJS({
  "node_modules/function-bind/implementation.js"(exports, module2) {
    "use strict";
    var ERROR_MESSAGE = "Function.prototype.bind called on incompatible ";
    var slice = Array.prototype.slice;
    var toStr = Object.prototype.toString;
    var funcType = "[object Function]";
    module2.exports = function bind(that) {
      var target = this;
      if (typeof target !== "function" || toStr.call(target) !== funcType) {
        throw new TypeError(ERROR_MESSAGE + target);
      }
      var args = slice.call(arguments, 1);
      var bound;
      var binder = function() {
        if (this instanceof bound) {
          var result = target.apply(this, args.concat(slice.call(arguments)));
          if (Object(result) === result) {
            return result;
          }
          return this;
        } else {
          return target.apply(that, args.concat(slice.call(arguments)));
        }
      };
      var boundLength = Math.max(0, target.length - args.length);
      var boundArgs = [];
      for (var i = 0; i < boundLength; i++) {
        boundArgs.push("$" + i);
      }
      bound = Function("binder", "return function (" + boundArgs.join(",") + "){ return binder.apply(this,arguments); }")(binder);
      if (target.prototype) {
        var Empty = function Empty2() {
        };
        Empty.prototype = target.prototype;
        bound.prototype = new Empty();
        Empty.prototype = null;
      }
      return bound;
    };
  }
});

// node_modules/function-bind/index.js
var require_function_bind = __commonJS({
  "node_modules/function-bind/index.js"(exports, module2) {
    "use strict";
    var implementation = require_implementation();
    module2.exports = Function.prototype.bind || implementation;
  }
});

// node_modules/has/src/index.js
var require_src = __commonJS({
  "node_modules/has/src/index.js"(exports, module2) {
    "use strict";
    var bind = require_function_bind();
    module2.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);
  }
});

// node_modules/get-intrinsic/index.js
var require_get_intrinsic = __commonJS({
  "node_modules/get-intrinsic/index.js"(exports, module2) {
    "use strict";
    var undefined2;
    var $SyntaxError = SyntaxError;
    var $Function = Function;
    var $TypeError = TypeError;
    var getEvalledConstructor = function(expressionSyntax) {
      try {
        return $Function('"use strict"; return (' + expressionSyntax + ").constructor;")();
      } catch (e) {
      }
    };
    var $gOPD = Object.getOwnPropertyDescriptor;
    if ($gOPD) {
      try {
        $gOPD({}, "");
      } catch (e) {
        $gOPD = null;
      }
    }
    var throwTypeError = function() {
      throw new $TypeError();
    };
    var ThrowTypeError = $gOPD ? function() {
      try {
        arguments.callee;
        return throwTypeError;
      } catch (calleeThrows) {
        try {
          return $gOPD(arguments, "callee").get;
        } catch (gOPDthrows) {
          return throwTypeError;
        }
      }
    }() : throwTypeError;
    var hasSymbols = require_has_symbols()();
    var getProto = Object.getPrototypeOf || function(x) {
      return x.__proto__;
    };
    var needsEval = {};
    var TypedArray = typeof Uint8Array === "undefined" ? undefined2 : getProto(Uint8Array);
    var INTRINSICS = {
      "%AggregateError%": typeof AggregateError === "undefined" ? undefined2 : AggregateError,
      "%Array%": Array,
      "%ArrayBuffer%": typeof ArrayBuffer === "undefined" ? undefined2 : ArrayBuffer,
      "%ArrayIteratorPrototype%": hasSymbols ? getProto([][Symbol.iterator]()) : undefined2,
      "%AsyncFromSyncIteratorPrototype%": undefined2,
      "%AsyncFunction%": needsEval,
      "%AsyncGenerator%": needsEval,
      "%AsyncGeneratorFunction%": needsEval,
      "%AsyncIteratorPrototype%": needsEval,
      "%Atomics%": typeof Atomics === "undefined" ? undefined2 : Atomics,
      "%BigInt%": typeof BigInt === "undefined" ? undefined2 : BigInt,
      "%Boolean%": Boolean,
      "%DataView%": typeof DataView === "undefined" ? undefined2 : DataView,
      "%Date%": Date,
      "%decodeURI%": decodeURI,
      "%decodeURIComponent%": decodeURIComponent,
      "%encodeURI%": encodeURI,
      "%encodeURIComponent%": encodeURIComponent,
      "%Error%": Error,
      "%eval%": eval,
      "%EvalError%": EvalError,
      "%Float32Array%": typeof Float32Array === "undefined" ? undefined2 : Float32Array,
      "%Float64Array%": typeof Float64Array === "undefined" ? undefined2 : Float64Array,
      "%FinalizationRegistry%": typeof FinalizationRegistry === "undefined" ? undefined2 : FinalizationRegistry,
      "%Function%": $Function,
      "%GeneratorFunction%": needsEval,
      "%Int8Array%": typeof Int8Array === "undefined" ? undefined2 : Int8Array,
      "%Int16Array%": typeof Int16Array === "undefined" ? undefined2 : Int16Array,
      "%Int32Array%": typeof Int32Array === "undefined" ? undefined2 : Int32Array,
      "%isFinite%": isFinite,
      "%isNaN%": isNaN,
      "%IteratorPrototype%": hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined2,
      "%JSON%": typeof JSON === "object" ? JSON : undefined2,
      "%Map%": typeof Map === "undefined" ? undefined2 : Map,
      "%MapIteratorPrototype%": typeof Map === "undefined" || !hasSymbols ? undefined2 : getProto(new Map()[Symbol.iterator]()),
      "%Math%": Math,
      "%Number%": Number,
      "%Object%": Object,
      "%parseFloat%": parseFloat,
      "%parseInt%": parseInt,
      "%Promise%": typeof Promise === "undefined" ? undefined2 : Promise,
      "%Proxy%": typeof Proxy === "undefined" ? undefined2 : Proxy,
      "%RangeError%": RangeError,
      "%ReferenceError%": ReferenceError,
      "%Reflect%": typeof Reflect === "undefined" ? undefined2 : Reflect,
      "%RegExp%": RegExp,
      "%Set%": typeof Set === "undefined" ? undefined2 : Set,
      "%SetIteratorPrototype%": typeof Set === "undefined" || !hasSymbols ? undefined2 : getProto(new Set()[Symbol.iterator]()),
      "%SharedArrayBuffer%": typeof SharedArrayBuffer === "undefined" ? undefined2 : SharedArrayBuffer,
      "%String%": String,
      "%StringIteratorPrototype%": hasSymbols ? getProto(""[Symbol.iterator]()) : undefined2,
      "%Symbol%": hasSymbols ? Symbol : undefined2,
      "%SyntaxError%": $SyntaxError,
      "%ThrowTypeError%": ThrowTypeError,
      "%TypedArray%": TypedArray,
      "%TypeError%": $TypeError,
      "%Uint8Array%": typeof Uint8Array === "undefined" ? undefined2 : Uint8Array,
      "%Uint8ClampedArray%": typeof Uint8ClampedArray === "undefined" ? undefined2 : Uint8ClampedArray,
      "%Uint16Array%": typeof Uint16Array === "undefined" ? undefined2 : Uint16Array,
      "%Uint32Array%": typeof Uint32Array === "undefined" ? undefined2 : Uint32Array,
      "%URIError%": URIError,
      "%WeakMap%": typeof WeakMap === "undefined" ? undefined2 : WeakMap,
      "%WeakRef%": typeof WeakRef === "undefined" ? undefined2 : WeakRef,
      "%WeakSet%": typeof WeakSet === "undefined" ? undefined2 : WeakSet
    };
    var doEval = function doEval2(name) {
      var value;
      if (name === "%AsyncFunction%") {
        value = getEvalledConstructor("async function () {}");
      } else if (name === "%GeneratorFunction%") {
        value = getEvalledConstructor("function* () {}");
      } else if (name === "%AsyncGeneratorFunction%") {
        value = getEvalledConstructor("async function* () {}");
      } else if (name === "%AsyncGenerator%") {
        var fn = doEval2("%AsyncGeneratorFunction%");
        if (fn) {
          value = fn.prototype;
        }
      } else if (name === "%AsyncIteratorPrototype%") {
        var gen = doEval2("%AsyncGenerator%");
        if (gen) {
          value = getProto(gen.prototype);
        }
      }
      INTRINSICS[name] = value;
      return value;
    };
    var LEGACY_ALIASES = {
      "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
      "%ArrayPrototype%": ["Array", "prototype"],
      "%ArrayProto_entries%": ["Array", "prototype", "entries"],
      "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
      "%ArrayProto_keys%": ["Array", "prototype", "keys"],
      "%ArrayProto_values%": ["Array", "prototype", "values"],
      "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
      "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
      "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"],
      "%BooleanPrototype%": ["Boolean", "prototype"],
      "%DataViewPrototype%": ["DataView", "prototype"],
      "%DatePrototype%": ["Date", "prototype"],
      "%ErrorPrototype%": ["Error", "prototype"],
      "%EvalErrorPrototype%": ["EvalError", "prototype"],
      "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
      "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
      "%FunctionPrototype%": ["Function", "prototype"],
      "%Generator%": ["GeneratorFunction", "prototype"],
      "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"],
      "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
      "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
      "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
      "%JSONParse%": ["JSON", "parse"],
      "%JSONStringify%": ["JSON", "stringify"],
      "%MapPrototype%": ["Map", "prototype"],
      "%NumberPrototype%": ["Number", "prototype"],
      "%ObjectPrototype%": ["Object", "prototype"],
      "%ObjProto_toString%": ["Object", "prototype", "toString"],
      "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
      "%PromisePrototype%": ["Promise", "prototype"],
      "%PromiseProto_then%": ["Promise", "prototype", "then"],
      "%Promise_all%": ["Promise", "all"],
      "%Promise_reject%": ["Promise", "reject"],
      "%Promise_resolve%": ["Promise", "resolve"],
      "%RangeErrorPrototype%": ["RangeError", "prototype"],
      "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
      "%RegExpPrototype%": ["RegExp", "prototype"],
      "%SetPrototype%": ["Set", "prototype"],
      "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
      "%StringPrototype%": ["String", "prototype"],
      "%SymbolPrototype%": ["Symbol", "prototype"],
      "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
      "%TypedArrayPrototype%": ["TypedArray", "prototype"],
      "%TypeErrorPrototype%": ["TypeError", "prototype"],
      "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
      "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
      "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
      "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
      "%URIErrorPrototype%": ["URIError", "prototype"],
      "%WeakMapPrototype%": ["WeakMap", "prototype"],
      "%WeakSetPrototype%": ["WeakSet", "prototype"]
    };
    var bind = require_function_bind();
    var hasOwn = require_src();
    var $concat = bind.call(Function.call, Array.prototype.concat);
    var $spliceApply = bind.call(Function.apply, Array.prototype.splice);
    var $replace = bind.call(Function.call, String.prototype.replace);
    var $strSlice = bind.call(Function.call, String.prototype.slice);
    var rePropName = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;
    var reEscapeChar = /\\(\\)?/g;
    var stringToPath = function stringToPath2(string) {
      var first = $strSlice(string, 0, 1);
      var last = $strSlice(string, -1);
      if (first === "%" && last !== "%") {
        throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");
      } else if (last === "%" && first !== "%") {
        throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");
      }
      var result = [];
      $replace(string, rePropName, function(match, number, quote, subString) {
        result[result.length] = quote ? $replace(subString, reEscapeChar, "$1") : number || match;
      });
      return result;
    };
    var getBaseIntrinsic = function getBaseIntrinsic2(name, allowMissing) {
      var intrinsicName = name;
      var alias;
      if (hasOwn(LEGACY_ALIASES, intrinsicName)) {
        alias = LEGACY_ALIASES[intrinsicName];
        intrinsicName = "%" + alias[0] + "%";
      }
      if (hasOwn(INTRINSICS, intrinsicName)) {
        var value = INTRINSICS[intrinsicName];
        if (value === needsEval) {
          value = doEval(intrinsicName);
        }
        if (typeof value === "undefined" && !allowMissing) {
          throw new $TypeError("intrinsic " + name + " exists, but is not available. Please file an issue!");
        }
        return {
          alias,
          name: intrinsicName,
          value
        };
      }
      throw new $SyntaxError("intrinsic " + name + " does not exist!");
    };
    module2.exports = function GetIntrinsic(name, allowMissing) {
      if (typeof name !== "string" || name.length === 0) {
        throw new $TypeError("intrinsic name must be a non-empty string");
      }
      if (arguments.length > 1 && typeof allowMissing !== "boolean") {
        throw new $TypeError('"allowMissing" argument must be a boolean');
      }
      var parts = stringToPath(name);
      var intrinsicBaseName = parts.length > 0 ? parts[0] : "";
      var intrinsic = getBaseIntrinsic("%" + intrinsicBaseName + "%", allowMissing);
      var intrinsicRealName = intrinsic.name;
      var value = intrinsic.value;
      var skipFurtherCaching = false;
      var alias = intrinsic.alias;
      if (alias) {
        intrinsicBaseName = alias[0];
        $spliceApply(parts, $concat([0, 1], alias));
      }
      for (var i = 1, isOwn = true; i < parts.length; i += 1) {
        var part = parts[i];
        var first = $strSlice(part, 0, 1);
        var last = $strSlice(part, -1);
        if ((first === '"' || first === "'" || first === "`" || (last === '"' || last === "'" || last === "`")) && first !== last) {
          throw new $SyntaxError("property names with quotes must have matching quotes");
        }
        if (part === "constructor" || !isOwn) {
          skipFurtherCaching = true;
        }
        intrinsicBaseName += "." + part;
        intrinsicRealName = "%" + intrinsicBaseName + "%";
        if (hasOwn(INTRINSICS, intrinsicRealName)) {
          value = INTRINSICS[intrinsicRealName];
        } else if (value != null) {
          if (!(part in value)) {
            if (!allowMissing) {
              throw new $TypeError("base intrinsic for " + name + " exists, but the property is not available.");
            }
            return void 0;
          }
          if ($gOPD && i + 1 >= parts.length) {
            var desc = $gOPD(value, part);
            isOwn = !!desc;
            if (isOwn && "get" in desc && !("originalValue" in desc.get)) {
              value = desc.get;
            } else {
              value = value[part];
            }
          } else {
            isOwn = hasOwn(value, part);
            value = value[part];
          }
          if (isOwn && !skipFurtherCaching) {
            INTRINSICS[intrinsicRealName] = value;
          }
        }
      }
      return value;
    };
  }
});

// node_modules/call-bind/index.js
var require_call_bind = __commonJS({
  "node_modules/call-bind/index.js"(exports, module2) {
    "use strict";
    var bind = require_function_bind();
    var GetIntrinsic = require_get_intrinsic();
    var $apply = GetIntrinsic("%Function.prototype.apply%");
    var $call = GetIntrinsic("%Function.prototype.call%");
    var $reflectApply = GetIntrinsic("%Reflect.apply%", true) || bind.call($call, $apply);
    var $gOPD = GetIntrinsic("%Object.getOwnPropertyDescriptor%", true);
    var $defineProperty = GetIntrinsic("%Object.defineProperty%", true);
    var $max = GetIntrinsic("%Math.max%");
    if ($defineProperty) {
      try {
        $defineProperty({}, "a", { value: 1 });
      } catch (e) {
        $defineProperty = null;
      }
    }
    module2.exports = function callBind(originalFunction) {
      var func = $reflectApply(bind, $call, arguments);
      if ($gOPD && $defineProperty) {
        var desc = $gOPD(func, "length");
        if (desc.configurable) {
          $defineProperty(func, "length", { value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) });
        }
      }
      return func;
    };
    var applyBind = function applyBind2() {
      return $reflectApply(bind, $apply, arguments);
    };
    if ($defineProperty) {
      $defineProperty(module2.exports, "apply", { value: applyBind });
    } else {
      module2.exports.apply = applyBind;
    }
  }
});

// node_modules/call-bind/callBound.js
var require_callBound = __commonJS({
  "node_modules/call-bind/callBound.js"(exports, module2) {
    "use strict";
    var GetIntrinsic = require_get_intrinsic();
    var callBind = require_call_bind();
    var $indexOf = callBind(GetIntrinsic("String.prototype.indexOf"));
    module2.exports = function callBoundIntrinsic(name, allowMissing) {
      var intrinsic = GetIntrinsic(name, !!allowMissing);
      if (typeof intrinsic === "function" && $indexOf(name, ".prototype.") > -1) {
        return callBind(intrinsic);
      }
      return intrinsic;
    };
  }
});

// (disabled):node_modules/object-inspect/util.inspect
var require_util = __commonJS({
  "(disabled):node_modules/object-inspect/util.inspect"() {
  }
});

// node_modules/object-inspect/index.js
var require_object_inspect = __commonJS({
  "node_modules/object-inspect/index.js"(exports, module2) {
    var hasMap = typeof Map === "function" && Map.prototype;
    var mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, "size") : null;
    var mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === "function" ? mapSizeDescriptor.get : null;
    var mapForEach = hasMap && Map.prototype.forEach;
    var hasSet = typeof Set === "function" && Set.prototype;
    var setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, "size") : null;
    var setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === "function" ? setSizeDescriptor.get : null;
    var setForEach = hasSet && Set.prototype.forEach;
    var hasWeakMap = typeof WeakMap === "function" && WeakMap.prototype;
    var weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;
    var hasWeakSet = typeof WeakSet === "function" && WeakSet.prototype;
    var weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;
    var hasWeakRef = typeof WeakRef === "function" && WeakRef.prototype;
    var weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;
    var booleanValueOf = Boolean.prototype.valueOf;
    var objectToString = Object.prototype.toString;
    var functionToString = Function.prototype.toString;
    var match = String.prototype.match;
    var bigIntValueOf = typeof BigInt === "function" ? BigInt.prototype.valueOf : null;
    var gOPS = Object.getOwnPropertySymbols;
    var symToString = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? Symbol.prototype.toString : null;
    var hasShammedSymbols = typeof Symbol === "function" && typeof Symbol.iterator === "object";
    var toStringTag = typeof Symbol === "function" && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? "object" : "symbol") ? Symbol.toStringTag : null;
    var isEnumerable = Object.prototype.propertyIsEnumerable;
    var gPO = (typeof Reflect === "function" ? Reflect.getPrototypeOf : Object.getPrototypeOf) || ([].__proto__ === Array.prototype ? function(O) {
      return O.__proto__;
    } : null);
    var inspectCustom = require_util().custom;
    var inspectSymbol = inspectCustom && isSymbol(inspectCustom) ? inspectCustom : null;
    module2.exports = function inspect_(obj, options2, depth, seen) {
      var opts = options2 || {};
      if (has(opts, "quoteStyle") && (opts.quoteStyle !== "single" && opts.quoteStyle !== "double")) {
        throw new TypeError('option "quoteStyle" must be "single" or "double"');
      }
      if (has(opts, "maxStringLength") && (typeof opts.maxStringLength === "number" ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity : opts.maxStringLength !== null)) {
        throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');
      }
      var customInspect = has(opts, "customInspect") ? opts.customInspect : true;
      if (typeof customInspect !== "boolean" && customInspect !== "symbol") {
        throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");
      }
      if (has(opts, "indent") && opts.indent !== null && opts.indent !== "	" && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)) {
        throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');
      }
      if (typeof obj === "undefined") {
        return "undefined";
      }
      if (obj === null) {
        return "null";
      }
      if (typeof obj === "boolean") {
        return obj ? "true" : "false";
      }
      if (typeof obj === "string") {
        return inspectString(obj, opts);
      }
      if (typeof obj === "number") {
        if (obj === 0) {
          return Infinity / obj > 0 ? "0" : "-0";
        }
        return String(obj);
      }
      if (typeof obj === "bigint") {
        return String(obj) + "n";
      }
      var maxDepth = typeof opts.depth === "undefined" ? 5 : opts.depth;
      if (typeof depth === "undefined") {
        depth = 0;
      }
      if (depth >= maxDepth && maxDepth > 0 && typeof obj === "object") {
        return isArray(obj) ? "[Array]" : "[Object]";
      }
      var indent = getIndent(opts, depth);
      if (typeof seen === "undefined") {
        seen = [];
      } else if (indexOf(seen, obj) >= 0) {
        return "[Circular]";
      }
      function inspect(value, from, noIndent) {
        if (from) {
          seen = seen.slice();
          seen.push(from);
        }
        if (noIndent) {
          var newOpts = {
            depth: opts.depth
          };
          if (has(opts, "quoteStyle")) {
            newOpts.quoteStyle = opts.quoteStyle;
          }
          return inspect_(value, newOpts, depth + 1, seen);
        }
        return inspect_(value, opts, depth + 1, seen);
      }
      if (typeof obj === "function") {
        var name = nameOf(obj);
        var keys = arrObjKeys(obj, inspect);
        return "[Function" + (name ? ": " + name : " (anonymous)") + "]" + (keys.length > 0 ? " { " + keys.join(", ") + " }" : "");
      }
      if (isSymbol(obj)) {
        var symString = hasShammedSymbols ? String(obj).replace(/^(Symbol\(.*\))_[^)]*$/, "$1") : symToString.call(obj);
        return typeof obj === "object" && !hasShammedSymbols ? markBoxed(symString) : symString;
      }
      if (isElement(obj)) {
        var s = "<" + String(obj.nodeName).toLowerCase();
        var attrs = obj.attributes || [];
        for (var i = 0; i < attrs.length; i++) {
          s += " " + attrs[i].name + "=" + wrapQuotes(quote(attrs[i].value), "double", opts);
        }
        s += ">";
        if (obj.childNodes && obj.childNodes.length) {
          s += "...";
        }
        s += "</" + String(obj.nodeName).toLowerCase() + ">";
        return s;
      }
      if (isArray(obj)) {
        if (obj.length === 0) {
          return "[]";
        }
        var xs = arrObjKeys(obj, inspect);
        if (indent && !singleLineValues(xs)) {
          return "[" + indentedJoin(xs, indent) + "]";
        }
        return "[ " + xs.join(", ") + " ]";
      }
      if (isError(obj)) {
        var parts = arrObjKeys(obj, inspect);
        if (parts.length === 0) {
          return "[" + String(obj) + "]";
        }
        return "{ [" + String(obj) + "] " + parts.join(", ") + " }";
      }
      if (typeof obj === "object" && customInspect) {
        if (inspectSymbol && typeof obj[inspectSymbol] === "function") {
          return obj[inspectSymbol]();
        } else if (customInspect !== "symbol" && typeof obj.inspect === "function") {
          return obj.inspect();
        }
      }
      if (isMap(obj)) {
        var mapParts = [];
        mapForEach.call(obj, function(value, key) {
          mapParts.push(inspect(key, obj, true) + " => " + inspect(value, obj));
        });
        return collectionOf("Map", mapSize.call(obj), mapParts, indent);
      }
      if (isSet(obj)) {
        var setParts = [];
        setForEach.call(obj, function(value) {
          setParts.push(inspect(value, obj));
        });
        return collectionOf("Set", setSize.call(obj), setParts, indent);
      }
      if (isWeakMap(obj)) {
        return weakCollectionOf("WeakMap");
      }
      if (isWeakSet(obj)) {
        return weakCollectionOf("WeakSet");
      }
      if (isWeakRef(obj)) {
        return weakCollectionOf("WeakRef");
      }
      if (isNumber(obj)) {
        return markBoxed(inspect(Number(obj)));
      }
      if (isBigInt(obj)) {
        return markBoxed(inspect(bigIntValueOf.call(obj)));
      }
      if (isBoolean(obj)) {
        return markBoxed(booleanValueOf.call(obj));
      }
      if (isString(obj)) {
        return markBoxed(inspect(String(obj)));
      }
      if (!isDate(obj) && !isRegExp(obj)) {
        var ys = arrObjKeys(obj, inspect);
        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;
        var protoTag = obj instanceof Object ? "" : "null prototype";
        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? toStr(obj).slice(8, -1) : protoTag ? "Object" : "";
        var constructorTag = isPlainObject || typeof obj.constructor !== "function" ? "" : obj.constructor.name ? obj.constructor.name + " " : "";
        var tag = constructorTag + (stringTag || protoTag ? "[" + [].concat(stringTag || [], protoTag || []).join(": ") + "] " : "");
        if (ys.length === 0) {
          return tag + "{}";
        }
        if (indent) {
          return tag + "{" + indentedJoin(ys, indent) + "}";
        }
        return tag + "{ " + ys.join(", ") + " }";
      }
      return String(obj);
    };
    function wrapQuotes(s, defaultStyle, opts) {
      var quoteChar = (opts.quoteStyle || defaultStyle) === "double" ? '"' : "'";
      return quoteChar + s + quoteChar;
    }
    function quote(s) {
      return String(s).replace(/"/g, "&quot;");
    }
    function isArray(obj) {
      return toStr(obj) === "[object Array]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isDate(obj) {
      return toStr(obj) === "[object Date]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isRegExp(obj) {
      return toStr(obj) === "[object RegExp]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isError(obj) {
      return toStr(obj) === "[object Error]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isString(obj) {
      return toStr(obj) === "[object String]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isNumber(obj) {
      return toStr(obj) === "[object Number]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isBoolean(obj) {
      return toStr(obj) === "[object Boolean]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isSymbol(obj) {
      if (hasShammedSymbols) {
        return obj && typeof obj === "object" && obj instanceof Symbol;
      }
      if (typeof obj === "symbol") {
        return true;
      }
      if (!obj || typeof obj !== "object" || !symToString) {
        return false;
      }
      try {
        symToString.call(obj);
        return true;
      } catch (e) {
      }
      return false;
    }
    function isBigInt(obj) {
      if (!obj || typeof obj !== "object" || !bigIntValueOf) {
        return false;
      }
      try {
        bigIntValueOf.call(obj);
        return true;
      } catch (e) {
      }
      return false;
    }
    var hasOwn = Object.prototype.hasOwnProperty || function(key) {
      return key in this;
    };
    function has(obj, key) {
      return hasOwn.call(obj, key);
    }
    function toStr(obj) {
      return objectToString.call(obj);
    }
    function nameOf(f) {
      if (f.name) {
        return f.name;
      }
      var m = match.call(functionToString.call(f), /^function\s*([\w$]+)/);
      if (m) {
        return m[1];
      }
      return null;
    }
    function indexOf(xs, x) {
      if (xs.indexOf) {
        return xs.indexOf(x);
      }
      for (var i = 0, l = xs.length; i < l; i++) {
        if (xs[i] === x) {
          return i;
        }
      }
      return -1;
    }
    function isMap(x) {
      if (!mapSize || !x || typeof x !== "object") {
        return false;
      }
      try {
        mapSize.call(x);
        try {
          setSize.call(x);
        } catch (s) {
          return true;
        }
        return x instanceof Map;
      } catch (e) {
      }
      return false;
    }
    function isWeakMap(x) {
      if (!weakMapHas || !x || typeof x !== "object") {
        return false;
      }
      try {
        weakMapHas.call(x, weakMapHas);
        try {
          weakSetHas.call(x, weakSetHas);
        } catch (s) {
          return true;
        }
        return x instanceof WeakMap;
      } catch (e) {
      }
      return false;
    }
    function isWeakRef(x) {
      if (!weakRefDeref || !x || typeof x !== "object") {
        return false;
      }
      try {
        weakRefDeref.call(x);
        return true;
      } catch (e) {
      }
      return false;
    }
    function isSet(x) {
      if (!setSize || !x || typeof x !== "object") {
        return false;
      }
      try {
        setSize.call(x);
        try {
          mapSize.call(x);
        } catch (m) {
          return true;
        }
        return x instanceof Set;
      } catch (e) {
      }
      return false;
    }
    function isWeakSet(x) {
      if (!weakSetHas || !x || typeof x !== "object") {
        return false;
      }
      try {
        weakSetHas.call(x, weakSetHas);
        try {
          weakMapHas.call(x, weakMapHas);
        } catch (s) {
          return true;
        }
        return x instanceof WeakSet;
      } catch (e) {
      }
      return false;
    }
    function isElement(x) {
      if (!x || typeof x !== "object") {
        return false;
      }
      if (typeof HTMLElement !== "undefined" && x instanceof HTMLElement) {
        return true;
      }
      return typeof x.nodeName === "string" && typeof x.getAttribute === "function";
    }
    function inspectString(str, opts) {
      if (str.length > opts.maxStringLength) {
        var remaining = str.length - opts.maxStringLength;
        var trailer = "... " + remaining + " more character" + (remaining > 1 ? "s" : "");
        return inspectString(str.slice(0, opts.maxStringLength), opts) + trailer;
      }
      var s = str.replace(/(['\\])/g, "\\$1").replace(/[\x00-\x1f]/g, lowbyte);
      return wrapQuotes(s, "single", opts);
    }
    function lowbyte(c) {
      var n = c.charCodeAt(0);
      var x = {
        8: "b",
        9: "t",
        10: "n",
        12: "f",
        13: "r"
      }[n];
      if (x) {
        return "\\" + x;
      }
      return "\\x" + (n < 16 ? "0" : "") + n.toString(16).toUpperCase();
    }
    function markBoxed(str) {
      return "Object(" + str + ")";
    }
    function weakCollectionOf(type) {
      return type + " { ? }";
    }
    function collectionOf(type, size, entries, indent) {
      var joinedEntries = indent ? indentedJoin(entries, indent) : entries.join(", ");
      return type + " (" + size + ") {" + joinedEntries + "}";
    }
    function singleLineValues(xs) {
      for (var i = 0; i < xs.length; i++) {
        if (indexOf(xs[i], "\n") >= 0) {
          return false;
        }
      }
      return true;
    }
    function getIndent(opts, depth) {
      var baseIndent;
      if (opts.indent === "	") {
        baseIndent = "	";
      } else if (typeof opts.indent === "number" && opts.indent > 0) {
        baseIndent = Array(opts.indent + 1).join(" ");
      } else {
        return null;
      }
      return {
        base: baseIndent,
        prev: Array(depth + 1).join(baseIndent)
      };
    }
    function indentedJoin(xs, indent) {
      if (xs.length === 0) {
        return "";
      }
      var lineJoiner = "\n" + indent.prev + indent.base;
      return lineJoiner + xs.join("," + lineJoiner) + "\n" + indent.prev;
    }
    function arrObjKeys(obj, inspect) {
      var isArr = isArray(obj);
      var xs = [];
      if (isArr) {
        xs.length = obj.length;
        for (var i = 0; i < obj.length; i++) {
          xs[i] = has(obj, i) ? inspect(obj[i], obj) : "";
        }
      }
      var syms = typeof gOPS === "function" ? gOPS(obj) : [];
      var symMap;
      if (hasShammedSymbols) {
        symMap = {};
        for (var k = 0; k < syms.length; k++) {
          symMap["$" + syms[k]] = syms[k];
        }
      }
      for (var key in obj) {
        if (!has(obj, key)) {
          continue;
        }
        if (isArr && String(Number(key)) === key && key < obj.length) {
          continue;
        }
        if (hasShammedSymbols && symMap["$" + key] instanceof Symbol) {
          continue;
        } else if (/[^\w$]/.test(key)) {
          xs.push(inspect(key, obj) + ": " + inspect(obj[key], obj));
        } else {
          xs.push(key + ": " + inspect(obj[key], obj));
        }
      }
      if (typeof gOPS === "function") {
        for (var j = 0; j < syms.length; j++) {
          if (isEnumerable.call(obj, syms[j])) {
            xs.push("[" + inspect(syms[j]) + "]: " + inspect(obj[syms[j]], obj));
          }
        }
      }
      return xs;
    }
  }
});

// node_modules/side-channel/index.js
var require_side_channel = __commonJS({
  "node_modules/side-channel/index.js"(exports, module2) {
    "use strict";
    var GetIntrinsic = require_get_intrinsic();
    var callBound = require_callBound();
    var inspect = require_object_inspect();
    var $TypeError = GetIntrinsic("%TypeError%");
    var $WeakMap = GetIntrinsic("%WeakMap%", true);
    var $Map = GetIntrinsic("%Map%", true);
    var $weakMapGet = callBound("WeakMap.prototype.get", true);
    var $weakMapSet = callBound("WeakMap.prototype.set", true);
    var $weakMapHas = callBound("WeakMap.prototype.has", true);
    var $mapGet = callBound("Map.prototype.get", true);
    var $mapSet = callBound("Map.prototype.set", true);
    var $mapHas = callBound("Map.prototype.has", true);
    var listGetNode = function(list, key) {
      for (var prev = list, curr; (curr = prev.next) !== null; prev = curr) {
        if (curr.key === key) {
          prev.next = curr.next;
          curr.next = list.next;
          list.next = curr;
          return curr;
        }
      }
    };
    var listGet = function(objects, key) {
      var node = listGetNode(objects, key);
      return node && node.value;
    };
    var listSet = function(objects, key, value) {
      var node = listGetNode(objects, key);
      if (node) {
        node.value = value;
      } else {
        objects.next = {
          key,
          next: objects.next,
          value
        };
      }
    };
    var listHas = function(objects, key) {
      return !!listGetNode(objects, key);
    };
    module2.exports = function getSideChannel() {
      var $wm;
      var $m;
      var $o;
      var channel = {
        assert: function(key) {
          if (!channel.has(key)) {
            throw new $TypeError("Side channel does not contain " + inspect(key));
          }
        },
        get: function(key) {
          if ($WeakMap && key && (typeof key === "object" || typeof key === "function")) {
            if ($wm) {
              return $weakMapGet($wm, key);
            }
          } else if ($Map) {
            if ($m) {
              return $mapGet($m, key);
            }
          } else {
            if ($o) {
              return listGet($o, key);
            }
          }
        },
        has: function(key) {
          if ($WeakMap && key && (typeof key === "object" || typeof key === "function")) {
            if ($wm) {
              return $weakMapHas($wm, key);
            }
          } else if ($Map) {
            if ($m) {
              return $mapHas($m, key);
            }
          } else {
            if ($o) {
              return listHas($o, key);
            }
          }
          return false;
        },
        set: function(key, value) {
          if ($WeakMap && key && (typeof key === "object" || typeof key === "function")) {
            if (!$wm) {
              $wm = new $WeakMap();
            }
            $weakMapSet($wm, key, value);
          } else if ($Map) {
            if (!$m) {
              $m = new $Map();
            }
            $mapSet($m, key, value);
          } else {
            if (!$o) {
              $o = { key: {}, next: null };
            }
            listSet($o, key, value);
          }
        }
      };
      return channel;
    };
  }
});

// node_modules/qs/lib/formats.js
var require_formats = __commonJS({
  "node_modules/qs/lib/formats.js"(exports, module2) {
    "use strict";
    var replace = String.prototype.replace;
    var percentTwenties = /%20/g;
    var Format = {
      RFC1738: "RFC1738",
      RFC3986: "RFC3986"
    };
    module2.exports = {
      "default": Format.RFC3986,
      formatters: {
        RFC1738: function(value) {
          return replace.call(value, percentTwenties, "+");
        },
        RFC3986: function(value) {
          return String(value);
        }
      },
      RFC1738: Format.RFC1738,
      RFC3986: Format.RFC3986
    };
  }
});

// node_modules/qs/lib/utils.js
var require_utils = __commonJS({
  "node_modules/qs/lib/utils.js"(exports, module2) {
    "use strict";
    var formats = require_formats();
    var has = Object.prototype.hasOwnProperty;
    var isArray = Array.isArray;
    var hexTable = function() {
      var array = [];
      for (var i = 0; i < 256; ++i) {
        array.push("%" + ((i < 16 ? "0" : "") + i.toString(16)).toUpperCase());
      }
      return array;
    }();
    var compactQueue = function compactQueue2(queue) {
      while (queue.length > 1) {
        var item = queue.pop();
        var obj = item.obj[item.prop];
        if (isArray(obj)) {
          var compacted = [];
          for (var j = 0; j < obj.length; ++j) {
            if (typeof obj[j] !== "undefined") {
              compacted.push(obj[j]);
            }
          }
          item.obj[item.prop] = compacted;
        }
      }
    };
    var arrayToObject = function arrayToObject2(source, options2) {
      var obj = options2 && options2.plainObjects ? Object.create(null) : {};
      for (var i = 0; i < source.length; ++i) {
        if (typeof source[i] !== "undefined") {
          obj[i] = source[i];
        }
      }
      return obj;
    };
    var merge2 = function merge3(target, source, options2) {
      if (!source) {
        return target;
      }
      if (typeof source !== "object") {
        if (isArray(target)) {
          target.push(source);
        } else if (target && typeof target === "object") {
          if (options2 && (options2.plainObjects || options2.allowPrototypes) || !has.call(Object.prototype, source)) {
            target[source] = true;
          }
        } else {
          return [target, source];
        }
        return target;
      }
      if (!target || typeof target !== "object") {
        return [target].concat(source);
      }
      var mergeTarget = target;
      if (isArray(target) && !isArray(source)) {
        mergeTarget = arrayToObject(target, options2);
      }
      if (isArray(target) && isArray(source)) {
        source.forEach(function(item, i) {
          if (has.call(target, i)) {
            var targetItem = target[i];
            if (targetItem && typeof targetItem === "object" && item && typeof item === "object") {
              target[i] = merge3(targetItem, item, options2);
            } else {
              target.push(item);
            }
          } else {
            target[i] = item;
          }
        });
        return target;
      }
      return Object.keys(source).reduce(function(acc, key) {
        var value = source[key];
        if (has.call(acc, key)) {
          acc[key] = merge3(acc[key], value, options2);
        } else {
          acc[key] = value;
        }
        return acc;
      }, mergeTarget);
    };
    var assign = function assignSingleSource(target, source) {
      return Object.keys(source).reduce(function(acc, key) {
        acc[key] = source[key];
        return acc;
      }, target);
    };
    var decode = function(str, decoder, charset) {
      var strWithoutPlus = str.replace(/\+/g, " ");
      if (charset === "iso-8859-1") {
        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);
      }
      try {
        return decodeURIComponent(strWithoutPlus);
      } catch (e) {
        return strWithoutPlus;
      }
    };
    var encode = function encode2(str, defaultEncoder, charset, kind, format) {
      if (str.length === 0) {
        return str;
      }
      var string = str;
      if (typeof str === "symbol") {
        string = Symbol.prototype.toString.call(str);
      } else if (typeof str !== "string") {
        string = String(str);
      }
      if (charset === "iso-8859-1") {
        return escape(string).replace(/%u[0-9a-f]{4}/gi, function($0) {
          return "%26%23" + parseInt($0.slice(2), 16) + "%3B";
        });
      }
      var out = "";
      for (var i = 0; i < string.length; ++i) {
        var c = string.charCodeAt(i);
        if (c === 45 || c === 46 || c === 95 || c === 126 || c >= 48 && c <= 57 || c >= 65 && c <= 90 || c >= 97 && c <= 122 || format === formats.RFC1738 && (c === 40 || c === 41)) {
          out += string.charAt(i);
          continue;
        }
        if (c < 128) {
          out = out + hexTable[c];
          continue;
        }
        if (c < 2048) {
          out = out + (hexTable[192 | c >> 6] + hexTable[128 | c & 63]);
          continue;
        }
        if (c < 55296 || c >= 57344) {
          out = out + (hexTable[224 | c >> 12] + hexTable[128 | c >> 6 & 63] + hexTable[128 | c & 63]);
          continue;
        }
        i += 1;
        c = 65536 + ((c & 1023) << 10 | string.charCodeAt(i) & 1023);
        out += hexTable[240 | c >> 18] + hexTable[128 | c >> 12 & 63] + hexTable[128 | c >> 6 & 63] + hexTable[128 | c & 63];
      }
      return out;
    };
    var compact = function compact2(value) {
      var queue = [{ obj: { o: value }, prop: "o" }];
      var refs = [];
      for (var i = 0; i < queue.length; ++i) {
        var item = queue[i];
        var obj = item.obj[item.prop];
        var keys = Object.keys(obj);
        for (var j = 0; j < keys.length; ++j) {
          var key = keys[j];
          var val = obj[key];
          if (typeof val === "object" && val !== null && refs.indexOf(val) === -1) {
            queue.push({ obj, prop: key });
            refs.push(val);
          }
        }
      }
      compactQueue(queue);
      return value;
    };
    var isRegExp = function isRegExp2(obj) {
      return Object.prototype.toString.call(obj) === "[object RegExp]";
    };
    var isBuffer = function isBuffer2(obj) {
      if (!obj || typeof obj !== "object") {
        return false;
      }
      return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));
    };
    var combine = function combine2(a, b) {
      return [].concat(a, b);
    };
    var maybeMap = function maybeMap2(val, fn) {
      if (isArray(val)) {
        var mapped = [];
        for (var i = 0; i < val.length; i += 1) {
          mapped.push(fn(val[i]));
        }
        return mapped;
      }
      return fn(val);
    };
    module2.exports = {
      arrayToObject,
      assign,
      combine,
      compact,
      decode,
      encode,
      isBuffer,
      isRegExp,
      maybeMap,
      merge: merge2
    };
  }
});

// node_modules/qs/lib/stringify.js
var require_stringify = __commonJS({
  "node_modules/qs/lib/stringify.js"(exports, module2) {
    "use strict";
    var getSideChannel = require_side_channel();
    var utils = require_utils();
    var formats = require_formats();
    var has = Object.prototype.hasOwnProperty;
    var arrayPrefixGenerators = {
      brackets: function brackets(prefix) {
        return prefix + "[]";
      },
      comma: "comma",
      indices: function indices(prefix, key) {
        return prefix + "[" + key + "]";
      },
      repeat: function repeat(prefix) {
        return prefix;
      }
    };
    var isArray = Array.isArray;
    var split = String.prototype.split;
    var push = Array.prototype.push;
    var pushToArray = function(arr, valueOrArray) {
      push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);
    };
    var toISO = Date.prototype.toISOString;
    var defaultFormat = formats["default"];
    var defaults2 = {
      addQueryPrefix: false,
      allowDots: false,
      charset: "utf-8",
      charsetSentinel: false,
      delimiter: "&",
      encode: true,
      encoder: utils.encode,
      encodeValuesOnly: false,
      format: defaultFormat,
      formatter: formats.formatters[defaultFormat],
      indices: false,
      serializeDate: function serializeDate(date) {
        return toISO.call(date);
      },
      skipNulls: false,
      strictNullHandling: false
    };
    var isNonNullishPrimitive = function isNonNullishPrimitive2(v) {
      return typeof v === "string" || typeof v === "number" || typeof v === "boolean" || typeof v === "symbol" || typeof v === "bigint";
    };
    var sentinel = {};
    var stringify = function stringify2(object, prefix, generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, sideChannel) {
      var obj = object;
      var tmpSc = sideChannel;
      var step = 0;
      var findFlag = false;
      while ((tmpSc = tmpSc.get(sentinel)) !== void 0 && !findFlag) {
        var pos = tmpSc.get(object);
        step += 1;
        if (typeof pos !== "undefined") {
          if (pos === step) {
            throw new RangeError("Cyclic object value");
          } else {
            findFlag = true;
          }
        }
        if (typeof tmpSc.get(sentinel) === "undefined") {
          step = 0;
        }
      }
      if (typeof filter === "function") {
        obj = filter(prefix, obj);
      } else if (obj instanceof Date) {
        obj = serializeDate(obj);
      } else if (generateArrayPrefix === "comma" && isArray(obj)) {
        obj = utils.maybeMap(obj, function(value2) {
          if (value2 instanceof Date) {
            return serializeDate(value2);
          }
          return value2;
        });
      }
      if (obj === null) {
        if (strictNullHandling) {
          return encoder && !encodeValuesOnly ? encoder(prefix, defaults2.encoder, charset, "key", format) : prefix;
        }
        obj = "";
      }
      if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {
        if (encoder) {
          var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults2.encoder, charset, "key", format);
          if (generateArrayPrefix === "comma" && encodeValuesOnly) {
            var valuesArray = split.call(String(obj), ",");
            var valuesJoined = "";
            for (var i = 0; i < valuesArray.length; ++i) {
              valuesJoined += (i === 0 ? "" : ",") + formatter(encoder(valuesArray[i], defaults2.encoder, charset, "value", format));
            }
            return [formatter(keyValue) + "=" + valuesJoined];
          }
          return [formatter(keyValue) + "=" + formatter(encoder(obj, defaults2.encoder, charset, "value", format))];
        }
        return [formatter(prefix) + "=" + formatter(String(obj))];
      }
      var values = [];
      if (typeof obj === "undefined") {
        return values;
      }
      var objKeys;
      if (generateArrayPrefix === "comma" && isArray(obj)) {
        objKeys = [{ value: obj.length > 0 ? obj.join(",") || null : void 0 }];
      } else if (isArray(filter)) {
        objKeys = filter;
      } else {
        var keys = Object.keys(obj);
        objKeys = sort ? keys.sort(sort) : keys;
      }
      for (var j = 0; j < objKeys.length; ++j) {
        var key = objKeys[j];
        var value = typeof key === "object" && key.value !== void 0 ? key.value : obj[key];
        if (skipNulls && value === null) {
          continue;
        }
        var keyPrefix = isArray(obj) ? typeof generateArrayPrefix === "function" ? generateArrayPrefix(prefix, key) : prefix : prefix + (allowDots ? "." + key : "[" + key + "]");
        sideChannel.set(object, step);
        var valueSideChannel = getSideChannel();
        valueSideChannel.set(sentinel, sideChannel);
        pushToArray(values, stringify2(value, keyPrefix, generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, valueSideChannel));
      }
      return values;
    };
    var normalizeStringifyOptions = function normalizeStringifyOptions2(opts) {
      if (!opts) {
        return defaults2;
      }
      if (opts.encoder !== null && opts.encoder !== void 0 && typeof opts.encoder !== "function") {
        throw new TypeError("Encoder has to be a function.");
      }
      var charset = opts.charset || defaults2.charset;
      if (typeof opts.charset !== "undefined" && opts.charset !== "utf-8" && opts.charset !== "iso-8859-1") {
        throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
      }
      var format = formats["default"];
      if (typeof opts.format !== "undefined") {
        if (!has.call(formats.formatters, opts.format)) {
          throw new TypeError("Unknown format option provided.");
        }
        format = opts.format;
      }
      var formatter = formats.formatters[format];
      var filter = defaults2.filter;
      if (typeof opts.filter === "function" || isArray(opts.filter)) {
        filter = opts.filter;
      }
      return {
        addQueryPrefix: typeof opts.addQueryPrefix === "boolean" ? opts.addQueryPrefix : defaults2.addQueryPrefix,
        allowDots: typeof opts.allowDots === "undefined" ? defaults2.allowDots : !!opts.allowDots,
        charset,
        charsetSentinel: typeof opts.charsetSentinel === "boolean" ? opts.charsetSentinel : defaults2.charsetSentinel,
        delimiter: typeof opts.delimiter === "undefined" ? defaults2.delimiter : opts.delimiter,
        encode: typeof opts.encode === "boolean" ? opts.encode : defaults2.encode,
        encoder: typeof opts.encoder === "function" ? opts.encoder : defaults2.encoder,
        encodeValuesOnly: typeof opts.encodeValuesOnly === "boolean" ? opts.encodeValuesOnly : defaults2.encodeValuesOnly,
        filter,
        format,
        formatter,
        serializeDate: typeof opts.serializeDate === "function" ? opts.serializeDate : defaults2.serializeDate,
        skipNulls: typeof opts.skipNulls === "boolean" ? opts.skipNulls : defaults2.skipNulls,
        sort: typeof opts.sort === "function" ? opts.sort : null,
        strictNullHandling: typeof opts.strictNullHandling === "boolean" ? opts.strictNullHandling : defaults2.strictNullHandling
      };
    };
    module2.exports = function(object, opts) {
      var obj = object;
      var options2 = normalizeStringifyOptions(opts);
      var objKeys;
      var filter;
      if (typeof options2.filter === "function") {
        filter = options2.filter;
        obj = filter("", obj);
      } else if (isArray(options2.filter)) {
        filter = options2.filter;
        objKeys = filter;
      }
      var keys = [];
      if (typeof obj !== "object" || obj === null) {
        return "";
      }
      var arrayFormat;
      if (opts && opts.arrayFormat in arrayPrefixGenerators) {
        arrayFormat = opts.arrayFormat;
      } else if (opts && "indices" in opts) {
        arrayFormat = opts.indices ? "indices" : "repeat";
      } else {
        arrayFormat = "indices";
      }
      var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];
      if (!objKeys) {
        objKeys = Object.keys(obj);
      }
      if (options2.sort) {
        objKeys.sort(options2.sort);
      }
      var sideChannel = getSideChannel();
      for (var i = 0; i < objKeys.length; ++i) {
        var key = objKeys[i];
        if (options2.skipNulls && obj[key] === null) {
          continue;
        }
        pushToArray(keys, stringify(obj[key], key, generateArrayPrefix, options2.strictNullHandling, options2.skipNulls, options2.encode ? options2.encoder : null, options2.filter, options2.sort, options2.allowDots, options2.serializeDate, options2.format, options2.formatter, options2.encodeValuesOnly, options2.charset, sideChannel));
      }
      var joined = keys.join(options2.delimiter);
      var prefix = options2.addQueryPrefix === true ? "?" : "";
      if (options2.charsetSentinel) {
        if (options2.charset === "iso-8859-1") {
          prefix += "utf8=%26%2310003%3B&";
        } else {
          prefix += "utf8=%E2%9C%93&";
        }
      }
      return joined.length > 0 ? prefix + joined : "";
    };
  }
});

// node_modules/qs/lib/parse.js
var require_parse = __commonJS({
  "node_modules/qs/lib/parse.js"(exports, module2) {
    "use strict";
    var utils = require_utils();
    var has = Object.prototype.hasOwnProperty;
    var isArray = Array.isArray;
    var defaults2 = {
      allowDots: false,
      allowPrototypes: false,
      allowSparse: false,
      arrayLimit: 20,
      charset: "utf-8",
      charsetSentinel: false,
      comma: false,
      decoder: utils.decode,
      delimiter: "&",
      depth: 5,
      ignoreQueryPrefix: false,
      interpretNumericEntities: false,
      parameterLimit: 1e3,
      parseArrays: true,
      plainObjects: false,
      strictNullHandling: false
    };
    var interpretNumericEntities = function(str) {
      return str.replace(/&#(\d+);/g, function($0, numberStr) {
        return String.fromCharCode(parseInt(numberStr, 10));
      });
    };
    var parseArrayValue = function(val, options2) {
      if (val && typeof val === "string" && options2.comma && val.indexOf(",") > -1) {
        return val.split(",");
      }
      return val;
    };
    var isoSentinel = "utf8=%26%2310003%3B";
    var charsetSentinel = "utf8=%E2%9C%93";
    var parseValues = function parseQueryStringValues(str, options2) {
      var obj = {};
      var cleanStr = options2.ignoreQueryPrefix ? str.replace(/^\?/, "") : str;
      var limit = options2.parameterLimit === Infinity ? void 0 : options2.parameterLimit;
      var parts = cleanStr.split(options2.delimiter, limit);
      var skipIndex = -1;
      var i;
      var charset = options2.charset;
      if (options2.charsetSentinel) {
        for (i = 0; i < parts.length; ++i) {
          if (parts[i].indexOf("utf8=") === 0) {
            if (parts[i] === charsetSentinel) {
              charset = "utf-8";
            } else if (parts[i] === isoSentinel) {
              charset = "iso-8859-1";
            }
            skipIndex = i;
            i = parts.length;
          }
        }
      }
      for (i = 0; i < parts.length; ++i) {
        if (i === skipIndex) {
          continue;
        }
        var part = parts[i];
        var bracketEqualsPos = part.indexOf("]=");
        var pos = bracketEqualsPos === -1 ? part.indexOf("=") : bracketEqualsPos + 1;
        var key, val;
        if (pos === -1) {
          key = options2.decoder(part, defaults2.decoder, charset, "key");
          val = options2.strictNullHandling ? null : "";
        } else {
          key = options2.decoder(part.slice(0, pos), defaults2.decoder, charset, "key");
          val = utils.maybeMap(parseArrayValue(part.slice(pos + 1), options2), function(encodedVal) {
            return options2.decoder(encodedVal, defaults2.decoder, charset, "value");
          });
        }
        if (val && options2.interpretNumericEntities && charset === "iso-8859-1") {
          val = interpretNumericEntities(val);
        }
        if (part.indexOf("[]=") > -1) {
          val = isArray(val) ? [val] : val;
        }
        if (has.call(obj, key)) {
          obj[key] = utils.combine(obj[key], val);
        } else {
          obj[key] = val;
        }
      }
      return obj;
    };
    var parseObject = function(chain, val, options2, valuesParsed) {
      var leaf = valuesParsed ? val : parseArrayValue(val, options2);
      for (var i = chain.length - 1; i >= 0; --i) {
        var obj;
        var root = chain[i];
        if (root === "[]" && options2.parseArrays) {
          obj = [].concat(leaf);
        } else {
          obj = options2.plainObjects ? Object.create(null) : {};
          var cleanRoot = root.charAt(0) === "[" && root.charAt(root.length - 1) === "]" ? root.slice(1, -1) : root;
          var index = parseInt(cleanRoot, 10);
          if (!options2.parseArrays && cleanRoot === "") {
            obj = { 0: leaf };
          } else if (!isNaN(index) && root !== cleanRoot && String(index) === cleanRoot && index >= 0 && (options2.parseArrays && index <= options2.arrayLimit)) {
            obj = [];
            obj[index] = leaf;
          } else {
            obj[cleanRoot] = leaf;
          }
        }
        leaf = obj;
      }
      return leaf;
    };
    var parseKeys = function parseQueryStringKeys(givenKey, val, options2, valuesParsed) {
      if (!givenKey) {
        return;
      }
      var key = options2.allowDots ? givenKey.replace(/\.([^.[]+)/g, "[$1]") : givenKey;
      var brackets = /(\[[^[\]]*])/;
      var child = /(\[[^[\]]*])/g;
      var segment = options2.depth > 0 && brackets.exec(key);
      var parent = segment ? key.slice(0, segment.index) : key;
      var keys = [];
      if (parent) {
        if (!options2.plainObjects && has.call(Object.prototype, parent)) {
          if (!options2.allowPrototypes) {
            return;
          }
        }
        keys.push(parent);
      }
      var i = 0;
      while (options2.depth > 0 && (segment = child.exec(key)) !== null && i < options2.depth) {
        i += 1;
        if (!options2.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {
          if (!options2.allowPrototypes) {
            return;
          }
        }
        keys.push(segment[1]);
      }
      if (segment) {
        keys.push("[" + key.slice(segment.index) + "]");
      }
      return parseObject(keys, val, options2, valuesParsed);
    };
    var normalizeParseOptions = function normalizeParseOptions2(opts) {
      if (!opts) {
        return defaults2;
      }
      if (opts.decoder !== null && opts.decoder !== void 0 && typeof opts.decoder !== "function") {
        throw new TypeError("Decoder has to be a function.");
      }
      if (typeof opts.charset !== "undefined" && opts.charset !== "utf-8" && opts.charset !== "iso-8859-1") {
        throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
      }
      var charset = typeof opts.charset === "undefined" ? defaults2.charset : opts.charset;
      return {
        allowDots: typeof opts.allowDots === "undefined" ? defaults2.allowDots : !!opts.allowDots,
        allowPrototypes: typeof opts.allowPrototypes === "boolean" ? opts.allowPrototypes : defaults2.allowPrototypes,
        allowSparse: typeof opts.allowSparse === "boolean" ? opts.allowSparse : defaults2.allowSparse,
        arrayLimit: typeof opts.arrayLimit === "number" ? opts.arrayLimit : defaults2.arrayLimit,
        charset,
        charsetSentinel: typeof opts.charsetSentinel === "boolean" ? opts.charsetSentinel : defaults2.charsetSentinel,
        comma: typeof opts.comma === "boolean" ? opts.comma : defaults2.comma,
        decoder: typeof opts.decoder === "function" ? opts.decoder : defaults2.decoder,
        delimiter: typeof opts.delimiter === "string" || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults2.delimiter,
        depth: typeof opts.depth === "number" || opts.depth === false ? +opts.depth : defaults2.depth,
        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,
        interpretNumericEntities: typeof opts.interpretNumericEntities === "boolean" ? opts.interpretNumericEntities : defaults2.interpretNumericEntities,
        parameterLimit: typeof opts.parameterLimit === "number" ? opts.parameterLimit : defaults2.parameterLimit,
        parseArrays: opts.parseArrays !== false,
        plainObjects: typeof opts.plainObjects === "boolean" ? opts.plainObjects : defaults2.plainObjects,
        strictNullHandling: typeof opts.strictNullHandling === "boolean" ? opts.strictNullHandling : defaults2.strictNullHandling
      };
    };
    module2.exports = function(str, opts) {
      var options2 = normalizeParseOptions(opts);
      if (str === "" || str === null || typeof str === "undefined") {
        return options2.plainObjects ? Object.create(null) : {};
      }
      var tempObj = typeof str === "string" ? parseValues(str, options2) : str;
      var obj = options2.plainObjects ? Object.create(null) : {};
      var keys = Object.keys(tempObj);
      for (var i = 0; i < keys.length; ++i) {
        var key = keys[i];
        var newObj = parseKeys(key, tempObj[key], options2, typeof str === "string");
        obj = utils.merge(obj, newObj, options2);
      }
      if (options2.allowSparse === true) {
        return obj;
      }
      return utils.compact(obj);
    };
  }
});

// node_modules/qs/lib/index.js
var require_lib2 = __commonJS({
  "node_modules/qs/lib/index.js"(exports, module2) {
    "use strict";
    var stringify = require_stringify();
    var parse = require_parse();
    var formats = require_formats();
    module2.exports = {
      formats,
      parse,
      stringify
    };
  }
});

// node_modules/wpapi/lib/util/alphanumeric-sort.js
var require_alphanumeric_sort = __commonJS({
  "node_modules/wpapi/lib/util/alphanumeric-sort.js"(exports, module2) {
    "use strict";
    module2.exports = (a, b) => {
      if (a > b) {
        return 1;
      }
      if (a < b) {
        return -1;
      }
      return 0;
    };
  }
});

// node_modules/wpapi/lib/util/key-val-to-obj.js
var require_key_val_to_obj = __commonJS({
  "node_modules/wpapi/lib/util/key-val-to-obj.js"(exports, module2) {
    "use strict";
    module2.exports = (key, value) => {
      const obj = {};
      obj[key] = value;
      return obj;
    };
  }
});

// node_modules/wpapi/lib/util/parameter-setter.js
var require_parameter_setter = __commonJS({
  "node_modules/wpapi/lib/util/parameter-setter.js"(exports, module2) {
    "use strict";
    module2.exports = (param) => {
      return function(val) {
        return this.param(param, val);
      };
    };
  }
});

// node_modules/wpapi/lib/util/unique.js
var require_unique = __commonJS({
  "node_modules/wpapi/lib/util/unique.js"(exports, module2) {
    module2.exports = (arr) => Array.from(new Set(arr));
  }
});

// node_modules/wpapi/lib/constructors/wp-request.js
var require_wp_request = __commonJS({
  "node_modules/wpapi/lib/constructors/wp-request.js"(exports, module2) {
    "use strict";
    var qs = require_lib2();
    var alphaNumericSort = require_alphanumeric_sort();
    var keyValToObj = require_key_val_to_obj();
    var paramSetter = require_parameter_setter();
    var objectReduce = require_object_reduce();
    var unique = require_unique();
    function WPRequest(options2) {
      this._options = [
        "auth",
        "endpoint",
        "headers",
        "username",
        "password",
        "nonce"
      ].reduce((localOptions, key) => {
        if (options2 && options2[key]) {
          localOptions[key] = options2[key];
        }
        return localOptions;
      }, {});
      this.transport = options2 && options2.transport;
      this._params = {};
      this._supportedMethods = ["head", "get", "put", "post", "delete"];
      this._path = {};
    }
    var identity = (value) => value;
    function prepareTaxonomies(taxonomyFilters) {
      if (!taxonomyFilters) {
        return {};
      }
      return objectReduce(taxonomyFilters, (result, terms, key) => {
        result[key] = terms.map((term) => (term + "").trim().toLowerCase()).join("+");
        return result;
      }, {});
    }
    var populated = (obj) => {
      if (!obj) {
        return obj;
      }
      return objectReduce(obj, (values, val, key) => {
        if (val !== void 0 && val !== null && val !== "") {
          values[key] = val;
        }
        return values;
      }, {});
    };
    var validatePathLevel = (levelDefinitions, levelContents) => {
      const valid = levelDefinitions.reduce((anyOptionValid, levelOption) => {
        if (!levelOption.validate) {
          return true;
        }
        return anyOptionValid || levelOption.validate(levelContents);
      }, false);
      if (!valid) {
        throw new Error([
          "Invalid path component:",
          levelContents,
          "does not match" + (levelDefinitions.length > 1 ? " any of" : ""),
          levelDefinitions.reduce((components, levelOption) => components.concat(levelOption.component), []).join(", ")
        ].join(" "));
      }
    };
    WPRequest.prototype._renderQuery = function() {
      const queryParams = __spreadValues({}, populated(this._params));
      const taxonomies = prepareTaxonomies(this._taxonomyFilters);
      queryParams.filter = __spreadValues(__spreadValues({}, populated(this._filters)), taxonomies);
      const queryString = qs.stringify(queryParams, { arrayFormat: "brackets" }).split("&").sort().join("&");
      const queryCharacter = /\?/.test(this._options.endpoint) ? "&" : "?";
      return queryString === "" ? "" : queryCharacter + queryString;
    };
    WPRequest.prototype._renderPath = function() {
      this.validatePath();
      const pathParts = this._path;
      const orderedPathParts = Object.keys(pathParts).sort((a, b) => {
        const intA = parseInt(a, 10);
        const intB = parseInt(b, 10);
        return intA - intB;
      }).map((pathPartKey) => pathParts[pathPartKey]);
      const path = [
        this._namespace
      ].concat(orderedPathParts).filter(identity).join("/");
      return path;
    };
    WPRequest.prototype.toString = function() {
      const path = this._renderPath();
      const queryStr = this._renderQuery();
      return this._options.endpoint + path + queryStr;
    };
    WPRequest.prototype.setPathPart = function(level, val) {
      if (this._path[level]) {
        throw new Error("Cannot overwrite value " + this._path[level]);
      }
      this._path[level] = val;
      return this;
    };
    WPRequest.prototype.validatePath = function() {
      const specifiedLevels = Object.keys(this._path).map((level) => parseInt(level, 10)).filter((pathPartKey) => !isNaN(pathPartKey));
      const maxLevel = Math.max.apply(null, specifiedLevels);
      const path = [];
      let valid = true;
      for (let level = 0; level <= maxLevel; level++) {
        if (!this._levels || !this._levels[level]) {
          continue;
        }
        if (this._path[level]) {
          validatePathLevel(this._levels[level], this._path[level]);
          path.push(this._path[level]);
        } else {
          path.push(" ??? ");
          valid = false;
        }
      }
      if (!valid) {
        throw new Error("Incomplete URL! Missing component: /" + path.join("/"));
      }
      return this;
    };
    WPRequest.prototype.param = function(props, value) {
      if (!props || typeof props === "string" && value === void 0) {
        return this;
      }
      if (typeof props === "string") {
        props = keyValToObj(props, value);
      }
      Object.keys(props).forEach((key) => {
        let value2 = props[key];
        if (Array.isArray(value2)) {
          value2 = unique(value2).sort(alphaNumericSort);
        }
        this._params[key] = value2;
      });
      return this;
    };
    WPRequest.prototype.context = paramSetter("context");
    WPRequest.prototype.edit = function() {
      return this.context("edit");
    };
    WPRequest.prototype.embed = function() {
      return this.param("_embed", true);
    };
    WPRequest.prototype.page = paramSetter("page");
    WPRequest.prototype.perPage = paramSetter("per_page");
    WPRequest.prototype.offset = paramSetter("offset");
    WPRequest.prototype.order = paramSetter("order");
    WPRequest.prototype.orderby = paramSetter("orderby");
    WPRequest.prototype.search = paramSetter("search");
    WPRequest.prototype.include = paramSetter("include");
    WPRequest.prototype.exclude = paramSetter("exclude");
    WPRequest.prototype.slug = paramSetter("slug");
    WPRequest.prototype.namespace = function(namespace) {
      this._namespace = namespace;
      return this;
    };
    WPRequest.prototype.auth = function(credentials) {
      if (typeof credentials === "object") {
        if (typeof credentials.username === "string") {
          this._options.username = credentials.username;
        }
        if (typeof credentials.password === "string") {
          this._options.password = credentials.password;
        }
        if (credentials.nonce) {
          this._options.nonce = credentials.nonce;
        }
      }
      this._options.auth = true;
      return this;
    };
    WPRequest.prototype.file = function(file, name) {
      if (global.Buffer && file instanceof global.Buffer && !name) {
        throw new Error(".file(): File name is a required argument when uploading a Buffer");
      }
      this._attachment = file;
      this._attachmentName = name ? name : void 0;
      return this;
    };
    WPRequest.prototype.setHeaders = function(headers, value) {
      if (typeof headers === "string") {
        headers = keyValToObj(headers, value);
      }
      this._options.headers = __spreadValues(__spreadValues({}, this._options.headers || {}), headers);
      return this;
    };
    WPRequest.prototype.get = function(callback) {
      return this.transport.get(this, callback);
    };
    WPRequest.prototype.headers = function(callback) {
      return this.transport.head(this, callback);
    };
    WPRequest.prototype.create = function(data, callback) {
      return this.transport.post(this, data, callback);
    };
    WPRequest.prototype.update = function(data, callback) {
      return this.transport.put(this, data, callback);
    };
    WPRequest.prototype.delete = function(data, callback) {
      return this.transport.delete(this, data, callback);
    };
    WPRequest.prototype.then = function(successCallback, failureCallback) {
      return this.transport.get(this).then(successCallback, failureCallback);
    };
    module2.exports = WPRequest;
  }
});

// node_modules/wpapi/lib/mixins/filters.js
var require_filters = __commonJS({
  "node_modules/wpapi/lib/mixins/filters.js"(exports, module2) {
    "use strict";
    var alphaNumericSort = require_alphanumeric_sort();
    var keyValToObj = require_key_val_to_obj();
    var unique = require_unique();
    var filterMixins = {};
    filterMixins.filter = function(props, value) {
      if (!props || typeof props === "string" && value === void 0) {
        return this;
      }
      if (typeof props === "string") {
        props = keyValToObj(props, value);
      }
      this._filters = __spreadValues(__spreadValues({}, this._filters), props);
      return this;
    };
    filterMixins.taxonomy = function(taxonomy, term) {
      const termIsArray = Array.isArray(term);
      const termIsNumber = termIsArray ? term.reduce((allAreNumbers, term2) => allAreNumbers && typeof term2 === "number", true) : typeof term === "number";
      const termIsString = termIsArray ? term.reduce((allAreStrings, term2) => allAreStrings && typeof term2 === "string", true) : typeof term === "string";
      if (!termIsString && !termIsNumber) {
        throw new Error("term must be a number, string, or array of numbers or strings");
      }
      if (taxonomy === "category") {
        if (termIsString) {
          taxonomy = "category_name";
        } else {
          taxonomy = "cat";
        }
      } else if (taxonomy === "post_tag") {
        taxonomy = "tag";
      }
      this._taxonomyFilters = this._taxonomyFilters || {};
      const taxonomyTerms = (this._taxonomyFilters[taxonomy] || []).concat(term).sort(alphaNumericSort);
      this._taxonomyFilters[taxonomy] = unique(taxonomyTerms, true);
      return this;
    };
    filterMixins.year = function(year) {
      return filterMixins.filter.call(this, "year", year);
    };
    filterMixins.month = function(month) {
      let monthDate;
      if (typeof month === "string") {
        monthDate = new Date(Date.parse(month + " 1, 2012"));
        if (isNaN(monthDate)) {
          return this;
        }
        month = monthDate.getMonth() + 1;
      }
      if (typeof month === "number") {
        return filterMixins.filter.call(this, "monthnum", month);
      }
      return this;
    };
    filterMixins.day = function(day) {
      return filterMixins.filter.call(this, "day", day);
    };
    filterMixins.path = function(path) {
      return filterMixins.filter.call(this, "pagename", path);
    };
    module2.exports = filterMixins;
  }
});

// node_modules/wpapi/lib/util/argument-is-numeric.js
var require_argument_is_numeric = __commonJS({
  "node_modules/wpapi/lib/util/argument-is-numeric.js"(exports, module2) {
    "use strict";
    var argumentIsNumeric = (val) => {
      if (typeof val === "number") {
        return true;
      }
      if (typeof val === "string") {
        return /^\d+$/.test(val);
      }
      if (Array.isArray(val)) {
        for (let i = 0; i < val.length; i++) {
          if (!argumentIsNumeric(val[i])) {
            return false;
          }
        }
        return true;
      }
      return false;
    };
    module2.exports = argumentIsNumeric;
  }
});

// node_modules/wpapi/lib/mixins/parameters.js
var require_parameters = __commonJS({
  "node_modules/wpapi/lib/mixins/parameters.js"(exports, module2) {
    "use strict";
    var paramSetter = require_parameter_setter();
    var argumentIsNumeric = require_argument_is_numeric();
    var parameterMixins = {};
    var filters = require_filters();
    var filter = filters.filter;
    var taxonomy = filters.taxonomy;
    parameterMixins.author = function(author) {
      if (author === void 0) {
        return this;
      }
      if (typeof author === "string") {
        this.param("author", null);
        return filter.call(this, "author_name", author);
      }
      if (typeof author === "number") {
        filter.call(this, "author_name", null);
        return this.param("author", author);
      }
      if (author === null) {
        filter.call(this, "author_name", null);
        return this.param("author", null);
      }
      throw new Error("author must be either a nicename string or numeric ID");
    };
    parameterMixins.parent = paramSetter("parent");
    parameterMixins.post = paramSetter("post");
    parameterMixins.password = paramSetter("password");
    parameterMixins.status = paramSetter("status");
    parameterMixins.sticky = paramSetter("sticky");
    parameterMixins.categories = paramSetter("categories");
    parameterMixins.category = function(category) {
      if (argumentIsNumeric(category)) {
        return parameterMixins.categories.call(this, category);
      }
      return taxonomy.call(this, "category", category);
    };
    parameterMixins.excludeCategories = paramSetter("categories_exclude");
    parameterMixins.tags = paramSetter("tags");
    parameterMixins.tag = function(tag) {
      if (argumentIsNumeric(tag)) {
        return parameterMixins.tags.call(this, tag);
      }
      return taxonomy.call(this, "tag", tag);
    };
    parameterMixins.excludeTags = paramSetter("tags_exclude");
    parameterMixins.before = function(date) {
      return this.param("before", new Date(date).toISOString());
    };
    parameterMixins.after = function(date) {
      return this.param("after", new Date(date).toISOString());
    };
    module2.exports = parameterMixins;
  }
});

// node_modules/wpapi/lib/mixins/index.js
var require_mixins = __commonJS({
  "node_modules/wpapi/lib/mixins/index.js"(exports, module2) {
    "use strict";
    var filterMixins = require_filters();
    var parameterMixins = require_parameters();
    var mixins = {
      categories: {
        categories: parameterMixins.categories,
        category: parameterMixins.category
      },
      categories_exclude: {
        excludeCategories: parameterMixins.excludeCategories
      },
      tags: {
        tags: parameterMixins.tags,
        tag: parameterMixins.tag
      },
      tags_exclude: {
        excludeTags: parameterMixins.excludeTags
      },
      filter: filterMixins,
      post: {
        post: parameterMixins.post,
        forPost: parameterMixins.post
      }
    };
    [
      "after",
      "author",
      "before",
      "parent",
      "password",
      "status",
      "sticky"
    ].forEach((mixinName) => {
      mixins[mixinName] = {};
      mixins[mixinName][mixinName] = parameterMixins[mixinName];
    });
    module2.exports = mixins;
  }
});

// node_modules/wpapi/lib/util/apply-mixin.js
var require_apply_mixin = __commonJS({
  "node_modules/wpapi/lib/util/apply-mixin.js"(exports, module2) {
    "use strict";
    module2.exports = (obj, key, mixin) => {
      if (typeof mixin === "function" && !obj[key]) {
        obj[key] = mixin;
      }
    };
  }
});

// node_modules/wpapi/lib/endpoint-request.js
var require_endpoint_request = __commonJS({
  "node_modules/wpapi/lib/endpoint-request.js"(exports, module2) {
    "use strict";
    var WPRequest = require_wp_request();
    var mixins = require_mixins();
    var applyMixin = require_apply_mixin();
    function createEndpointRequest(handlerSpec, resource, namespace) {
      class EndpointRequest extends WPRequest {
        constructor(options2) {
          super(options2);
          this._levels = handlerSpec._levels;
          this.setPathPart(0, resource).namespace(namespace);
        }
      }
      if (typeof handlerSpec._getArgs === "object") {
        Object.keys(handlerSpec._getArgs).forEach((supportedQueryParam) => {
          const mixinsForParam = mixins[supportedQueryParam];
          if (typeof mixinsForParam === "object") {
            Object.keys(mixinsForParam).forEach((methodName) => {
              applyMixin(EndpointRequest.prototype, methodName, mixinsForParam[methodName]);
            });
          }
        });
      }
      Object.keys(handlerSpec._setters).forEach((setterFnName) => {
        if (!EndpointRequest.prototype[setterFnName]) {
          EndpointRequest.prototype[setterFnName] = handlerSpec._setters[setterFnName];
        }
      });
      return EndpointRequest;
    }
    module2.exports = {
      create: createEndpointRequest
    };
  }
});

// node_modules/wpapi/lib/endpoint-factories.js
var require_endpoint_factories = __commonJS({
  "node_modules/wpapi/lib/endpoint-factories.js"(exports, module2) {
    "use strict";
    var createResourceHandlerSpec = require_resource_handler_spec().create;
    var createEndpointRequest = require_endpoint_request().create;
    var objectReduce = require_object_reduce();
    function generateEndpointFactories(routesByNamespace) {
      return objectReduce(routesByNamespace, (namespaces, routeDefinitions, namespace) => {
        namespaces[namespace] = objectReduce(routeDefinitions, (handlers, routeDef, resource) => {
          const handlerSpec = createResourceHandlerSpec(routeDef, resource);
          const EndpointRequest = createEndpointRequest(handlerSpec, resource, namespace);
          handlers[resource] = function(options2) {
            return new EndpointRequest(__spreadValues(__spreadValues({}, this._options), options2));
          };
          handlers[resource].Ctor = EndpointRequest;
          return handlers;
        }, {});
        return namespaces;
      }, {});
    }
    module2.exports = {
      generate: generateEndpointFactories
    };
  }
});

// node_modules/li/lib/index.js
var require_lib3 = __commonJS({
  "node_modules/li/lib/index.js"(exports, module2) {
    (function(name, definition, context) {
      if (typeof module2 != "undefined" && module2.exports)
        module2.exports = definition();
      else if (typeof context["define"] == "function" && context["define"]["amd"])
        define(definition);
      else
        context[name] = definition();
    })("li", function() {
      var relsRegExp = /^;\s*([^"=]+)=(?:"([^"]+)"|([^";,]+)(?:[;,]|$))/;
      var sourceRegExp = /^<([^>]*)>/;
      var delimiterRegExp = /^\s*,\s*/;
      return {
        parse: function(linksHeader, options2) {
          var match;
          var source;
          var rels;
          var extended = options2 && options2.extended || false;
          var links = [];
          while (linksHeader) {
            linksHeader = linksHeader.trim();
            source = sourceRegExp.exec(linksHeader);
            if (!source)
              break;
            var current = {
              link: source[1]
            };
            linksHeader = linksHeader.slice(source[0].length);
            var nextDelimiter = linksHeader.match(delimiterRegExp);
            while (linksHeader && (!nextDelimiter || nextDelimiter.index > 0)) {
              match = relsRegExp.exec(linksHeader);
              if (!match)
                break;
              linksHeader = linksHeader.slice(match[0].length);
              nextDelimiter = linksHeader.match(delimiterRegExp);
              if (match[1] === "rel" || match[1] === "rev") {
                rels = (match[2] || match[3]).split(/\s+/);
                current[match[1]] = rels;
              } else {
                current[match[1]] = match[2] || match[3];
              }
            }
            links.push(current);
            linksHeader = linksHeader.replace(delimiterRegExp, "");
          }
          if (!extended) {
            return links.reduce(function(result, currentLink) {
              if (currentLink.rel) {
                currentLink.rel.forEach(function(rel) {
                  result[rel] = currentLink.link;
                });
              }
              return result;
            }, {});
          }
          return links;
        },
        stringify: function(params) {
          var grouped = Object.keys(params).reduce(function(grouped2, key) {
            grouped2[params[key]] = grouped2[params[key]] || [];
            grouped2[params[key]].push(key);
            return grouped2;
          }, {});
          var entries = Object.keys(grouped).reduce(function(result, link) {
            return result.concat("<" + link + '>; rel="' + grouped[link].join(" ") + '"');
          }, []);
          return entries.join(", ");
        }
      };
    }, exports);
  }
});

// node_modules/wpapi/lib/autodiscovery.js
var require_autodiscovery = __commonJS({
  "node_modules/wpapi/lib/autodiscovery.js"(exports, module2) {
    "use strict";
    var parseLinkHeader = require_lib3().parse;
    function locateAPIRootHeader(response) {
      const rel = "https://api.w.org/";
      const link = response.link || response.headers && response.headers.link;
      const headers = parseLinkHeader(link);
      const apiHeader = headers && headers[rel];
      if (apiHeader) {
        return apiHeader;
      }
      throw new Error(`No header link found with rel="${rel}"`);
    }
    module2.exports = {
      locateAPIRootHeader
    };
  }
});

// node_modules/component-emitter/index.js
var require_component_emitter = __commonJS({
  "node_modules/component-emitter/index.js"(exports, module2) {
    if (typeof module2 !== "undefined") {
      module2.exports = Emitter;
    }
    function Emitter(obj) {
      if (obj)
        return mixin(obj);
    }
    function mixin(obj) {
      for (var key in Emitter.prototype) {
        obj[key] = Emitter.prototype[key];
      }
      return obj;
    }
    Emitter.prototype.on = Emitter.prototype.addEventListener = function(event, fn) {
      this._callbacks = this._callbacks || {};
      (this._callbacks["$" + event] = this._callbacks["$" + event] || []).push(fn);
      return this;
    };
    Emitter.prototype.once = function(event, fn) {
      function on() {
        this.off(event, on);
        fn.apply(this, arguments);
      }
      on.fn = fn;
      this.on(event, on);
      return this;
    };
    Emitter.prototype.off = Emitter.prototype.removeListener = Emitter.prototype.removeAllListeners = Emitter.prototype.removeEventListener = function(event, fn) {
      this._callbacks = this._callbacks || {};
      if (arguments.length == 0) {
        this._callbacks = {};
        return this;
      }
      var callbacks = this._callbacks["$" + event];
      if (!callbacks)
        return this;
      if (arguments.length == 1) {
        delete this._callbacks["$" + event];
        return this;
      }
      var cb;
      for (var i = 0; i < callbacks.length; i++) {
        cb = callbacks[i];
        if (cb === fn || cb.fn === fn) {
          callbacks.splice(i, 1);
          break;
        }
      }
      if (callbacks.length === 0) {
        delete this._callbacks["$" + event];
      }
      return this;
    };
    Emitter.prototype.emit = function(event) {
      this._callbacks = this._callbacks || {};
      var args = new Array(arguments.length - 1), callbacks = this._callbacks["$" + event];
      for (var i = 1; i < arguments.length; i++) {
        args[i - 1] = arguments[i];
      }
      if (callbacks) {
        callbacks = callbacks.slice(0);
        for (var i = 0, len = callbacks.length; i < len; ++i) {
          callbacks[i].apply(this, args);
        }
      }
      return this;
    };
    Emitter.prototype.listeners = function(event) {
      this._callbacks = this._callbacks || {};
      return this._callbacks["$" + event] || [];
    };
    Emitter.prototype.hasListeners = function(event) {
      return !!this.listeners(event).length;
    };
  }
});

// node_modules/superagent/lib/is-object.js
var require_is_object = __commonJS({
  "node_modules/superagent/lib/is-object.js"(exports, module2) {
    "use strict";
    function isObject(obj) {
      return obj !== null && typeof obj === "object";
    }
    module2.exports = isObject;
  }
});

// node_modules/superagent/lib/request-base.js
var require_request_base = __commonJS({
  "node_modules/superagent/lib/request-base.js"(exports, module2) {
    "use strict";
    var isObject = require_is_object();
    module2.exports = RequestBase;
    function RequestBase(obj) {
      if (obj)
        return mixin(obj);
    }
    function mixin(obj) {
      for (const key in RequestBase.prototype) {
        obj[key] = RequestBase.prototype[key];
      }
      return obj;
    }
    RequestBase.prototype.clearTimeout = function _clearTimeout() {
      clearTimeout(this._timer);
      clearTimeout(this._responseTimeoutTimer);
      delete this._timer;
      delete this._responseTimeoutTimer;
      return this;
    };
    RequestBase.prototype.parse = function parse(fn) {
      this._parser = fn;
      return this;
    };
    RequestBase.prototype.responseType = function(val) {
      this._responseType = val;
      return this;
    };
    RequestBase.prototype.serialize = function serialize(fn) {
      this._serializer = fn;
      return this;
    };
    RequestBase.prototype.timeout = function timeout(options2) {
      if (!options2 || typeof options2 !== "object") {
        this._timeout = options2;
        this._responseTimeout = 0;
        return this;
      }
      for (const option in options2) {
        switch (option) {
          case "deadline":
            this._timeout = options2.deadline;
            break;
          case "response":
            this._responseTimeout = options2.response;
            break;
          default:
            console.warn("Unknown timeout option", option);
        }
      }
      return this;
    };
    RequestBase.prototype.retry = function retry(count, fn) {
      if (arguments.length === 0 || count === true)
        count = 1;
      if (count <= 0)
        count = 0;
      this._maxRetries = count;
      this._retries = 0;
      this._retryCallback = fn;
      return this;
    };
    var ERROR_CODES = [
      "ECONNRESET",
      "ETIMEDOUT",
      "EADDRINFO",
      "ESOCKETTIMEDOUT"
    ];
    RequestBase.prototype._shouldRetry = function(err, res) {
      if (!this._maxRetries || this._retries++ >= this._maxRetries) {
        return false;
      }
      if (this._retryCallback) {
        try {
          const override = this._retryCallback(err, res);
          if (override === true)
            return true;
          if (override === false)
            return false;
        } catch (e) {
          console.error(e);
        }
      }
      if (res && res.status && res.status >= 500 && res.status != 501)
        return true;
      if (err) {
        if (err.code && ~ERROR_CODES.indexOf(err.code))
          return true;
        if (err.timeout && err.code == "ECONNABORTED")
          return true;
        if (err.crossDomain)
          return true;
      }
      return false;
    };
    RequestBase.prototype._retry = function() {
      this.clearTimeout();
      if (this.req) {
        this.req = null;
        this.req = this.request();
      }
      this._aborted = false;
      this.timedout = false;
      return this._end();
    };
    RequestBase.prototype.then = function then(resolve, reject) {
      if (!this._fullfilledPromise) {
        const self2 = this;
        if (this._endCalled) {
          console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises");
        }
        this._fullfilledPromise = new Promise((innerResolve, innerReject) => {
          self2.on("error", innerReject);
          self2.on("abort", () => {
            const err = new Error("Aborted");
            err.code = "ABORTED";
            err.status = this.status;
            err.method = this.method;
            err.url = this.url;
            innerReject(err);
          });
          self2.end((err, res) => {
            if (err)
              innerReject(err);
            else
              innerResolve(res);
          });
        });
      }
      return this._fullfilledPromise.then(resolve, reject);
    };
    RequestBase.prototype["catch"] = function(cb) {
      return this.then(void 0, cb);
    };
    RequestBase.prototype.use = function use2(fn) {
      fn(this);
      return this;
    };
    RequestBase.prototype.ok = function(cb) {
      if (typeof cb !== "function")
        throw Error("Callback required");
      this._okCallback = cb;
      return this;
    };
    RequestBase.prototype._isResponseOK = function(res) {
      if (!res) {
        return false;
      }
      if (this._okCallback) {
        return this._okCallback(res);
      }
      return res.status >= 200 && res.status < 300;
    };
    RequestBase.prototype.get = function(field) {
      return this._header[field.toLowerCase()];
    };
    RequestBase.prototype.getHeader = RequestBase.prototype.get;
    RequestBase.prototype.set = function(field, val) {
      if (isObject(field)) {
        for (const key in field) {
          this.set(key, field[key]);
        }
        return this;
      }
      this._header[field.toLowerCase()] = val;
      this.header[field] = val;
      return this;
    };
    RequestBase.prototype.unset = function(field) {
      delete this._header[field.toLowerCase()];
      delete this.header[field];
      return this;
    };
    RequestBase.prototype.field = function(name, val) {
      if (name === null || name === void 0) {
        throw new Error(".field(name, val) name can not be empty");
      }
      if (this._data) {
        throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");
      }
      if (isObject(name)) {
        for (const key in name) {
          this.field(key, name[key]);
        }
        return this;
      }
      if (Array.isArray(val)) {
        for (const i in val) {
          this.field(name, val[i]);
        }
        return this;
      }
      if (val === null || val === void 0) {
        throw new Error(".field(name, val) val can not be empty");
      }
      if (typeof val === "boolean") {
        val = "" + val;
      }
      this._getFormData().append(name, val);
      return this;
    };
    RequestBase.prototype.abort = function() {
      if (this._aborted) {
        return this;
      }
      this._aborted = true;
      this.xhr && this.xhr.abort();
      this.req && this.req.abort();
      this.clearTimeout();
      this.emit("abort");
      return this;
    };
    RequestBase.prototype._auth = function(user, pass, options2, base64Encoder) {
      switch (options2.type) {
        case "basic":
          this.set("Authorization", `Basic ${base64Encoder(`${user}:${pass}`)}`);
          break;
        case "auto":
          this.username = user;
          this.password = pass;
          break;
        case "bearer":
          this.set("Authorization", `Bearer ${user}`);
          break;
      }
      return this;
    };
    RequestBase.prototype.withCredentials = function(on) {
      if (on == void 0)
        on = true;
      this._withCredentials = on;
      return this;
    };
    RequestBase.prototype.redirects = function(n) {
      this._maxRedirects = n;
      return this;
    };
    RequestBase.prototype.maxResponseSize = function(n) {
      if (typeof n !== "number") {
        throw TypeError("Invalid argument");
      }
      this._maxResponseSize = n;
      return this;
    };
    RequestBase.prototype.toJSON = function() {
      return {
        method: this.method,
        url: this.url,
        data: this._data,
        headers: this._header
      };
    };
    RequestBase.prototype.send = function(data) {
      const isObj = isObject(data);
      let type = this._header["content-type"];
      if (this._formData) {
        throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");
      }
      if (isObj && !this._data) {
        if (Array.isArray(data)) {
          this._data = [];
        } else if (!this._isHost(data)) {
          this._data = {};
        }
      } else if (data && this._data && this._isHost(this._data)) {
        throw Error("Can't merge these send calls");
      }
      if (isObj && isObject(this._data)) {
        for (const key in data) {
          this._data[key] = data[key];
        }
      } else if (typeof data == "string") {
        if (!type)
          this.type("form");
        type = this._header["content-type"];
        if (type == "application/x-www-form-urlencoded") {
          this._data = this._data ? `${this._data}&${data}` : data;
        } else {
          this._data = (this._data || "") + data;
        }
      } else {
        this._data = data;
      }
      if (!isObj || this._isHost(data)) {
        return this;
      }
      if (!type)
        this.type("json");
      return this;
    };
    RequestBase.prototype.sortQuery = function(sort) {
      this._sort = typeof sort === "undefined" ? true : sort;
      return this;
    };
    RequestBase.prototype._finalizeQueryString = function() {
      const query = this._query.join("&");
      if (query) {
        this.url += (this.url.indexOf("?") >= 0 ? "&" : "?") + query;
      }
      this._query.length = 0;
      if (this._sort) {
        const index = this.url.indexOf("?");
        if (index >= 0) {
          const queryArr = this.url.substring(index + 1).split("&");
          if (typeof this._sort === "function") {
            queryArr.sort(this._sort);
          } else {
            queryArr.sort();
          }
          this.url = this.url.substring(0, index) + "?" + queryArr.join("&");
        }
      }
    };
    RequestBase.prototype._appendQueryString = () => {
      console.trace("Unsupported");
    };
    RequestBase.prototype._timeoutError = function(reason, timeout, errno) {
      if (this._aborted) {
        return;
      }
      const err = new Error(`${reason + timeout}ms exceeded`);
      err.timeout = timeout;
      err.code = "ECONNABORTED";
      err.errno = errno;
      this.timedout = true;
      this.abort();
      this.callback(err);
    };
    RequestBase.prototype._setTimeouts = function() {
      const self2 = this;
      if (this._timeout && !this._timer) {
        this._timer = setTimeout(() => {
          self2._timeoutError("Timeout of ", self2._timeout, "ETIME");
        }, this._timeout);
      }
      if (this._responseTimeout && !this._responseTimeoutTimer) {
        this._responseTimeoutTimer = setTimeout(() => {
          self2._timeoutError("Response timeout of ", self2._responseTimeout, "ETIMEDOUT");
        }, this._responseTimeout);
      }
    };
  }
});

// node_modules/superagent/lib/utils.js
var require_utils2 = __commonJS({
  "node_modules/superagent/lib/utils.js"(exports) {
    "use strict";
    exports.type = (str) => str.split(/ *; */).shift();
    exports.params = (str) => str.split(/ *; */).reduce((obj, str2) => {
      const parts = str2.split(/ *= */);
      const key = parts.shift();
      const val = parts.shift();
      if (key && val)
        obj[key] = val;
      return obj;
    }, {});
    exports.parseLinks = (str) => str.split(/ *, */).reduce((obj, str2) => {
      const parts = str2.split(/ *; */);
      const url = parts[0].slice(1, -1);
      const rel = parts[1].split(/ *= */)[1].slice(1, -1);
      obj[rel] = url;
      return obj;
    }, {});
    exports.cleanHeader = (header, changesOrigin) => {
      delete header["content-type"];
      delete header["content-length"];
      delete header["transfer-encoding"];
      delete header["host"];
      if (changesOrigin) {
        delete header["authorization"];
        delete header["cookie"];
      }
      return header;
    };
  }
});

// node_modules/superagent/lib/response-base.js
var require_response_base = __commonJS({
  "node_modules/superagent/lib/response-base.js"(exports, module2) {
    "use strict";
    var utils = require_utils2();
    module2.exports = ResponseBase;
    function ResponseBase(obj) {
      if (obj)
        return mixin(obj);
    }
    function mixin(obj) {
      for (const key in ResponseBase.prototype) {
        obj[key] = ResponseBase.prototype[key];
      }
      return obj;
    }
    ResponseBase.prototype.get = function(field) {
      return this.header[field.toLowerCase()];
    };
    ResponseBase.prototype._setHeaderProperties = function(header) {
      const ct = header["content-type"] || "";
      this.type = utils.type(ct);
      const params = utils.params(ct);
      for (const key in params)
        this[key] = params[key];
      this.links = {};
      try {
        if (header.link) {
          this.links = utils.parseLinks(header.link);
        }
      } catch (err) {
      }
    };
    ResponseBase.prototype._setStatusProperties = function(status) {
      const type = status / 100 | 0;
      this.status = this.statusCode = status;
      this.statusType = type;
      this.info = type == 1;
      this.ok = type == 2;
      this.redirect = type == 3;
      this.clientError = type == 4;
      this.serverError = type == 5;
      this.error = type == 4 || type == 5 ? this.toError() : false;
      this.created = status == 201;
      this.accepted = status == 202;
      this.noContent = status == 204;
      this.badRequest = status == 400;
      this.unauthorized = status == 401;
      this.notAcceptable = status == 406;
      this.forbidden = status == 403;
      this.notFound = status == 404;
      this.unprocessableEntity = status == 422;
    };
  }
});

// node_modules/superagent/lib/agent-base.js
var require_agent_base = __commonJS({
  "node_modules/superagent/lib/agent-base.js"(exports, module2) {
    function Agent() {
      this._defaults = [];
    }
    [
      "use",
      "on",
      "once",
      "set",
      "query",
      "type",
      "accept",
      "auth",
      "withCredentials",
      "sortQuery",
      "retry",
      "ok",
      "redirects",
      "timeout",
      "buffer",
      "serialize",
      "parse",
      "ca",
      "key",
      "pfx",
      "cert"
    ].forEach((fn) => {
      Agent.prototype[fn] = function(...args) {
        this._defaults.push({ fn, args });
        return this;
      };
    });
    Agent.prototype._setDefaults = function(req) {
      this._defaults.forEach((def) => {
        req[def.fn].apply(req, def.args);
      });
    };
    module2.exports = Agent;
  }
});

// node_modules/superagent/lib/client.js
var require_client2 = __commonJS({
  "node_modules/superagent/lib/client.js"(exports, module2) {
    var root;
    if (typeof window !== "undefined") {
      root = window;
    } else if (typeof self !== "undefined") {
      root = self;
    } else {
      console.warn("Using browser-only version of superagent in non-browser environment");
      root = exports;
    }
    var Emitter = require_component_emitter();
    var RequestBase = require_request_base();
    var isObject = require_is_object();
    var ResponseBase = require_response_base();
    var Agent = require_agent_base();
    function noop() {
    }
    var request = exports = module2.exports = function(method, url) {
      if (typeof url == "function") {
        return new exports.Request("GET", method).end(url);
      }
      if (arguments.length == 1) {
        return new exports.Request("GET", method);
      }
      return new exports.Request(method, url);
    };
    exports.Request = Request;
    request.getXHR = () => {
      if (root.XMLHttpRequest && (!root.location || root.location.protocol != "file:" || !root.ActiveXObject)) {
        return new XMLHttpRequest();
      } else {
        try {
          return new ActiveXObject("Microsoft.XMLHTTP");
        } catch (e) {
        }
        try {
          return new ActiveXObject("Msxml2.XMLHTTP.6.0");
        } catch (e) {
        }
        try {
          return new ActiveXObject("Msxml2.XMLHTTP.3.0");
        } catch (e) {
        }
        try {
          return new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
        }
      }
      throw Error("Browser-only version of superagent could not find XHR");
    };
    var trim = "".trim ? (s) => s.trim() : (s) => s.replace(/(^\s*|\s*$)/g, "");
    function serialize(obj) {
      if (!isObject(obj))
        return obj;
      const pairs = [];
      for (const key in obj) {
        pushEncodedKeyValuePair(pairs, key, obj[key]);
      }
      return pairs.join("&");
    }
    function pushEncodedKeyValuePair(pairs, key, val) {
      if (val != null) {
        if (Array.isArray(val)) {
          val.forEach((v) => {
            pushEncodedKeyValuePair(pairs, key, v);
          });
        } else if (isObject(val)) {
          for (const subkey in val) {
            pushEncodedKeyValuePair(pairs, `${key}[${subkey}]`, val[subkey]);
          }
        } else {
          pairs.push(encodeURIComponent(key) + "=" + encodeURIComponent(val));
        }
      } else if (val === null) {
        pairs.push(encodeURIComponent(key));
      }
    }
    request.serializeObject = serialize;
    function parseString(str) {
      const obj = {};
      const pairs = str.split("&");
      let pair;
      let pos;
      for (let i = 0, len = pairs.length; i < len; ++i) {
        pair = pairs[i];
        pos = pair.indexOf("=");
        if (pos == -1) {
          obj[decodeURIComponent(pair)] = "";
        } else {
          obj[decodeURIComponent(pair.slice(0, pos))] = decodeURIComponent(pair.slice(pos + 1));
        }
      }
      return obj;
    }
    request.parseString = parseString;
    request.types = {
      html: "text/html",
      json: "application/json",
      xml: "text/xml",
      urlencoded: "application/x-www-form-urlencoded",
      "form": "application/x-www-form-urlencoded",
      "form-data": "application/x-www-form-urlencoded"
    };
    request.serialize = {
      "application/x-www-form-urlencoded": serialize,
      "application/json": JSON.stringify
    };
    request.parse = {
      "application/x-www-form-urlencoded": parseString,
      "application/json": JSON.parse
    };
    function parseHeader(str) {
      const lines = str.split(/\r?\n/);
      const fields = {};
      let index;
      let line;
      let field;
      let val;
      for (let i = 0, len = lines.length; i < len; ++i) {
        line = lines[i];
        index = line.indexOf(":");
        if (index === -1) {
          continue;
        }
        field = line.slice(0, index).toLowerCase();
        val = trim(line.slice(index + 1));
        fields[field] = val;
      }
      return fields;
    }
    function isJSON(mime) {
      return /[\/+]json($|[^-\w])/.test(mime);
    }
    function Response(req) {
      this.req = req;
      this.xhr = this.req.xhr;
      this.text = this.req.method != "HEAD" && (this.xhr.responseType === "" || this.xhr.responseType === "text") || typeof this.xhr.responseType === "undefined" ? this.xhr.responseText : null;
      this.statusText = this.req.xhr.statusText;
      let status = this.xhr.status;
      if (status === 1223) {
        status = 204;
      }
      this._setStatusProperties(status);
      this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());
      this.header["content-type"] = this.xhr.getResponseHeader("content-type");
      this._setHeaderProperties(this.header);
      if (this.text === null && req._responseType) {
        this.body = this.xhr.response;
      } else {
        this.body = this.req.method != "HEAD" ? this._parseBody(this.text ? this.text : this.xhr.response) : null;
      }
    }
    ResponseBase(Response.prototype);
    Response.prototype._parseBody = function(str) {
      let parse = request.parse[this.type];
      if (this.req._parser) {
        return this.req._parser(this, str);
      }
      if (!parse && isJSON(this.type)) {
        parse = request.parse["application/json"];
      }
      return parse && str && (str.length || str instanceof Object) ? parse(str) : null;
    };
    Response.prototype.toError = function() {
      const req = this.req;
      const method = req.method;
      const url = req.url;
      const msg = `cannot ${method} ${url} (${this.status})`;
      const err = new Error(msg);
      err.status = this.status;
      err.method = method;
      err.url = url;
      return err;
    };
    request.Response = Response;
    function Request(method, url) {
      const self2 = this;
      this._query = this._query || [];
      this.method = method;
      this.url = url;
      this.header = {};
      this._header = {};
      this.on("end", () => {
        let err = null;
        let res = null;
        try {
          res = new Response(self2);
        } catch (e) {
          err = new Error("Parser is unable to parse the response");
          err.parse = true;
          err.original = e;
          if (self2.xhr) {
            err.rawResponse = typeof self2.xhr.responseType == "undefined" ? self2.xhr.responseText : self2.xhr.response;
            err.status = self2.xhr.status ? self2.xhr.status : null;
            err.statusCode = err.status;
          } else {
            err.rawResponse = null;
            err.status = null;
          }
          return self2.callback(err);
        }
        self2.emit("response", res);
        let new_err;
        try {
          if (!self2._isResponseOK(res)) {
            new_err = new Error(res.statusText || "Unsuccessful HTTP response");
          }
        } catch (custom_err) {
          new_err = custom_err;
        }
        if (new_err) {
          new_err.original = err;
          new_err.response = res;
          new_err.status = res.status;
          self2.callback(new_err, res);
        } else {
          self2.callback(null, res);
        }
      });
    }
    Emitter(Request.prototype);
    RequestBase(Request.prototype);
    Request.prototype.type = function(type) {
      this.set("Content-Type", request.types[type] || type);
      return this;
    };
    Request.prototype.accept = function(type) {
      this.set("Accept", request.types[type] || type);
      return this;
    };
    Request.prototype.auth = function(user, pass, options2) {
      if (arguments.length === 1)
        pass = "";
      if (typeof pass === "object" && pass !== null) {
        options2 = pass;
        pass = "";
      }
      if (!options2) {
        options2 = {
          type: typeof btoa === "function" ? "basic" : "auto"
        };
      }
      const encoder = (string) => {
        if (typeof btoa === "function") {
          return btoa(string);
        }
        throw new Error("Cannot use basic auth, btoa is not a function");
      };
      return this._auth(user, pass, options2, encoder);
    };
    Request.prototype.query = function(val) {
      if (typeof val != "string")
        val = serialize(val);
      if (val)
        this._query.push(val);
      return this;
    };
    Request.prototype.attach = function(field, file, options2) {
      if (file) {
        if (this._data) {
          throw Error("superagent can't mix .send() and .attach()");
        }
        this._getFormData().append(field, file, options2 || file.name);
      }
      return this;
    };
    Request.prototype._getFormData = function() {
      if (!this._formData) {
        this._formData = new root.FormData();
      }
      return this._formData;
    };
    Request.prototype.callback = function(err, res) {
      if (this._shouldRetry(err, res)) {
        return this._retry();
      }
      const fn = this._callback;
      this.clearTimeout();
      if (err) {
        if (this._maxRetries)
          err.retries = this._retries - 1;
        this.emit("error", err);
      }
      fn(err, res);
    };
    Request.prototype.crossDomainError = function() {
      const err = new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");
      err.crossDomain = true;
      err.status = this.status;
      err.method = this.method;
      err.url = this.url;
      this.callback(err);
    };
    Request.prototype.buffer = Request.prototype.ca = Request.prototype.agent = function() {
      console.warn("This is not supported in browser version of superagent");
      return this;
    };
    Request.prototype.pipe = Request.prototype.write = () => {
      throw Error("Streaming is not supported in browser version of superagent");
    };
    Request.prototype._isHost = function _isHost(obj) {
      return obj && typeof obj === "object" && !Array.isArray(obj) && Object.prototype.toString.call(obj) !== "[object Object]";
    };
    Request.prototype.end = function(fn) {
      if (this._endCalled) {
        console.warn("Warning: .end() was called twice. This is not supported in superagent");
      }
      this._endCalled = true;
      this._callback = fn || noop;
      this._finalizeQueryString();
      this._end();
    };
    Request.prototype._end = function() {
      if (this._aborted)
        return this.callback(Error("The request has been aborted even before .end() was called"));
      const self2 = this;
      const xhr = this.xhr = request.getXHR();
      let data = this._formData || this._data;
      this._setTimeouts();
      xhr.onreadystatechange = () => {
        const readyState = xhr.readyState;
        if (readyState >= 2 && self2._responseTimeoutTimer) {
          clearTimeout(self2._responseTimeoutTimer);
        }
        if (readyState != 4) {
          return;
        }
        let status;
        try {
          status = xhr.status;
        } catch (e) {
          status = 0;
        }
        if (!status) {
          if (self2.timedout || self2._aborted)
            return;
          return self2.crossDomainError();
        }
        self2.emit("end");
      };
      const handleProgress = (direction, e) => {
        if (e.total > 0) {
          e.percent = e.loaded / e.total * 100;
        }
        e.direction = direction;
        self2.emit("progress", e);
      };
      if (this.hasListeners("progress")) {
        try {
          xhr.onprogress = handleProgress.bind(null, "download");
          if (xhr.upload) {
            xhr.upload.onprogress = handleProgress.bind(null, "upload");
          }
        } catch (e) {
        }
      }
      try {
        if (this.username && this.password) {
          xhr.open(this.method, this.url, true, this.username, this.password);
        } else {
          xhr.open(this.method, this.url, true);
        }
      } catch (err) {
        return this.callback(err);
      }
      if (this._withCredentials)
        xhr.withCredentials = true;
      if (!this._formData && this.method != "GET" && this.method != "HEAD" && typeof data != "string" && !this._isHost(data)) {
        const contentType = this._header["content-type"];
        let serialize2 = this._serializer || request.serialize[contentType ? contentType.split(";")[0] : ""];
        if (!serialize2 && isJSON(contentType)) {
          serialize2 = request.serialize["application/json"];
        }
        if (serialize2)
          data = serialize2(data);
      }
      for (const field in this.header) {
        if (this.header[field] == null)
          continue;
        if (this.header.hasOwnProperty(field))
          xhr.setRequestHeader(field, this.header[field]);
      }
      if (this._responseType) {
        xhr.responseType = this._responseType;
      }
      this.emit("request", this);
      xhr.send(typeof data !== "undefined" ? data : null);
    };
    request.agent = () => new Agent();
    ["GET", "POST", "OPTIONS", "PATCH", "PUT", "DELETE"].forEach((method) => {
      Agent.prototype[method.toLowerCase()] = function(url, fn) {
        const req = new request.Request(method, url);
        this._setDefaults(req);
        if (fn) {
          req.end(fn);
        }
        return req;
      };
    });
    Agent.prototype.del = Agent.prototype["delete"];
    request.get = (url, data, fn) => {
      const req = request("GET", url);
      if (typeof data == "function")
        fn = data, data = null;
      if (data)
        req.query(data);
      if (fn)
        req.end(fn);
      return req;
    };
    request.head = (url, data, fn) => {
      const req = request("HEAD", url);
      if (typeof data == "function")
        fn = data, data = null;
      if (data)
        req.query(data);
      if (fn)
        req.end(fn);
      return req;
    };
    request.options = (url, data, fn) => {
      const req = request("OPTIONS", url);
      if (typeof data == "function")
        fn = data, data = null;
      if (data)
        req.send(data);
      if (fn)
        req.end(fn);
      return req;
    };
    function del(url, data, fn) {
      const req = request("DELETE", url);
      if (typeof data == "function")
        fn = data, data = null;
      if (data)
        req.send(data);
      if (fn)
        req.end(fn);
      return req;
    }
    request["del"] = del;
    request["delete"] = del;
    request.patch = (url, data, fn) => {
      const req = request("PATCH", url);
      if (typeof data == "function")
        fn = data, data = null;
      if (data)
        req.send(data);
      if (fn)
        req.end(fn);
      return req;
    };
    request.post = (url, data, fn) => {
      const req = request("POST", url);
      if (typeof data == "function")
        fn = data, data = null;
      if (data)
        req.send(data);
      if (fn)
        req.end(fn);
      return req;
    };
    request.put = (url, data, fn) => {
      const req = request("PUT", url);
      if (typeof data == "function")
        fn = data, data = null;
      if (data)
        req.send(data);
      if (fn)
        req.end(fn);
      return req;
    };
  }
});

// node_modules/wpapi/lib/util/check-method-support.js
var require_check_method_support = __commonJS({
  "node_modules/wpapi/lib/util/check-method-support.js"(exports, module2) {
    "use strict";
    module2.exports = (method, request) => {
      if (request._supportedMethods.indexOf(method.toLowerCase()) === -1) {
        throw new Error("Unsupported method; supported methods are: " + request._supportedMethods.join(", "));
      }
      return true;
    };
  }
});

// node_modules/wpapi/lib/util/is-empty-object.js
var require_is_empty_object = __commonJS({
  "node_modules/wpapi/lib/util/is-empty-object.js"(exports, module2) {
    "use strict";
    module2.exports = (value) => {
      if (typeof value !== "object") {
        return false;
      }
      if (Array.isArray(value)) {
        return false;
      }
      for (const key in value) {
        if (value.hasOwnProperty(key)) {
          return false;
        }
      }
      return true;
    };
  }
});

// node_modules/wpapi/lib/http-transport.js
var require_http_transport = __commonJS({
  "node_modules/wpapi/lib/http-transport.js"(exports, module2) {
    "use strict";
    var agent = require_client2();
    var parseLinkHeader = require_lib3().parse;
    var WPRequest = require_wp_request();
    var checkMethodSupport = require_check_method_support();
    var objectReduce = require_object_reduce();
    var isEmptyObject = require_is_empty_object();
    function _setHeaders(request, options2) {
      if (!options2.headers) {
        return request;
      }
      return objectReduce(options2.headers, (request2, value, key) => request2.set(key, value), request);
    }
    function _auth(request, options2, forceAuthentication) {
      if (!forceAuthentication && !options2.auth && !options2.nonce) {
        return request;
      }
      if (options2.nonce) {
        request.set("X-WP-Nonce", options2.nonce);
        return request;
      }
      const username = options2.username;
      const password = options2.password;
      if (!username || !password) {
        return request;
      }
      return request.auth(username, password);
    }
    function extractResponseBody(response) {
      let responseBody = response.body;
      if (isEmptyObject(responseBody) && response.type === "text/html") {
        try {
          responseBody = JSON.parse(response.text);
        } catch (e) {
        }
      }
      return responseBody;
    }
    function createPaginationObject(result, options2, httpTransport) {
      let _paging = null;
      if (!result.headers) {
        return _paging;
      }
      Object.keys(result.headers).forEach((header) => {
        result.headers[header.toLowerCase()] = result.headers[header];
      });
      if (!result.headers["x-wp-totalpages"]) {
        return _paging;
      }
      const totalPages = +result.headers["x-wp-totalpages"];
      if (!totalPages || totalPages === 0) {
        return _paging;
      }
      const links = result.headers.link ? parseLinkHeader(result.headers.link) : {};
      _paging = {
        total: +result.headers["x-wp-total"],
        totalPages,
        links
      };
      if (links.next) {
        _paging.next = new WPRequest(__spreadProps(__spreadValues({}, options2), {
          transport: httpTransport,
          endpoint: links.next
        }));
      }
      if (links.prev) {
        _paging.prev = new WPRequest(__spreadProps(__spreadValues({}, options2), {
          transport: httpTransport,
          endpoint: links.prev
        }));
      }
      return _paging;
    }
    function invokeAndPromisify(request, callback, transform) {
      return new Promise((resolve, reject) => {
        request.end((err, result) => {
          if (err || result.error) {
            reject(err || result.error);
          } else {
            resolve(result);
          }
        });
      }).then(transform).then((result) => {
        if (callback && typeof callback === "function") {
          callback(null, result);
        }
        return result;
      }, (err) => {
        if (err.response && err.response.body && err.response.body.code) {
          err = err.response.body;
        }
        if (callback && typeof callback === "function") {
          callback(err);
        } else {
          throw err;
        }
      });
    }
    function returnBody(wpreq, result) {
      const body = extractResponseBody(result);
      const _paging = createPaginationObject(result, wpreq._options, wpreq.transport);
      if (_paging) {
        body._paging = _paging;
      }
      return body;
    }
    function returnHeaders(result) {
      return result.headers;
    }
    function _httpGet(wpreq, callback) {
      checkMethodSupport("get", wpreq);
      const url = wpreq.toString();
      let request = _auth(agent.get(url), wpreq._options);
      request = _setHeaders(request, wpreq._options);
      return invokeAndPromisify(request, callback, returnBody.bind(null, wpreq));
    }
    function _httpPost(wpreq, data, callback) {
      checkMethodSupport("post", wpreq);
      const url = wpreq.toString();
      data = data || {};
      let request = _auth(agent.post(url), wpreq._options, true);
      request = _setHeaders(request, wpreq._options);
      if (wpreq._attachment) {
        request = objectReduce(data, (req, value, key) => req.field(key, value), request.attach("file", wpreq._attachment, wpreq._attachmentName));
      } else {
        request = request.send(data);
      }
      return invokeAndPromisify(request, callback, returnBody.bind(null, wpreq));
    }
    function _httpPut(wpreq, data, callback) {
      checkMethodSupport("put", wpreq);
      const url = wpreq.toString();
      data = data || {};
      let request = _auth(agent.put(url), wpreq._options, true).send(data);
      request = _setHeaders(request, wpreq._options);
      return invokeAndPromisify(request, callback, returnBody.bind(null, wpreq));
    }
    function _httpDelete(wpreq, data, callback) {
      if (!callback && typeof data === "function") {
        callback = data;
        data = null;
      }
      checkMethodSupport("delete", wpreq);
      const url = wpreq.toString();
      let request = _auth(agent.del(url), wpreq._options, true).send(data);
      request = _setHeaders(request, wpreq._options);
      return invokeAndPromisify(request, callback, returnBody.bind(null, wpreq));
    }
    function _httpHead(wpreq, callback) {
      checkMethodSupport("head", wpreq);
      const url = wpreq.toString();
      let request = _auth(agent.head(url), wpreq._options);
      request = _setHeaders(request, wpreq._options);
      return invokeAndPromisify(request, callback, returnHeaders);
    }
    module2.exports = {
      delete: _httpDelete,
      get: _httpGet,
      head: _httpHead,
      post: _httpPost,
      put: _httpPut
    };
  }
});

// node_modules/wpapi/lib/wp-register-route.js
var require_wp_register_route = __commonJS({
  "node_modules/wpapi/lib/wp-register-route.js"(exports, module2) {
    "use strict";
    var buildRouteTree = require_route_tree().build;
    var generateEndpointFactories = require_endpoint_factories().generate;
    var paramSetter = require_parameter_setter();
    var applyMixin = require_apply_mixin();
    var mixins = require_mixins();
    function registerRoute(namespace, restBase, options2 = {}) {
      let supportedMethods = ["head", "get", "patch", "put", "post", "delete"];
      if (Array.isArray(options2.methods)) {
        supportedMethods = options2.methods.map((method) => method.trim().toLowerCase());
      } else if (typeof options2.methods === "string") {
        supportedMethods = [options2.methods.trim().toLowerCase()];
      }
      if (supportedMethods.indexOf("get") !== -1 && supportedMethods.indexOf("head") === -1) {
        supportedMethods.push("head");
      } else if (supportedMethods.indexOf("head") !== -1 && supportedMethods.indexOf("get") === -1) {
        supportedMethods.push("get");
      }
      const fullRoute = namespace.replace(/^[\s/]*/, "/").replace(/[\s/]*$/, "/") + restBase.replace(/^[\s/]*/, "");
      const routeObj = {};
      routeObj[fullRoute] = {
        namespace,
        methods: supportedMethods
      };
      const routeTree = buildRouteTree(routeObj);
      const endpointFactories = generateEndpointFactories(routeTree)[namespace];
      const EndpointRequest = endpointFactories[Object.keys(endpointFactories)[0]].Ctor;
      if (options2 && options2.params) {
        options2.params.forEach((param) => {
          if (typeof param !== "string") {
            return;
          }
          if (typeof mixins[param] === "object") {
            Object.keys(mixins[param]).forEach((key) => {
              applyMixin(EndpointRequest.prototype, key, mixins[param][key]);
            });
            return;
          }
          applyMixin(EndpointRequest.prototype, param, paramSetter(param));
        });
      }
      if (options2 && typeof options2.mixins === "object") {
        Object.keys(options2.mixins).forEach((key) => {
          applyMixin(EndpointRequest.prototype, key, options2.mixins[key]);
        });
      }
      function endpointFactory(options3 = {}) {
        return new EndpointRequest(__spreadValues(__spreadValues({}, options3), this ? this._options : {}));
      }
      endpointFactory.Ctor = EndpointRequest;
      return endpointFactory;
    }
    module2.exports = registerRoute;
  }
});

// node_modules/wpapi/wpapi.js
var require_wpapi = __commonJS({
  "node_modules/wpapi/wpapi.js"(exports, module2) {
    "use strict";
    var objectReduce = require_object_reduce();
    var defaultRoutes = require_default_routes();
    var buildRouteTree = require_route_tree().build;
    var generateEndpointFactories = require_endpoint_factories().generate;
    var defaultEndpointFactories;
    var apiDefaultNamespace = "wp/v2";
    var autodiscovery = require_autodiscovery();
    var WPRequest = require_wp_request();
    var httpTransport = require_http_transport();
    function WPAPI2(options2) {
      if (this instanceof WPAPI2 === false) {
        return new WPAPI2(options2);
      }
      if (typeof options2.endpoint !== "string") {
        throw new Error("options hash must contain an API endpoint URL string");
      }
      this._ns = {};
      this._options = {
        endpoint: options2.endpoint.replace(/\/?$/, "/")
      };
      if (options2 && (options2.username || options2.password || options2.nonce)) {
        this.auth(options2);
      }
      return this.transport(options2.transport).bootstrap(options2 && options2.routes);
    }
    WPAPI2.prototype.transport = function(transport) {
      const _options = this._options;
      if (!_options.transport) {
        _options.transport = Object.create(WPAPI2.transport);
      }
      ["get", "head", "post", "put", "delete"].forEach((key) => {
        if (transport && transport[key]) {
          _options.transport[key] = transport[key];
        }
      });
      return this;
    };
    WPAPI2.transport = Object.create(httpTransport);
    Object.freeze(WPAPI2.transport);
    WPAPI2.site = function(endpoint, routes) {
      return new WPAPI2({
        endpoint,
        routes
      });
    };
    WPAPI2.prototype.url = function(url) {
      return new WPRequest(__spreadProps(__spreadValues({}, this._options), {
        endpoint: url
      }));
    };
    WPAPI2.prototype.root = function(relativePath) {
      relativePath = relativePath || "";
      const options2 = __spreadValues({}, this._options);
      const request = new WPRequest(options2);
      request._path = { "0": relativePath };
      return request;
    };
    WPAPI2.prototype.setHeaders = WPRequest.prototype.setHeaders;
    WPAPI2.prototype.auth = WPRequest.prototype.auth;
    WPAPI2.prototype.registerRoute = require_wp_register_route();
    WPAPI2.prototype.bootstrap = function(routes) {
      let routesByNamespace;
      let endpointFactoriesByNamespace;
      if (!routes) {
        if (!defaultEndpointFactories) {
          routesByNamespace = buildRouteTree(defaultRoutes);
          defaultEndpointFactories = generateEndpointFactories(routesByNamespace);
        }
        endpointFactoriesByNamespace = defaultEndpointFactories;
      } else {
        routesByNamespace = buildRouteTree(routes);
        endpointFactoriesByNamespace = generateEndpointFactories(routesByNamespace);
      }
      return objectReduce(endpointFactoriesByNamespace, (wpInstance, endpointFactories, namespace) => {
        wpInstance._ns[namespace] = objectReduce(endpointFactories, (nsHandlers, handlerFn, methodName) => {
          nsHandlers[methodName] = handlerFn;
          return nsHandlers;
        }, wpInstance._ns[namespace] || {
          _options: wpInstance._options
        });
        if (namespace === apiDefaultNamespace) {
          Object.keys(wpInstance._ns[namespace]).forEach((methodName) => {
            wpInstance[methodName] = wpInstance._ns[namespace][methodName];
          });
        }
        return wpInstance;
      }, this);
    };
    WPAPI2.prototype.namespace = function(namespace) {
      if (!this._ns[namespace]) {
        throw new Error("Error: namespace " + namespace + " is not recognized");
      }
      return this._ns[namespace];
    };
    WPAPI2.discover = (url) => {
      let endpoint;
      const req = WPAPI2.site(url).root();
      return req.headers().catch(() => {
        return req.get();
      }).then(autodiscovery.locateAPIRootHeader).then((apiRootURL) => {
        endpoint = apiRootURL;
        return WPAPI2.site(apiRootURL).root().get();
      }).then((apiRootJSON) => {
        return new WPAPI2({
          endpoint,
          routes: apiRootJSON.routes
        });
      }).catch((err) => {
        console.error(err);
        if (endpoint) {
          console.warn("Endpoint detected, proceeding despite error...");
          console.warn("Binding to " + endpoint + " and assuming default routes");
          return new WPAPI2.site(endpoint);
        }
        throw new Error("Autodiscovery failed");
      });
    };
    module2.exports = WPAPI2;
  }
});

// node_modules/axios/lib/helpers/bind.js
var require_bind = __commonJS({
  "node_modules/axios/lib/helpers/bind.js"(exports, module2) {
    "use strict";
    module2.exports = function bind(fn, thisArg) {
      return function wrap() {
        var args = new Array(arguments.length);
        for (var i = 0; i < args.length; i++) {
          args[i] = arguments[i];
        }
        return fn.apply(thisArg, args);
      };
    };
  }
});

// node_modules/axios/lib/utils.js
var require_utils3 = __commonJS({
  "node_modules/axios/lib/utils.js"(exports, module2) {
    "use strict";
    var bind = require_bind();
    var toString = Object.prototype.toString;
    function isArray(val) {
      return toString.call(val) === "[object Array]";
    }
    function isUndefined(val) {
      return typeof val === "undefined";
    }
    function isBuffer(val) {
      return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor) && typeof val.constructor.isBuffer === "function" && val.constructor.isBuffer(val);
    }
    function isArrayBuffer(val) {
      return toString.call(val) === "[object ArrayBuffer]";
    }
    function isFormData(val) {
      return typeof FormData !== "undefined" && val instanceof FormData;
    }
    function isArrayBufferView(val) {
      var result;
      if (typeof ArrayBuffer !== "undefined" && ArrayBuffer.isView) {
        result = ArrayBuffer.isView(val);
      } else {
        result = val && val.buffer && val.buffer instanceof ArrayBuffer;
      }
      return result;
    }
    function isString(val) {
      return typeof val === "string";
    }
    function isNumber(val) {
      return typeof val === "number";
    }
    function isObject(val) {
      return val !== null && typeof val === "object";
    }
    function isPlainObject(val) {
      if (toString.call(val) !== "[object Object]") {
        return false;
      }
      var prototype = Object.getPrototypeOf(val);
      return prototype === null || prototype === Object.prototype;
    }
    function isDate(val) {
      return toString.call(val) === "[object Date]";
    }
    function isFile(val) {
      return toString.call(val) === "[object File]";
    }
    function isBlob(val) {
      return toString.call(val) === "[object Blob]";
    }
    function isFunction(val) {
      return toString.call(val) === "[object Function]";
    }
    function isStream(val) {
      return isObject(val) && isFunction(val.pipe);
    }
    function isURLSearchParams(val) {
      return typeof URLSearchParams !== "undefined" && val instanceof URLSearchParams;
    }
    function trim(str) {
      return str.trim ? str.trim() : str.replace(/^\s+|\s+$/g, "");
    }
    function isStandardBrowserEnv() {
      if (typeof navigator !== "undefined" && (navigator.product === "ReactNative" || navigator.product === "NativeScript" || navigator.product === "NS")) {
        return false;
      }
      return typeof window !== "undefined" && typeof document !== "undefined";
    }
    function forEach(obj, fn) {
      if (obj === null || typeof obj === "undefined") {
        return;
      }
      if (typeof obj !== "object") {
        obj = [obj];
      }
      if (isArray(obj)) {
        for (var i = 0, l = obj.length; i < l; i++) {
          fn.call(null, obj[i], i, obj);
        }
      } else {
        for (var key in obj) {
          if (Object.prototype.hasOwnProperty.call(obj, key)) {
            fn.call(null, obj[key], key, obj);
          }
        }
      }
    }
    function merge2() {
      var result = {};
      function assignValue(val, key) {
        if (isPlainObject(result[key]) && isPlainObject(val)) {
          result[key] = merge2(result[key], val);
        } else if (isPlainObject(val)) {
          result[key] = merge2({}, val);
        } else if (isArray(val)) {
          result[key] = val.slice();
        } else {
          result[key] = val;
        }
      }
      for (var i = 0, l = arguments.length; i < l; i++) {
        forEach(arguments[i], assignValue);
      }
      return result;
    }
    function extend(a, b, thisArg) {
      forEach(b, function assignValue(val, key) {
        if (thisArg && typeof val === "function") {
          a[key] = bind(val, thisArg);
        } else {
          a[key] = val;
        }
      });
      return a;
    }
    function stripBOM(content) {
      if (content.charCodeAt(0) === 65279) {
        content = content.slice(1);
      }
      return content;
    }
    module2.exports = {
      isArray,
      isArrayBuffer,
      isBuffer,
      isFormData,
      isArrayBufferView,
      isString,
      isNumber,
      isObject,
      isPlainObject,
      isUndefined,
      isDate,
      isFile,
      isBlob,
      isFunction,
      isStream,
      isURLSearchParams,
      isStandardBrowserEnv,
      forEach,
      merge: merge2,
      extend,
      trim,
      stripBOM
    };
  }
});

// node_modules/axios/lib/helpers/buildURL.js
var require_buildURL = __commonJS({
  "node_modules/axios/lib/helpers/buildURL.js"(exports, module2) {
    "use strict";
    var utils = require_utils3();
    function encode(val) {
      return encodeURIComponent(val).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]");
    }
    module2.exports = function buildURL(url, params, paramsSerializer) {
      if (!params) {
        return url;
      }
      var serializedParams;
      if (paramsSerializer) {
        serializedParams = paramsSerializer(params);
      } else if (utils.isURLSearchParams(params)) {
        serializedParams = params.toString();
      } else {
        var parts = [];
        utils.forEach(params, function serialize(val, key) {
          if (val === null || typeof val === "undefined") {
            return;
          }
          if (utils.isArray(val)) {
            key = key + "[]";
          } else {
            val = [val];
          }
          utils.forEach(val, function parseValue(v) {
            if (utils.isDate(v)) {
              v = v.toISOString();
            } else if (utils.isObject(v)) {
              v = JSON.stringify(v);
            }
            parts.push(encode(key) + "=" + encode(v));
          });
        });
        serializedParams = parts.join("&");
      }
      if (serializedParams) {
        var hashmarkIndex = url.indexOf("#");
        if (hashmarkIndex !== -1) {
          url = url.slice(0, hashmarkIndex);
        }
        url += (url.indexOf("?") === -1 ? "?" : "&") + serializedParams;
      }
      return url;
    };
  }
});

// node_modules/axios/lib/core/InterceptorManager.js
var require_InterceptorManager = __commonJS({
  "node_modules/axios/lib/core/InterceptorManager.js"(exports, module2) {
    "use strict";
    var utils = require_utils3();
    function InterceptorManager() {
      this.handlers = [];
    }
    InterceptorManager.prototype.use = function use2(fulfilled, rejected, options2) {
      this.handlers.push({
        fulfilled,
        rejected,
        synchronous: options2 ? options2.synchronous : false,
        runWhen: options2 ? options2.runWhen : null
      });
      return this.handlers.length - 1;
    };
    InterceptorManager.prototype.eject = function eject(id) {
      if (this.handlers[id]) {
        this.handlers[id] = null;
      }
    };
    InterceptorManager.prototype.forEach = function forEach(fn) {
      utils.forEach(this.handlers, function forEachHandler(h) {
        if (h !== null) {
          fn(h);
        }
      });
    };
    module2.exports = InterceptorManager;
  }
});

// node_modules/axios/lib/helpers/normalizeHeaderName.js
var require_normalizeHeaderName = __commonJS({
  "node_modules/axios/lib/helpers/normalizeHeaderName.js"(exports, module2) {
    "use strict";
    var utils = require_utils3();
    module2.exports = function normalizeHeaderName(headers, normalizedName) {
      utils.forEach(headers, function processHeader(value, name) {
        if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {
          headers[normalizedName] = value;
          delete headers[name];
        }
      });
    };
  }
});

// node_modules/axios/lib/core/enhanceError.js
var require_enhanceError = __commonJS({
  "node_modules/axios/lib/core/enhanceError.js"(exports, module2) {
    "use strict";
    module2.exports = function enhanceError(error, config, code, request, response) {
      error.config = config;
      if (code) {
        error.code = code;
      }
      error.request = request;
      error.response = response;
      error.isAxiosError = true;
      error.toJSON = function toJSON() {
        return {
          message: this.message,
          name: this.name,
          description: this.description,
          number: this.number,
          fileName: this.fileName,
          lineNumber: this.lineNumber,
          columnNumber: this.columnNumber,
          stack: this.stack,
          config: this.config,
          code: this.code,
          status: this.response && this.response.status ? this.response.status : null
        };
      };
      return error;
    };
  }
});

// node_modules/axios/lib/core/createError.js
var require_createError = __commonJS({
  "node_modules/axios/lib/core/createError.js"(exports, module2) {
    "use strict";
    var enhanceError = require_enhanceError();
    module2.exports = function createError(message, config, code, request, response) {
      var error = new Error(message);
      return enhanceError(error, config, code, request, response);
    };
  }
});

// node_modules/axios/lib/core/settle.js
var require_settle = __commonJS({
  "node_modules/axios/lib/core/settle.js"(exports, module2) {
    "use strict";
    var createError = require_createError();
    module2.exports = function settle(resolve, reject, response) {
      var validateStatus = response.config.validateStatus;
      if (!response.status || !validateStatus || validateStatus(response.status)) {
        resolve(response);
      } else {
        reject(createError("Request failed with status code " + response.status, response.config, null, response.request, response));
      }
    };
  }
});

// node_modules/axios/lib/helpers/cookies.js
var require_cookies2 = __commonJS({
  "node_modules/axios/lib/helpers/cookies.js"(exports, module2) {
    "use strict";
    var utils = require_utils3();
    module2.exports = utils.isStandardBrowserEnv() ? function standardBrowserEnv() {
      return {
        write: function write(name, value, expires, path, domain2, secure) {
          var cookie = [];
          cookie.push(name + "=" + encodeURIComponent(value));
          if (utils.isNumber(expires)) {
            cookie.push("expires=" + new Date(expires).toGMTString());
          }
          if (utils.isString(path)) {
            cookie.push("path=" + path);
          }
          if (utils.isString(domain2)) {
            cookie.push("domain=" + domain2);
          }
          if (secure === true) {
            cookie.push("secure");
          }
          document.cookie = cookie.join("; ");
        },
        read: function read(name) {
          var match = document.cookie.match(new RegExp("(^|;\\s*)(" + name + ")=([^;]*)"));
          return match ? decodeURIComponent(match[3]) : null;
        },
        remove: function remove(name) {
          this.write(name, "", Date.now() - 864e5);
        }
      };
    }() : function nonStandardBrowserEnv() {
      return {
        write: function write() {
        },
        read: function read() {
          return null;
        },
        remove: function remove() {
        }
      };
    }();
  }
});

// node_modules/axios/lib/helpers/isAbsoluteURL.js
var require_isAbsoluteURL = __commonJS({
  "node_modules/axios/lib/helpers/isAbsoluteURL.js"(exports, module2) {
    "use strict";
    module2.exports = function isAbsoluteURL(url) {
      return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url);
    };
  }
});

// node_modules/axios/lib/helpers/combineURLs.js
var require_combineURLs = __commonJS({
  "node_modules/axios/lib/helpers/combineURLs.js"(exports, module2) {
    "use strict";
    module2.exports = function combineURLs(baseURL, relativeURL) {
      return relativeURL ? baseURL.replace(/\/+$/, "") + "/" + relativeURL.replace(/^\/+/, "") : baseURL;
    };
  }
});

// node_modules/axios/lib/core/buildFullPath.js
var require_buildFullPath = __commonJS({
  "node_modules/axios/lib/core/buildFullPath.js"(exports, module2) {
    "use strict";
    var isAbsoluteURL = require_isAbsoluteURL();
    var combineURLs = require_combineURLs();
    module2.exports = function buildFullPath(baseURL, requestedURL) {
      if (baseURL && !isAbsoluteURL(requestedURL)) {
        return combineURLs(baseURL, requestedURL);
      }
      return requestedURL;
    };
  }
});

// node_modules/axios/lib/helpers/parseHeaders.js
var require_parseHeaders = __commonJS({
  "node_modules/axios/lib/helpers/parseHeaders.js"(exports, module2) {
    "use strict";
    var utils = require_utils3();
    var ignoreDuplicateOf = [
      "age",
      "authorization",
      "content-length",
      "content-type",
      "etag",
      "expires",
      "from",
      "host",
      "if-modified-since",
      "if-unmodified-since",
      "last-modified",
      "location",
      "max-forwards",
      "proxy-authorization",
      "referer",
      "retry-after",
      "user-agent"
    ];
    module2.exports = function parseHeaders(headers) {
      var parsed = {};
      var key;
      var val;
      var i;
      if (!headers) {
        return parsed;
      }
      utils.forEach(headers.split("\n"), function parser2(line) {
        i = line.indexOf(":");
        key = utils.trim(line.substr(0, i)).toLowerCase();
        val = utils.trim(line.substr(i + 1));
        if (key) {
          if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {
            return;
          }
          if (key === "set-cookie") {
            parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);
          } else {
            parsed[key] = parsed[key] ? parsed[key] + ", " + val : val;
          }
        }
      });
      return parsed;
    };
  }
});

// node_modules/axios/lib/helpers/isURLSameOrigin.js
var require_isURLSameOrigin = __commonJS({
  "node_modules/axios/lib/helpers/isURLSameOrigin.js"(exports, module2) {
    "use strict";
    var utils = require_utils3();
    module2.exports = utils.isStandardBrowserEnv() ? function standardBrowserEnv() {
      var msie = /(msie|trident)/i.test(navigator.userAgent);
      var urlParsingNode = document.createElement("a");
      var originURL;
      function resolveURL(url) {
        var href = url;
        if (msie) {
          urlParsingNode.setAttribute("href", href);
          href = urlParsingNode.href;
        }
        urlParsingNode.setAttribute("href", href);
        return {
          href: urlParsingNode.href,
          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, "") : "",
          host: urlParsingNode.host,
          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\?/, "") : "",
          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, "") : "",
          hostname: urlParsingNode.hostname,
          port: urlParsingNode.port,
          pathname: urlParsingNode.pathname.charAt(0) === "/" ? urlParsingNode.pathname : "/" + urlParsingNode.pathname
        };
      }
      originURL = resolveURL(window.location.href);
      return function isURLSameOrigin(requestURL) {
        var parsed = utils.isString(requestURL) ? resolveURL(requestURL) : requestURL;
        return parsed.protocol === originURL.protocol && parsed.host === originURL.host;
      };
    }() : function nonStandardBrowserEnv() {
      return function isURLSameOrigin() {
        return true;
      };
    }();
  }
});

// node_modules/axios/lib/cancel/Cancel.js
var require_Cancel = __commonJS({
  "node_modules/axios/lib/cancel/Cancel.js"(exports, module2) {
    "use strict";
    function Cancel(message) {
      this.message = message;
    }
    Cancel.prototype.toString = function toString() {
      return "Cancel" + (this.message ? ": " + this.message : "");
    };
    Cancel.prototype.__CANCEL__ = true;
    module2.exports = Cancel;
  }
});

// node_modules/axios/lib/adapters/xhr.js
var require_xhr = __commonJS({
  "node_modules/axios/lib/adapters/xhr.js"(exports, module2) {
    "use strict";
    var utils = require_utils3();
    var settle = require_settle();
    var cookies = require_cookies2();
    var buildURL = require_buildURL();
    var buildFullPath = require_buildFullPath();
    var parseHeaders = require_parseHeaders();
    var isURLSameOrigin = require_isURLSameOrigin();
    var createError = require_createError();
    var defaults2 = require_defaults();
    var Cancel = require_Cancel();
    module2.exports = function xhrAdapter(config) {
      return new Promise(function dispatchXhrRequest(resolve, reject) {
        var requestData = config.data;
        var requestHeaders = config.headers;
        var responseType = config.responseType;
        var onCanceled;
        function done() {
          if (config.cancelToken) {
            config.cancelToken.unsubscribe(onCanceled);
          }
          if (config.signal) {
            config.signal.removeEventListener("abort", onCanceled);
          }
        }
        if (utils.isFormData(requestData)) {
          delete requestHeaders["Content-Type"];
        }
        var request = new XMLHttpRequest();
        if (config.auth) {
          var username = config.auth.username || "";
          var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : "";
          requestHeaders.Authorization = "Basic " + btoa(username + ":" + password);
        }
        var fullPath = buildFullPath(config.baseURL, config.url);
        request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);
        request.timeout = config.timeout;
        function onloadend() {
          if (!request) {
            return;
          }
          var responseHeaders = "getAllResponseHeaders" in request ? parseHeaders(request.getAllResponseHeaders()) : null;
          var responseData = !responseType || responseType === "text" || responseType === "json" ? request.responseText : request.response;
          var response = {
            data: responseData,
            status: request.status,
            statusText: request.statusText,
            headers: responseHeaders,
            config,
            request
          };
          settle(function _resolve(value) {
            resolve(value);
            done();
          }, function _reject(err) {
            reject(err);
            done();
          }, response);
          request = null;
        }
        if ("onloadend" in request) {
          request.onloadend = onloadend;
        } else {
          request.onreadystatechange = function handleLoad() {
            if (!request || request.readyState !== 4) {
              return;
            }
            if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf("file:") === 0)) {
              return;
            }
            setTimeout(onloadend);
          };
        }
        request.onabort = function handleAbort() {
          if (!request) {
            return;
          }
          reject(createError("Request aborted", config, "ECONNABORTED", request));
          request = null;
        };
        request.onerror = function handleError() {
          reject(createError("Network Error", config, null, request));
          request = null;
        };
        request.ontimeout = function handleTimeout() {
          var timeoutErrorMessage = config.timeout ? "timeout of " + config.timeout + "ms exceeded" : "timeout exceeded";
          var transitional = config.transitional || defaults2.transitional;
          if (config.timeoutErrorMessage) {
            timeoutErrorMessage = config.timeoutErrorMessage;
          }
          reject(createError(timeoutErrorMessage, config, transitional.clarifyTimeoutError ? "ETIMEDOUT" : "ECONNABORTED", request));
          request = null;
        };
        if (utils.isStandardBrowserEnv()) {
          var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ? cookies.read(config.xsrfCookieName) : void 0;
          if (xsrfValue) {
            requestHeaders[config.xsrfHeaderName] = xsrfValue;
          }
        }
        if ("setRequestHeader" in request) {
          utils.forEach(requestHeaders, function setRequestHeader(val, key) {
            if (typeof requestData === "undefined" && key.toLowerCase() === "content-type") {
              delete requestHeaders[key];
            } else {
              request.setRequestHeader(key, val);
            }
          });
        }
        if (!utils.isUndefined(config.withCredentials)) {
          request.withCredentials = !!config.withCredentials;
        }
        if (responseType && responseType !== "json") {
          request.responseType = config.responseType;
        }
        if (typeof config.onDownloadProgress === "function") {
          request.addEventListener("progress", config.onDownloadProgress);
        }
        if (typeof config.onUploadProgress === "function" && request.upload) {
          request.upload.addEventListener("progress", config.onUploadProgress);
        }
        if (config.cancelToken || config.signal) {
          onCanceled = function(cancel) {
            if (!request) {
              return;
            }
            reject(!cancel || cancel && cancel.type ? new Cancel("canceled") : cancel);
            request.abort();
            request = null;
          };
          config.cancelToken && config.cancelToken.subscribe(onCanceled);
          if (config.signal) {
            config.signal.aborted ? onCanceled() : config.signal.addEventListener("abort", onCanceled);
          }
        }
        if (!requestData) {
          requestData = null;
        }
        request.send(requestData);
      });
    };
  }
});

// node_modules/axios/lib/defaults.js
var require_defaults = __commonJS({
  "node_modules/axios/lib/defaults.js"(exports, module2) {
    "use strict";
    var utils = require_utils3();
    var normalizeHeaderName = require_normalizeHeaderName();
    var enhanceError = require_enhanceError();
    var DEFAULT_CONTENT_TYPE = {
      "Content-Type": "application/x-www-form-urlencoded"
    };
    function setContentTypeIfUnset(headers, value) {
      if (!utils.isUndefined(headers) && utils.isUndefined(headers["Content-Type"])) {
        headers["Content-Type"] = value;
      }
    }
    function getDefaultAdapter() {
      var adapter;
      if (typeof XMLHttpRequest !== "undefined") {
        adapter = require_xhr();
      } else if (typeof process !== "undefined" && Object.prototype.toString.call(process) === "[object process]") {
        adapter = require_xhr();
      }
      return adapter;
    }
    function stringifySafely(rawValue, parser2, encoder) {
      if (utils.isString(rawValue)) {
        try {
          (parser2 || JSON.parse)(rawValue);
          return utils.trim(rawValue);
        } catch (e) {
          if (e.name !== "SyntaxError") {
            throw e;
          }
        }
      }
      return (encoder || JSON.stringify)(rawValue);
    }
    var defaults2 = {
      transitional: {
        silentJSONParsing: true,
        forcedJSONParsing: true,
        clarifyTimeoutError: false
      },
      adapter: getDefaultAdapter(),
      transformRequest: [function transformRequest(data, headers) {
        normalizeHeaderName(headers, "Accept");
        normalizeHeaderName(headers, "Content-Type");
        if (utils.isFormData(data) || utils.isArrayBuffer(data) || utils.isBuffer(data) || utils.isStream(data) || utils.isFile(data) || utils.isBlob(data)) {
          return data;
        }
        if (utils.isArrayBufferView(data)) {
          return data.buffer;
        }
        if (utils.isURLSearchParams(data)) {
          setContentTypeIfUnset(headers, "application/x-www-form-urlencoded;charset=utf-8");
          return data.toString();
        }
        if (utils.isObject(data) || headers && headers["Content-Type"] === "application/json") {
          setContentTypeIfUnset(headers, "application/json");
          return stringifySafely(data);
        }
        return data;
      }],
      transformResponse: [function transformResponse(data) {
        var transitional = this.transitional || defaults2.transitional;
        var silentJSONParsing = transitional && transitional.silentJSONParsing;
        var forcedJSONParsing = transitional && transitional.forcedJSONParsing;
        var strictJSONParsing = !silentJSONParsing && this.responseType === "json";
        if (strictJSONParsing || forcedJSONParsing && utils.isString(data) && data.length) {
          try {
            return JSON.parse(data);
          } catch (e) {
            if (strictJSONParsing) {
              if (e.name === "SyntaxError") {
                throw enhanceError(e, this, "E_JSON_PARSE");
              }
              throw e;
            }
          }
        }
        return data;
      }],
      timeout: 0,
      xsrfCookieName: "XSRF-TOKEN",
      xsrfHeaderName: "X-XSRF-TOKEN",
      maxContentLength: -1,
      maxBodyLength: -1,
      validateStatus: function validateStatus(status) {
        return status >= 200 && status < 300;
      },
      headers: {
        common: {
          "Accept": "application/json, text/plain, */*"
        }
      }
    };
    utils.forEach(["delete", "get", "head"], function forEachMethodNoData(method) {
      defaults2.headers[method] = {};
    });
    utils.forEach(["post", "put", "patch"], function forEachMethodWithData(method) {
      defaults2.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);
    });
    module2.exports = defaults2;
  }
});

// node_modules/axios/lib/core/transformData.js
var require_transformData = __commonJS({
  "node_modules/axios/lib/core/transformData.js"(exports, module2) {
    "use strict";
    var utils = require_utils3();
    var defaults2 = require_defaults();
    module2.exports = function transformData(data, headers, fns) {
      var context = this || defaults2;
      utils.forEach(fns, function transform(fn) {
        data = fn.call(context, data, headers);
      });
      return data;
    };
  }
});

// node_modules/axios/lib/cancel/isCancel.js
var require_isCancel = __commonJS({
  "node_modules/axios/lib/cancel/isCancel.js"(exports, module2) {
    "use strict";
    module2.exports = function isCancel(value) {
      return !!(value && value.__CANCEL__);
    };
  }
});

// node_modules/axios/lib/core/dispatchRequest.js
var require_dispatchRequest = __commonJS({
  "node_modules/axios/lib/core/dispatchRequest.js"(exports, module2) {
    "use strict";
    var utils = require_utils3();
    var transformData = require_transformData();
    var isCancel = require_isCancel();
    var defaults2 = require_defaults();
    var Cancel = require_Cancel();
    function throwIfCancellationRequested(config) {
      if (config.cancelToken) {
        config.cancelToken.throwIfRequested();
      }
      if (config.signal && config.signal.aborted) {
        throw new Cancel("canceled");
      }
    }
    module2.exports = function dispatchRequest(config) {
      throwIfCancellationRequested(config);
      config.headers = config.headers || {};
      config.data = transformData.call(config, config.data, config.headers, config.transformRequest);
      config.headers = utils.merge(config.headers.common || {}, config.headers[config.method] || {}, config.headers);
      utils.forEach(["delete", "get", "head", "post", "put", "patch", "common"], function cleanHeaderConfig(method) {
        delete config.headers[method];
      });
      var adapter = config.adapter || defaults2.adapter;
      return adapter(config).then(function onAdapterResolution(response) {
        throwIfCancellationRequested(config);
        response.data = transformData.call(config, response.data, response.headers, config.transformResponse);
        return response;
      }, function onAdapterRejection(reason) {
        if (!isCancel(reason)) {
          throwIfCancellationRequested(config);
          if (reason && reason.response) {
            reason.response.data = transformData.call(config, reason.response.data, reason.response.headers, config.transformResponse);
          }
        }
        return Promise.reject(reason);
      });
    };
  }
});

// node_modules/axios/lib/core/mergeConfig.js
var require_mergeConfig = __commonJS({
  "node_modules/axios/lib/core/mergeConfig.js"(exports, module2) {
    "use strict";
    var utils = require_utils3();
    module2.exports = function mergeConfig(config1, config2) {
      config2 = config2 || {};
      var config = {};
      function getMergedValue(target, source) {
        if (utils.isPlainObject(target) && utils.isPlainObject(source)) {
          return utils.merge(target, source);
        } else if (utils.isPlainObject(source)) {
          return utils.merge({}, source);
        } else if (utils.isArray(source)) {
          return source.slice();
        }
        return source;
      }
      function mergeDeepProperties(prop) {
        if (!utils.isUndefined(config2[prop])) {
          return getMergedValue(config1[prop], config2[prop]);
        } else if (!utils.isUndefined(config1[prop])) {
          return getMergedValue(void 0, config1[prop]);
        }
      }
      function valueFromConfig2(prop) {
        if (!utils.isUndefined(config2[prop])) {
          return getMergedValue(void 0, config2[prop]);
        }
      }
      function defaultToConfig2(prop) {
        if (!utils.isUndefined(config2[prop])) {
          return getMergedValue(void 0, config2[prop]);
        } else if (!utils.isUndefined(config1[prop])) {
          return getMergedValue(void 0, config1[prop]);
        }
      }
      function mergeDirectKeys(prop) {
        if (prop in config2) {
          return getMergedValue(config1[prop], config2[prop]);
        } else if (prop in config1) {
          return getMergedValue(void 0, config1[prop]);
        }
      }
      var mergeMap = {
        "url": valueFromConfig2,
        "method": valueFromConfig2,
        "data": valueFromConfig2,
        "baseURL": defaultToConfig2,
        "transformRequest": defaultToConfig2,
        "transformResponse": defaultToConfig2,
        "paramsSerializer": defaultToConfig2,
        "timeout": defaultToConfig2,
        "timeoutMessage": defaultToConfig2,
        "withCredentials": defaultToConfig2,
        "adapter": defaultToConfig2,
        "responseType": defaultToConfig2,
        "xsrfCookieName": defaultToConfig2,
        "xsrfHeaderName": defaultToConfig2,
        "onUploadProgress": defaultToConfig2,
        "onDownloadProgress": defaultToConfig2,
        "decompress": defaultToConfig2,
        "maxContentLength": defaultToConfig2,
        "maxBodyLength": defaultToConfig2,
        "transport": defaultToConfig2,
        "httpAgent": defaultToConfig2,
        "httpsAgent": defaultToConfig2,
        "cancelToken": defaultToConfig2,
        "socketPath": defaultToConfig2,
        "responseEncoding": defaultToConfig2,
        "validateStatus": mergeDirectKeys
      };
      utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {
        var merge2 = mergeMap[prop] || mergeDeepProperties;
        var configValue = merge2(prop);
        utils.isUndefined(configValue) && merge2 !== mergeDirectKeys || (config[prop] = configValue);
      });
      return config;
    };
  }
});

// node_modules/axios/lib/env/data.js
var require_data = __commonJS({
  "node_modules/axios/lib/env/data.js"(exports, module2) {
    module2.exports = {
      "version": "0.24.0"
    };
  }
});

// node_modules/axios/lib/helpers/validator.js
var require_validator = __commonJS({
  "node_modules/axios/lib/helpers/validator.js"(exports, module2) {
    "use strict";
    var VERSION = require_data().version;
    var validators = {};
    ["object", "boolean", "number", "function", "string", "symbol"].forEach(function(type, i) {
      validators[type] = function validator(thing) {
        return typeof thing === type || "a" + (i < 1 ? "n " : " ") + type;
      };
    });
    var deprecatedWarnings = {};
    validators.transitional = function transitional(validator, version, message) {
      function formatMessage(opt, desc) {
        return "[Axios v" + VERSION + "] Transitional option '" + opt + "'" + desc + (message ? ". " + message : "");
      }
      return function(value, opt, opts) {
        if (validator === false) {
          throw new Error(formatMessage(opt, " has been removed" + (version ? " in " + version : "")));
        }
        if (version && !deprecatedWarnings[opt]) {
          deprecatedWarnings[opt] = true;
          console.warn(formatMessage(opt, " has been deprecated since v" + version + " and will be removed in the near future"));
        }
        return validator ? validator(value, opt, opts) : true;
      };
    };
    function assertOptions(options2, schema, allowUnknown) {
      if (typeof options2 !== "object") {
        throw new TypeError("options must be an object");
      }
      var keys = Object.keys(options2);
      var i = keys.length;
      while (i-- > 0) {
        var opt = keys[i];
        var validator = schema[opt];
        if (validator) {
          var value = options2[opt];
          var result = value === void 0 || validator(value, opt, options2);
          if (result !== true) {
            throw new TypeError("option " + opt + " must be " + result);
          }
          continue;
        }
        if (allowUnknown !== true) {
          throw Error("Unknown option " + opt);
        }
      }
    }
    module2.exports = {
      assertOptions,
      validators
    };
  }
});

// node_modules/axios/lib/core/Axios.js
var require_Axios = __commonJS({
  "node_modules/axios/lib/core/Axios.js"(exports, module2) {
    "use strict";
    var utils = require_utils3();
    var buildURL = require_buildURL();
    var InterceptorManager = require_InterceptorManager();
    var dispatchRequest = require_dispatchRequest();
    var mergeConfig = require_mergeConfig();
    var validator = require_validator();
    var validators = validator.validators;
    function Axios(instanceConfig) {
      this.defaults = instanceConfig;
      this.interceptors = {
        request: new InterceptorManager(),
        response: new InterceptorManager()
      };
    }
    Axios.prototype.request = function request(config) {
      if (typeof config === "string") {
        config = arguments[1] || {};
        config.url = arguments[0];
      } else {
        config = config || {};
      }
      config = mergeConfig(this.defaults, config);
      if (config.method) {
        config.method = config.method.toLowerCase();
      } else if (this.defaults.method) {
        config.method = this.defaults.method.toLowerCase();
      } else {
        config.method = "get";
      }
      var transitional = config.transitional;
      if (transitional !== void 0) {
        validator.assertOptions(transitional, {
          silentJSONParsing: validators.transitional(validators.boolean),
          forcedJSONParsing: validators.transitional(validators.boolean),
          clarifyTimeoutError: validators.transitional(validators.boolean)
        }, false);
      }
      var requestInterceptorChain = [];
      var synchronousRequestInterceptors = true;
      this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {
        if (typeof interceptor.runWhen === "function" && interceptor.runWhen(config) === false) {
          return;
        }
        synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;
        requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);
      });
      var responseInterceptorChain = [];
      this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {
        responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);
      });
      var promise;
      if (!synchronousRequestInterceptors) {
        var chain = [dispatchRequest, void 0];
        Array.prototype.unshift.apply(chain, requestInterceptorChain);
        chain = chain.concat(responseInterceptorChain);
        promise = Promise.resolve(config);
        while (chain.length) {
          promise = promise.then(chain.shift(), chain.shift());
        }
        return promise;
      }
      var newConfig = config;
      while (requestInterceptorChain.length) {
        var onFulfilled = requestInterceptorChain.shift();
        var onRejected = requestInterceptorChain.shift();
        try {
          newConfig = onFulfilled(newConfig);
        } catch (error) {
          onRejected(error);
          break;
        }
      }
      try {
        promise = dispatchRequest(newConfig);
      } catch (error) {
        return Promise.reject(error);
      }
      while (responseInterceptorChain.length) {
        promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());
      }
      return promise;
    };
    Axios.prototype.getUri = function getUri(config) {
      config = mergeConfig(this.defaults, config);
      return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\?/, "");
    };
    utils.forEach(["delete", "get", "head", "options"], function forEachMethodNoData(method) {
      Axios.prototype[method] = function(url, config) {
        return this.request(mergeConfig(config || {}, {
          method,
          url,
          data: (config || {}).data
        }));
      };
    });
    utils.forEach(["post", "put", "patch"], function forEachMethodWithData(method) {
      Axios.prototype[method] = function(url, data, config) {
        return this.request(mergeConfig(config || {}, {
          method,
          url,
          data
        }));
      };
    });
    module2.exports = Axios;
  }
});

// node_modules/axios/lib/cancel/CancelToken.js
var require_CancelToken = __commonJS({
  "node_modules/axios/lib/cancel/CancelToken.js"(exports, module2) {
    "use strict";
    var Cancel = require_Cancel();
    function CancelToken(executor) {
      if (typeof executor !== "function") {
        throw new TypeError("executor must be a function.");
      }
      var resolvePromise;
      this.promise = new Promise(function promiseExecutor(resolve) {
        resolvePromise = resolve;
      });
      var token = this;
      this.promise.then(function(cancel) {
        if (!token._listeners)
          return;
        var i;
        var l = token._listeners.length;
        for (i = 0; i < l; i++) {
          token._listeners[i](cancel);
        }
        token._listeners = null;
      });
      this.promise.then = function(onfulfilled) {
        var _resolve;
        var promise = new Promise(function(resolve) {
          token.subscribe(resolve);
          _resolve = resolve;
        }).then(onfulfilled);
        promise.cancel = function reject() {
          token.unsubscribe(_resolve);
        };
        return promise;
      };
      executor(function cancel(message) {
        if (token.reason) {
          return;
        }
        token.reason = new Cancel(message);
        resolvePromise(token.reason);
      });
    }
    CancelToken.prototype.throwIfRequested = function throwIfRequested() {
      if (this.reason) {
        throw this.reason;
      }
    };
    CancelToken.prototype.subscribe = function subscribe(listener) {
      if (this.reason) {
        listener(this.reason);
        return;
      }
      if (this._listeners) {
        this._listeners.push(listener);
      } else {
        this._listeners = [listener];
      }
    };
    CancelToken.prototype.unsubscribe = function unsubscribe(listener) {
      if (!this._listeners) {
        return;
      }
      var index = this._listeners.indexOf(listener);
      if (index !== -1) {
        this._listeners.splice(index, 1);
      }
    };
    CancelToken.source = function source() {
      var cancel;
      var token = new CancelToken(function executor(c) {
        cancel = c;
      });
      return {
        token,
        cancel
      };
    };
    module2.exports = CancelToken;
  }
});

// node_modules/axios/lib/helpers/spread.js
var require_spread = __commonJS({
  "node_modules/axios/lib/helpers/spread.js"(exports, module2) {
    "use strict";
    module2.exports = function spread(callback) {
      return function wrap(arr) {
        return callback.apply(null, arr);
      };
    };
  }
});

// node_modules/axios/lib/helpers/isAxiosError.js
var require_isAxiosError = __commonJS({
  "node_modules/axios/lib/helpers/isAxiosError.js"(exports, module2) {
    "use strict";
    module2.exports = function isAxiosError(payload) {
      return typeof payload === "object" && payload.isAxiosError === true;
    };
  }
});

// node_modules/axios/lib/axios.js
var require_axios = __commonJS({
  "node_modules/axios/lib/axios.js"(exports, module2) {
    "use strict";
    var utils = require_utils3();
    var bind = require_bind();
    var Axios = require_Axios();
    var mergeConfig = require_mergeConfig();
    var defaults2 = require_defaults();
    function createInstance(defaultConfig) {
      var context = new Axios(defaultConfig);
      var instance = bind(Axios.prototype.request, context);
      utils.extend(instance, Axios.prototype, context);
      utils.extend(instance, context);
      instance.create = function create(instanceConfig) {
        return createInstance(mergeConfig(defaultConfig, instanceConfig));
      };
      return instance;
    }
    var axios2 = createInstance(defaults2);
    axios2.Axios = Axios;
    axios2.Cancel = require_Cancel();
    axios2.CancelToken = require_CancelToken();
    axios2.isCancel = require_isCancel();
    axios2.VERSION = require_data().version;
    axios2.all = function all(promises) {
      return Promise.all(promises);
    };
    axios2.spread = require_spread();
    axios2.isAxiosError = require_isAxiosError();
    module2.exports = axios2;
    module2.exports.default = axios2;
  }
});

// node_modules/axios/index.js
var require_axios2 = __commonJS({
  "node_modules/axios/index.js"(exports, module2) {
    module2.exports = require_axios();
  }
});

// src/main.ts
__export(exports, {
  default: () => WordpressPlugin
});
var import_obsidian8 = __toModule(require("obsidian"));

// src/settings.ts
var import_obsidian = __toModule(require("obsidian"));
var ApiType;
(function(ApiType2) {
  ApiType2["XML_RPC"] = "xml-rpc";
  ApiType2["RestAPI_Jetpack"] = "restapi-jetpack";
  ApiType2["RestAPI_OAuth2"] = "restapi-oauth2";
})(ApiType || (ApiType = {}));
var DEFAULT_SETTINGS = {
  apiType: ApiType.XML_RPC,
  endpoint: "",
  saveUserName: false,
  showRibbonIcon: false
};
var WordpressSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Settings for WordPress Publish plugin" });
    new import_obsidian.Setting(containerEl).setName("WordPress URL").setDesc("Full path of installed WordPress, for example, https://example.com/wordpress").addText((text) => text.setPlaceholder("https://example.com/wordpress").setValue(this.plugin.settings.endpoint).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.endpoint = value;
      yield this.plugin.saveSettings();
      this.display();
    })));
    new import_obsidian.Setting(containerEl).setName("API Type").setDesc(`Select which API you want to use.
- XML-RPC: Enabled by default but some host may disable it
- REST API with Jetpack
- REST API with OAuth2`).addDropdown((dropdown) => {
      dropdown.addOption(ApiType.XML_RPC, "XML-RPC").addOption(ApiType.RestAPI_Jetpack, "REST API with Jetpack").addOption(ApiType.RestAPI_OAuth2, "REST API with OAuth2").setValue(this.plugin.settings.apiType).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.apiType = value;
        yield this.plugin.saveSettings();
        this.display();
      }));
    });
    if (this.plugin.settings.apiType === ApiType.XML_RPC) {
      new import_obsidian.Setting(containerEl).setName("Save User Name").setDesc(`If enabled, the WordPress user name you typed will be saved in local data.
This might be user name disclosure in synchronize services.`).addToggle((toggle) => toggle.setValue(this.plugin.settings.saveUserName).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.saveUserName = value;
        yield this.plugin.saveSettings();
        this.display();
      })));
      if (this.plugin.settings.saveUserName) {
        new import_obsidian.Setting(containerEl).setName("WordPress User Name").setDesc("User name of WordPress").addText((text) => text.setPlaceholder("User name").setValue(this.plugin.settings.userName).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.userName = value;
          yield this.plugin.saveSettings();
          this.display();
        })));
      } else {
        delete this.plugin.settings.userName;
      }
    }
    new import_obsidian.Setting(containerEl).setName("Show icon in sidebar").setDesc(`If enabled, a button which opens publish panel will be added to the Obsidian sidebar.
Changes only take effect on reload.`).addToggle((toggle) => toggle.setValue(this.plugin.settings.showRibbonIcon).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.showRibbonIcon = value;
      yield this.plugin.saveSettings();
      this.display();
    })));
  }
};

// src/icons.ts
var import_obsidian2 = __toModule(require("obsidian"));
var icons = {
  "wp-logo": `
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <g fill="currentColor">
    <path d="M 7.109375 50 C 7.109375 66.976562 16.976562 81.648438 31.28125 88.601562 L 10.820312 32.542969 C 8.441406 37.878906 7.109375 43.78125 7.109375 50 Z M 7.109375 50 "/>
    <path d="M 78.957031 47.835938 C 78.957031 42.535156 77.054688 38.863281 75.421875 36.003906 C 73.246094 32.472656 71.207031 29.480469 71.207031 25.945312 C 71.207031 22.003906 74.199219 18.332031 78.410156 18.332031 C 78.601562 18.332031 78.78125 18.355469 78.96875 18.367188 C 71.335938 11.375 61.167969 7.105469 50 7.105469 C 35.015625 7.105469 21.832031 14.796875 14.164062 26.441406 C 15.167969 26.472656 16.117188 26.492188 16.921875 26.492188 C 21.410156 26.492188 28.355469 25.949219 28.355469 25.949219 C 30.667969 25.8125 30.941406 29.207031 28.628906 29.480469 C 28.628906 29.480469 26.304688 29.753906 23.722656 29.890625 L 39.339844 76.351562 L 48.726562 48.199219 L 42.042969 29.886719 C 39.734375 29.753906 37.546875 29.480469 37.546875 29.480469 C 35.234375 29.34375 35.507812 25.808594 37.816406 25.945312 C 37.816406 25.945312 44.902344 26.492188 49.117188 26.492188 C 53.601562 26.492188 60.546875 25.945312 60.546875 25.945312 C 62.859375 25.808594 63.132812 29.207031 60.824219 29.480469 C 60.824219 29.480469 58.492188 29.753906 55.914062 29.886719 L 71.414062 75.996094 L 75.691406 61.699219 C 77.546875 55.765625 78.957031 51.507812 78.957031 47.835938 Z M 78.957031 47.835938 "/>
    <path d="M 50.753906 53.75 L 37.882812 91.148438 C 41.726562 92.277344 45.789062 92.894531 50 92.894531 C 54.996094 92.894531 59.785156 92.03125 64.246094 90.464844 C 64.128906 90.28125 64.027344 90.085938 63.941406 89.871094 Z M 50.753906 53.75 "/>
    <path d="M 87.636719 29.417969 C 87.824219 30.785156 87.925781 32.253906 87.925781 33.832031 C 87.925781 38.183594 87.113281 43.074219 84.667969 49.195312 L 71.5625 87.074219 C 84.316406 79.640625 92.894531 65.824219 92.894531 50 C 92.894531 42.542969 90.988281 35.53125 87.636719 29.417969 Z M 87.636719 29.417969 "/>
    <path d="M 50 0 C 22.433594 0 0 22.429688 0 50 C 0 77.570312 22.433594 100 50 100 C 77.570312 100 100.003906 77.570312 100.003906 50 C 100.003906 22.429688 77.570312 0 50 0 Z M 50 97.707031 C 23.695312 97.707031 2.292969 76.304688 2.292969 50 C 2.292969 23.695312 23.695312 2.292969 50 2.292969 C 76.304688 2.292969 97.707031 23.695312 97.707031 50 C 97.707031 76.304688 76.304688 97.707031 50 97.707031 Z M 50 97.707031 "/>
  </g>
</svg>`
};
var addIcons = () => {
  Object.keys(icons).forEach((key) => {
    (0, import_obsidian2.addIcon)(key, icons[key]);
  });
};

// src/wp-publish-view.ts
var import_obsidian7 = __toModule(require("obsidian"));

// src/wp-client.ts
var import_obsidian6 = __toModule(require("obsidian"));

// src/wp-xml-rpc-client.ts
var import_xmlrpc = __toModule(require_xmlrpc());
var import_obsidian3 = __toModule(require("obsidian"));

// node_modules/marked/lib/marked.esm.js
function getDefaults() {
  return {
    baseUrl: null,
    breaks: false,
    extensions: null,
    gfm: true,
    headerIds: true,
    headerPrefix: "",
    highlight: null,
    langPrefix: "language-",
    mangle: true,
    pedantic: false,
    renderer: null,
    sanitize: false,
    sanitizer: null,
    silent: false,
    smartLists: false,
    smartypants: false,
    tokenizer: null,
    walkTokens: null,
    xhtml: false
  };
}
var defaults = getDefaults();
function changeDefaults(newDefaults) {
  defaults = newDefaults;
}
var escapeTest = /[&<>"']/;
var escapeReplace = /[&<>"']/g;
var escapeTestNoEncode = /[<>"']|&(?!#?\w+;)/;
var escapeReplaceNoEncode = /[<>"']|&(?!#?\w+;)/g;
var escapeReplacements = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;"
};
var getEscapeReplacement = (ch) => escapeReplacements[ch];
function escape2(html, encode) {
  if (encode) {
    if (escapeTest.test(html)) {
      return html.replace(escapeReplace, getEscapeReplacement);
    }
  } else {
    if (escapeTestNoEncode.test(html)) {
      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);
    }
  }
  return html;
}
var unescapeTest = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;
function unescape2(html) {
  return html.replace(unescapeTest, (_, n) => {
    n = n.toLowerCase();
    if (n === "colon")
      return ":";
    if (n.charAt(0) === "#") {
      return n.charAt(1) === "x" ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));
    }
    return "";
  });
}
var caret = /(^|[^\[])\^/g;
function edit(regex, opt) {
  regex = regex.source || regex;
  opt = opt || "";
  const obj = {
    replace: (name, val) => {
      val = val.source || val;
      val = val.replace(caret, "$1");
      regex = regex.replace(name, val);
      return obj;
    },
    getRegex: () => {
      return new RegExp(regex, opt);
    }
  };
  return obj;
}
var nonWordAndColonTest = /[^\w:]/g;
var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;
function cleanUrl(sanitize, base, href) {
  if (sanitize) {
    let prot;
    try {
      prot = decodeURIComponent(unescape2(href)).replace(nonWordAndColonTest, "").toLowerCase();
    } catch (e) {
      return null;
    }
    if (prot.indexOf("javascript:") === 0 || prot.indexOf("vbscript:") === 0 || prot.indexOf("data:") === 0) {
      return null;
    }
  }
  if (base && !originIndependentUrl.test(href)) {
    href = resolveUrl(base, href);
  }
  try {
    href = encodeURI(href).replace(/%25/g, "%");
  } catch (e) {
    return null;
  }
  return href;
}
var baseUrls = {};
var justDomain = /^[^:]+:\/*[^/]*$/;
var protocol = /^([^:]+:)[\s\S]*$/;
var domain = /^([^:]+:\/*[^/]*)[\s\S]*$/;
function resolveUrl(base, href) {
  if (!baseUrls[" " + base]) {
    if (justDomain.test(base)) {
      baseUrls[" " + base] = base + "/";
    } else {
      baseUrls[" " + base] = rtrim(base, "/", true);
    }
  }
  base = baseUrls[" " + base];
  const relativeBase = base.indexOf(":") === -1;
  if (href.substring(0, 2) === "//") {
    if (relativeBase) {
      return href;
    }
    return base.replace(protocol, "$1") + href;
  } else if (href.charAt(0) === "/") {
    if (relativeBase) {
      return href;
    }
    return base.replace(domain, "$1") + href;
  } else {
    return base + href;
  }
}
var noopTest = { exec: function noopTest2() {
} };
function merge(obj) {
  let i = 1, target, key;
  for (; i < arguments.length; i++) {
    target = arguments[i];
    for (key in target) {
      if (Object.prototype.hasOwnProperty.call(target, key)) {
        obj[key] = target[key];
      }
    }
  }
  return obj;
}
function splitCells(tableRow, count) {
  const row = tableRow.replace(/\|/g, (match, offset, str) => {
    let escaped = false, curr = offset;
    while (--curr >= 0 && str[curr] === "\\")
      escaped = !escaped;
    if (escaped) {
      return "|";
    } else {
      return " |";
    }
  }), cells = row.split(/ \|/);
  let i = 0;
  if (!cells[0].trim()) {
    cells.shift();
  }
  if (!cells[cells.length - 1].trim()) {
    cells.pop();
  }
  if (cells.length > count) {
    cells.splice(count);
  } else {
    while (cells.length < count)
      cells.push("");
  }
  for (; i < cells.length; i++) {
    cells[i] = cells[i].trim().replace(/\\\|/g, "|");
  }
  return cells;
}
function rtrim(str, c, invert) {
  const l = str.length;
  if (l === 0) {
    return "";
  }
  let suffLen = 0;
  while (suffLen < l) {
    const currChar = str.charAt(l - suffLen - 1);
    if (currChar === c && !invert) {
      suffLen++;
    } else if (currChar !== c && invert) {
      suffLen++;
    } else {
      break;
    }
  }
  return str.substr(0, l - suffLen);
}
function findClosingBracket(str, b) {
  if (str.indexOf(b[1]) === -1) {
    return -1;
  }
  const l = str.length;
  let level = 0, i = 0;
  for (; i < l; i++) {
    if (str[i] === "\\") {
      i++;
    } else if (str[i] === b[0]) {
      level++;
    } else if (str[i] === b[1]) {
      level--;
      if (level < 0) {
        return i;
      }
    }
  }
  return -1;
}
function checkSanitizeDeprecation(opt) {
  if (opt && opt.sanitize && !opt.silent) {
    console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options");
  }
}
function repeatString(pattern, count) {
  if (count < 1) {
    return "";
  }
  let result = "";
  while (count > 1) {
    if (count & 1) {
      result += pattern;
    }
    count >>= 1;
    pattern += pattern;
  }
  return result + pattern;
}
function outputLink(cap, link, raw, lexer2) {
  const href = link.href;
  const title = link.title ? escape2(link.title) : null;
  const text = cap[1].replace(/\\([\[\]])/g, "$1");
  if (cap[0].charAt(0) !== "!") {
    lexer2.state.inLink = true;
    const token = {
      type: "link",
      raw,
      href,
      title,
      text,
      tokens: lexer2.inlineTokens(text, [])
    };
    lexer2.state.inLink = false;
    return token;
  } else {
    return {
      type: "image",
      raw,
      href,
      title,
      text: escape2(text)
    };
  }
}
function indentCodeCompensation(raw, text) {
  const matchIndentToCode = raw.match(/^(\s+)(?:```)/);
  if (matchIndentToCode === null) {
    return text;
  }
  const indentToCode = matchIndentToCode[1];
  return text.split("\n").map((node) => {
    const matchIndentInNode = node.match(/^\s+/);
    if (matchIndentInNode === null) {
      return node;
    }
    const [indentInNode] = matchIndentInNode;
    if (indentInNode.length >= indentToCode.length) {
      return node.slice(indentToCode.length);
    }
    return node;
  }).join("\n");
}
var Tokenizer = class {
  constructor(options2) {
    this.options = options2 || defaults;
  }
  space(src) {
    const cap = this.rules.block.newline.exec(src);
    if (cap) {
      if (cap[0].length > 1) {
        return {
          type: "space",
          raw: cap[0]
        };
      }
      return { raw: "\n" };
    }
  }
  code(src) {
    const cap = this.rules.block.code.exec(src);
    if (cap) {
      const text = cap[0].replace(/^ {1,4}/gm, "");
      return {
        type: "code",
        raw: cap[0],
        codeBlockStyle: "indented",
        text: !this.options.pedantic ? rtrim(text, "\n") : text
      };
    }
  }
  fences(src) {
    const cap = this.rules.block.fences.exec(src);
    if (cap) {
      const raw = cap[0];
      const text = indentCodeCompensation(raw, cap[3] || "");
      return {
        type: "code",
        raw,
        lang: cap[2] ? cap[2].trim() : cap[2],
        text
      };
    }
  }
  heading(src) {
    const cap = this.rules.block.heading.exec(src);
    if (cap) {
      let text = cap[2].trim();
      if (/#$/.test(text)) {
        const trimmed = rtrim(text, "#");
        if (this.options.pedantic) {
          text = trimmed.trim();
        } else if (!trimmed || / $/.test(trimmed)) {
          text = trimmed.trim();
        }
      }
      const token = {
        type: "heading",
        raw: cap[0],
        depth: cap[1].length,
        text,
        tokens: []
      };
      this.lexer.inline(token.text, token.tokens);
      return token;
    }
  }
  hr(src) {
    const cap = this.rules.block.hr.exec(src);
    if (cap) {
      return {
        type: "hr",
        raw: cap[0]
      };
    }
  }
  blockquote(src) {
    const cap = this.rules.block.blockquote.exec(src);
    if (cap) {
      const text = cap[0].replace(/^ *> ?/gm, "");
      return {
        type: "blockquote",
        raw: cap[0],
        tokens: this.lexer.blockTokens(text, []),
        text
      };
    }
  }
  list(src) {
    let cap = this.rules.block.list.exec(src);
    if (cap) {
      let raw, istask, ischecked, indent, i, blankLine, endsWithBlankLine, line, nextLine, rawLine, itemContents;
      let bull = cap[1].trim();
      const isordered = bull.length > 1;
      const list = {
        type: "list",
        raw: "",
        ordered: isordered,
        start: isordered ? +bull.slice(0, -1) : "",
        loose: false,
        items: []
      };
      bull = isordered ? `\\d{1,9}\\${bull.slice(-1)}` : `\\${bull}`;
      if (this.options.pedantic) {
        bull = isordered ? bull : "[*+-]";
      }
      const itemRegex = new RegExp(`^( {0,3}${bull})((?: [^\\n]*)?(?:\\n|$))`);
      while (src) {
        if (!(cap = itemRegex.exec(src))) {
          break;
        }
        if (this.rules.block.hr.test(src)) {
          break;
        }
        raw = cap[0];
        src = src.substring(raw.length);
        line = cap[2].split("\n", 1)[0];
        nextLine = src.split("\n", 1)[0];
        if (this.options.pedantic) {
          indent = 2;
          itemContents = line.trimLeft();
        } else {
          indent = cap[2].search(/[^ ]/);
          indent = indent > 4 ? 1 : indent;
          itemContents = line.slice(indent);
          indent += cap[1].length;
        }
        blankLine = false;
        if (!line && /^ *$/.test(nextLine)) {
          raw += nextLine + "\n";
          src = src.substring(nextLine.length + 1);
          list.loose = true;
        }
        const nextBulletRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}(?:[*+-]|\\d{1,9}[.)])`);
        while (src && !list.loose) {
          rawLine = src.split("\n", 1)[0];
          line = rawLine;
          if (this.options.pedantic) {
            line = line.replace(/^ {1,4}(?=( {4})*[^ ])/g, "  ");
          }
          if (nextBulletRegex.test(line)) {
            break;
          }
          if (line.search(/[^ ]/) >= indent || !line.trim()) {
            itemContents += "\n" + line.slice(indent);
          } else if (!blankLine) {
            itemContents += "\n" + line;
          } else {
            break;
          }
          if (!blankLine && !line.trim()) {
            blankLine = true;
          }
          raw += rawLine + "\n";
          src = src.substring(rawLine.length + 1);
        }
        if (!list.loose) {
          if (endsWithBlankLine) {
            list.loose = true;
          } else if (/\n *\n *$/.test(raw)) {
            endsWithBlankLine = true;
          }
        }
        if (this.options.gfm) {
          istask = /^\[[ xX]\] /.exec(itemContents);
          if (istask) {
            ischecked = istask[0] !== "[ ] ";
            itemContents = itemContents.replace(/^\[[ xX]\] +/, "");
          }
        }
        list.items.push({
          type: "list_item",
          raw,
          task: !!istask,
          checked: ischecked,
          loose: false,
          text: itemContents
        });
        list.raw += raw;
      }
      list.items[list.items.length - 1].raw = raw.trimRight();
      list.items[list.items.length - 1].text = itemContents.trimRight();
      list.raw = list.raw.trimRight();
      const l = list.items.length;
      for (i = 0; i < l; i++) {
        this.lexer.state.top = false;
        list.items[i].tokens = this.lexer.blockTokens(list.items[i].text, []);
        if (!list.loose && list.items[i].tokens.some((t) => t.type === "space")) {
          list.loose = true;
          list.items[i].loose = true;
        }
      }
      return list;
    }
  }
  html(src) {
    const cap = this.rules.block.html.exec(src);
    if (cap) {
      const token = {
        type: "html",
        raw: cap[0],
        pre: !this.options.sanitizer && (cap[1] === "pre" || cap[1] === "script" || cap[1] === "style"),
        text: cap[0]
      };
      if (this.options.sanitize) {
        token.type = "paragraph";
        token.text = this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape2(cap[0]);
        token.tokens = [];
        this.lexer.inline(token.text, token.tokens);
      }
      return token;
    }
  }
  def(src) {
    const cap = this.rules.block.def.exec(src);
    if (cap) {
      if (cap[3])
        cap[3] = cap[3].substring(1, cap[3].length - 1);
      const tag = cap[1].toLowerCase().replace(/\s+/g, " ");
      return {
        type: "def",
        tag,
        raw: cap[0],
        href: cap[2],
        title: cap[3]
      };
    }
  }
  table(src) {
    const cap = this.rules.block.table.exec(src);
    if (cap) {
      const item = {
        type: "table",
        header: splitCells(cap[1]).map((c) => {
          return { text: c };
        }),
        align: cap[2].replace(/^ *|\| *$/g, "").split(/ *\| */),
        rows: cap[3] ? cap[3].replace(/\n$/, "").split("\n") : []
      };
      if (item.header.length === item.align.length) {
        item.raw = cap[0];
        let l = item.align.length;
        let i, j, k, row;
        for (i = 0; i < l; i++) {
          if (/^ *-+: *$/.test(item.align[i])) {
            item.align[i] = "right";
          } else if (/^ *:-+: *$/.test(item.align[i])) {
            item.align[i] = "center";
          } else if (/^ *:-+ *$/.test(item.align[i])) {
            item.align[i] = "left";
          } else {
            item.align[i] = null;
          }
        }
        l = item.rows.length;
        for (i = 0; i < l; i++) {
          item.rows[i] = splitCells(item.rows[i], item.header.length).map((c) => {
            return { text: c };
          });
        }
        l = item.header.length;
        for (j = 0; j < l; j++) {
          item.header[j].tokens = [];
          this.lexer.inlineTokens(item.header[j].text, item.header[j].tokens);
        }
        l = item.rows.length;
        for (j = 0; j < l; j++) {
          row = item.rows[j];
          for (k = 0; k < row.length; k++) {
            row[k].tokens = [];
            this.lexer.inlineTokens(row[k].text, row[k].tokens);
          }
        }
        return item;
      }
    }
  }
  lheading(src) {
    const cap = this.rules.block.lheading.exec(src);
    if (cap) {
      const token = {
        type: "heading",
        raw: cap[0],
        depth: cap[2].charAt(0) === "=" ? 1 : 2,
        text: cap[1],
        tokens: []
      };
      this.lexer.inline(token.text, token.tokens);
      return token;
    }
  }
  paragraph(src) {
    const cap = this.rules.block.paragraph.exec(src);
    if (cap) {
      const token = {
        type: "paragraph",
        raw: cap[0],
        text: cap[1].charAt(cap[1].length - 1) === "\n" ? cap[1].slice(0, -1) : cap[1],
        tokens: []
      };
      this.lexer.inline(token.text, token.tokens);
      return token;
    }
  }
  text(src) {
    const cap = this.rules.block.text.exec(src);
    if (cap) {
      const token = {
        type: "text",
        raw: cap[0],
        text: cap[0],
        tokens: []
      };
      this.lexer.inline(token.text, token.tokens);
      return token;
    }
  }
  escape(src) {
    const cap = this.rules.inline.escape.exec(src);
    if (cap) {
      return {
        type: "escape",
        raw: cap[0],
        text: escape2(cap[1])
      };
    }
  }
  tag(src) {
    const cap = this.rules.inline.tag.exec(src);
    if (cap) {
      if (!this.lexer.state.inLink && /^<a /i.test(cap[0])) {
        this.lexer.state.inLink = true;
      } else if (this.lexer.state.inLink && /^<\/a>/i.test(cap[0])) {
        this.lexer.state.inLink = false;
      }
      if (!this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
        this.lexer.state.inRawBlock = true;
      } else if (this.lexer.state.inRawBlock && /^<\/(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
        this.lexer.state.inRawBlock = false;
      }
      return {
        type: this.options.sanitize ? "text" : "html",
        raw: cap[0],
        inLink: this.lexer.state.inLink,
        inRawBlock: this.lexer.state.inRawBlock,
        text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape2(cap[0]) : cap[0]
      };
    }
  }
  link(src) {
    const cap = this.rules.inline.link.exec(src);
    if (cap) {
      const trimmedUrl = cap[2].trim();
      if (!this.options.pedantic && /^</.test(trimmedUrl)) {
        if (!/>$/.test(trimmedUrl)) {
          return;
        }
        const rtrimSlash = rtrim(trimmedUrl.slice(0, -1), "\\");
        if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {
          return;
        }
      } else {
        const lastParenIndex = findClosingBracket(cap[2], "()");
        if (lastParenIndex > -1) {
          const start = cap[0].indexOf("!") === 0 ? 5 : 4;
          const linkLen = start + cap[1].length + lastParenIndex;
          cap[2] = cap[2].substring(0, lastParenIndex);
          cap[0] = cap[0].substring(0, linkLen).trim();
          cap[3] = "";
        }
      }
      let href = cap[2];
      let title = "";
      if (this.options.pedantic) {
        const link = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(href);
        if (link) {
          href = link[1];
          title = link[3];
        }
      } else {
        title = cap[3] ? cap[3].slice(1, -1) : "";
      }
      href = href.trim();
      if (/^</.test(href)) {
        if (this.options.pedantic && !/>$/.test(trimmedUrl)) {
          href = href.slice(1);
        } else {
          href = href.slice(1, -1);
        }
      }
      return outputLink(cap, {
        href: href ? href.replace(this.rules.inline._escapes, "$1") : href,
        title: title ? title.replace(this.rules.inline._escapes, "$1") : title
      }, cap[0], this.lexer);
    }
  }
  reflink(src, links) {
    let cap;
    if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {
      let link = (cap[2] || cap[1]).replace(/\s+/g, " ");
      link = links[link.toLowerCase()];
      if (!link || !link.href) {
        const text = cap[0].charAt(0);
        return {
          type: "text",
          raw: text,
          text
        };
      }
      return outputLink(cap, link, cap[0], this.lexer);
    }
  }
  emStrong(src, maskedSrc, prevChar = "") {
    let match = this.rules.inline.emStrong.lDelim.exec(src);
    if (!match)
      return;
    if (match[3] && prevChar.match(/[\p{L}\p{N}]/u))
      return;
    const nextChar = match[1] || match[2] || "";
    if (!nextChar || nextChar && (prevChar === "" || this.rules.inline.punctuation.exec(prevChar))) {
      const lLength = match[0].length - 1;
      let rDelim, rLength, delimTotal = lLength, midDelimTotal = 0;
      const endReg = match[0][0] === "*" ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;
      endReg.lastIndex = 0;
      maskedSrc = maskedSrc.slice(-1 * src.length + lLength);
      while ((match = endReg.exec(maskedSrc)) != null) {
        rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];
        if (!rDelim)
          continue;
        rLength = rDelim.length;
        if (match[3] || match[4]) {
          delimTotal += rLength;
          continue;
        } else if (match[5] || match[6]) {
          if (lLength % 3 && !((lLength + rLength) % 3)) {
            midDelimTotal += rLength;
            continue;
          }
        }
        delimTotal -= rLength;
        if (delimTotal > 0)
          continue;
        rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal);
        if (Math.min(lLength, rLength) % 2) {
          const text2 = src.slice(1, lLength + match.index + rLength);
          return {
            type: "em",
            raw: src.slice(0, lLength + match.index + rLength + 1),
            text: text2,
            tokens: this.lexer.inlineTokens(text2, [])
          };
        }
        const text = src.slice(2, lLength + match.index + rLength - 1);
        return {
          type: "strong",
          raw: src.slice(0, lLength + match.index + rLength + 1),
          text,
          tokens: this.lexer.inlineTokens(text, [])
        };
      }
    }
  }
  codespan(src) {
    const cap = this.rules.inline.code.exec(src);
    if (cap) {
      let text = cap[2].replace(/\n/g, " ");
      const hasNonSpaceChars = /[^ ]/.test(text);
      const hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);
      if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {
        text = text.substring(1, text.length - 1);
      }
      text = escape2(text, true);
      return {
        type: "codespan",
        raw: cap[0],
        text
      };
    }
  }
  br(src) {
    const cap = this.rules.inline.br.exec(src);
    if (cap) {
      return {
        type: "br",
        raw: cap[0]
      };
    }
  }
  del(src) {
    const cap = this.rules.inline.del.exec(src);
    if (cap) {
      return {
        type: "del",
        raw: cap[0],
        text: cap[2],
        tokens: this.lexer.inlineTokens(cap[2], [])
      };
    }
  }
  autolink(src, mangle2) {
    const cap = this.rules.inline.autolink.exec(src);
    if (cap) {
      let text, href;
      if (cap[2] === "@") {
        text = escape2(this.options.mangle ? mangle2(cap[1]) : cap[1]);
        href = "mailto:" + text;
      } else {
        text = escape2(cap[1]);
        href = text;
      }
      return {
        type: "link",
        raw: cap[0],
        text,
        href,
        tokens: [
          {
            type: "text",
            raw: text,
            text
          }
        ]
      };
    }
  }
  url(src, mangle2) {
    let cap;
    if (cap = this.rules.inline.url.exec(src)) {
      let text, href;
      if (cap[2] === "@") {
        text = escape2(this.options.mangle ? mangle2(cap[0]) : cap[0]);
        href = "mailto:" + text;
      } else {
        let prevCapZero;
        do {
          prevCapZero = cap[0];
          cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];
        } while (prevCapZero !== cap[0]);
        text = escape2(cap[0]);
        if (cap[1] === "www.") {
          href = "http://" + text;
        } else {
          href = text;
        }
      }
      return {
        type: "link",
        raw: cap[0],
        text,
        href,
        tokens: [
          {
            type: "text",
            raw: text,
            text
          }
        ]
      };
    }
  }
  inlineText(src, smartypants2) {
    const cap = this.rules.inline.text.exec(src);
    if (cap) {
      let text;
      if (this.lexer.state.inRawBlock) {
        text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape2(cap[0]) : cap[0];
      } else {
        text = escape2(this.options.smartypants ? smartypants2(cap[0]) : cap[0]);
      }
      return {
        type: "text",
        raw: cap[0],
        text
      };
    }
  }
};
var block = {
  newline: /^(?: *(?:\n|$))+/,
  code: /^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,
  fences: /^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,
  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,
  heading: /^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,
  blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
  list: /^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,
  html: "^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",
  def: /^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,
  table: noopTest,
  lheading: /^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,
  _paragraph: /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,
  text: /^[^\n]+/
};
block._label = /(?!\s*\])(?:\\[\[\]]|[^\[\]])+/;
block._title = /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;
block.def = edit(block.def).replace("label", block._label).replace("title", block._title).getRegex();
block.bullet = /(?:[*+-]|\d{1,9}[.)])/;
block.listItemStart = edit(/^( *)(bull) */).replace("bull", block.bullet).getRegex();
block.list = edit(block.list).replace(/bull/g, block.bullet).replace("hr", "\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def", "\\n+(?=" + block.def.source + ")").getRegex();
block._tag = "address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
block._comment = /<!--(?!-?>)[\s\S]*?(?:-->|$)/;
block.html = edit(block.html, "i").replace("comment", block._comment).replace("tag", block._tag).replace("attribute", / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();
block.paragraph = edit(block._paragraph).replace("hr", block.hr).replace("heading", " {0,3}#{1,6} ").replace("|lheading", "").replace("|table", "").replace("blockquote", " {0,3}>").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", block._tag).getRegex();
block.blockquote = edit(block.blockquote).replace("paragraph", block.paragraph).getRegex();
block.normal = merge({}, block);
block.gfm = merge({}, block.normal, {
  table: "^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"
});
block.gfm.table = edit(block.gfm.table).replace("hr", block.hr).replace("heading", " {0,3}#{1,6} ").replace("blockquote", " {0,3}>").replace("code", " {4}[^\\n]").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", block._tag).getRegex();
block.gfm.paragraph = edit(block._paragraph).replace("hr", block.hr).replace("heading", " {0,3}#{1,6} ").replace("|lheading", "").replace("table", block.gfm.table).replace("blockquote", " {0,3}>").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag", block._tag).getRegex();
block.pedantic = merge({}, block.normal, {
  html: edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment", block._comment).replace(/tag/g, "(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),
  def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,
  heading: /^(#{1,6})(.*)(?:\n+|$)/,
  fences: noopTest,
  paragraph: edit(block.normal._paragraph).replace("hr", block.hr).replace("heading", " *#{1,6} *[^\n]").replace("lheading", block.lheading).replace("blockquote", " {0,3}>").replace("|fences", "").replace("|list", "").replace("|html", "").getRegex()
});
var inline = {
  escape: /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,
  autolink: /^<(scheme:[^\s\x00-\x1f<>]*|email)>/,
  url: noopTest,
  tag: "^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",
  link: /^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,
  reflink: /^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,
  nolink: /^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
  reflinkSearch: "reflink|nolink(?!\\()",
  emStrong: {
    lDelim: /^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,
    rDelimAst: /^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,
    rDelimUnd: /^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/
  },
  code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
  br: /^( {2,}|\\)\n(?!\s*$)/,
  del: noopTest,
  text: /^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,
  punctuation: /^([\spunctuation])/
};
inline._punctuation = "!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";
inline.punctuation = edit(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex();
inline.blockSkip = /\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;
inline.escapedEmSt = /\\\*|\\_/g;
inline._comment = edit(block._comment).replace("(?:-->|$)", "-->").getRegex();
inline.emStrong.lDelim = edit(inline.emStrong.lDelim).replace(/punct/g, inline._punctuation).getRegex();
inline.emStrong.rDelimAst = edit(inline.emStrong.rDelimAst, "g").replace(/punct/g, inline._punctuation).getRegex();
inline.emStrong.rDelimUnd = edit(inline.emStrong.rDelimUnd, "g").replace(/punct/g, inline._punctuation).getRegex();
inline._escapes = /\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;
inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;
inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
inline.autolink = edit(inline.autolink).replace("scheme", inline._scheme).replace("email", inline._email).getRegex();
inline._attribute = /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;
inline.tag = edit(inline.tag).replace("comment", inline._comment).replace("attribute", inline._attribute).getRegex();
inline._label = /(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
inline._href = /<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;
inline._title = /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;
inline.link = edit(inline.link).replace("label", inline._label).replace("href", inline._href).replace("title", inline._title).getRegex();
inline.reflink = edit(inline.reflink).replace("label", inline._label).getRegex();
inline.reflinkSearch = edit(inline.reflinkSearch, "g").replace("reflink", inline.reflink).replace("nolink", inline.nolink).getRegex();
inline.normal = merge({}, inline);
inline.pedantic = merge({}, inline.normal, {
  strong: {
    start: /^__|\*\*/,
    middle: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
    endAst: /\*\*(?!\*)/g,
    endUnd: /__(?!_)/g
  },
  em: {
    start: /^_|\*/,
    middle: /^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,
    endAst: /\*(?!\*)/g,
    endUnd: /_(?!_)/g
  },
  link: edit(/^!?\[(label)\]\((.*?)\)/).replace("label", inline._label).getRegex(),
  reflink: edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label", inline._label).getRegex()
});
inline.gfm = merge({}, inline.normal, {
  escape: edit(inline.escape).replace("])", "~|])").getRegex(),
  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,
  url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
  _backpedal: /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
  del: /^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,
  text: /^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/
});
inline.gfm.url = edit(inline.gfm.url, "i").replace("email", inline.gfm._extended_email).getRegex();
inline.breaks = merge({}, inline.gfm, {
  br: edit(inline.br).replace("{2,}", "*").getRegex(),
  text: edit(inline.gfm.text).replace("\\b_", "\\b_| {2,}\\n").replace(/\{2,\}/g, "*").getRegex()
});
function smartypants(text) {
  return text.replace(/---/g, "\u2014").replace(/--/g, "\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g, "$1\u2018").replace(/'/g, "\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1\u201C").replace(/"/g, "\u201D").replace(/\.{3}/g, "\u2026");
}
function mangle(text) {
  let out = "", i, ch;
  const l = text.length;
  for (i = 0; i < l; i++) {
    ch = text.charCodeAt(i);
    if (Math.random() > 0.5) {
      ch = "x" + ch.toString(16);
    }
    out += "&#" + ch + ";";
  }
  return out;
}
var Lexer = class {
  constructor(options2) {
    this.tokens = [];
    this.tokens.links = Object.create(null);
    this.options = options2 || defaults;
    this.options.tokenizer = this.options.tokenizer || new Tokenizer();
    this.tokenizer = this.options.tokenizer;
    this.tokenizer.options = this.options;
    this.tokenizer.lexer = this;
    this.inlineQueue = [];
    this.state = {
      inLink: false,
      inRawBlock: false,
      top: true
    };
    const rules = {
      block: block.normal,
      inline: inline.normal
    };
    if (this.options.pedantic) {
      rules.block = block.pedantic;
      rules.inline = inline.pedantic;
    } else if (this.options.gfm) {
      rules.block = block.gfm;
      if (this.options.breaks) {
        rules.inline = inline.breaks;
      } else {
        rules.inline = inline.gfm;
      }
    }
    this.tokenizer.rules = rules;
  }
  static get rules() {
    return {
      block,
      inline
    };
  }
  static lex(src, options2) {
    const lexer2 = new Lexer(options2);
    return lexer2.lex(src);
  }
  static lexInline(src, options2) {
    const lexer2 = new Lexer(options2);
    return lexer2.inlineTokens(src);
  }
  lex(src) {
    src = src.replace(/\r\n|\r/g, "\n").replace(/\t/g, "    ");
    this.blockTokens(src, this.tokens);
    let next;
    while (next = this.inlineQueue.shift()) {
      this.inlineTokens(next.src, next.tokens);
    }
    return this.tokens;
  }
  blockTokens(src, tokens = []) {
    if (this.options.pedantic) {
      src = src.replace(/^ +$/gm, "");
    }
    let token, lastToken, cutSrc, lastParagraphClipped;
    while (src) {
      if (this.options.extensions && this.options.extensions.block && this.options.extensions.block.some((extTokenizer) => {
        if (token = extTokenizer.call({ lexer: this }, src, tokens)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          return true;
        }
        return false;
      })) {
        continue;
      }
      if (token = this.tokenizer.space(src)) {
        src = src.substring(token.raw.length);
        if (token.type) {
          tokens.push(token);
        }
        continue;
      }
      if (token = this.tokenizer.code(src)) {
        src = src.substring(token.raw.length);
        lastToken = tokens[tokens.length - 1];
        if (lastToken && (lastToken.type === "paragraph" || lastToken.type === "text")) {
          lastToken.raw += "\n" + token.raw;
          lastToken.text += "\n" + token.text;
          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
        } else {
          tokens.push(token);
        }
        continue;
      }
      if (token = this.tokenizer.fences(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.heading(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.hr(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.blockquote(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.list(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.html(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.def(src)) {
        src = src.substring(token.raw.length);
        lastToken = tokens[tokens.length - 1];
        if (lastToken && (lastToken.type === "paragraph" || lastToken.type === "text")) {
          lastToken.raw += "\n" + token.raw;
          lastToken.text += "\n" + token.raw;
          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
        } else if (!this.tokens.links[token.tag]) {
          this.tokens.links[token.tag] = {
            href: token.href,
            title: token.title
          };
        }
        continue;
      }
      if (token = this.tokenizer.table(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.lheading(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      cutSrc = src;
      if (this.options.extensions && this.options.extensions.startBlock) {
        let startIndex = Infinity;
        const tempSrc = src.slice(1);
        let tempStart;
        this.options.extensions.startBlock.forEach(function(getStartIndex) {
          tempStart = getStartIndex.call({ lexer: this }, tempSrc);
          if (typeof tempStart === "number" && tempStart >= 0) {
            startIndex = Math.min(startIndex, tempStart);
          }
        });
        if (startIndex < Infinity && startIndex >= 0) {
          cutSrc = src.substring(0, startIndex + 1);
        }
      }
      if (this.state.top && (token = this.tokenizer.paragraph(cutSrc))) {
        lastToken = tokens[tokens.length - 1];
        if (lastParagraphClipped && lastToken.type === "paragraph") {
          lastToken.raw += "\n" + token.raw;
          lastToken.text += "\n" + token.text;
          this.inlineQueue.pop();
          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
        } else {
          tokens.push(token);
        }
        lastParagraphClipped = cutSrc.length !== src.length;
        src = src.substring(token.raw.length);
        continue;
      }
      if (token = this.tokenizer.text(src)) {
        src = src.substring(token.raw.length);
        lastToken = tokens[tokens.length - 1];
        if (lastToken && lastToken.type === "text") {
          lastToken.raw += "\n" + token.raw;
          lastToken.text += "\n" + token.text;
          this.inlineQueue.pop();
          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
        } else {
          tokens.push(token);
        }
        continue;
      }
      if (src) {
        const errMsg = "Infinite loop on byte: " + src.charCodeAt(0);
        if (this.options.silent) {
          console.error(errMsg);
          break;
        } else {
          throw new Error(errMsg);
        }
      }
    }
    this.state.top = true;
    return tokens;
  }
  inline(src, tokens) {
    this.inlineQueue.push({ src, tokens });
  }
  inlineTokens(src, tokens = []) {
    let token, lastToken, cutSrc;
    let maskedSrc = src;
    let match;
    let keepPrevChar, prevChar;
    if (this.tokens.links) {
      const links = Object.keys(this.tokens.links);
      if (links.length > 0) {
        while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {
          if (links.includes(match[0].slice(match[0].lastIndexOf("[") + 1, -1))) {
            maskedSrc = maskedSrc.slice(0, match.index) + "[" + repeatString("a", match[0].length - 2) + "]" + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);
          }
        }
      }
    }
    while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {
      maskedSrc = maskedSrc.slice(0, match.index) + "[" + repeatString("a", match[0].length - 2) + "]" + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);
    }
    while ((match = this.tokenizer.rules.inline.escapedEmSt.exec(maskedSrc)) != null) {
      maskedSrc = maskedSrc.slice(0, match.index) + "++" + maskedSrc.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);
    }
    while (src) {
      if (!keepPrevChar) {
        prevChar = "";
      }
      keepPrevChar = false;
      if (this.options.extensions && this.options.extensions.inline && this.options.extensions.inline.some((extTokenizer) => {
        if (token = extTokenizer.call({ lexer: this }, src, tokens)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          return true;
        }
        return false;
      })) {
        continue;
      }
      if (token = this.tokenizer.escape(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.tag(src)) {
        src = src.substring(token.raw.length);
        lastToken = tokens[tokens.length - 1];
        if (lastToken && token.type === "text" && lastToken.type === "text") {
          lastToken.raw += token.raw;
          lastToken.text += token.text;
        } else {
          tokens.push(token);
        }
        continue;
      }
      if (token = this.tokenizer.link(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.reflink(src, this.tokens.links)) {
        src = src.substring(token.raw.length);
        lastToken = tokens[tokens.length - 1];
        if (lastToken && token.type === "text" && lastToken.type === "text") {
          lastToken.raw += token.raw;
          lastToken.text += token.text;
        } else {
          tokens.push(token);
        }
        continue;
      }
      if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.codespan(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.br(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.del(src)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (token = this.tokenizer.autolink(src, mangle)) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      if (!this.state.inLink && (token = this.tokenizer.url(src, mangle))) {
        src = src.substring(token.raw.length);
        tokens.push(token);
        continue;
      }
      cutSrc = src;
      if (this.options.extensions && this.options.extensions.startInline) {
        let startIndex = Infinity;
        const tempSrc = src.slice(1);
        let tempStart;
        this.options.extensions.startInline.forEach(function(getStartIndex) {
          tempStart = getStartIndex.call({ lexer: this }, tempSrc);
          if (typeof tempStart === "number" && tempStart >= 0) {
            startIndex = Math.min(startIndex, tempStart);
          }
        });
        if (startIndex < Infinity && startIndex >= 0) {
          cutSrc = src.substring(0, startIndex + 1);
        }
      }
      if (token = this.tokenizer.inlineText(cutSrc, smartypants)) {
        src = src.substring(token.raw.length);
        if (token.raw.slice(-1) !== "_") {
          prevChar = token.raw.slice(-1);
        }
        keepPrevChar = true;
        lastToken = tokens[tokens.length - 1];
        if (lastToken && lastToken.type === "text") {
          lastToken.raw += token.raw;
          lastToken.text += token.text;
        } else {
          tokens.push(token);
        }
        continue;
      }
      if (src) {
        const errMsg = "Infinite loop on byte: " + src.charCodeAt(0);
        if (this.options.silent) {
          console.error(errMsg);
          break;
        } else {
          throw new Error(errMsg);
        }
      }
    }
    return tokens;
  }
};
var Renderer = class {
  constructor(options2) {
    this.options = options2 || defaults;
  }
  code(code, infostring, escaped) {
    const lang = (infostring || "").match(/\S*/)[0];
    if (this.options.highlight) {
      const out = this.options.highlight(code, lang);
      if (out != null && out !== code) {
        escaped = true;
        code = out;
      }
    }
    code = code.replace(/\n$/, "") + "\n";
    if (!lang) {
      return "<pre><code>" + (escaped ? code : escape2(code, true)) + "</code></pre>\n";
    }
    return '<pre><code class="' + this.options.langPrefix + escape2(lang, true) + '">' + (escaped ? code : escape2(code, true)) + "</code></pre>\n";
  }
  blockquote(quote) {
    return "<blockquote>\n" + quote + "</blockquote>\n";
  }
  html(html) {
    return html;
  }
  heading(text, level, raw, slugger) {
    if (this.options.headerIds) {
      return "<h" + level + ' id="' + this.options.headerPrefix + slugger.slug(raw) + '">' + text + "</h" + level + ">\n";
    }
    return "<h" + level + ">" + text + "</h" + level + ">\n";
  }
  hr() {
    return this.options.xhtml ? "<hr/>\n" : "<hr>\n";
  }
  list(body, ordered, start) {
    const type = ordered ? "ol" : "ul", startatt = ordered && start !== 1 ? ' start="' + start + '"' : "";
    return "<" + type + startatt + ">\n" + body + "</" + type + ">\n";
  }
  listitem(text) {
    return "<li>" + text + "</li>\n";
  }
  checkbox(checked) {
    return "<input " + (checked ? 'checked="" ' : "") + 'disabled="" type="checkbox"' + (this.options.xhtml ? " /" : "") + "> ";
  }
  paragraph(text) {
    return "<p>" + text + "</p>\n";
  }
  table(header, body) {
    if (body)
      body = "<tbody>" + body + "</tbody>";
    return "<table>\n<thead>\n" + header + "</thead>\n" + body + "</table>\n";
  }
  tablerow(content) {
    return "<tr>\n" + content + "</tr>\n";
  }
  tablecell(content, flags) {
    const type = flags.header ? "th" : "td";
    const tag = flags.align ? "<" + type + ' align="' + flags.align + '">' : "<" + type + ">";
    return tag + content + "</" + type + ">\n";
  }
  strong(text) {
    return "<strong>" + text + "</strong>";
  }
  em(text) {
    return "<em>" + text + "</em>";
  }
  codespan(text) {
    return "<code>" + text + "</code>";
  }
  br() {
    return this.options.xhtml ? "<br/>" : "<br>";
  }
  del(text) {
    return "<del>" + text + "</del>";
  }
  link(href, title, text) {
    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);
    if (href === null) {
      return text;
    }
    let out = '<a href="' + escape2(href) + '"';
    if (title) {
      out += ' title="' + title + '"';
    }
    out += ">" + text + "</a>";
    return out;
  }
  image(href, title, text) {
    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);
    if (href === null) {
      return text;
    }
    let out = '<img src="' + href + '" alt="' + text + '"';
    if (title) {
      out += ' title="' + title + '"';
    }
    out += this.options.xhtml ? "/>" : ">";
    return out;
  }
  text(text) {
    return text;
  }
};
var TextRenderer = class {
  strong(text) {
    return text;
  }
  em(text) {
    return text;
  }
  codespan(text) {
    return text;
  }
  del(text) {
    return text;
  }
  html(text) {
    return text;
  }
  text(text) {
    return text;
  }
  link(href, title, text) {
    return "" + text;
  }
  image(href, title, text) {
    return "" + text;
  }
  br() {
    return "";
  }
};
var Slugger = class {
  constructor() {
    this.seen = {};
  }
  serialize(value) {
    return value.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig, "").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g, "").replace(/\s/g, "-");
  }
  getNextSafeSlug(originalSlug, isDryRun) {
    let slug = originalSlug;
    let occurenceAccumulator = 0;
    if (this.seen.hasOwnProperty(slug)) {
      occurenceAccumulator = this.seen[originalSlug];
      do {
        occurenceAccumulator++;
        slug = originalSlug + "-" + occurenceAccumulator;
      } while (this.seen.hasOwnProperty(slug));
    }
    if (!isDryRun) {
      this.seen[originalSlug] = occurenceAccumulator;
      this.seen[slug] = 0;
    }
    return slug;
  }
  slug(value, options2 = {}) {
    const slug = this.serialize(value);
    return this.getNextSafeSlug(slug, options2.dryrun);
  }
};
var Parser = class {
  constructor(options2) {
    this.options = options2 || defaults;
    this.options.renderer = this.options.renderer || new Renderer();
    this.renderer = this.options.renderer;
    this.renderer.options = this.options;
    this.textRenderer = new TextRenderer();
    this.slugger = new Slugger();
  }
  static parse(tokens, options2) {
    const parser2 = new Parser(options2);
    return parser2.parse(tokens);
  }
  static parseInline(tokens, options2) {
    const parser2 = new Parser(options2);
    return parser2.parseInline(tokens);
  }
  parse(tokens, top = true) {
    let out = "", i, j, k, l2, l3, row, cell, header, body, token, ordered, start, loose, itemBody, item, checked, task, checkbox, ret;
    const l = tokens.length;
    for (i = 0; i < l; i++) {
      token = tokens[i];
      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {
        ret = this.options.extensions.renderers[token.type].call({ parser: this }, token);
        if (ret !== false || !["space", "hr", "heading", "code", "table", "blockquote", "list", "html", "paragraph", "text"].includes(token.type)) {
          out += ret || "";
          continue;
        }
      }
      switch (token.type) {
        case "space": {
          continue;
        }
        case "hr": {
          out += this.renderer.hr();
          continue;
        }
        case "heading": {
          out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape2(this.parseInline(token.tokens, this.textRenderer)), this.slugger);
          continue;
        }
        case "code": {
          out += this.renderer.code(token.text, token.lang, token.escaped);
          continue;
        }
        case "table": {
          header = "";
          cell = "";
          l2 = token.header.length;
          for (j = 0; j < l2; j++) {
            cell += this.renderer.tablecell(this.parseInline(token.header[j].tokens), { header: true, align: token.align[j] });
          }
          header += this.renderer.tablerow(cell);
          body = "";
          l2 = token.rows.length;
          for (j = 0; j < l2; j++) {
            row = token.rows[j];
            cell = "";
            l3 = row.length;
            for (k = 0; k < l3; k++) {
              cell += this.renderer.tablecell(this.parseInline(row[k].tokens), { header: false, align: token.align[k] });
            }
            body += this.renderer.tablerow(cell);
          }
          out += this.renderer.table(header, body);
          continue;
        }
        case "blockquote": {
          body = this.parse(token.tokens);
          out += this.renderer.blockquote(body);
          continue;
        }
        case "list": {
          ordered = token.ordered;
          start = token.start;
          loose = token.loose;
          l2 = token.items.length;
          body = "";
          for (j = 0; j < l2; j++) {
            item = token.items[j];
            checked = item.checked;
            task = item.task;
            itemBody = "";
            if (item.task) {
              checkbox = this.renderer.checkbox(checked);
              if (loose) {
                if (item.tokens.length > 0 && item.tokens[0].type === "paragraph") {
                  item.tokens[0].text = checkbox + " " + item.tokens[0].text;
                  if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === "text") {
                    item.tokens[0].tokens[0].text = checkbox + " " + item.tokens[0].tokens[0].text;
                  }
                } else {
                  item.tokens.unshift({
                    type: "text",
                    text: checkbox
                  });
                }
              } else {
                itemBody += checkbox;
              }
            }
            itemBody += this.parse(item.tokens, loose);
            body += this.renderer.listitem(itemBody, task, checked);
          }
          out += this.renderer.list(body, ordered, start);
          continue;
        }
        case "html": {
          out += this.renderer.html(token.text);
          continue;
        }
        case "paragraph": {
          out += this.renderer.paragraph(this.parseInline(token.tokens));
          continue;
        }
        case "text": {
          body = token.tokens ? this.parseInline(token.tokens) : token.text;
          while (i + 1 < l && tokens[i + 1].type === "text") {
            token = tokens[++i];
            body += "\n" + (token.tokens ? this.parseInline(token.tokens) : token.text);
          }
          out += top ? this.renderer.paragraph(body) : body;
          continue;
        }
        default: {
          const errMsg = 'Token with "' + token.type + '" type was not found.';
          if (this.options.silent) {
            console.error(errMsg);
            return;
          } else {
            throw new Error(errMsg);
          }
        }
      }
    }
    return out;
  }
  parseInline(tokens, renderer) {
    renderer = renderer || this.renderer;
    let out = "", i, token, ret;
    const l = tokens.length;
    for (i = 0; i < l; i++) {
      token = tokens[i];
      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {
        ret = this.options.extensions.renderers[token.type].call({ parser: this }, token);
        if (ret !== false || !["escape", "html", "link", "image", "strong", "em", "codespan", "br", "del", "text"].includes(token.type)) {
          out += ret || "";
          continue;
        }
      }
      switch (token.type) {
        case "escape": {
          out += renderer.text(token.text);
          break;
        }
        case "html": {
          out += renderer.html(token.text);
          break;
        }
        case "link": {
          out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));
          break;
        }
        case "image": {
          out += renderer.image(token.href, token.title, token.text);
          break;
        }
        case "strong": {
          out += renderer.strong(this.parseInline(token.tokens, renderer));
          break;
        }
        case "em": {
          out += renderer.em(this.parseInline(token.tokens, renderer));
          break;
        }
        case "codespan": {
          out += renderer.codespan(token.text);
          break;
        }
        case "br": {
          out += renderer.br();
          break;
        }
        case "del": {
          out += renderer.del(this.parseInline(token.tokens, renderer));
          break;
        }
        case "text": {
          out += renderer.text(token.text);
          break;
        }
        default: {
          const errMsg = 'Token with "' + token.type + '" type was not found.';
          if (this.options.silent) {
            console.error(errMsg);
            return;
          } else {
            throw new Error(errMsg);
          }
        }
      }
    }
    return out;
  }
};
function marked(src, opt, callback) {
  if (typeof src === "undefined" || src === null) {
    throw new Error("marked(): input parameter is undefined or null");
  }
  if (typeof src !== "string") {
    throw new Error("marked(): input parameter is of type " + Object.prototype.toString.call(src) + ", string expected");
  }
  if (typeof opt === "function") {
    callback = opt;
    opt = null;
  }
  opt = merge({}, marked.defaults, opt || {});
  checkSanitizeDeprecation(opt);
  if (callback) {
    const highlight = opt.highlight;
    let tokens;
    try {
      tokens = Lexer.lex(src, opt);
    } catch (e) {
      return callback(e);
    }
    const done = function(err) {
      let out;
      if (!err) {
        try {
          if (opt.walkTokens) {
            marked.walkTokens(tokens, opt.walkTokens);
          }
          out = Parser.parse(tokens, opt);
        } catch (e) {
          err = e;
        }
      }
      opt.highlight = highlight;
      return err ? callback(err) : callback(null, out);
    };
    if (!highlight || highlight.length < 3) {
      return done();
    }
    delete opt.highlight;
    if (!tokens.length)
      return done();
    let pending = 0;
    marked.walkTokens(tokens, function(token) {
      if (token.type === "code") {
        pending++;
        setTimeout(() => {
          highlight(token.text, token.lang, function(err, code) {
            if (err) {
              return done(err);
            }
            if (code != null && code !== token.text) {
              token.text = code;
              token.escaped = true;
            }
            pending--;
            if (pending === 0) {
              done();
            }
          });
        }, 0);
      }
    });
    if (pending === 0) {
      done();
    }
    return;
  }
  try {
    const tokens = Lexer.lex(src, opt);
    if (opt.walkTokens) {
      marked.walkTokens(tokens, opt.walkTokens);
    }
    return Parser.parse(tokens, opt);
  } catch (e) {
    e.message += "\nPlease report this to https://github.com/markedjs/marked.";
    if (opt.silent) {
      return "<p>An error occurred:</p><pre>" + escape2(e.message + "", true) + "</pre>";
    }
    throw e;
  }
}
marked.options = marked.setOptions = function(opt) {
  merge(marked.defaults, opt);
  changeDefaults(marked.defaults);
  return marked;
};
marked.getDefaults = getDefaults;
marked.defaults = defaults;
marked.use = function(...args) {
  const opts = merge({}, ...args);
  const extensions = marked.defaults.extensions || { renderers: {}, childTokens: {} };
  let hasExtensions;
  args.forEach((pack) => {
    if (pack.extensions) {
      hasExtensions = true;
      pack.extensions.forEach((ext) => {
        if (!ext.name) {
          throw new Error("extension name required");
        }
        if (ext.renderer) {
          const prevRenderer = extensions.renderers ? extensions.renderers[ext.name] : null;
          if (prevRenderer) {
            extensions.renderers[ext.name] = function(...args2) {
              let ret = ext.renderer.apply(this, args2);
              if (ret === false) {
                ret = prevRenderer.apply(this, args2);
              }
              return ret;
            };
          } else {
            extensions.renderers[ext.name] = ext.renderer;
          }
        }
        if (ext.tokenizer) {
          if (!ext.level || ext.level !== "block" && ext.level !== "inline") {
            throw new Error("extension level must be 'block' or 'inline'");
          }
          if (extensions[ext.level]) {
            extensions[ext.level].unshift(ext.tokenizer);
          } else {
            extensions[ext.level] = [ext.tokenizer];
          }
          if (ext.start) {
            if (ext.level === "block") {
              if (extensions.startBlock) {
                extensions.startBlock.push(ext.start);
              } else {
                extensions.startBlock = [ext.start];
              }
            } else if (ext.level === "inline") {
              if (extensions.startInline) {
                extensions.startInline.push(ext.start);
              } else {
                extensions.startInline = [ext.start];
              }
            }
          }
        }
        if (ext.childTokens) {
          extensions.childTokens[ext.name] = ext.childTokens;
        }
      });
    }
    if (pack.renderer) {
      const renderer = marked.defaults.renderer || new Renderer();
      for (const prop in pack.renderer) {
        const prevRenderer = renderer[prop];
        renderer[prop] = (...args2) => {
          let ret = pack.renderer[prop].apply(renderer, args2);
          if (ret === false) {
            ret = prevRenderer.apply(renderer, args2);
          }
          return ret;
        };
      }
      opts.renderer = renderer;
    }
    if (pack.tokenizer) {
      const tokenizer = marked.defaults.tokenizer || new Tokenizer();
      for (const prop in pack.tokenizer) {
        const prevTokenizer = tokenizer[prop];
        tokenizer[prop] = (...args2) => {
          let ret = pack.tokenizer[prop].apply(tokenizer, args2);
          if (ret === false) {
            ret = prevTokenizer.apply(tokenizer, args2);
          }
          return ret;
        };
      }
      opts.tokenizer = tokenizer;
    }
    if (pack.walkTokens) {
      const walkTokens2 = marked.defaults.walkTokens;
      opts.walkTokens = function(token) {
        pack.walkTokens.call(this, token);
        if (walkTokens2) {
          walkTokens2.call(this, token);
        }
      };
    }
    if (hasExtensions) {
      opts.extensions = extensions;
    }
    marked.setOptions(opts);
  });
};
marked.walkTokens = function(tokens, callback) {
  for (const token of tokens) {
    callback.call(marked, token);
    switch (token.type) {
      case "table": {
        for (const cell of token.header) {
          marked.walkTokens(cell.tokens, callback);
        }
        for (const row of token.rows) {
          for (const cell of row) {
            marked.walkTokens(cell.tokens, callback);
          }
        }
        break;
      }
      case "list": {
        marked.walkTokens(token.items, callback);
        break;
      }
      default: {
        if (marked.defaults.extensions && marked.defaults.extensions.childTokens && marked.defaults.extensions.childTokens[token.type]) {
          marked.defaults.extensions.childTokens[token.type].forEach(function(childTokens) {
            marked.walkTokens(token[childTokens], callback);
          });
        } else if (token.tokens) {
          marked.walkTokens(token.tokens, callback);
        }
      }
    }
  }
};
marked.parseInline = function(src, opt) {
  if (typeof src === "undefined" || src === null) {
    throw new Error("marked.parseInline(): input parameter is undefined or null");
  }
  if (typeof src !== "string") {
    throw new Error("marked.parseInline(): input parameter is of type " + Object.prototype.toString.call(src) + ", string expected");
  }
  opt = merge({}, marked.defaults, opt || {});
  checkSanitizeDeprecation(opt);
  try {
    const tokens = Lexer.lexInline(src, opt);
    if (opt.walkTokens) {
      marked.walkTokens(tokens, opt.walkTokens);
    }
    return Parser.parseInline(tokens, opt);
  } catch (e) {
    e.message += "\nPlease report this to https://github.com/markedjs/marked.";
    if (opt.silent) {
      return "<p>An error occurred:</p><pre>" + escape2(e.message + "", true) + "</pre>";
    }
    throw e;
  }
};
marked.Parser = Parser;
marked.parser = Parser.parse;
marked.Renderer = Renderer;
marked.TextRenderer = TextRenderer;
marked.Lexer = Lexer;
marked.lexer = Lexer.lex;
marked.Tokenizer = Tokenizer;
marked.Slugger = Slugger;
marked.parse = marked;
var options = marked.options;
var setOptions = marked.setOptions;
var use = marked.use;
var walkTokens = marked.walkTokens;
var parseInline = marked.parseInline;
var parser = Parser.parse;
var lexer = Lexer.lex;

// src/wp-xml-rpc-client.ts
var WpXmlRpcClient = class {
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
    const url = new URL(plugin.settings.endpoint);
    console.log(url);
    if (url.protocol === "https:") {
      this.client = (0, import_xmlrpc.createSecureClient)({
        host: url.hostname,
        port: 443,
        path: `${url.pathname}xmlrpc.php`
      });
    } else {
      this.client = (0, import_xmlrpc.createClient)({
        host: url.hostname,
        port: 80,
        path: `${url.pathname}xmlrpc.php`
      });
    }
  }
  newPost() {
    return new Promise((resolve, reject) => {
      const { workspace } = this.app;
      const activeView = workspace.getActiveViewOfType(import_obsidian3.MarkdownView);
      if (activeView) {
        new WpLoginModal(this.app, this.plugin, (userName, password) => {
          var _a;
          const title = activeView.file.basename;
          const content = activeView.getViewData();
          this.client.methodCall("wp.newPost", [
            0,
            userName,
            password,
            {
              post_type: "post",
              post_status: "draft",
              post_title: title != null ? title : "A post from Obsidian!",
              post_content: (_a = marked.parse(content)) != null ? _a : ""
            }
          ], (error, value) => {
            console.log("Method response for 'wp.newPost': ", value, error);
            if (error) {
              new import_obsidian3.Notice(`[Error] ${error.message}`);
              reject(error);
            } else {
              new import_obsidian3.Notice("Post published successfully!");
              resolve({
                code: WordPressClientReturnCode.OK,
                data: value
              });
            }
          });
        }).open();
      } else {
        const error = "There is no editor found. Nothing will be published.";
        console.warn(error);
        reject(new Error(error));
      }
    });
  }
};
var WpLoginModal = class extends import_obsidian3.Modal {
  constructor(app, plugin, onSubmit) {
    super(app);
    this.plugin = plugin;
    this.onSubmit = onSubmit;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h1", { text: "WordPress Login" });
    let password = "";
    new import_obsidian3.Setting(contentEl).setName("User Name").addText((text) => {
      var _a;
      return text.setValue((_a = this.plugin.settings.userName) != null ? _a : "").onChange((value) => __async(this, null, function* () {
        if (this.plugin.settings.saveUserName) {
          this.plugin.settings.userName = value;
          yield this.plugin.saveSettings();
        }
      }));
    });
    new import_obsidian3.Setting(contentEl).setName("Password").addText((text) => text.onChange((value) => __async(this, null, function* () {
      password = value;
    })));
    new import_obsidian3.Setting(contentEl).addButton((button) => button.setButtonText("Publish").setClass("mod-cta").onClick(() => {
      this.onSubmit(this.plugin.settings.userName, password);
    }));
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/wp-rest-jetpack-client.ts
var import_obsidian4 = __toModule(require("obsidian"));
var import_wpapi = __toModule(require_wpapi());
var WpRestJetpackClient = class {
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
    const url = new URL(plugin.settings.endpoint);
    console.log(url);
  }
  newPost() {
    return new Promise((resolve, reject) => {
      const { workspace } = this.app;
      const activeView = workspace.getActiveViewOfType(import_obsidian4.MarkdownView);
      if (activeView) {
        const endpoint = "https://public-api.wordpress.com/rest/v1/sites/devbean.great-site.net/posts/";
        const wp = new import_wpapi.default({ endpoint });
        wp.posts().then(function(data) {
          console.log(data);
        }).catch(function(err) {
          console.log(err);
        });
        resolve({
          code: WordPressClientReturnCode.OK,
          data: ""
        });
      } else {
        const error = "There is no editor found. Nothing will be published.";
        console.warn(error);
        reject(new Error(error));
      }
    });
  }
};

// src/wp-rest-oauth2-client.ts
var import_obsidian5 = __toModule(require("obsidian"));
var import_axios = __toModule(require_axios2());
var WpRestOAuth2Client = class {
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
    const url = new URL(plugin.settings.endpoint);
    console.log(url);
  }
  newPost() {
    return new Promise((resolve, reject) => {
      const { workspace } = this.app;
      const activeView = workspace.getActiveViewOfType(import_obsidian5.MarkdownView);
      if (activeView) {
        import_axios.default.get("https://blog.galaxyworld.org/oauth/authorize", {
          params: {
            client_id: "o7po3eDmTI7dRU6vDYp5idKZUAniVLPjiHw0RLGM",
            response_type: "code",
            scope: "basic",
            redirect_uri: "app://obsidian.md"
          }
        }).then((response) => {
          console.log(">>>>>>>>>>", response);
        }).catch((error) => {
          console.log("ERROR>>>>>>>>>>", error);
        });
        resolve({
          code: WordPressClientReturnCode.OK,
          data: ""
        });
      } else {
        const error = "There is no editor found. Nothing will be published.";
        console.warn(error);
        reject(new Error(error));
      }
    });
  }
};

// src/wp-client.ts
var WordPressClientReturnCode;
(function(WordPressClientReturnCode2) {
  WordPressClientReturnCode2[WordPressClientReturnCode2["OK"] = 0] = "OK";
  WordPressClientReturnCode2[WordPressClientReturnCode2["Error"] = 1] = "Error";
})(WordPressClientReturnCode || (WordPressClientReturnCode = {}));
function createWordPressClient(app, plugin) {
  const type = plugin.settings.apiType;
  switch (type) {
    case ApiType.XML_RPC:
      return new WpXmlRpcClient(app, plugin);
    case ApiType.RestAPI_Jetpack:
      return new WpRestJetpackClient(app, plugin);
    case ApiType.RestAPI_OAuth2:
      return new WpRestOAuth2Client(app, plugin);
    default:
      new import_obsidian6.Notice("No approved WordPress API.\nPlease check it in settings.");
      return null;
  }
}

// src/wp-publish-view.ts
var WordPressPublishViewType = "wp-publish-options";
var WordPressPublishView = class extends import_obsidian7.ItemView {
  constructor(leaf, plugin) {
    super(leaf);
    this.plugin = plugin;
  }
  getDisplayText() {
    return "WordPress Publish";
  }
  getViewType() {
    return WordPressPublishViewType;
  }
  getIcon() {
    return "wp-logo";
  }
  load() {
    super.load();
    this.draw();
  }
  draw() {
    const actionButtonsControlDiv = this.contentEl.createEl("div");
    new import_obsidian7.ButtonComponent(actionButtonsControlDiv).setButtonText("Publish").setClass("mod-cta").onClick(() => {
      const client = createWordPressClient(this.app, this.plugin);
      if (client) {
        client.newPost().then();
      }
    });
  }
};

// src/main.ts
var WordpressPlugin = class extends import_obsidian8.Plugin {
  onload() {
    return __async(this, null, function* () {
      console.log("loading obsidian-wordpress plugin");
      yield this.loadSettings();
      this.registerView(WordPressPublishViewType, (leaf) => new WordPressPublishView(leaf, this));
      addIcons();
      if (this.settings.showRibbonIcon) {
        this.addRibbonIcon("wp-logo", "WordPress Publish", () => {
          this.toggleWordPressPublishView();
        });
      }
      this.addCommand({
        id: "publish",
        name: "Publish current document",
        editorCallback: (editor, view) => {
          const client = createWordPressClient(this.app, this);
          if (client) {
            client.newPost().then();
          }
        }
      });
      this.addSettingTab(new WordpressSettingTab(this.app, this));
    });
  }
  onunload() {
  }
  loadSettings() {
    return __async(this, null, function* () {
      this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
    });
  }
  saveSettings() {
    return __async(this, null, function* () {
      yield this.saveData(this.settings);
    });
  }
  toggleWordPressPublishView() {
    return __async(this, null, function* () {
      const existing = this.app.workspace.getLeavesOfType(WordPressPublishViewType);
      if (existing.length) {
        this.app.workspace.revealLeaf(existing[0]);
        return;
      }
      yield this.app.workspace.getRightLeaf(false).setViewState({
        type: WordPressPublishViewType,
        active: true
      });
      this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(WordPressPublishViewType)[0]);
    });
  }
};
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */
/**
 * A WP REST API client for Node.js
 *
 * @example
 *     var wp = new WPAPI({ endpoint: 'http://src.wordpress-develop.dev/wp-json' });
 *     wp.posts().then(function( posts ) {
 *         console.log( posts );
 *     }).catch(function( err ) {
 *         console.error( err );
 *     });
 *
 * @license MIT
 })
 */
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1V0aWxpdHkuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTEF0dHJpYnV0ZS5qcyIsICJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MRWxlbWVudC5qcyIsICJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MQ0RhdGEuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTENvbW1lbnQuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTERlY2xhcmF0aW9uLmpzIiwgIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxEVERBdHRMaXN0LmpzIiwgIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxEVERFbnRpdHkuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTERUREVsZW1lbnQuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTERURE5vdGF0aW9uLmpzIiwgIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxEb2NUeXBlLmpzIiwgIm5vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxSYXcuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTFRleHQuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbi5qcyIsICJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MTm9kZS5qcyIsICJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MU3RyaW5naWZpZXIuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTFdyaXRlckJhc2UuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTFN0cmluZ1dyaXRlci5qcyIsICJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MRG9jdW1lbnQuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTERvY3VtZW50Q0IuanMiLCAibm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTFN0cmVhbVdyaXRlci5qcyIsICJub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL3htbHJwYy9saWIvZGF0ZV9mb3JtYXR0ZXIuanMiLCAibm9kZV9tb2R1bGVzL3htbHJwYy9saWIvY3VzdG9tdHlwZS5qcyIsICJub2RlX21vZHVsZXMveG1scnBjL2xpYi9zZXJpYWxpemVyLmpzIiwgIm5vZGVfbW9kdWxlcy9zYXgvbGliL3NheC5qcyIsICJub2RlX21vZHVsZXMveG1scnBjL2xpYi9kZXNlcmlhbGl6ZXIuanMiLCAibm9kZV9tb2R1bGVzL3htbHJwYy9saWIvY29va2llcy5qcyIsICJub2RlX21vZHVsZXMveG1scnBjL2xpYi9jbGllbnQuanMiLCAibm9kZV9tb2R1bGVzL3htbHJwYy9saWIvc2VydmVyLmpzIiwgIm5vZGVfbW9kdWxlcy94bWxycGMvbGliL3htbHJwYy5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL3V0aWwvb2JqZWN0LXJlZHVjZS5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL3V0aWwvbmFtZWQtZ3JvdXAtcmVnZXhwLmpzIiwgIm5vZGVfbW9kdWxlcy93cGFwaS9saWIvdXRpbC9zcGxpdC1wYXRoLmpzIiwgIm5vZGVfbW9kdWxlcy93cGFwaS9saWIvdXRpbC9lbnN1cmUuanMiLCAibm9kZV9tb2R1bGVzL3dwYXBpL2xpYi9yb3V0ZS10cmVlLmpzIiwgIm5vZGVfbW9kdWxlcy93cGFwaS9saWIvcGF0aC1wYXJ0LXNldHRlci5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL3Jlc291cmNlLWhhbmRsZXItc3BlYy5qcyIsICJub2RlX21vZHVsZXMvaGFzLXN5bWJvbHMvc2hhbXMuanMiLCAibm9kZV9tb2R1bGVzL2hhcy1zeW1ib2xzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9mdW5jdGlvbi1iaW5kL2ltcGxlbWVudGF0aW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9mdW5jdGlvbi1iaW5kL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9oYXMvc3JjL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9nZXQtaW50cmluc2ljL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jYWxsLWJpbmQvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NhbGwtYmluZC9jYWxsQm91bmQuanMiLCAibm9kZV9tb2R1bGVzL29iamVjdC1pbnNwZWN0L3V0aWwuaW5zcGVjdCIsICJub2RlX21vZHVsZXMvb2JqZWN0LWluc3BlY3QvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL3NpZGUtY2hhbm5lbC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvcXMvbGliL2Zvcm1hdHMuanMiLCAibm9kZV9tb2R1bGVzL3FzL2xpYi91dGlscy5qcyIsICJub2RlX21vZHVsZXMvcXMvbGliL3N0cmluZ2lmeS5qcyIsICJub2RlX21vZHVsZXMvcXMvbGliL3BhcnNlLmpzIiwgIm5vZGVfbW9kdWxlcy9xcy9saWIvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL3dwYXBpL2xpYi91dGlsL2FscGhhbnVtZXJpYy1zb3J0LmpzIiwgIm5vZGVfbW9kdWxlcy93cGFwaS9saWIvdXRpbC9rZXktdmFsLXRvLW9iai5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL3V0aWwvcGFyYW1ldGVyLXNldHRlci5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL3V0aWwvdW5pcXVlLmpzIiwgIm5vZGVfbW9kdWxlcy93cGFwaS9saWIvY29uc3RydWN0b3JzL3dwLXJlcXVlc3QuanMiLCAibm9kZV9tb2R1bGVzL3dwYXBpL2xpYi9taXhpbnMvZmlsdGVycy5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL3V0aWwvYXJndW1lbnQtaXMtbnVtZXJpYy5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL21peGlucy9wYXJhbWV0ZXJzLmpzIiwgIm5vZGVfbW9kdWxlcy93cGFwaS9saWIvbWl4aW5zL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy93cGFwaS9saWIvdXRpbC9hcHBseS1taXhpbi5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL2VuZHBvaW50LXJlcXVlc3QuanMiLCAibm9kZV9tb2R1bGVzL3dwYXBpL2xpYi9lbmRwb2ludC1mYWN0b3JpZXMuanMiLCAibm9kZV9tb2R1bGVzL2xpL2xpYi9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL2F1dG9kaXNjb3ZlcnkuanMiLCAibm9kZV9tb2R1bGVzL2NvbXBvbmVudC1lbWl0dGVyL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9zdXBlcmFnZW50L2xpYi9pcy1vYmplY3QuanMiLCAibm9kZV9tb2R1bGVzL3N1cGVyYWdlbnQvbGliL3JlcXVlc3QtYmFzZS5qcyIsICJub2RlX21vZHVsZXMvc3VwZXJhZ2VudC9saWIvdXRpbHMuanMiLCAibm9kZV9tb2R1bGVzL3N1cGVyYWdlbnQvbGliL3Jlc3BvbnNlLWJhc2UuanMiLCAibm9kZV9tb2R1bGVzL3N1cGVyYWdlbnQvbGliL2FnZW50LWJhc2UuanMiLCAibm9kZV9tb2R1bGVzL3N1cGVyYWdlbnQvbGliL2NsaWVudC5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL3V0aWwvY2hlY2stbWV0aG9kLXN1cHBvcnQuanMiLCAibm9kZV9tb2R1bGVzL3dwYXBpL2xpYi91dGlsL2lzLWVtcHR5LW9iamVjdC5qcyIsICJub2RlX21vZHVsZXMvd3BhcGkvbGliL2h0dHAtdHJhbnNwb3J0LmpzIiwgIm5vZGVfbW9kdWxlcy93cGFwaS9saWIvd3AtcmVnaXN0ZXItcm91dGUuanMiLCAibm9kZV9tb2R1bGVzL3dwYXBpL3dwYXBpLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvdXRpbHMuanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2VuaGFuY2VFcnJvci5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvY3JlYXRlRXJyb3IuanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3NldHRsZS5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29va2llcy5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2J1aWxkRnVsbFBhdGguanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbC5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL3hoci5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2RlZmF1bHRzLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS90cmFuc2Zvcm1EYXRhLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL2lzQ2FuY2VsLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL21lcmdlQ29uZmlnLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvZW52L2RhdGEuanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3ZhbGlkYXRvci5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3MuanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvaXNBeGlvc0Vycm9yLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvYXhpb3MuanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2luZGV4LmpzIiwgInNyYy9tYWluLnRzIiwgInNyYy9zZXR0aW5ncy50cyIsICJzcmMvaWNvbnMudHMiLCAic3JjL3dwLXB1Ymxpc2gtdmlldy50cyIsICJzcmMvd3AtY2xpZW50LnRzIiwgInNyYy93cC14bWwtcnBjLWNsaWVudC50cyIsICJub2RlX21vZHVsZXMvbWFya2VkL2xpYi9tYXJrZWQuZXNtLmpzIiwgInNyYy93cC1yZXN0LWpldHBhY2stY2xpZW50LnRzIiwgInNyYy93cC1yZXN0LW9hdXRoMi1jbGllbnQudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBhc3NpZ24sIGNhbWVsQ2FzZSwgY2FwaXRhbGl6ZSwgaXNBcnJheSwgaXNFbXB0eSwgaXNGdW5jdGlvbiwgaXNPYmplY3QsIGlzUGxhaW5PYmplY3QsIGtlYmFiQ2FzZSwgc25ha2VDYXNlLCB0aXRsZUNhc2UsIHdvcmRzLFxuICAgIHNsaWNlID0gW10uc2xpY2UsXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIGFzc2lnbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpLCBrZXksIGxlbiwgc291cmNlLCBzb3VyY2VzLCB0YXJnZXQ7XG4gICAgdGFyZ2V0ID0gYXJndW1lbnRzWzBdLCBzb3VyY2VzID0gMiA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpIDogW107XG4gICAgaWYgKGlzRnVuY3Rpb24oT2JqZWN0LmFzc2lnbikpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gMCwgbGVuID0gc291cmNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzb3VyY2UgPSBzb3VyY2VzW2ldO1xuICAgICAgICBpZiAoc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmICghaGFzUHJvcC5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIGlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWwpIHtcbiAgICByZXR1cm4gISF2YWwgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG4gIH07XG5cbiAgaXNPYmplY3QgPSBmdW5jdGlvbih2YWwpIHtcbiAgICB2YXIgcmVmO1xuICAgIHJldHVybiAhIXZhbCAmJiAoKHJlZiA9IHR5cGVvZiB2YWwpID09PSAnZnVuY3Rpb24nIHx8IHJlZiA9PT0gJ29iamVjdCcpO1xuICB9O1xuXG4gIGlzQXJyYXkgPSBmdW5jdGlvbih2YWwpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihBcnJheS5pc0FycmF5KSkge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH1cbiAgfTtcblxuICBpc0VtcHR5ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgdmFyIGtleTtcbiAgICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICByZXR1cm4gIXZhbC5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoa2V5IGluIHZhbCkge1xuICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbCh2YWwsIGtleSkpIGNvbnRpbnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgaXNQbGFpbk9iamVjdCA9IGZ1bmN0aW9uKHZhbCkge1xuICAgIHZhciBjdG9yLCBwcm90bztcbiAgICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiAocHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsKSkgJiYgKGN0b3IgPSBwcm90by5jb25zdHJ1Y3RvcikgJiYgKHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nKSAmJiAoY3RvciBpbnN0YW5jZW9mIGN0b3IpICYmIChGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjdG9yKSA9PT0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoT2JqZWN0KSk7XG4gIH07XG5cbiAgd29yZHMgPSBmdW5jdGlvbih2YWwpIHtcbiAgICByZXR1cm4gKHZhbC5zcGxpdCgvWy1fXFxzXSt8KD89W0EtWl1bYS16XSkvKSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uKG4pIHtcbiAgICAgIHJldHVybiAhIW47XG4gICAgfSk7XG4gIH07XG5cbiAgY2FtZWxDYXNlID0gZnVuY3Rpb24odmFsKSB7XG4gICAgdmFyIGksIGluZGV4LCBsZW4sIHIsIHJlZiwgd29yZDtcbiAgICByID0gJyc7XG4gICAgcmVmID0gd29yZHModmFsKTtcbiAgICBmb3IgKGluZGV4ID0gaSA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGkgPCBsZW47IGluZGV4ID0gKytpKSB7XG4gICAgICB3b3JkID0gcmVmW2luZGV4XTtcbiAgICAgIHIgKz0gaW5kZXggPyBjYXBpdGFsaXplKHdvcmQudG9Mb3dlckNhc2UoKSkgOiB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9O1xuXG4gIHRpdGxlQ2FzZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgIHZhciBpLCBpbmRleCwgbGVuLCByLCByZWYsIHdvcmQ7XG4gICAgciA9ICcnO1xuICAgIHJlZiA9IHdvcmRzKHZhbCk7XG4gICAgZm9yIChpbmRleCA9IGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpbmRleCA9ICsraSkge1xuICAgICAgd29yZCA9IHJlZltpbmRleF07XG4gICAgICByICs9IGNhcGl0YWxpemUod29yZC50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH07XG5cbiAga2ViYWJDYXNlID0gZnVuY3Rpb24odmFsKSB7XG4gICAgdmFyIGksIGluZGV4LCBsZW4sIHIsIHJlZiwgd29yZDtcbiAgICByID0gJyc7XG4gICAgcmVmID0gd29yZHModmFsKTtcbiAgICBmb3IgKGluZGV4ID0gaSA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGkgPCBsZW47IGluZGV4ID0gKytpKSB7XG4gICAgICB3b3JkID0gcmVmW2luZGV4XTtcbiAgICAgIHIgKz0gKGluZGV4ID8gJy0nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfTtcblxuICBzbmFrZUNhc2UgPSBmdW5jdGlvbih2YWwpIHtcbiAgICB2YXIgaSwgaW5kZXgsIGxlbiwgciwgcmVmLCB3b3JkO1xuICAgIHIgPSAnJztcbiAgICByZWYgPSB3b3Jkcyh2YWwpO1xuICAgIGZvciAoaW5kZXggPSBpID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaSA8IGxlbjsgaW5kZXggPSArK2kpIHtcbiAgICAgIHdvcmQgPSByZWZbaW5kZXhdO1xuICAgICAgciArPSAoaW5kZXggPyAnXycgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9O1xuXG4gIGNhcGl0YWxpemUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICByZXR1cm4gdmFsLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdmFsLnNsaWNlKDEpO1xuICB9O1xuXG4gIG1vZHVsZS5leHBvcnRzLmFzc2lnbiA9IGFzc2lnbjtcblxuICBtb2R1bGUuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblxuICBtb2R1bGUuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG4gIG1vZHVsZS5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXG4gIG1vZHVsZS5leHBvcnRzLmlzRW1wdHkgPSBpc0VtcHR5O1xuXG4gIG1vZHVsZS5leHBvcnRzLmlzUGxhaW5PYmplY3QgPSBpc1BsYWluT2JqZWN0O1xuXG4gIG1vZHVsZS5leHBvcnRzLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcblxuICBtb2R1bGUuZXhwb3J0cy50aXRsZUNhc2UgPSB0aXRsZUNhc2U7XG5cbiAgbW9kdWxlLmV4cG9ydHMua2ViYWJDYXNlID0ga2ViYWJDYXNlO1xuXG4gIG1vZHVsZS5leHBvcnRzLnNuYWtlQ2FzZSA9IHNuYWtlQ2FzZTtcblxuICBtb2R1bGUuZXhwb3J0cy5jYXBpdGFsaXplID0gY2FwaXRhbGl6ZTtcblxuICBtb2R1bGUuZXhwb3J0cy53b3JkcyA9IHdvcmRzO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxBdHRyaWJ1dGU7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxBdHRyaWJ1dGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gWE1MQXR0cmlidXRlKHBhcmVudCwgbmFtZSwgdmFsdWUpIHtcbiAgICAgIHRoaXMub3B0aW9ucyA9IHBhcmVudC5vcHRpb25zO1xuICAgICAgdGhpcy5zdHJpbmdpZnkgPSBwYXJlbnQuc3RyaW5naWZ5O1xuICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGF0dHJpYnV0ZSBuYW1lIG9mIGVsZW1lbnQgXCIgKyBwYXJlbnQubmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGF0dHJpYnV0ZSB2YWx1ZSBmb3IgYXR0cmlidXRlIFwiICsgbmFtZSArIFwiIG9mIGVsZW1lbnQgXCIgKyBwYXJlbnQubmFtZSk7XG4gICAgICB9XG4gICAgICB0aGlzLm5hbWUgPSB0aGlzLnN0cmluZ2lmeS5hdHROYW1lKG5hbWUpO1xuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuc3RyaW5naWZ5LmF0dFZhbHVlKHZhbHVlKTtcbiAgICB9XG5cbiAgICBYTUxBdHRyaWJ1dGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcbiAgICB9O1xuXG4gICAgWE1MQXR0cmlidXRlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnNldChvcHRpb25zKS5hdHRyaWJ1dGUodGhpcyk7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxBdHRyaWJ1dGU7XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MQXR0cmlidXRlLCBYTUxFbGVtZW50LCBYTUxOb2RlLCBpc0Z1bmN0aW9uLCBpc09iamVjdCwgcmVmLFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgcmVmID0gcmVxdWlyZSgnLi9VdGlsaXR5JyksIGlzT2JqZWN0ID0gcmVmLmlzT2JqZWN0LCBpc0Z1bmN0aW9uID0gcmVmLmlzRnVuY3Rpb247XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIFhNTEF0dHJpYnV0ZSA9IHJlcXVpcmUoJy4vWE1MQXR0cmlidXRlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxFbGVtZW50ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoWE1MRWxlbWVudCwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxFbGVtZW50KHBhcmVudCwgbmFtZSwgYXR0cmlidXRlcykge1xuICAgICAgWE1MRWxlbWVudC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGVsZW1lbnQgbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubmFtZSA9IHRoaXMuc3RyaW5naWZ5LmVsZU5hbWUobmFtZSk7XG4gICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgIGlmIChhdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGUoYXR0cmlidXRlcyk7XG4gICAgICB9XG4gICAgICBpZiAocGFyZW50LmlzRG9jdW1lbnQpIHtcbiAgICAgICAgdGhpcy5pc1Jvb3QgPSB0cnVlO1xuICAgICAgICB0aGlzLmRvY3VtZW50T2JqZWN0ID0gcGFyZW50O1xuICAgICAgICBwYXJlbnQucm9vdE9iamVjdCA9IHRoaXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgWE1MRWxlbWVudC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhdHQsIGF0dE5hbWUsIGNsb25lZFNlbGYsIHJlZjE7XG4gICAgICBjbG9uZWRTZWxmID0gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcbiAgICAgIGlmIChjbG9uZWRTZWxmLmlzUm9vdCkge1xuICAgICAgICBjbG9uZWRTZWxmLmRvY3VtZW50T2JqZWN0ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNsb25lZFNlbGYuYXR0cmlidXRlcyA9IHt9O1xuICAgICAgcmVmMSA9IHRoaXMuYXR0cmlidXRlcztcbiAgICAgIGZvciAoYXR0TmFtZSBpbiByZWYxKSB7XG4gICAgICAgIGlmICghaGFzUHJvcC5jYWxsKHJlZjEsIGF0dE5hbWUpKSBjb250aW51ZTtcbiAgICAgICAgYXR0ID0gcmVmMVthdHROYW1lXTtcbiAgICAgICAgY2xvbmVkU2VsZi5hdHRyaWJ1dGVzW2F0dE5hbWVdID0gYXR0LmNsb25lKCk7XG4gICAgICB9XG4gICAgICBjbG9uZWRTZWxmLmNoaWxkcmVuID0gW107XG4gICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgdmFyIGNsb25lZENoaWxkO1xuICAgICAgICBjbG9uZWRDaGlsZCA9IGNoaWxkLmNsb25lKCk7XG4gICAgICAgIGNsb25lZENoaWxkLnBhcmVudCA9IGNsb25lZFNlbGY7XG4gICAgICAgIHJldHVybiBjbG9uZWRTZWxmLmNoaWxkcmVuLnB1c2goY2xvbmVkQ2hpbGQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gY2xvbmVkU2VsZjtcbiAgICB9O1xuXG4gICAgWE1MRWxlbWVudC5wcm90b3R5cGUuYXR0cmlidXRlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHZhciBhdHROYW1lLCBhdHRWYWx1ZTtcbiAgICAgIGlmIChuYW1lICE9IG51bGwpIHtcbiAgICAgICAgbmFtZSA9IG5hbWUudmFsdWVPZigpO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XG4gICAgICAgIGZvciAoYXR0TmFtZSBpbiBuYW1lKSB7XG4gICAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwobmFtZSwgYXR0TmFtZSkpIGNvbnRpbnVlO1xuICAgICAgICAgIGF0dFZhbHVlID0gbmFtZVthdHROYW1lXTtcbiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZShhdHROYW1lLCBhdHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUuYXBwbHkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5za2lwTnVsbEF0dHJpYnV0ZXMgfHwgKHZhbHVlICE9IG51bGwpKSB7XG4gICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzW25hbWVdID0gbmV3IFhNTEF0dHJpYnV0ZSh0aGlzLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGUgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXIgYXR0TmFtZSwgaSwgbGVuO1xuICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGF0dHJpYnV0ZSBuYW1lXCIpO1xuICAgICAgfVxuICAgICAgbmFtZSA9IG5hbWUudmFsdWVPZigpO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZSkpIHtcbiAgICAgICAgZm9yIChpID0gMCwgbGVuID0gbmFtZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGF0dE5hbWUgPSBuYW1lW2ldO1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbYXR0TmFtZV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbbmFtZV07XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRWxlbWVudC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLndyaXRlci5zZXQob3B0aW9ucykuZWxlbWVudCh0aGlzKTtcbiAgICB9O1xuXG4gICAgWE1MRWxlbWVudC5wcm90b3R5cGUuYXR0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTEVsZW1lbnQucHJvdG90eXBlLmEgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTEVsZW1lbnQ7XG5cbiAgfSkoWE1MTm9kZSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEwLjBcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTENEYXRhLCBYTUxOb2RlLFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MQ0RhdGEgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxDRGF0YSwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxDRGF0YShwYXJlbnQsIHRleHQpIHtcbiAgICAgIFhNTENEYXRhLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICBpZiAodGV4dCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgQ0RBVEEgdGV4dFwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudGV4dCA9IHRoaXMuc3RyaW5naWZ5LmNkYXRhKHRleHQpO1xuICAgIH1cblxuICAgIFhNTENEYXRhLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5jcmVhdGUodGhpcyk7XG4gICAgfTtcblxuICAgIFhNTENEYXRhLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnNldChvcHRpb25zKS5jZGF0YSh0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTENEYXRhO1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxDb21tZW50LCBYTUxOb2RlLFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MQ29tbWVudCA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTENvbW1lbnQsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gWE1MQ29tbWVudChwYXJlbnQsIHRleHQpIHtcbiAgICAgIFhNTENvbW1lbnQuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyZW50KTtcbiAgICAgIGlmICh0ZXh0ID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBjb21tZW50IHRleHRcIik7XG4gICAgICB9XG4gICAgICB0aGlzLnRleHQgPSB0aGlzLnN0cmluZ2lmeS5jb21tZW50KHRleHQpO1xuICAgIH1cblxuICAgIFhNTENvbW1lbnQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcbiAgICB9O1xuXG4gICAgWE1MQ29tbWVudC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLndyaXRlci5zZXQob3B0aW9ucykuY29tbWVudCh0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTENvbW1lbnQ7XG5cbiAgfSkoWE1MTm9kZSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEwLjBcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTERlY2xhcmF0aW9uLCBYTUxOb2RlLCBpc09iamVjdCxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9VdGlsaXR5JykuaXNPYmplY3Q7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MRGVjbGFyYXRpb24gPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxEZWNsYXJhdGlvbiwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxEZWNsYXJhdGlvbihwYXJlbnQsIHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKSB7XG4gICAgICB2YXIgcmVmO1xuICAgICAgWE1MRGVjbGFyYXRpb24uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyZW50KTtcbiAgICAgIGlmIChpc09iamVjdCh2ZXJzaW9uKSkge1xuICAgICAgICByZWYgPSB2ZXJzaW9uLCB2ZXJzaW9uID0gcmVmLnZlcnNpb24sIGVuY29kaW5nID0gcmVmLmVuY29kaW5nLCBzdGFuZGFsb25lID0gcmVmLnN0YW5kYWxvbmU7XG4gICAgICB9XG4gICAgICBpZiAoIXZlcnNpb24pIHtcbiAgICAgICAgdmVyc2lvbiA9ICcxLjAnO1xuICAgICAgfVxuICAgICAgdGhpcy52ZXJzaW9uID0gdGhpcy5zdHJpbmdpZnkueG1sVmVyc2lvbih2ZXJzaW9uKTtcbiAgICAgIGlmIChlbmNvZGluZyAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuZW5jb2RpbmcgPSB0aGlzLnN0cmluZ2lmeS54bWxFbmNvZGluZyhlbmNvZGluZyk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhbmRhbG9uZSAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3RhbmRhbG9uZSA9IHRoaXMuc3RyaW5naWZ5LnhtbFN0YW5kYWxvbmUoc3RhbmRhbG9uZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgWE1MRGVjbGFyYXRpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuc2V0KG9wdGlvbnMpLmRlY2xhcmF0aW9uKHRoaXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MRGVjbGFyYXRpb247XG5cbiAgfSkoWE1MTm9kZSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEwLjBcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTERUREF0dExpc3QsIFhNTE5vZGUsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxEVERBdHRMaXN0ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoWE1MRFREQXR0TGlzdCwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxEVERBdHRMaXN0KHBhcmVudCwgZWxlbWVudE5hbWUsIGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVR5cGUsIGRlZmF1bHRWYWx1ZVR5cGUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgWE1MRFREQXR0TGlzdC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgaWYgKGVsZW1lbnROYW1lID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBEVEQgZWxlbWVudCBuYW1lXCIpO1xuICAgICAgfVxuICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIERURCBhdHRyaWJ1dGUgbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghYXR0cmlidXRlVHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIERURCBhdHRyaWJ1dGUgdHlwZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghZGVmYXVsdFZhbHVlVHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIERURCBhdHRyaWJ1dGUgZGVmYXVsdFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChkZWZhdWx0VmFsdWVUeXBlLmluZGV4T2YoJyMnKSAhPT0gMCkge1xuICAgICAgICBkZWZhdWx0VmFsdWVUeXBlID0gJyMnICsgZGVmYXVsdFZhbHVlVHlwZTtcbiAgICAgIH1cbiAgICAgIGlmICghZGVmYXVsdFZhbHVlVHlwZS5tYXRjaCgvXigjUkVRVUlSRUR8I0lNUExJRUR8I0ZJWEVEfCNERUZBVUxUKSQvKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRlZmF1bHQgdmFsdWUgdHlwZTsgZXhwZWN0ZWQ6ICNSRVFVSVJFRCwgI0lNUExJRUQsICNGSVhFRCBvciAjREVGQVVMVFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChkZWZhdWx0VmFsdWUgJiYgIWRlZmF1bHRWYWx1ZVR5cGUubWF0Y2goL14oI0ZJWEVEfCNERUZBVUxUKSQvKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEZWZhdWx0IHZhbHVlIG9ubHkgYXBwbGllcyB0byAjRklYRUQgb3IgI0RFRkFVTFRcIik7XG4gICAgICB9XG4gICAgICB0aGlzLmVsZW1lbnROYW1lID0gdGhpcy5zdHJpbmdpZnkuZWxlTmFtZShlbGVtZW50TmFtZSk7XG4gICAgICB0aGlzLmF0dHJpYnV0ZU5hbWUgPSB0aGlzLnN0cmluZ2lmeS5hdHROYW1lKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgdGhpcy5hdHRyaWJ1dGVUeXBlID0gdGhpcy5zdHJpbmdpZnkuZHRkQXR0VHlwZShhdHRyaWJ1dGVUeXBlKTtcbiAgICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gdGhpcy5zdHJpbmdpZnkuZHRkQXR0RGVmYXVsdChkZWZhdWx0VmFsdWUpO1xuICAgICAgdGhpcy5kZWZhdWx0VmFsdWVUeXBlID0gZGVmYXVsdFZhbHVlVHlwZTtcbiAgICB9XG5cbiAgICBYTUxEVERBdHRMaXN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnNldChvcHRpb25zKS5kdGRBdHRMaXN0KHRoaXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MRFREQXR0TGlzdDtcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MRFRERW50aXR5LCBYTUxOb2RlLCBpc09iamVjdCxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9VdGlsaXR5JykuaXNPYmplY3Q7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MRFRERW50aXR5ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoWE1MRFRERW50aXR5LCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTERUREVudGl0eShwYXJlbnQsIHBlLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgWE1MRFRERW50aXR5Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICBpZiAobmFtZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgZW50aXR5IG5hbWVcIik7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGVudGl0eSB2YWx1ZVwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGUgPSAhIXBlO1xuICAgICAgdGhpcy5uYW1lID0gdGhpcy5zdHJpbmdpZnkuZWxlTmFtZShuYW1lKTtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnN0cmluZ2lmeS5kdGRFbnRpdHlWYWx1ZSh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXZhbHVlLnB1YklEICYmICF2YWx1ZS5zeXNJRCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlB1YmxpYyBhbmQvb3Igc3lzdGVtIGlkZW50aWZpZXJzIGFyZSByZXF1aXJlZCBmb3IgYW4gZXh0ZXJuYWwgZW50aXR5XCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZS5wdWJJRCAmJiAhdmFsdWUuc3lzSUQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTeXN0ZW0gaWRlbnRpZmllciBpcyByZXF1aXJlZCBmb3IgYSBwdWJsaWMgZXh0ZXJuYWwgZW50aXR5XCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZS5wdWJJRCAhPSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5wdWJJRCA9IHRoaXMuc3RyaW5naWZ5LmR0ZFB1YklEKHZhbHVlLnB1YklEKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUuc3lzSUQgIT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuc3lzSUQgPSB0aGlzLnN0cmluZ2lmeS5kdGRTeXNJRCh2YWx1ZS5zeXNJRCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlLm5EYXRhICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLm5EYXRhID0gdGhpcy5zdHJpbmdpZnkuZHRkTkRhdGEodmFsdWUubkRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBlICYmIHRoaXMubkRhdGEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3RhdGlvbiBkZWNsYXJhdGlvbiBpcyBub3QgYWxsb3dlZCBpbiBhIHBhcmFtZXRlciBlbnRpdHlcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBYTUxEVERFbnRpdHkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuc2V0KG9wdGlvbnMpLmR0ZEVudGl0eSh0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTERUREVudGl0eTtcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MRFRERWxlbWVudCwgWE1MTm9kZSxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIFhNTE5vZGUgPSByZXF1aXJlKCcuL1hNTE5vZGUnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTERUREVsZW1lbnQgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxEVERFbGVtZW50LCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTERUREVsZW1lbnQocGFyZW50LCBuYW1lLCB2YWx1ZSkge1xuICAgICAgWE1MRFRERWxlbWVudC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIERURCBlbGVtZW50IG5hbWVcIik7XG4gICAgICB9XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gJygjUENEQVRBKSc7XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSAnKCcgKyB2YWx1ZS5qb2luKCcsJykgKyAnKSc7XG4gICAgICB9XG4gICAgICB0aGlzLm5hbWUgPSB0aGlzLnN0cmluZ2lmeS5lbGVOYW1lKG5hbWUpO1xuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuc3RyaW5naWZ5LmR0ZEVsZW1lbnRWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgWE1MRFRERWxlbWVudC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLndyaXRlci5zZXQob3B0aW9ucykuZHRkRWxlbWVudCh0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTERUREVsZW1lbnQ7XG5cbiAgfSkoWE1MTm9kZSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEwLjBcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTERURE5vdGF0aW9uLCBYTUxOb2RlLFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MRFRETm90YXRpb24gPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxEVEROb3RhdGlvbiwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxEVEROb3RhdGlvbihwYXJlbnQsIG5hbWUsIHZhbHVlKSB7XG4gICAgICBYTUxEVEROb3RhdGlvbi5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIG5vdGF0aW9uIG5hbWVcIik7XG4gICAgICB9XG4gICAgICBpZiAoIXZhbHVlLnB1YklEICYmICF2YWx1ZS5zeXNJRCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQdWJsaWMgb3Igc3lzdGVtIGlkZW50aWZpZXJzIGFyZSByZXF1aXJlZCBmb3IgYW4gZXh0ZXJuYWwgZW50aXR5XCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5uYW1lID0gdGhpcy5zdHJpbmdpZnkuZWxlTmFtZShuYW1lKTtcbiAgICAgIGlmICh2YWx1ZS5wdWJJRCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMucHViSUQgPSB0aGlzLnN0cmluZ2lmeS5kdGRQdWJJRCh2YWx1ZS5wdWJJRCk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUuc3lzSUQgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnN5c0lEID0gdGhpcy5zdHJpbmdpZnkuZHRkU3lzSUQodmFsdWUuc3lzSUQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIFhNTERURE5vdGF0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnNldChvcHRpb25zKS5kdGROb3RhdGlvbih0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTERURE5vdGF0aW9uO1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxEVERBdHRMaXN0LCBYTUxEVERFbGVtZW50LCBYTUxEVERFbnRpdHksIFhNTERURE5vdGF0aW9uLCBYTUxEb2NUeXBlLCBYTUxOb2RlLCBpc09iamVjdCxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9VdGlsaXR5JykuaXNPYmplY3Q7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIFhNTERUREF0dExpc3QgPSByZXF1aXJlKCcuL1hNTERUREF0dExpc3QnKTtcblxuICBYTUxEVERFbnRpdHkgPSByZXF1aXJlKCcuL1hNTERUREVudGl0eScpO1xuXG4gIFhNTERUREVsZW1lbnQgPSByZXF1aXJlKCcuL1hNTERUREVsZW1lbnQnKTtcblxuICBYTUxEVEROb3RhdGlvbiA9IHJlcXVpcmUoJy4vWE1MRFRETm90YXRpb24nKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTERvY1R5cGUgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxEb2NUeXBlLCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTERvY1R5cGUocGFyZW50LCBwdWJJRCwgc3lzSUQpIHtcbiAgICAgIHZhciByZWYsIHJlZjE7XG4gICAgICBYTUxEb2NUeXBlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICB0aGlzLmRvY3VtZW50T2JqZWN0ID0gcGFyZW50O1xuICAgICAgaWYgKGlzT2JqZWN0KHB1YklEKSkge1xuICAgICAgICByZWYgPSBwdWJJRCwgcHViSUQgPSByZWYucHViSUQsIHN5c0lEID0gcmVmLnN5c0lEO1xuICAgICAgfVxuICAgICAgaWYgKHN5c0lEID09IG51bGwpIHtcbiAgICAgICAgcmVmMSA9IFtwdWJJRCwgc3lzSURdLCBzeXNJRCA9IHJlZjFbMF0sIHB1YklEID0gcmVmMVsxXTtcbiAgICAgIH1cbiAgICAgIGlmIChwdWJJRCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMucHViSUQgPSB0aGlzLnN0cmluZ2lmeS5kdGRQdWJJRChwdWJJRCk7XG4gICAgICB9XG4gICAgICBpZiAoc3lzSUQgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnN5c0lEID0gdGhpcy5zdHJpbmdpZnkuZHRkU3lzSUQoc3lzSUQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLmVsZW1lbnQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MRFRERWxlbWVudCh0aGlzLCBuYW1lLCB2YWx1ZSk7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLmF0dExpc3QgPSBmdW5jdGlvbihlbGVtZW50TmFtZSwgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVHlwZSwgZGVmYXVsdFZhbHVlVHlwZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICB2YXIgY2hpbGQ7XG4gICAgICBjaGlsZCA9IG5ldyBYTUxEVERBdHRMaXN0KHRoaXMsIGVsZW1lbnROYW1lLCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVUeXBlLCBkZWZhdWx0VmFsdWVUeXBlLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS5lbnRpdHkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MRFRERW50aXR5KHRoaXMsIGZhbHNlLCBuYW1lLCB2YWx1ZSk7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLnBFbnRpdHkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MRFRERW50aXR5KHRoaXMsIHRydWUsIG5hbWUsIHZhbHVlKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jVHlwZS5wcm90b3R5cGUubm90YXRpb24gPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MRFRETm90YXRpb24odGhpcywgbmFtZSwgdmFsdWUpO1xuICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnNldChvcHRpb25zKS5kb2NUeXBlKHRoaXMpO1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS5lbGUgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudChuYW1lLCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLmF0dCA9IGZ1bmN0aW9uKGVsZW1lbnROYW1lLCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVUeXBlLCBkZWZhdWx0VmFsdWVUeXBlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmF0dExpc3QoZWxlbWVudE5hbWUsIGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVR5cGUsIGRlZmF1bHRWYWx1ZVR5cGUsIGRlZmF1bHRWYWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLmVudCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbnRpdHkobmFtZSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS5wZW50ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnBFbnRpdHkobmFtZSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS5ub3QgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMubm90YXRpb24obmFtZSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS51cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMucm9vdCgpIHx8IHRoaXMuZG9jdW1lbnRPYmplY3Q7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxEb2NUeXBlO1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxOb2RlLCBYTUxSYXcsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxSYXcgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxSYXcsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gWE1MUmF3KHBhcmVudCwgdGV4dCkge1xuICAgICAgWE1MUmF3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICBpZiAodGV4dCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmF3IHRleHRcIik7XG4gICAgICB9XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy5zdHJpbmdpZnkucmF3KHRleHQpO1xuICAgIH1cblxuICAgIFhNTFJhdy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBPYmplY3QuY3JlYXRlKHRoaXMpO1xuICAgIH07XG5cbiAgICBYTUxSYXcucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuc2V0KG9wdGlvbnMpLnJhdyh0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTFJhdztcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MTm9kZSwgWE1MVGV4dCxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIFhNTE5vZGUgPSByZXF1aXJlKCcuL1hNTE5vZGUnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTFRleHQgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxUZXh0LCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTFRleHQocGFyZW50LCB0ZXh0KSB7XG4gICAgICBYTUxUZXh0Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICBpZiAodGV4dCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgZWxlbWVudCB0ZXh0XCIpO1xuICAgICAgfVxuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuc3RyaW5naWZ5LmVsZVRleHQodGV4dCk7XG4gICAgfVxuXG4gICAgWE1MVGV4dC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBPYmplY3QuY3JlYXRlKHRoaXMpO1xuICAgIH07XG5cbiAgICBYTUxUZXh0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnNldChvcHRpb25zKS50ZXh0KHRoaXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MVGV4dDtcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MTm9kZSwgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbihwYXJlbnQsIHRhcmdldCwgdmFsdWUpIHtcbiAgICAgIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbi5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgaWYgKHRhcmdldCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgaW5zdHJ1Y3Rpb24gdGFyZ2V0XCIpO1xuICAgICAgfVxuICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLnN0cmluZ2lmeS5pbnNUYXJnZXQodGFyZ2V0KTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5zdHJpbmdpZnkuaW5zVmFsdWUodmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBPYmplY3QuY3JlYXRlKHRoaXMpO1xuICAgIH07XG5cbiAgICBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuc2V0KG9wdGlvbnMpLnByb2Nlc3NpbmdJbnN0cnVjdGlvbih0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbjtcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MQ0RhdGEsIFhNTENvbW1lbnQsIFhNTERlY2xhcmF0aW9uLCBYTUxEb2NUeXBlLCBYTUxFbGVtZW50LCBYTUxOb2RlLCBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24sIFhNTFJhdywgWE1MVGV4dCwgaXNFbXB0eSwgaXNGdW5jdGlvbiwgaXNPYmplY3QsIHJlZixcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgcmVmID0gcmVxdWlyZSgnLi9VdGlsaXR5JyksIGlzT2JqZWN0ID0gcmVmLmlzT2JqZWN0LCBpc0Z1bmN0aW9uID0gcmVmLmlzRnVuY3Rpb24sIGlzRW1wdHkgPSByZWYuaXNFbXB0eTtcblxuICBYTUxFbGVtZW50ID0gbnVsbDtcblxuICBYTUxDRGF0YSA9IG51bGw7XG5cbiAgWE1MQ29tbWVudCA9IG51bGw7XG5cbiAgWE1MRGVjbGFyYXRpb24gPSBudWxsO1xuXG4gIFhNTERvY1R5cGUgPSBudWxsO1xuXG4gIFhNTFJhdyA9IG51bGw7XG5cbiAgWE1MVGV4dCA9IG51bGw7XG5cbiAgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uID0gbnVsbDtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTE5vZGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gWE1MTm9kZShwYXJlbnQpIHtcbiAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHRoaXMucGFyZW50Lm9wdGlvbnM7XG4gICAgICAgIHRoaXMuc3RyaW5naWZ5ID0gdGhpcy5wYXJlbnQuc3RyaW5naWZ5O1xuICAgICAgfVxuICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgaWYgKCFYTUxFbGVtZW50KSB7XG4gICAgICAgIFhNTEVsZW1lbnQgPSByZXF1aXJlKCcuL1hNTEVsZW1lbnQnKTtcbiAgICAgICAgWE1MQ0RhdGEgPSByZXF1aXJlKCcuL1hNTENEYXRhJyk7XG4gICAgICAgIFhNTENvbW1lbnQgPSByZXF1aXJlKCcuL1hNTENvbW1lbnQnKTtcbiAgICAgICAgWE1MRGVjbGFyYXRpb24gPSByZXF1aXJlKCcuL1hNTERlY2xhcmF0aW9uJyk7XG4gICAgICAgIFhNTERvY1R5cGUgPSByZXF1aXJlKCcuL1hNTERvY1R5cGUnKTtcbiAgICAgICAgWE1MUmF3ID0gcmVxdWlyZSgnLi9YTUxSYXcnKTtcbiAgICAgICAgWE1MVGV4dCA9IHJlcXVpcmUoJy4vWE1MVGV4dCcpO1xuICAgICAgICBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSByZXF1aXJlKCcuL1hNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmVsZW1lbnQgPSBmdW5jdGlvbihuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KSB7XG4gICAgICB2YXIgY2hpbGROb2RlLCBpdGVtLCBqLCBrLCBrZXksIGxhc3RDaGlsZCwgbGVuLCBsZW4xLCByZWYxLCB2YWw7XG4gICAgICBsYXN0Q2hpbGQgPSBudWxsO1xuICAgICAgaWYgKGF0dHJpYnV0ZXMgPT0gbnVsbCkge1xuICAgICAgICBhdHRyaWJ1dGVzID0ge307XG4gICAgICB9XG4gICAgICBhdHRyaWJ1dGVzID0gYXR0cmlidXRlcy52YWx1ZU9mKCk7XG4gICAgICBpZiAoIWlzT2JqZWN0KGF0dHJpYnV0ZXMpKSB7XG4gICAgICAgIHJlZjEgPSBbYXR0cmlidXRlcywgdGV4dF0sIHRleHQgPSByZWYxWzBdLCBhdHRyaWJ1dGVzID0gcmVmMVsxXTtcbiAgICAgIH1cbiAgICAgIGlmIChuYW1lICE9IG51bGwpIHtcbiAgICAgICAgbmFtZSA9IG5hbWUudmFsdWVPZigpO1xuICAgICAgfVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZSkpIHtcbiAgICAgICAgZm9yIChqID0gMCwgbGVuID0gbmFtZS5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICAgIGl0ZW0gPSBuYW1lW2pdO1xuICAgICAgICAgIGxhc3RDaGlsZCA9IHRoaXMuZWxlbWVudChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKG5hbWUpKSB7XG4gICAgICAgIGxhc3RDaGlsZCA9IHRoaXMuZWxlbWVudChuYW1lLmFwcGx5KCkpO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChuYW1lKSkge1xuICAgICAgICBmb3IgKGtleSBpbiBuYW1lKSB7XG4gICAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwobmFtZSwga2V5KSkgY29udGludWU7XG4gICAgICAgICAgdmFsID0gbmFtZVtrZXldO1xuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbCkpIHtcbiAgICAgICAgICAgIHZhbCA9IHZhbC5hcHBseSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoKGlzT2JqZWN0KHZhbCkpICYmIChpc0VtcHR5KHZhbCkpKSB7XG4gICAgICAgICAgICB2YWwgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5pZ25vcmVEZWNvcmF0b3JzICYmIHRoaXMuc3RyaW5naWZ5LmNvbnZlcnRBdHRLZXkgJiYga2V5LmluZGV4T2YodGhpcy5zdHJpbmdpZnkuY29udmVydEF0dEtleSkgPT09IDApIHtcbiAgICAgICAgICAgIGxhc3RDaGlsZCA9IHRoaXMuYXR0cmlidXRlKGtleS5zdWJzdHIodGhpcy5zdHJpbmdpZnkuY29udmVydEF0dEtleS5sZW5ndGgpLCB2YWwpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMub3B0aW9ucy5zZXBhcmF0ZUFycmF5SXRlbXMgJiYgQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICBmb3IgKGsgPSAwLCBsZW4xID0gdmFsLmxlbmd0aDsgayA8IGxlbjE7IGsrKykge1xuICAgICAgICAgICAgICBpdGVtID0gdmFsW2tdO1xuICAgICAgICAgICAgICBjaGlsZE5vZGUgPSB7fTtcbiAgICAgICAgICAgICAgY2hpbGROb2RlW2tleV0gPSBpdGVtO1xuICAgICAgICAgICAgICBsYXN0Q2hpbGQgPSB0aGlzLmVsZW1lbnQoY2hpbGROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkpIHtcbiAgICAgICAgICAgIGxhc3RDaGlsZCA9IHRoaXMuZWxlbWVudChrZXkpO1xuICAgICAgICAgICAgbGFzdENoaWxkLmVsZW1lbnQodmFsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5lbGVtZW50KGtleSwgdmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydFRleHRLZXkgJiYgbmFtZS5pbmRleE9mKHRoaXMuc3RyaW5naWZ5LmNvbnZlcnRUZXh0S2V5KSA9PT0gMCkge1xuICAgICAgICAgIGxhc3RDaGlsZCA9IHRoaXMudGV4dCh0ZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydENEYXRhS2V5ICYmIG5hbWUuaW5kZXhPZih0aGlzLnN0cmluZ2lmeS5jb252ZXJ0Q0RhdGFLZXkpID09PSAwKSB7XG4gICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5jZGF0YSh0ZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydENvbW1lbnRLZXkgJiYgbmFtZS5pbmRleE9mKHRoaXMuc3RyaW5naWZ5LmNvbnZlcnRDb21tZW50S2V5KSA9PT0gMCkge1xuICAgICAgICAgIGxhc3RDaGlsZCA9IHRoaXMuY29tbWVudCh0ZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydFJhd0tleSAmJiBuYW1lLmluZGV4T2YodGhpcy5zdHJpbmdpZnkuY29udmVydFJhd0tleSkgPT09IDApIHtcbiAgICAgICAgICBsYXN0Q2hpbGQgPSB0aGlzLnJhdyh0ZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydFBJS2V5ICYmIG5hbWUuaW5kZXhPZih0aGlzLnN0cmluZ2lmeS5jb252ZXJ0UElLZXkpID09PSAwKSB7XG4gICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5pbnN0cnVjdGlvbihuYW1lLnN1YnN0cih0aGlzLnN0cmluZ2lmeS5jb252ZXJ0UElLZXkubGVuZ3RoKSwgdGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5ub2RlKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobGFzdENoaWxkID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGNyZWF0ZSBhbnkgZWxlbWVudHMgd2l0aDogXCIgKyBuYW1lKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsYXN0Q2hpbGQ7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmluc2VydEJlZm9yZSA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIHZhciBjaGlsZCwgaSwgcmVtb3ZlZDtcbiAgICAgIGlmICh0aGlzLmlzUm9vdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgaW5zZXJ0IGVsZW1lbnRzIGF0IHJvb3QgbGV2ZWxcIik7XG4gICAgICB9XG4gICAgICBpID0gdGhpcy5wYXJlbnQuY2hpbGRyZW4uaW5kZXhPZih0aGlzKTtcbiAgICAgIHJlbW92ZWQgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaSk7XG4gICAgICBjaGlsZCA9IHRoaXMucGFyZW50LmVsZW1lbnQobmFtZSwgYXR0cmlidXRlcywgdGV4dCk7XG4gICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLnBhcmVudC5jaGlsZHJlbiwgcmVtb3ZlZCk7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmluc2VydEFmdGVyID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgdmFyIGNoaWxkLCBpLCByZW1vdmVkO1xuICAgICAgaWYgKHRoaXMuaXNSb290KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBpbnNlcnQgZWxlbWVudHMgYXQgcm9vdCBsZXZlbFwiKTtcbiAgICAgIH1cbiAgICAgIGkgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICAgICAgcmVtb3ZlZCA9IHRoaXMucGFyZW50LmNoaWxkcmVuLnNwbGljZShpICsgMSk7XG4gICAgICBjaGlsZCA9IHRoaXMucGFyZW50LmVsZW1lbnQobmFtZSwgYXR0cmlidXRlcywgdGV4dCk7XG4gICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLnBhcmVudC5jaGlsZHJlbiwgcmVtb3ZlZCk7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGksIHJlZjE7XG4gICAgICBpZiAodGhpcy5pc1Jvb3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlbW92ZSB0aGUgcm9vdCBlbGVtZW50XCIpO1xuICAgICAgfVxuICAgICAgaSA9IHRoaXMucGFyZW50LmNoaWxkcmVuLmluZGV4T2YodGhpcyk7XG4gICAgICBbXS5zcGxpY2UuYXBwbHkodGhpcy5wYXJlbnQuY2hpbGRyZW4sIFtpLCBpIC0gaSArIDFdLmNvbmNhdChyZWYxID0gW10pKSwgcmVmMTtcbiAgICAgIHJldHVybiB0aGlzLnBhcmVudDtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUubm9kZSA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIHZhciBjaGlsZCwgcmVmMTtcbiAgICAgIGlmIChuYW1lICE9IG51bGwpIHtcbiAgICAgICAgbmFtZSA9IG5hbWUudmFsdWVPZigpO1xuICAgICAgfVxuICAgICAgYXR0cmlidXRlcyB8fCAoYXR0cmlidXRlcyA9IHt9KTtcbiAgICAgIGF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzLnZhbHVlT2YoKTtcbiAgICAgIGlmICghaXNPYmplY3QoYXR0cmlidXRlcykpIHtcbiAgICAgICAgcmVmMSA9IFthdHRyaWJ1dGVzLCB0ZXh0XSwgdGV4dCA9IHJlZjFbMF0sIGF0dHJpYnV0ZXMgPSByZWYxWzFdO1xuICAgICAgfVxuICAgICAgY2hpbGQgPSBuZXcgWE1MRWxlbWVudCh0aGlzLCBuYW1lLCBhdHRyaWJ1dGVzKTtcbiAgICAgIGlmICh0ZXh0ICE9IG51bGwpIHtcbiAgICAgICAgY2hpbGQudGV4dCh0ZXh0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MVGV4dCh0aGlzLCB2YWx1ZSk7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmNkYXRhID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBjaGlsZDtcbiAgICAgIGNoaWxkID0gbmV3IFhNTENEYXRhKHRoaXMsIHZhbHVlKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuY29tbWVudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgY2hpbGQ7XG4gICAgICBjaGlsZCA9IG5ldyBYTUxDb21tZW50KHRoaXMsIHZhbHVlKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuY29tbWVudEJlZm9yZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgY2hpbGQsIGksIHJlbW92ZWQ7XG4gICAgICBpID0gdGhpcy5wYXJlbnQuY2hpbGRyZW4uaW5kZXhPZih0aGlzKTtcbiAgICAgIHJlbW92ZWQgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaSk7XG4gICAgICBjaGlsZCA9IHRoaXMucGFyZW50LmNvbW1lbnQodmFsdWUpO1xuICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkodGhpcy5wYXJlbnQuY2hpbGRyZW4sIHJlbW92ZWQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmNvbW1lbnRBZnRlciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgY2hpbGQsIGksIHJlbW92ZWQ7XG4gICAgICBpID0gdGhpcy5wYXJlbnQuY2hpbGRyZW4uaW5kZXhPZih0aGlzKTtcbiAgICAgIHJlbW92ZWQgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaSArIDEpO1xuICAgICAgY2hpbGQgPSB0aGlzLnBhcmVudC5jb21tZW50KHZhbHVlKTtcbiAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMucGFyZW50LmNoaWxkcmVuLCByZW1vdmVkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5yYXcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MUmF3KHRoaXMsIHZhbHVlKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaW5zdHJ1Y3Rpb24gPSBmdW5jdGlvbih0YXJnZXQsIHZhbHVlKSB7XG4gICAgICB2YXIgaW5zVGFyZ2V0LCBpbnNWYWx1ZSwgaW5zdHJ1Y3Rpb24sIGosIGxlbjtcbiAgICAgIGlmICh0YXJnZXQgIT0gbnVsbCkge1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQudmFsdWVPZigpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS52YWx1ZU9mKCk7XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgIGZvciAoaiA9IDAsIGxlbiA9IHRhcmdldC5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICAgIGluc1RhcmdldCA9IHRhcmdldFtqXTtcbiAgICAgICAgICB0aGlzLmluc3RydWN0aW9uKGluc1RhcmdldCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodGFyZ2V0KSkge1xuICAgICAgICBmb3IgKGluc1RhcmdldCBpbiB0YXJnZXQpIHtcbiAgICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbCh0YXJnZXQsIGluc1RhcmdldCkpIGNvbnRpbnVlO1xuICAgICAgICAgIGluc1ZhbHVlID0gdGFyZ2V0W2luc1RhcmdldF07XG4gICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbihpbnNUYXJnZXQsIGluc1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5hcHBseSgpO1xuICAgICAgICB9XG4gICAgICAgIGluc3RydWN0aW9uID0gbmV3IFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbih0aGlzLCB0YXJnZXQsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGluc3RydWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5pbnN0cnVjdGlvbkJlZm9yZSA9IGZ1bmN0aW9uKHRhcmdldCwgdmFsdWUpIHtcbiAgICAgIHZhciBjaGlsZCwgaSwgcmVtb3ZlZDtcbiAgICAgIGkgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICAgICAgcmVtb3ZlZCA9IHRoaXMucGFyZW50LmNoaWxkcmVuLnNwbGljZShpKTtcbiAgICAgIGNoaWxkID0gdGhpcy5wYXJlbnQuaW5zdHJ1Y3Rpb24odGFyZ2V0LCB2YWx1ZSk7XG4gICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLnBhcmVudC5jaGlsZHJlbiwgcmVtb3ZlZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaW5zdHJ1Y3Rpb25BZnRlciA9IGZ1bmN0aW9uKHRhcmdldCwgdmFsdWUpIHtcbiAgICAgIHZhciBjaGlsZCwgaSwgcmVtb3ZlZDtcbiAgICAgIGkgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICAgICAgcmVtb3ZlZCA9IHRoaXMucGFyZW50LmNoaWxkcmVuLnNwbGljZShpICsgMSk7XG4gICAgICBjaGlsZCA9IHRoaXMucGFyZW50Lmluc3RydWN0aW9uKHRhcmdldCwgdmFsdWUpO1xuICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkodGhpcy5wYXJlbnQuY2hpbGRyZW4sIHJlbW92ZWQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmRlY2xhcmF0aW9uID0gZnVuY3Rpb24odmVyc2lvbiwgZW5jb2RpbmcsIHN0YW5kYWxvbmUpIHtcbiAgICAgIHZhciBkb2MsIHhtbGRlYztcbiAgICAgIGRvYyA9IHRoaXMuZG9jdW1lbnQoKTtcbiAgICAgIHhtbGRlYyA9IG5ldyBYTUxEZWNsYXJhdGlvbihkb2MsIHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKTtcbiAgICAgIGlmIChkb2MuY2hpbGRyZW5bMF0gaW5zdGFuY2VvZiBYTUxEZWNsYXJhdGlvbikge1xuICAgICAgICBkb2MuY2hpbGRyZW5bMF0gPSB4bWxkZWM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2MuY2hpbGRyZW4udW5zaGlmdCh4bWxkZWMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRvYy5yb290KCkgfHwgZG9jO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5kb2N0eXBlID0gZnVuY3Rpb24ocHViSUQsIHN5c0lEKSB7XG4gICAgICB2YXIgY2hpbGQsIGRvYywgZG9jdHlwZSwgaSwgaiwgaywgbGVuLCBsZW4xLCByZWYxLCByZWYyO1xuICAgICAgZG9jID0gdGhpcy5kb2N1bWVudCgpO1xuICAgICAgZG9jdHlwZSA9IG5ldyBYTUxEb2NUeXBlKGRvYywgcHViSUQsIHN5c0lEKTtcbiAgICAgIHJlZjEgPSBkb2MuY2hpbGRyZW47XG4gICAgICBmb3IgKGkgPSBqID0gMCwgbGVuID0gcmVmMS5sZW5ndGg7IGogPCBsZW47IGkgPSArK2opIHtcbiAgICAgICAgY2hpbGQgPSByZWYxW2ldO1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBYTUxEb2NUeXBlKSB7XG4gICAgICAgICAgZG9jLmNoaWxkcmVuW2ldID0gZG9jdHlwZTtcbiAgICAgICAgICByZXR1cm4gZG9jdHlwZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVmMiA9IGRvYy5jaGlsZHJlbjtcbiAgICAgIGZvciAoaSA9IGsgPSAwLCBsZW4xID0gcmVmMi5sZW5ndGg7IGsgPCBsZW4xOyBpID0gKytrKSB7XG4gICAgICAgIGNoaWxkID0gcmVmMltpXTtcbiAgICAgICAgaWYgKGNoaWxkLmlzUm9vdCkge1xuICAgICAgICAgIGRvYy5jaGlsZHJlbi5zcGxpY2UoaSwgMCwgZG9jdHlwZSk7XG4gICAgICAgICAgcmV0dXJuIGRvY3R5cGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRvYy5jaGlsZHJlbi5wdXNoKGRvY3R5cGUpO1xuICAgICAgcmV0dXJuIGRvY3R5cGU7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLnVwID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5pc1Jvb3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHJvb3Qgbm9kZSBoYXMgbm8gcGFyZW50LiBVc2UgZG9jKCkgaWYgeW91IG5lZWQgdG8gZ2V0IHRoZSBkb2N1bWVudCBvYmplY3QuXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucGFyZW50O1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5yb290ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIG5vZGUgPSB0aGlzO1xuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUuaXNEb2N1bWVudCkge1xuICAgICAgICAgIHJldHVybiBub2RlLnJvb3RPYmplY3Q7XG4gICAgICAgIH0gZWxzZSBpZiAobm9kZS5pc1Jvb3QpIHtcbiAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuZG9jdW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBub2RlO1xuICAgICAgbm9kZSA9IHRoaXM7XG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5pc0RvY3VtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50KCkuZW5kKG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5wcmV2ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaTtcbiAgICAgIGkgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICAgICAgaWYgKGkgPCAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFscmVhZHkgYXQgdGhlIGZpcnN0IG5vZGVcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnQuY2hpbGRyZW5baSAtIDFdO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaTtcbiAgICAgIGkgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICAgICAgaWYgKGkgPT09IC0xIHx8IGkgPT09IHRoaXMucGFyZW50LmNoaWxkcmVuLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWxyZWFkeSBhdCB0aGUgbGFzdCBub2RlXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmNoaWxkcmVuW2kgKyAxXTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaW1wb3J0RG9jdW1lbnQgPSBmdW5jdGlvbihkb2MpIHtcbiAgICAgIHZhciBjbG9uZWRSb290O1xuICAgICAgY2xvbmVkUm9vdCA9IGRvYy5yb290KCkuY2xvbmUoKTtcbiAgICAgIGNsb25lZFJvb3QucGFyZW50ID0gdGhpcztcbiAgICAgIGNsb25lZFJvb3QuaXNSb290ID0gZmFsc2U7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2xvbmVkUm9vdCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuZWxlID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudChuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUubm9kID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMubm9kZShuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUudHh0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQodmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5kYXQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2RhdGEodmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5jb20gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29tbWVudCh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmlucyA9IGZ1bmN0aW9uKHRhcmdldCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmluc3RydWN0aW9uKHRhcmdldCwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5kb2MgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50KCk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmRlYyA9IGZ1bmN0aW9uKHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWNsYXJhdGlvbih2ZXJzaW9uLCBlbmNvZGluZywgc3RhbmRhbG9uZSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmR0ZCA9IGZ1bmN0aW9uKHB1YklELCBzeXNJRCkge1xuICAgICAgcmV0dXJuIHRoaXMuZG9jdHlwZShwdWJJRCwgc3lzSUQpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5lID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudChuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUubiA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLm5vZGUobmFtZSwgYXR0cmlidXRlcywgdGV4dCk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2RhdGEodmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5jID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbW1lbnQodmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJhdyh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmkgPSBmdW5jdGlvbih0YXJnZXQsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnN0cnVjdGlvbih0YXJnZXQsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUudSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudXAoKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaW1wb3J0WE1MQnVpbGRlciA9IGZ1bmN0aW9uKGRvYykge1xuICAgICAgcmV0dXJuIHRoaXMuaW1wb3J0RG9jdW1lbnQoZG9jKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTE5vZGU7XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MU3RyaW5naWZpZXIsIGNhbWVsQ2FzZSwga2ViYWJDYXNlLCByZWYsIHNuYWtlQ2FzZSwgdGl0bGVDYXNlLFxuICAgIGJpbmQgPSBmdW5jdGlvbihmbiwgbWUpeyByZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuIGZuLmFwcGx5KG1lLCBhcmd1bWVudHMpOyB9OyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICByZWYgPSByZXF1aXJlKCcuL1V0aWxpdHknKSwgY2FtZWxDYXNlID0gcmVmLmNhbWVsQ2FzZSwgdGl0bGVDYXNlID0gcmVmLnRpdGxlQ2FzZSwga2ViYWJDYXNlID0gcmVmLmtlYmFiQ2FzZSwgc25ha2VDYXNlID0gcmVmLnNuYWtlQ2FzZTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTFN0cmluZ2lmaWVyID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIFhNTFN0cmluZ2lmaWVyKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuYXNzZXJ0TGVnYWxDaGFyID0gYmluZCh0aGlzLmFzc2VydExlZ2FsQ2hhciwgdGhpcyk7XG4gICAgICB2YXIga2V5LCByZWYxLCB2YWx1ZTtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgICB0aGlzLmFsbG93U3Vycm9nYXRlQ2hhcnMgPSBvcHRpb25zLmFsbG93U3Vycm9nYXRlQ2hhcnM7XG4gICAgICB0aGlzLm5vRG91YmxlRW5jb2RpbmcgPSBvcHRpb25zLm5vRG91YmxlRW5jb2Rpbmc7XG4gICAgICB0aGlzLnRleHRDYXNlID0gb3B0aW9ucy50ZXh0Q2FzZTtcbiAgICAgIHJlZjEgPSBvcHRpb25zLnN0cmluZ2lmeSB8fCB7fTtcbiAgICAgIGZvciAoa2V5IGluIHJlZjEpIHtcbiAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwocmVmMSwga2V5KSkgY29udGludWU7XG4gICAgICAgIHZhbHVlID0gcmVmMVtrZXldO1xuICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuZWxlTmFtZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgdmFsID0gJycgKyB2YWwgfHwgJyc7XG4gICAgICB2YWwgPSB0aGlzLmFwcGx5Q2FzZSh2YWwpO1xuICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0TGVnYWxDaGFyKHZhbCk7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5lbGVUZXh0ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICB2YWwgPSAnJyArIHZhbCB8fCAnJztcbiAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcih0aGlzLmVsRXNjYXBlKHZhbCkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuY2RhdGEgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHZhbCA9ICcnICsgdmFsIHx8ICcnO1xuICAgICAgdmFsID0gdmFsLnJlcGxhY2UoJ11dPicsICddXV1dPjwhW0NEQVRBWz4nKTtcbiAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcih2YWwpO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuY29tbWVudCA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgdmFsID0gJycgKyB2YWwgfHwgJyc7XG4gICAgICBpZiAodmFsLm1hdGNoKC8tLS8pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbW1lbnQgdGV4dCBjYW5ub3QgY29udGFpbiBkb3VibGUtaHlwZW46IFwiICsgdmFsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmFzc2VydExlZ2FsQ2hhcih2YWwpO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUucmF3ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICByZXR1cm4gJycgKyB2YWwgfHwgJyc7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5hdHROYW1lID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICB2YWwgPSAnJyArIHZhbCB8fCAnJztcbiAgICAgIHJldHVybiB2YWwgPSB0aGlzLmFwcGx5Q2FzZSh2YWwpO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuYXR0VmFsdWUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHZhbCA9ICcnICsgdmFsIHx8ICcnO1xuICAgICAgcmV0dXJuIHRoaXMuYXR0RXNjYXBlKHZhbCk7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5pbnNUYXJnZXQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHJldHVybiAnJyArIHZhbCB8fCAnJztcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmluc1ZhbHVlID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICB2YWwgPSAnJyArIHZhbCB8fCAnJztcbiAgICAgIGlmICh2YWwubWF0Y2goL1xcPz4vKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gdmFsdWU6IFwiICsgdmFsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS54bWxWZXJzaW9uID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICB2YWwgPSAnJyArIHZhbCB8fCAnJztcbiAgICAgIGlmICghdmFsLm1hdGNoKC8xXFwuWzAtOV0rLykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2ZXJzaW9uIG51bWJlcjogXCIgKyB2YWwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLnhtbEVuY29kaW5nID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICB2YWwgPSAnJyArIHZhbCB8fCAnJztcbiAgICAgIGlmICghdmFsLm1hdGNoKC9eW0EtWmEtel0oPzpbQS1aYS16MC05Ll8tXXwtKSokLykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBlbmNvZGluZzogXCIgKyB2YWwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLnhtbFN0YW5kYWxvbmUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIFwieWVzXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJub1wiO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuZHRkUHViSUQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHJldHVybiAnJyArIHZhbCB8fCAnJztcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmR0ZFN5c0lEID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICByZXR1cm4gJycgKyB2YWwgfHwgJyc7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5kdGRFbGVtZW50VmFsdWUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHJldHVybiAnJyArIHZhbCB8fCAnJztcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmR0ZEF0dFR5cGUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHJldHVybiAnJyArIHZhbCB8fCAnJztcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmR0ZEF0dERlZmF1bHQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmICh2YWwgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJycgKyB2YWwgfHwgJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuZHRkRW50aXR5VmFsdWUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHJldHVybiAnJyArIHZhbCB8fCAnJztcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmR0ZE5EYXRhID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICByZXR1cm4gJycgKyB2YWwgfHwgJyc7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5jb252ZXJ0QXR0S2V5ID0gJ0AnO1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmNvbnZlcnRQSUtleSA9ICc/JztcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5jb252ZXJ0VGV4dEtleSA9ICcjdGV4dCc7XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuY29udmVydENEYXRhS2V5ID0gJyNjZGF0YSc7XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuY29udmVydENvbW1lbnRLZXkgPSAnI2NvbW1lbnQnO1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmNvbnZlcnRSYXdLZXkgPSAnI3Jhdyc7XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuYXNzZXJ0TGVnYWxDaGFyID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICB2YXIgY2hhcnMsIGNocjtcbiAgICAgIGlmICh0aGlzLmFsbG93U3Vycm9nYXRlQ2hhcnMpIHtcbiAgICAgICAgY2hhcnMgPSAvW1xcdTAwMDAtXFx1MDAwOFxcdTAwMEItXFx1MDAwQ1xcdTAwMEUtXFx1MDAxRlxcdUZGRkUtXFx1RkZGRl0vO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hhcnMgPSAvW1xcdTAwMDAtXFx1MDAwOFxcdTAwMEItXFx1MDAwQ1xcdTAwMEUtXFx1MDAxRlxcdUQ4MDAtXFx1REZGRlxcdUZGRkUtXFx1RkZGRl0vO1xuICAgICAgfVxuICAgICAgY2hyID0gc3RyLm1hdGNoKGNoYXJzKTtcbiAgICAgIGlmIChjaHIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjaGFyYWN0ZXIgKFwiICsgY2hyICsgXCIpIGluIHN0cmluZzogXCIgKyBzdHIgKyBcIiBhdCBpbmRleCBcIiArIGNoci5pbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuYXBwbHlDYXNlID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICBzd2l0Y2ggKHRoaXMudGV4dENhc2UpIHtcbiAgICAgICAgY2FzZSBcImNhbWVsXCI6XG4gICAgICAgICAgcmV0dXJuIGNhbWVsQ2FzZShzdHIpO1xuICAgICAgICBjYXNlIFwidGl0bGVcIjpcbiAgICAgICAgICByZXR1cm4gdGl0bGVDYXNlKHN0cik7XG4gICAgICAgIGNhc2UgXCJrZWJhYlwiOlxuICAgICAgICBjYXNlIFwibG93ZXJcIjpcbiAgICAgICAgICByZXR1cm4ga2ViYWJDYXNlKHN0cik7XG4gICAgICAgIGNhc2UgXCJzbmFrZVwiOlxuICAgICAgICAgIHJldHVybiBzbmFrZUNhc2Uoc3RyKTtcbiAgICAgICAgY2FzZSBcInVwcGVyXCI6XG4gICAgICAgICAgcmV0dXJuIGtlYmFiQ2FzZShzdHIpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmVsRXNjYXBlID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICB2YXIgYW1wcmVnZXg7XG4gICAgICBhbXByZWdleCA9IHRoaXMubm9Eb3VibGVFbmNvZGluZyA/IC8oPyEmXFxTKzspJi9nIDogLyYvZztcbiAgICAgIHJldHVybiBzdHIucmVwbGFjZShhbXByZWdleCwgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKS5yZXBsYWNlKC9cXHIvZywgJyYjeEQ7Jyk7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5hdHRFc2NhcGUgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgIHZhciBhbXByZWdleDtcbiAgICAgIGFtcHJlZ2V4ID0gdGhpcy5ub0RvdWJsZUVuY29kaW5nID8gLyg/ISZcXFMrOykmL2cgOiAvJi9nO1xuICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKGFtcHJlZ2V4LCAnJmFtcDsnKS5yZXBsYWNlKC88L2csICcmbHQ7JykucmVwbGFjZSgvXCIvZywgJyZxdW90OycpLnJlcGxhY2UoL1xcdC9nLCAnJiN4OTsnKS5yZXBsYWNlKC9cXG4vZywgJyYjeEE7JykucmVwbGFjZSgvXFxyL2csICcmI3hEOycpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MU3RyaW5naWZpZXI7XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MV3JpdGVyQmFzZSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxXcml0ZXJCYXNlID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIFhNTFdyaXRlckJhc2Uob3B0aW9ucykge1xuICAgICAgdmFyIGtleSwgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZWY0LCB2YWx1ZTtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgICB0aGlzLnByZXR0eSA9IG9wdGlvbnMucHJldHR5IHx8IGZhbHNlO1xuICAgICAgdGhpcy5hbGxvd0VtcHR5ID0gKHJlZiA9IG9wdGlvbnMuYWxsb3dFbXB0eSkgIT0gbnVsbCA/IHJlZiA6IGZhbHNlO1xuICAgICAgaWYgKHRoaXMucHJldHR5KSB7XG4gICAgICAgIHRoaXMuaW5kZW50ID0gKHJlZjEgPSBvcHRpb25zLmluZGVudCkgIT0gbnVsbCA/IHJlZjEgOiAnICAnO1xuICAgICAgICB0aGlzLm5ld2xpbmUgPSAocmVmMiA9IG9wdGlvbnMubmV3bGluZSkgIT0gbnVsbCA/IHJlZjIgOiAnXFxuJztcbiAgICAgICAgdGhpcy5vZmZzZXQgPSAocmVmMyA9IG9wdGlvbnMub2Zmc2V0KSAhPSBudWxsID8gcmVmMyA6IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmluZGVudCA9ICcnO1xuICAgICAgICB0aGlzLm5ld2xpbmUgPSAnJztcbiAgICAgICAgdGhpcy5vZmZzZXQgPSAwO1xuICAgICAgfVxuICAgICAgcmVmNCA9IG9wdGlvbnMud3JpdGVyIHx8IHt9O1xuICAgICAgZm9yIChrZXkgaW4gcmVmNCkge1xuICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChyZWY0LCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgdmFsdWUgPSByZWY0W2tleV07XG4gICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIFhNTFdyaXRlckJhc2UucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBrZXksIHJlZiwgdmFsdWU7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuICAgICAgaWYgKFwicHJldHR5XCIgaW4gb3B0aW9ucykge1xuICAgICAgICB0aGlzLnByZXR0eSA9IG9wdGlvbnMucHJldHR5O1xuICAgICAgfVxuICAgICAgaWYgKFwiYWxsb3dFbXB0eVwiIGluIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hbGxvd0VtcHR5ID0gb3B0aW9ucy5hbGxvd0VtcHR5O1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucHJldHR5KSB7XG4gICAgICAgIHRoaXMuaW5kZW50ID0gXCJpbmRlbnRcIiBpbiBvcHRpb25zID8gb3B0aW9ucy5pbmRlbnQgOiAnICAnO1xuICAgICAgICB0aGlzLm5ld2xpbmUgPSBcIm5ld2xpbmVcIiBpbiBvcHRpb25zID8gb3B0aW9ucy5uZXdsaW5lIDogJ1xcbic7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gXCJvZmZzZXRcIiBpbiBvcHRpb25zID8gb3B0aW9ucy5vZmZzZXQgOiAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbmRlbnQgPSAnJztcbiAgICAgICAgdGhpcy5uZXdsaW5lID0gJyc7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gMDtcbiAgICAgIH1cbiAgICAgIHJlZiA9IG9wdGlvbnMud3JpdGVyIHx8IHt9O1xuICAgICAgZm9yIChrZXkgaW4gcmVmKSB7XG4gICAgICAgIGlmICghaGFzUHJvcC5jYWxsKHJlZiwga2V5KSkgY29udGludWU7XG4gICAgICAgIHZhbHVlID0gcmVmW2tleV07XG4gICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTFdyaXRlckJhc2UucHJvdG90eXBlLnNwYWNlID0gZnVuY3Rpb24obGV2ZWwpIHtcbiAgICAgIGlmICh0aGlzLnByZXR0eSkge1xuICAgICAgICByZXR1cm4gbmV3IEFycmF5KChsZXZlbCB8fCAwKSArIHRoaXMub2Zmc2V0ICsgMSkuam9pbih0aGlzLmluZGVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxXcml0ZXJCYXNlO1xuXG4gIH0pKCk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEwLjBcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTENEYXRhLCBYTUxDb21tZW50LCBYTUxEVERBdHRMaXN0LCBYTUxEVERFbGVtZW50LCBYTUxEVERFbnRpdHksIFhNTERURE5vdGF0aW9uLCBYTUxEZWNsYXJhdGlvbiwgWE1MRG9jVHlwZSwgWE1MRWxlbWVudCwgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLCBYTUxSYXcsIFhNTFN0cmluZ1dyaXRlciwgWE1MVGV4dCwgWE1MV3JpdGVyQmFzZSxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIFhNTERlY2xhcmF0aW9uID0gcmVxdWlyZSgnLi9YTUxEZWNsYXJhdGlvbicpO1xuXG4gIFhNTERvY1R5cGUgPSByZXF1aXJlKCcuL1hNTERvY1R5cGUnKTtcblxuICBYTUxDRGF0YSA9IHJlcXVpcmUoJy4vWE1MQ0RhdGEnKTtcblxuICBYTUxDb21tZW50ID0gcmVxdWlyZSgnLi9YTUxDb21tZW50Jyk7XG5cbiAgWE1MRWxlbWVudCA9IHJlcXVpcmUoJy4vWE1MRWxlbWVudCcpO1xuXG4gIFhNTFJhdyA9IHJlcXVpcmUoJy4vWE1MUmF3Jyk7XG5cbiAgWE1MVGV4dCA9IHJlcXVpcmUoJy4vWE1MVGV4dCcpO1xuXG4gIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbiA9IHJlcXVpcmUoJy4vWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uJyk7XG5cbiAgWE1MRFREQXR0TGlzdCA9IHJlcXVpcmUoJy4vWE1MRFREQXR0TGlzdCcpO1xuXG4gIFhNTERUREVsZW1lbnQgPSByZXF1aXJlKCcuL1hNTERUREVsZW1lbnQnKTtcblxuICBYTUxEVERFbnRpdHkgPSByZXF1aXJlKCcuL1hNTERUREVudGl0eScpO1xuXG4gIFhNTERURE5vdGF0aW9uID0gcmVxdWlyZSgnLi9YTUxEVEROb3RhdGlvbicpO1xuXG4gIFhNTFdyaXRlckJhc2UgPSByZXF1aXJlKCcuL1hNTFdyaXRlckJhc2UnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTFN0cmluZ1dyaXRlciA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTFN0cmluZ1dyaXRlciwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxTdHJpbmdXcml0ZXIob3B0aW9ucykge1xuICAgICAgWE1MU3RyaW5nV3JpdGVyLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUuZG9jdW1lbnQgPSBmdW5jdGlvbihkb2MpIHtcbiAgICAgIHZhciBjaGlsZCwgaSwgbGVuLCByLCByZWY7XG4gICAgICByID0gJyc7XG4gICAgICByZWYgPSBkb2MuY2hpbGRyZW47XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY2hpbGQgPSByZWZbaV07XG4gICAgICAgIHIgKz0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTERlY2xhcmF0aW9uKTpcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjbGFyYXRpb24oY2hpbGQpO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRG9jVHlwZSk6XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmRvY1R5cGUoY2hpbGQpO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MQ29tbWVudCk6XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbW1lbnQoY2hpbGQpO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uKTpcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc2luZ0luc3RydWN0aW9uKGNoaWxkKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQoY2hpbGQsIDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkuY2FsbCh0aGlzKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnByZXR0eSAmJiByLnNsaWNlKC10aGlzLm5ld2xpbmUubGVuZ3RoKSA9PT0gdGhpcy5uZXdsaW5lKSB7XG4gICAgICAgIHIgPSByLnNsaWNlKDAsIC10aGlzLm5ld2xpbmUubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdXcml0ZXIucHJvdG90eXBlLmF0dHJpYnV0ZSA9IGZ1bmN0aW9uKGF0dCkge1xuICAgICAgcmV0dXJuICcgJyArIGF0dC5uYW1lICsgJz1cIicgKyBhdHQudmFsdWUgKyAnXCInO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdXcml0ZXIucHJvdG90eXBlLmNkYXRhID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnNwYWNlKGxldmVsKSArICc8IVtDREFUQVsnICsgbm9kZS50ZXh0ICsgJ11dPicgKyB0aGlzLm5ld2xpbmU7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUuY29tbWVudCA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICByZXR1cm4gdGhpcy5zcGFjZShsZXZlbCkgKyAnPCEtLSAnICsgbm9kZS50ZXh0ICsgJyAtLT4nICsgdGhpcy5uZXdsaW5lO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdXcml0ZXIucHJvdG90eXBlLmRlY2xhcmF0aW9uID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHZhciByO1xuICAgICAgciA9IHRoaXMuc3BhY2UobGV2ZWwpO1xuICAgICAgciArPSAnPD94bWwgdmVyc2lvbj1cIicgKyBub2RlLnZlcnNpb24gKyAnXCInO1xuICAgICAgaWYgKG5vZGUuZW5jb2RpbmcgIT0gbnVsbCkge1xuICAgICAgICByICs9ICcgZW5jb2Rpbmc9XCInICsgbm9kZS5lbmNvZGluZyArICdcIic7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5zdGFuZGFsb25lICE9IG51bGwpIHtcbiAgICAgICAgciArPSAnIHN0YW5kYWxvbmU9XCInICsgbm9kZS5zdGFuZGFsb25lICsgJ1wiJztcbiAgICAgIH1cbiAgICAgIHIgKz0gJz8+JztcbiAgICAgIHIgKz0gdGhpcy5uZXdsaW5lO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUuZG9jVHlwZSA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICB2YXIgY2hpbGQsIGksIGxlbiwgciwgcmVmO1xuICAgICAgbGV2ZWwgfHwgKGxldmVsID0gMCk7XG4gICAgICByID0gdGhpcy5zcGFjZShsZXZlbCk7XG4gICAgICByICs9ICc8IURPQ1RZUEUgJyArIG5vZGUucm9vdCgpLm5hbWU7XG4gICAgICBpZiAobm9kZS5wdWJJRCAmJiBub2RlLnN5c0lEKSB7XG4gICAgICAgIHIgKz0gJyBQVUJMSUMgXCInICsgbm9kZS5wdWJJRCArICdcIiBcIicgKyBub2RlLnN5c0lEICsgJ1wiJztcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5zeXNJRCkge1xuICAgICAgICByICs9ICcgU1lTVEVNIFwiJyArIG5vZGUuc3lzSUQgKyAnXCInO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICByICs9ICcgWyc7XG4gICAgICAgIHIgKz0gdGhpcy5uZXdsaW5lO1xuICAgICAgICByZWYgPSBub2RlLmNoaWxkcmVuO1xuICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBjaGlsZCA9IHJlZltpXTtcbiAgICAgICAgICByICs9IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRFREQXR0TGlzdCk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHRkQXR0TGlzdChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRFRERWxlbWVudCk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHRkRWxlbWVudChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRFRERW50aXR5KTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kdGRFbnRpdHkoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTERURE5vdGF0aW9uKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kdGROb3RhdGlvbihjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MQ0RhdGEpOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNkYXRhKGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxDb21tZW50KTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb21tZW50KGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24pOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NpbmdJbnN0cnVjdGlvbihjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIERURCBub2RlIHR5cGU6IFwiICsgY2hpbGQuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByICs9ICddJztcbiAgICAgIH1cbiAgICAgIHIgKz0gJz4nO1xuICAgICAgciArPSB0aGlzLm5ld2xpbmU7XG4gICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5nV3JpdGVyLnByb3RvdHlwZS5lbGVtZW50ID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHZhciBhdHQsIGNoaWxkLCBpLCBsZW4sIG5hbWUsIHIsIHJlZiwgcmVmMSwgc3BhY2U7XG4gICAgICBsZXZlbCB8fCAobGV2ZWwgPSAwKTtcbiAgICAgIHNwYWNlID0gdGhpcy5zcGFjZShsZXZlbCk7XG4gICAgICByID0gJyc7XG4gICAgICByICs9IHNwYWNlICsgJzwnICsgbm9kZS5uYW1lO1xuICAgICAgcmVmID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgZm9yIChuYW1lIGluIHJlZikge1xuICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChyZWYsIG5hbWUpKSBjb250aW51ZTtcbiAgICAgICAgYXR0ID0gcmVmW25hbWVdO1xuICAgICAgICByICs9IHRoaXMuYXR0cmlidXRlKGF0dCk7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDAgfHwgbm9kZS5jaGlsZHJlbi5ldmVyeShmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiBlLnZhbHVlID09PSAnJztcbiAgICAgIH0pKSB7XG4gICAgICAgIGlmICh0aGlzLmFsbG93RW1wdHkpIHtcbiAgICAgICAgICByICs9ICc+PC8nICsgbm9kZS5uYW1lICsgJz4nICsgdGhpcy5uZXdsaW5lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHIgKz0gJy8+JyArIHRoaXMubmV3bGluZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXR0eSAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJiAobm9kZS5jaGlsZHJlblswXS52YWx1ZSAhPSBudWxsKSkge1xuICAgICAgICByICs9ICc+JztcbiAgICAgICAgciArPSBub2RlLmNoaWxkcmVuWzBdLnZhbHVlO1xuICAgICAgICByICs9ICc8LycgKyBub2RlLm5hbWUgKyAnPicgKyB0aGlzLm5ld2xpbmU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByICs9ICc+JyArIHRoaXMubmV3bGluZTtcbiAgICAgICAgcmVmMSA9IG5vZGUuY2hpbGRyZW47XG4gICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlZjEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBjaGlsZCA9IHJlZjFbaV07XG4gICAgICAgICAgciArPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGZhbHNlKSB7XG4gICAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTENEYXRhKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jZGF0YShjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MQ29tbWVudCk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tbWVudChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRWxlbWVudCk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MUmF3KTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yYXcoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTFRleHQpOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHQoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbik6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc2luZ0luc3RydWN0aW9uKGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gWE1MIG5vZGUgdHlwZTogXCIgKyBjaGlsZC5jb25zdHJ1Y3Rvci5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHIgKz0gc3BhY2UgKyAnPC8nICsgbm9kZS5uYW1lICsgJz4nICsgdGhpcy5uZXdsaW5lO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUucHJvY2Vzc2luZ0luc3RydWN0aW9uID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHZhciByO1xuICAgICAgciA9IHRoaXMuc3BhY2UobGV2ZWwpICsgJzw/JyArIG5vZGUudGFyZ2V0O1xuICAgICAgaWYgKG5vZGUudmFsdWUpIHtcbiAgICAgICAgciArPSAnICcgKyBub2RlLnZhbHVlO1xuICAgICAgfVxuICAgICAgciArPSAnPz4nICsgdGhpcy5uZXdsaW5lO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUucmF3ID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnNwYWNlKGxldmVsKSArIG5vZGUudmFsdWUgKyB0aGlzLm5ld2xpbmU7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUudGV4dCA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICByZXR1cm4gdGhpcy5zcGFjZShsZXZlbCkgKyBub2RlLnZhbHVlICsgdGhpcy5uZXdsaW5lO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdXcml0ZXIucHJvdG90eXBlLmR0ZEF0dExpc3QgPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgdmFyIHI7XG4gICAgICByID0gdGhpcy5zcGFjZShsZXZlbCkgKyAnPCFBVFRMSVNUICcgKyBub2RlLmVsZW1lbnROYW1lICsgJyAnICsgbm9kZS5hdHRyaWJ1dGVOYW1lICsgJyAnICsgbm9kZS5hdHRyaWJ1dGVUeXBlO1xuICAgICAgaWYgKG5vZGUuZGVmYXVsdFZhbHVlVHlwZSAhPT0gJyNERUZBVUxUJykge1xuICAgICAgICByICs9ICcgJyArIG5vZGUuZGVmYXVsdFZhbHVlVHlwZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmRlZmF1bHRWYWx1ZSkge1xuICAgICAgICByICs9ICcgXCInICsgbm9kZS5kZWZhdWx0VmFsdWUgKyAnXCInO1xuICAgICAgfVxuICAgICAgciArPSAnPicgKyB0aGlzLm5ld2xpbmU7XG4gICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5nV3JpdGVyLnByb3RvdHlwZS5kdGRFbGVtZW50ID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnNwYWNlKGxldmVsKSArICc8IUVMRU1FTlQgJyArIG5vZGUubmFtZSArICcgJyArIG5vZGUudmFsdWUgKyAnPicgKyB0aGlzLm5ld2xpbmU7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUuZHRkRW50aXR5ID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHZhciByO1xuICAgICAgciA9IHRoaXMuc3BhY2UobGV2ZWwpICsgJzwhRU5USVRZJztcbiAgICAgIGlmIChub2RlLnBlKSB7XG4gICAgICAgIHIgKz0gJyAlJztcbiAgICAgIH1cbiAgICAgIHIgKz0gJyAnICsgbm9kZS5uYW1lO1xuICAgICAgaWYgKG5vZGUudmFsdWUpIHtcbiAgICAgICAgciArPSAnIFwiJyArIG5vZGUudmFsdWUgKyAnXCInO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG5vZGUucHViSUQgJiYgbm9kZS5zeXNJRCkge1xuICAgICAgICAgIHIgKz0gJyBQVUJMSUMgXCInICsgbm9kZS5wdWJJRCArICdcIiBcIicgKyBub2RlLnN5c0lEICsgJ1wiJztcbiAgICAgICAgfSBlbHNlIGlmIChub2RlLnN5c0lEKSB7XG4gICAgICAgICAgciArPSAnIFNZU1RFTSBcIicgKyBub2RlLnN5c0lEICsgJ1wiJztcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5uRGF0YSkge1xuICAgICAgICAgIHIgKz0gJyBOREFUQSAnICsgbm9kZS5uRGF0YTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgciArPSAnPicgKyB0aGlzLm5ld2xpbmU7XG4gICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5nV3JpdGVyLnByb3RvdHlwZS5kdGROb3RhdGlvbiA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICB2YXIgcjtcbiAgICAgIHIgPSB0aGlzLnNwYWNlKGxldmVsKSArICc8IU5PVEFUSU9OICcgKyBub2RlLm5hbWU7XG4gICAgICBpZiAobm9kZS5wdWJJRCAmJiBub2RlLnN5c0lEKSB7XG4gICAgICAgIHIgKz0gJyBQVUJMSUMgXCInICsgbm9kZS5wdWJJRCArICdcIiBcIicgKyBub2RlLnN5c0lEICsgJ1wiJztcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5wdWJJRCkge1xuICAgICAgICByICs9ICcgUFVCTElDIFwiJyArIG5vZGUucHViSUQgKyAnXCInO1xuICAgICAgfSBlbHNlIGlmIChub2RlLnN5c0lEKSB7XG4gICAgICAgIHIgKz0gJyBTWVNURU0gXCInICsgbm9kZS5zeXNJRCArICdcIic7XG4gICAgICB9XG4gICAgICByICs9ICc+JyArIHRoaXMubmV3bGluZTtcbiAgICAgIHJldHVybiByO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdXcml0ZXIucHJvdG90eXBlLm9wZW5Ob2RlID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHZhciBhdHQsIG5hbWUsIHIsIHJlZjtcbiAgICAgIGxldmVsIHx8IChsZXZlbCA9IDApO1xuICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBYTUxFbGVtZW50KSB7XG4gICAgICAgIHIgPSB0aGlzLnNwYWNlKGxldmVsKSArICc8JyArIG5vZGUubmFtZTtcbiAgICAgICAgcmVmID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgICBmb3IgKG5hbWUgaW4gcmVmKSB7XG4gICAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwocmVmLCBuYW1lKSkgY29udGludWU7XG4gICAgICAgICAgYXR0ID0gcmVmW25hbWVdO1xuICAgICAgICAgIHIgKz0gdGhpcy5hdHRyaWJ1dGUoYXR0KTtcbiAgICAgICAgfVxuICAgICAgICByICs9IChub2RlLmNoaWxkcmVuID8gJz4nIDogJy8+JykgKyB0aGlzLm5ld2xpbmU7XG4gICAgICAgIHJldHVybiByO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgciA9IHRoaXMuc3BhY2UobGV2ZWwpICsgJzwhRE9DVFlQRSAnICsgbm9kZS5yb290Tm9kZU5hbWU7XG4gICAgICAgIGlmIChub2RlLnB1YklEICYmIG5vZGUuc3lzSUQpIHtcbiAgICAgICAgICByICs9ICcgUFVCTElDIFwiJyArIG5vZGUucHViSUQgKyAnXCIgXCInICsgbm9kZS5zeXNJRCArICdcIic7XG4gICAgICAgIH0gZWxzZSBpZiAobm9kZS5zeXNJRCkge1xuICAgICAgICAgIHIgKz0gJyBTWVNURU0gXCInICsgbm9kZS5zeXNJRCArICdcIic7XG4gICAgICAgIH1cbiAgICAgICAgciArPSAobm9kZS5jaGlsZHJlbiA/ICcgWycgOiAnPicpICsgdGhpcy5uZXdsaW5lO1xuICAgICAgICByZXR1cm4gcjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MU3RyaW5nV3JpdGVyLnByb3RvdHlwZS5jbG9zZU5vZGUgPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgbGV2ZWwgfHwgKGxldmVsID0gMCk7XG4gICAgICBzd2l0Y2ggKGZhbHNlKSB7XG4gICAgICAgIGNhc2UgIShub2RlIGluc3RhbmNlb2YgWE1MRWxlbWVudCk6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3BhY2UobGV2ZWwpICsgJzwvJyArIG5vZGUubmFtZSArICc+JyArIHRoaXMubmV3bGluZTtcbiAgICAgICAgY2FzZSAhKG5vZGUgaW5zdGFuY2VvZiBYTUxEb2NUeXBlKTpcbiAgICAgICAgICByZXR1cm4gdGhpcy5zcGFjZShsZXZlbCkgKyAnXT4nICsgdGhpcy5uZXdsaW5lO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gWE1MU3RyaW5nV3JpdGVyO1xuXG4gIH0pKFhNTFdyaXRlckJhc2UpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxEb2N1bWVudCwgWE1MTm9kZSwgWE1MU3RyaW5nV3JpdGVyLCBYTUxTdHJpbmdpZmllciwgaXNQbGFpbk9iamVjdCxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIGlzUGxhaW5PYmplY3QgPSByZXF1aXJlKCcuL1V0aWxpdHknKS5pc1BsYWluT2JqZWN0O1xuXG4gIFhNTE5vZGUgPSByZXF1aXJlKCcuL1hNTE5vZGUnKTtcblxuICBYTUxTdHJpbmdpZmllciA9IHJlcXVpcmUoJy4vWE1MU3RyaW5naWZpZXInKTtcblxuICBYTUxTdHJpbmdXcml0ZXIgPSByZXF1aXJlKCcuL1hNTFN0cmluZ1dyaXRlcicpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MRG9jdW1lbnQgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxEb2N1bWVudCwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxEb2N1bWVudChvcHRpb25zKSB7XG4gICAgICBYTUxEb2N1bWVudC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBudWxsKTtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgICBpZiAoIW9wdGlvbnMud3JpdGVyKSB7XG4gICAgICAgIG9wdGlvbnMud3JpdGVyID0gbmV3IFhNTFN0cmluZ1dyaXRlcigpO1xuICAgICAgfVxuICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgIHRoaXMuc3RyaW5naWZ5ID0gbmV3IFhNTFN0cmluZ2lmaWVyKG9wdGlvbnMpO1xuICAgICAgdGhpcy5pc0RvY3VtZW50ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBYTUxEb2N1bWVudC5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24od3JpdGVyKSB7XG4gICAgICB2YXIgd3JpdGVyT3B0aW9ucztcbiAgICAgIGlmICghd3JpdGVyKSB7XG4gICAgICAgIHdyaXRlciA9IHRoaXMub3B0aW9ucy53cml0ZXI7XG4gICAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qod3JpdGVyKSkge1xuICAgICAgICB3cml0ZXJPcHRpb25zID0gd3JpdGVyO1xuICAgICAgICB3cml0ZXIgPSB0aGlzLm9wdGlvbnMud3JpdGVyLnNldCh3cml0ZXJPcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cml0ZXIuZG9jdW1lbnQodGhpcyk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnNldChvcHRpb25zKS5kb2N1bWVudCh0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTERvY3VtZW50O1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxBdHRyaWJ1dGUsIFhNTENEYXRhLCBYTUxDb21tZW50LCBYTUxEVERBdHRMaXN0LCBYTUxEVERFbGVtZW50LCBYTUxEVERFbnRpdHksIFhNTERURE5vdGF0aW9uLCBYTUxEZWNsYXJhdGlvbiwgWE1MRG9jVHlwZSwgWE1MRG9jdW1lbnRDQiwgWE1MRWxlbWVudCwgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLCBYTUxSYXcsIFhNTFN0cmluZ1dyaXRlciwgWE1MU3RyaW5naWZpZXIsIFhNTFRleHQsIGlzRnVuY3Rpb24sIGlzT2JqZWN0LCBpc1BsYWluT2JqZWN0LCByZWYsXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIHJlZiA9IHJlcXVpcmUoJy4vVXRpbGl0eScpLCBpc09iamVjdCA9IHJlZi5pc09iamVjdCwgaXNGdW5jdGlvbiA9IHJlZi5pc0Z1bmN0aW9uLCBpc1BsYWluT2JqZWN0ID0gcmVmLmlzUGxhaW5PYmplY3Q7XG5cbiAgWE1MRWxlbWVudCA9IHJlcXVpcmUoJy4vWE1MRWxlbWVudCcpO1xuXG4gIFhNTENEYXRhID0gcmVxdWlyZSgnLi9YTUxDRGF0YScpO1xuXG4gIFhNTENvbW1lbnQgPSByZXF1aXJlKCcuL1hNTENvbW1lbnQnKTtcblxuICBYTUxSYXcgPSByZXF1aXJlKCcuL1hNTFJhdycpO1xuXG4gIFhNTFRleHQgPSByZXF1aXJlKCcuL1hNTFRleHQnKTtcblxuICBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSByZXF1aXJlKCcuL1hNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbicpO1xuXG4gIFhNTERlY2xhcmF0aW9uID0gcmVxdWlyZSgnLi9YTUxEZWNsYXJhdGlvbicpO1xuXG4gIFhNTERvY1R5cGUgPSByZXF1aXJlKCcuL1hNTERvY1R5cGUnKTtcblxuICBYTUxEVERBdHRMaXN0ID0gcmVxdWlyZSgnLi9YTUxEVERBdHRMaXN0Jyk7XG5cbiAgWE1MRFRERW50aXR5ID0gcmVxdWlyZSgnLi9YTUxEVERFbnRpdHknKTtcblxuICBYTUxEVERFbGVtZW50ID0gcmVxdWlyZSgnLi9YTUxEVERFbGVtZW50Jyk7XG5cbiAgWE1MRFRETm90YXRpb24gPSByZXF1aXJlKCcuL1hNTERURE5vdGF0aW9uJyk7XG5cbiAgWE1MQXR0cmlidXRlID0gcmVxdWlyZSgnLi9YTUxBdHRyaWJ1dGUnKTtcblxuICBYTUxTdHJpbmdpZmllciA9IHJlcXVpcmUoJy4vWE1MU3RyaW5naWZpZXInKTtcblxuICBYTUxTdHJpbmdXcml0ZXIgPSByZXF1aXJlKCcuL1hNTFN0cmluZ1dyaXRlcicpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MRG9jdW1lbnRDQiA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBYTUxEb2N1bWVudENCKG9wdGlvbnMsIG9uRGF0YSwgb25FbmQpIHtcbiAgICAgIHZhciB3cml0ZXJPcHRpb25zO1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KTtcbiAgICAgIGlmICghb3B0aW9ucy53cml0ZXIpIHtcbiAgICAgICAgb3B0aW9ucy53cml0ZXIgPSBuZXcgWE1MU3RyaW5nV3JpdGVyKG9wdGlvbnMpO1xuICAgICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KG9wdGlvbnMud3JpdGVyKSkge1xuICAgICAgICB3cml0ZXJPcHRpb25zID0gb3B0aW9ucy53cml0ZXI7XG4gICAgICAgIG9wdGlvbnMud3JpdGVyID0gbmV3IFhNTFN0cmluZ1dyaXRlcih3cml0ZXJPcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICB0aGlzLndyaXRlciA9IG9wdGlvbnMud3JpdGVyO1xuICAgICAgdGhpcy5zdHJpbmdpZnkgPSBuZXcgWE1MU3RyaW5naWZpZXIob3B0aW9ucyk7XG4gICAgICB0aGlzLm9uRGF0YUNhbGxiYWNrID0gb25EYXRhIHx8IGZ1bmN0aW9uKCkge307XG4gICAgICB0aGlzLm9uRW5kQ2FsbGJhY2sgPSBvbkVuZCB8fCBmdW5jdGlvbigpIHt9O1xuICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IG51bGw7XG4gICAgICB0aGlzLmN1cnJlbnRMZXZlbCA9IC0xO1xuICAgICAgdGhpcy5vcGVuVGFncyA9IHt9O1xuICAgICAgdGhpcy5kb2N1bWVudFN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuZG9jdW1lbnRDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMucm9vdCA9IG51bGw7XG4gICAgfVxuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUubm9kZSA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIHZhciByZWYxO1xuICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIG5vZGUgbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnJvb3QgJiYgdGhpcy5jdXJyZW50TGV2ZWwgPT09IC0xKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRvY3VtZW50IGNhbiBvbmx5IGhhdmUgb25lIHJvb3Qgbm9kZVwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIG5hbWUgPSBuYW1lLnZhbHVlT2YoKTtcbiAgICAgIGlmIChhdHRyaWJ1dGVzID09IG51bGwpIHtcbiAgICAgICAgYXR0cmlidXRlcyA9IHt9O1xuICAgICAgfVxuICAgICAgYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXMudmFsdWVPZigpO1xuICAgICAgaWYgKCFpc09iamVjdChhdHRyaWJ1dGVzKSkge1xuICAgICAgICByZWYxID0gW2F0dHJpYnV0ZXMsIHRleHRdLCB0ZXh0ID0gcmVmMVswXSwgYXR0cmlidXRlcyA9IHJlZjFbMV07XG4gICAgICB9XG4gICAgICB0aGlzLmN1cnJlbnROb2RlID0gbmV3IFhNTEVsZW1lbnQodGhpcywgbmFtZSwgYXR0cmlidXRlcyk7XG4gICAgICB0aGlzLmN1cnJlbnROb2RlLmNoaWxkcmVuID0gZmFsc2U7XG4gICAgICB0aGlzLmN1cnJlbnRMZXZlbCsrO1xuICAgICAgdGhpcy5vcGVuVGFnc1t0aGlzLmN1cnJlbnRMZXZlbF0gPSB0aGlzLmN1cnJlbnROb2RlO1xuICAgICAgaWYgKHRleHQgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnRleHQodGV4dCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZWxlbWVudCA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnROb2RlICYmIHRoaXMuY3VycmVudE5vZGUgaW5zdGFuY2VvZiBYTUxEb2NUeXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmR0ZEVsZW1lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGUobmFtZSwgYXR0cmlidXRlcywgdGV4dCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmF0dHJpYnV0ZSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgYXR0TmFtZSwgYXR0VmFsdWU7XG4gICAgICBpZiAoIXRoaXMuY3VycmVudE5vZGUgfHwgdGhpcy5jdXJyZW50Tm9kZS5jaGlsZHJlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhdHQoKSBjYW4gb25seSBiZSB1c2VkIGltbWVkaWF0ZWx5IGFmdGVyIGFuIGVsZSgpIGNhbGwgaW4gY2FsbGJhY2sgbW9kZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuYW1lICE9IG51bGwpIHtcbiAgICAgICAgbmFtZSA9IG5hbWUudmFsdWVPZigpO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XG4gICAgICAgIGZvciAoYXR0TmFtZSBpbiBuYW1lKSB7XG4gICAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwobmFtZSwgYXR0TmFtZSkpIGNvbnRpbnVlO1xuICAgICAgICAgIGF0dFZhbHVlID0gbmFtZVthdHROYW1lXTtcbiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZShhdHROYW1lLCBhdHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUuYXBwbHkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5za2lwTnVsbEF0dHJpYnV0ZXMgfHwgKHZhbHVlICE9IG51bGwpKSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZS5hdHRyaWJ1dGVzW25hbWVdID0gbmV3IFhNTEF0dHJpYnV0ZSh0aGlzLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS50ZXh0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBub2RlO1xuICAgICAgdGhpcy5vcGVuQ3VycmVudCgpO1xuICAgICAgbm9kZSA9IG5ldyBYTUxUZXh0KHRoaXMsIHZhbHVlKTtcbiAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLnRleHQobm9kZSwgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuY2RhdGEgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBub2RlID0gbmV3IFhNTENEYXRhKHRoaXMsIHZhbHVlKTtcbiAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLmNkYXRhKG5vZGUsIHRoaXMuY3VycmVudExldmVsICsgMSkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmNvbW1lbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBub2RlID0gbmV3IFhNTENvbW1lbnQodGhpcywgdmFsdWUpO1xuICAgICAgdGhpcy5vbkRhdGEodGhpcy53cml0ZXIuY29tbWVudChub2RlLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5yYXcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBub2RlID0gbmV3IFhNTFJhdyh0aGlzLCB2YWx1ZSk7XG4gICAgICB0aGlzLm9uRGF0YSh0aGlzLndyaXRlci5yYXcobm9kZSwgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuaW5zdHJ1Y3Rpb24gPSBmdW5jdGlvbih0YXJnZXQsIHZhbHVlKSB7XG4gICAgICB2YXIgaSwgaW5zVGFyZ2V0LCBpbnNWYWx1ZSwgbGVuLCBub2RlO1xuICAgICAgdGhpcy5vcGVuQ3VycmVudCgpO1xuICAgICAgaWYgKHRhcmdldCAhPSBudWxsKSB7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldC52YWx1ZU9mKCk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnZhbHVlT2YoKTtcbiAgICAgIH1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgZm9yIChpID0gMCwgbGVuID0gdGFyZ2V0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgaW5zVGFyZ2V0ID0gdGFyZ2V0W2ldO1xuICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb24oaW5zVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc09iamVjdCh0YXJnZXQpKSB7XG4gICAgICAgIGZvciAoaW5zVGFyZ2V0IGluIHRhcmdldCkge1xuICAgICAgICAgIGlmICghaGFzUHJvcC5jYWxsKHRhcmdldCwgaW5zVGFyZ2V0KSkgY29udGludWU7XG4gICAgICAgICAgaW5zVmFsdWUgPSB0YXJnZXRbaW5zVGFyZ2V0XTtcbiAgICAgICAgICB0aGlzLmluc3RydWN0aW9uKGluc1RhcmdldCwgaW5zVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmFwcGx5KCk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5ldyBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24odGhpcywgdGFyZ2V0LCB2YWx1ZSk7XG4gICAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLnByb2Nlc3NpbmdJbnN0cnVjdGlvbihub2RlLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5kZWNsYXJhdGlvbiA9IGZ1bmN0aW9uKHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIGlmICh0aGlzLmRvY3VtZW50U3RhcnRlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJkZWNsYXJhdGlvbigpIG11c3QgYmUgdGhlIGZpcnN0IG5vZGVcIik7XG4gICAgICB9XG4gICAgICBub2RlID0gbmV3IFhNTERlY2xhcmF0aW9uKHRoaXMsIHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKTtcbiAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLmRlY2xhcmF0aW9uKG5vZGUsIHRoaXMuY3VycmVudExldmVsICsgMSkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmRvY3R5cGUgPSBmdW5jdGlvbihyb290LCBwdWJJRCwgc3lzSUQpIHtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIGlmIChyb290ID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByb290IG5vZGUgbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnJvb3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZHRkKCkgbXVzdCBjb21lIGJlZm9yZSB0aGUgcm9vdCBub2RlXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IG5ldyBYTUxEb2NUeXBlKHRoaXMsIHB1YklELCBzeXNJRCk7XG4gICAgICB0aGlzLmN1cnJlbnROb2RlLnJvb3ROb2RlTmFtZSA9IHJvb3Q7XG4gICAgICB0aGlzLmN1cnJlbnROb2RlLmNoaWxkcmVuID0gZmFsc2U7XG4gICAgICB0aGlzLmN1cnJlbnRMZXZlbCsrO1xuICAgICAgdGhpcy5vcGVuVGFnc1t0aGlzLmN1cnJlbnRMZXZlbF0gPSB0aGlzLmN1cnJlbnROb2RlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmR0ZEVsZW1lbnQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBub2RlID0gbmV3IFhNTERUREVsZW1lbnQodGhpcywgbmFtZSwgdmFsdWUpO1xuICAgICAgdGhpcy5vbkRhdGEodGhpcy53cml0ZXIuZHRkRWxlbWVudChub2RlLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5hdHRMaXN0ID0gZnVuY3Rpb24oZWxlbWVudE5hbWUsIGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVR5cGUsIGRlZmF1bHRWYWx1ZVR5cGUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBub2RlID0gbmV3IFhNTERUREF0dExpc3QodGhpcywgZWxlbWVudE5hbWUsIGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVR5cGUsIGRlZmF1bHRWYWx1ZVR5cGUsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICB0aGlzLm9uRGF0YSh0aGlzLndyaXRlci5kdGRBdHRMaXN0KG5vZGUsIHRoaXMuY3VycmVudExldmVsICsgMSkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmVudGl0eSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIG5vZGUgPSBuZXcgWE1MRFRERW50aXR5KHRoaXMsIGZhbHNlLCBuYW1lLCB2YWx1ZSk7XG4gICAgICB0aGlzLm9uRGF0YSh0aGlzLndyaXRlci5kdGRFbnRpdHkobm9kZSwgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUucEVudGl0eSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIG5vZGUgPSBuZXcgWE1MRFRERW50aXR5KHRoaXMsIHRydWUsIG5hbWUsIHZhbHVlKTtcbiAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLmR0ZEVudGl0eShub2RlLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5ub3RhdGlvbiA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIG5vZGUgPSBuZXcgWE1MRFRETm90YXRpb24odGhpcywgbmFtZSwgdmFsdWUpO1xuICAgICAgdGhpcy5vbkRhdGEodGhpcy53cml0ZXIuZHRkTm90YXRpb24obm9kZSwgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUudXAgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRMZXZlbCA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGRvY3VtZW50IG5vZGUgaGFzIG5vIHBhcmVudFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmN1cnJlbnROb2RlKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnROb2RlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZU5vZGUodGhpcy5jdXJyZW50Tm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5vcGVuTm9kZSh0aGlzLmN1cnJlbnROb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2xvc2VOb2RlKHRoaXMub3BlblRhZ3NbdGhpcy5jdXJyZW50TGV2ZWxdKTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSB0aGlzLm9wZW5UYWdzW3RoaXMuY3VycmVudExldmVsXTtcbiAgICAgIHRoaXMuY3VycmVudExldmVsLS07XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICB3aGlsZSAodGhpcy5jdXJyZW50TGV2ZWwgPj0gMCkge1xuICAgICAgICB0aGlzLnVwKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5vbkVuZCgpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5vcGVuQ3VycmVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuY3VycmVudE5vZGUpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZS5jaGlsZHJlbiA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzLm9wZW5Ob2RlKHRoaXMuY3VycmVudE5vZGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5vcGVuTm9kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIGlmICghbm9kZS5pc09wZW4pIHtcbiAgICAgICAgaWYgKCF0aGlzLnJvb3QgJiYgdGhpcy5jdXJyZW50TGV2ZWwgPT09IDAgJiYgbm9kZSBpbnN0YW5jZW9mIFhNTEVsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLnJvb3QgPSBub2RlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLm9wZW5Ob2RlKG5vZGUsIHRoaXMuY3VycmVudExldmVsKSk7XG4gICAgICAgIHJldHVybiBub2RlLmlzT3BlbiA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmNsb3NlTm9kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIGlmICghbm9kZS5pc0Nsb3NlZCkge1xuICAgICAgICB0aGlzLm9uRGF0YSh0aGlzLndyaXRlci5jbG9zZU5vZGUobm9kZSwgdGhpcy5jdXJyZW50TGV2ZWwpKTtcbiAgICAgICAgcmV0dXJuIG5vZGUuaXNDbG9zZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5vbkRhdGEgPSBmdW5jdGlvbihjaHVuaykge1xuICAgICAgdGhpcy5kb2N1bWVudFN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXMub25EYXRhQ2FsbGJhY2soY2h1bmspO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5vbkVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb2N1bWVudENvbXBsZXRlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcy5vbkVuZENhbGxiYWNrKCk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmVsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5ub2QgPSBmdW5jdGlvbihuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5ub2RlKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS50eHQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmRhdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jZGF0YSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmNvbSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb21tZW50KHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuaW5zID0gZnVuY3Rpb24odGFyZ2V0LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5zdHJ1Y3Rpb24odGFyZ2V0LCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmRlYyA9IGZ1bmN0aW9uKHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWNsYXJhdGlvbih2ZXJzaW9uLCBlbmNvZGluZywgc3RhbmRhbG9uZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmR0ZCA9IGZ1bmN0aW9uKHJvb3QsIHB1YklELCBzeXNJRCkge1xuICAgICAgcmV0dXJuIHRoaXMuZG9jdHlwZShyb290LCBwdWJJRCwgc3lzSUQpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5lID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudChuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUubiA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLm5vZGUobmFtZSwgYXR0cmlidXRlcywgdGV4dCk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2RhdGEodmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5jID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbW1lbnQodmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJhdyh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmkgPSBmdW5jdGlvbih0YXJnZXQsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnN0cnVjdGlvbih0YXJnZXQsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuYXR0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50Tm9kZSAmJiB0aGlzLmN1cnJlbnROb2RlIGluc3RhbmNlb2YgWE1MRG9jVHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRMaXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuYSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuY3VycmVudE5vZGUgJiYgdGhpcy5jdXJyZW50Tm9kZSBpbnN0YW5jZW9mIFhNTERvY1R5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0TGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmVudCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbnRpdHkobmFtZSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5wZW50ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnBFbnRpdHkobmFtZSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5ub3QgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMubm90YXRpb24obmFtZSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MRG9jdW1lbnRDQjtcblxuICB9KSgpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxDRGF0YSwgWE1MQ29tbWVudCwgWE1MRFREQXR0TGlzdCwgWE1MRFRERWxlbWVudCwgWE1MRFRERW50aXR5LCBYTUxEVEROb3RhdGlvbiwgWE1MRGVjbGFyYXRpb24sIFhNTERvY1R5cGUsIFhNTEVsZW1lbnQsIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbiwgWE1MUmF3LCBYTUxTdHJlYW1Xcml0ZXIsIFhNTFRleHQsIFhNTFdyaXRlckJhc2UsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBYTUxEZWNsYXJhdGlvbiA9IHJlcXVpcmUoJy4vWE1MRGVjbGFyYXRpb24nKTtcblxuICBYTUxEb2NUeXBlID0gcmVxdWlyZSgnLi9YTUxEb2NUeXBlJyk7XG5cbiAgWE1MQ0RhdGEgPSByZXF1aXJlKCcuL1hNTENEYXRhJyk7XG5cbiAgWE1MQ29tbWVudCA9IHJlcXVpcmUoJy4vWE1MQ29tbWVudCcpO1xuXG4gIFhNTEVsZW1lbnQgPSByZXF1aXJlKCcuL1hNTEVsZW1lbnQnKTtcblxuICBYTUxSYXcgPSByZXF1aXJlKCcuL1hNTFJhdycpO1xuXG4gIFhNTFRleHQgPSByZXF1aXJlKCcuL1hNTFRleHQnKTtcblxuICBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSByZXF1aXJlKCcuL1hNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbicpO1xuXG4gIFhNTERUREF0dExpc3QgPSByZXF1aXJlKCcuL1hNTERUREF0dExpc3QnKTtcblxuICBYTUxEVERFbGVtZW50ID0gcmVxdWlyZSgnLi9YTUxEVERFbGVtZW50Jyk7XG5cbiAgWE1MRFRERW50aXR5ID0gcmVxdWlyZSgnLi9YTUxEVERFbnRpdHknKTtcblxuICBYTUxEVEROb3RhdGlvbiA9IHJlcXVpcmUoJy4vWE1MRFRETm90YXRpb24nKTtcblxuICBYTUxXcml0ZXJCYXNlID0gcmVxdWlyZSgnLi9YTUxXcml0ZXJCYXNlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxTdHJlYW1Xcml0ZXIgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxTdHJlYW1Xcml0ZXIsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gWE1MU3RyZWFtV3JpdGVyKHN0cmVhbSwgb3B0aW9ucykge1xuICAgICAgdGhpcy5zdHJlYW0gPSBzdHJlYW07XG4gICAgICBYTUxTdHJlYW1Xcml0ZXIuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5kb2N1bWVudCA9IGZ1bmN0aW9uKGRvYykge1xuICAgICAgdmFyIGNoaWxkLCBpLCBqLCBsZW4sIGxlbjEsIHJlZiwgcmVmMSwgcmVzdWx0cztcbiAgICAgIHJlZiA9IGRvYy5jaGlsZHJlbjtcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjaGlsZCA9IHJlZltpXTtcbiAgICAgICAgY2hpbGQuaXNMYXN0Um9vdE5vZGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGRvYy5jaGlsZHJlbltkb2MuY2hpbGRyZW4ubGVuZ3RoIC0gMV0uaXNMYXN0Um9vdE5vZGUgPSB0cnVlO1xuICAgICAgcmVmMSA9IGRvYy5jaGlsZHJlbjtcbiAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgIGZvciAoaiA9IDAsIGxlbjEgPSByZWYxLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuICAgICAgICBjaGlsZCA9IHJlZjFbal07XG4gICAgICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxEZWNsYXJhdGlvbik6XG4gICAgICAgICAgICByZXN1bHRzLnB1c2godGhpcy5kZWNsYXJhdGlvbihjaGlsZCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRG9jVHlwZSk6XG4gICAgICAgICAgICByZXN1bHRzLnB1c2godGhpcy5kb2NUeXBlKGNoaWxkKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxDb21tZW50KTpcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCh0aGlzLmNvbW1lbnQoY2hpbGQpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbik6XG4gICAgICAgICAgICByZXN1bHRzLnB1c2godGhpcy5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24oY2hpbGQpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXN1bHRzLnB1c2godGhpcy5lbGVtZW50KGNoaWxkKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmF0dHJpYnV0ZSA9IGZ1bmN0aW9uKGF0dCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKCcgJyArIGF0dC5uYW1lICsgJz1cIicgKyBhdHQudmFsdWUgKyAnXCInKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5jZGF0YSA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUodGhpcy5zcGFjZShsZXZlbCkgKyAnPCFbQ0RBVEFbJyArIG5vZGUudGV4dCArICddXT4nICsgdGhpcy5lbmRsaW5lKG5vZGUpKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5jb21tZW50ID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlKGxldmVsKSArICc8IS0tICcgKyBub2RlLnRleHQgKyAnIC0tPicgKyB0aGlzLmVuZGxpbmUobm9kZSkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmRlY2xhcmF0aW9uID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHRoaXMuc3RyZWFtLndyaXRlKHRoaXMuc3BhY2UobGV2ZWwpKTtcbiAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCc8P3htbCB2ZXJzaW9uPVwiJyArIG5vZGUudmVyc2lvbiArICdcIicpO1xuICAgICAgaWYgKG5vZGUuZW5jb2RpbmcgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnIGVuY29kaW5nPVwiJyArIG5vZGUuZW5jb2RpbmcgKyAnXCInKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLnN0YW5kYWxvbmUgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnIHN0YW5kYWxvbmU9XCInICsgbm9kZS5zdGFuZGFsb25lICsgJ1wiJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSgnPz4nKTtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLmVuZGxpbmUobm9kZSkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmRvY1R5cGUgPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgdmFyIGNoaWxkLCBpLCBsZW4sIHJlZjtcbiAgICAgIGxldmVsIHx8IChsZXZlbCA9IDApO1xuICAgICAgdGhpcy5zdHJlYW0ud3JpdGUodGhpcy5zcGFjZShsZXZlbCkpO1xuICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJzwhRE9DVFlQRSAnICsgbm9kZS5yb290KCkubmFtZSk7XG4gICAgICBpZiAobm9kZS5wdWJJRCAmJiBub2RlLnN5c0lEKSB7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCcgUFVCTElDIFwiJyArIG5vZGUucHViSUQgKyAnXCIgXCInICsgbm9kZS5zeXNJRCArICdcIicpO1xuICAgICAgfSBlbHNlIGlmIChub2RlLnN5c0lEKSB7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCcgU1lTVEVNIFwiJyArIG5vZGUuc3lzSUQgKyAnXCInKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyBbJyk7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKHRoaXMuZW5kbGluZShub2RlKSk7XG4gICAgICAgIHJlZiA9IG5vZGUuY2hpbGRyZW47XG4gICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGNoaWxkID0gcmVmW2ldO1xuICAgICAgICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTERUREF0dExpc3QpOlxuICAgICAgICAgICAgICB0aGlzLmR0ZEF0dExpc3QoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRFRERWxlbWVudCk6XG4gICAgICAgICAgICAgIHRoaXMuZHRkRWxlbWVudChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxEVERFbnRpdHkpOlxuICAgICAgICAgICAgICB0aGlzLmR0ZEVudGl0eShjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxEVEROb3RhdGlvbik6XG4gICAgICAgICAgICAgIHRoaXMuZHRkTm90YXRpb24oY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MQ0RhdGEpOlxuICAgICAgICAgICAgICB0aGlzLmNkYXRhKGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTENvbW1lbnQpOlxuICAgICAgICAgICAgICB0aGlzLmNvbW1lbnQoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uKTpcbiAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24oY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBEVEQgbm9kZSB0eXBlOiBcIiArIGNoaWxkLmNvbnN0cnVjdG9yLm5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnXScpO1xuICAgICAgfVxuICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJz4nKTtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLmVuZGxpbmUobm9kZSkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmVsZW1lbnQgPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgdmFyIGF0dCwgY2hpbGQsIGksIGxlbiwgbmFtZSwgcmVmLCByZWYxLCBzcGFjZTtcbiAgICAgIGxldmVsIHx8IChsZXZlbCA9IDApO1xuICAgICAgc3BhY2UgPSB0aGlzLnNwYWNlKGxldmVsKTtcbiAgICAgIHRoaXMuc3RyZWFtLndyaXRlKHNwYWNlICsgJzwnICsgbm9kZS5uYW1lKTtcbiAgICAgIHJlZiA9IG5vZGUuYXR0cmlidXRlcztcbiAgICAgIGZvciAobmFtZSBpbiByZWYpIHtcbiAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwocmVmLCBuYW1lKSkgY29udGludWU7XG4gICAgICAgIGF0dCA9IHJlZltuYW1lXTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGUoYXR0KTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCB8fCBub2RlLmNoaWxkcmVuLmV2ZXJ5KGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmV0dXJuIGUudmFsdWUgPT09ICcnO1xuICAgICAgfSkpIHtcbiAgICAgICAgaWYgKHRoaXMuYWxsb3dFbXB0eSkge1xuICAgICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCc+PC8nICsgbm9kZS5uYW1lICsgJz4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnLz4nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXR0eSAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJiAobm9kZS5jaGlsZHJlblswXS52YWx1ZSAhPSBudWxsKSkge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnPicpO1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZShub2RlLmNoaWxkcmVuWzBdLnZhbHVlKTtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJzwvJyArIG5vZGUubmFtZSArICc+Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnPicgKyB0aGlzLm5ld2xpbmUpO1xuICAgICAgICByZWYxID0gbm9kZS5jaGlsZHJlbjtcbiAgICAgICAgZm9yIChpID0gMCwgbGVuID0gcmVmMS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGNoaWxkID0gcmVmMVtpXTtcbiAgICAgICAgICBzd2l0Y2ggKGZhbHNlKSB7XG4gICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxDRGF0YSk6XG4gICAgICAgICAgICAgIHRoaXMuY2RhdGEoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MQ29tbWVudCk6XG4gICAgICAgICAgICAgIHRoaXMuY29tbWVudChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxFbGVtZW50KTpcbiAgICAgICAgICAgICAgdGhpcy5lbGVtZW50KGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTFJhdyk6XG4gICAgICAgICAgICAgIHRoaXMucmF3KGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTFRleHQpOlxuICAgICAgICAgICAgICB0aGlzLnRleHQoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uKTpcbiAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24oY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBYTUwgbm9kZSB0eXBlOiBcIiArIGNoaWxkLmNvbnN0cnVjdG9yLm5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZShzcGFjZSArICc8LycgKyBub2RlLm5hbWUgKyAnPicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKHRoaXMuZW5kbGluZShub2RlKSk7XG4gICAgfTtcblxuICAgIFhNTFN0cmVhbVdyaXRlci5wcm90b3R5cGUucHJvY2Vzc2luZ0luc3RydWN0aW9uID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHRoaXMuc3RyZWFtLndyaXRlKHRoaXMuc3BhY2UobGV2ZWwpICsgJzw/JyArIG5vZGUudGFyZ2V0KTtcbiAgICAgIGlmIChub2RlLnZhbHVlKSB7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCcgJyArIG5vZGUudmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKCc/PicgKyB0aGlzLmVuZGxpbmUobm9kZSkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLnJhdyA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUodGhpcy5zcGFjZShsZXZlbCkgKyBub2RlLnZhbHVlICsgdGhpcy5lbmRsaW5lKG5vZGUpKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS50ZXh0ID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlKGxldmVsKSArIG5vZGUudmFsdWUgKyB0aGlzLmVuZGxpbmUobm9kZSkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmR0ZEF0dExpc3QgPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgdGhpcy5zdHJlYW0ud3JpdGUodGhpcy5zcGFjZShsZXZlbCkgKyAnPCFBVFRMSVNUICcgKyBub2RlLmVsZW1lbnROYW1lICsgJyAnICsgbm9kZS5hdHRyaWJ1dGVOYW1lICsgJyAnICsgbm9kZS5hdHRyaWJ1dGVUeXBlKTtcbiAgICAgIGlmIChub2RlLmRlZmF1bHRWYWx1ZVR5cGUgIT09ICcjREVGQVVMVCcpIHtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyAnICsgbm9kZS5kZWZhdWx0VmFsdWVUeXBlKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmRlZmF1bHRWYWx1ZSkge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnIFwiJyArIG5vZGUuZGVmYXVsdFZhbHVlICsgJ1wiJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUoJz4nICsgdGhpcy5lbmRsaW5lKG5vZGUpKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5kdGRFbGVtZW50ID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlKGxldmVsKSArICc8IUVMRU1FTlQgJyArIG5vZGUubmFtZSArICcgJyArIG5vZGUudmFsdWUgKyAnPicgKyB0aGlzLmVuZGxpbmUobm9kZSkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmR0ZEVudGl0eSA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlKGxldmVsKSArICc8IUVOVElUWScpO1xuICAgICAgaWYgKG5vZGUucGUpIHtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyAlJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSgnICcgKyBub2RlLm5hbWUpO1xuICAgICAgaWYgKG5vZGUudmFsdWUpIHtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyBcIicgKyBub2RlLnZhbHVlICsgJ1wiJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobm9kZS5wdWJJRCAmJiBub2RlLnN5c0lEKSB7XG4gICAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyBQVUJMSUMgXCInICsgbm9kZS5wdWJJRCArICdcIiBcIicgKyBub2RlLnN5c0lEICsgJ1wiJyk7XG4gICAgICAgIH0gZWxzZSBpZiAobm9kZS5zeXNJRCkge1xuICAgICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCcgU1lTVEVNIFwiJyArIG5vZGUuc3lzSUQgKyAnXCInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5uRGF0YSkge1xuICAgICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCcgTkRBVEEgJyArIG5vZGUubkRhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUoJz4nICsgdGhpcy5lbmRsaW5lKG5vZGUpKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5kdGROb3RhdGlvbiA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlKGxldmVsKSArICc8IU5PVEFUSU9OICcgKyBub2RlLm5hbWUpO1xuICAgICAgaWYgKG5vZGUucHViSUQgJiYgbm9kZS5zeXNJRCkge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnIFBVQkxJQyBcIicgKyBub2RlLnB1YklEICsgJ1wiIFwiJyArIG5vZGUuc3lzSUQgKyAnXCInKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5wdWJJRCkge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnIFBVQkxJQyBcIicgKyBub2RlLnB1YklEICsgJ1wiJyk7XG4gICAgICB9IGVsc2UgaWYgKG5vZGUuc3lzSUQpIHtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyBTWVNURU0gXCInICsgbm9kZS5zeXNJRCArICdcIicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKCc+JyArIHRoaXMuZW5kbGluZShub2RlKSk7XG4gICAgfTtcblxuICAgIFhNTFN0cmVhbVdyaXRlci5wcm90b3R5cGUuZW5kbGluZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIGlmICghbm9kZS5pc0xhc3RSb290Tm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZXdsaW5lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gWE1MU3RyZWFtV3JpdGVyO1xuXG4gIH0pKFhNTFdyaXRlckJhc2UpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxEb2N1bWVudCwgWE1MRG9jdW1lbnRDQiwgWE1MU3RyZWFtV3JpdGVyLCBYTUxTdHJpbmdXcml0ZXIsIGFzc2lnbiwgaXNGdW5jdGlvbiwgcmVmO1xuXG4gIHJlZiA9IHJlcXVpcmUoJy4vVXRpbGl0eScpLCBhc3NpZ24gPSByZWYuYXNzaWduLCBpc0Z1bmN0aW9uID0gcmVmLmlzRnVuY3Rpb247XG5cbiAgWE1MRG9jdW1lbnQgPSByZXF1aXJlKCcuL1hNTERvY3VtZW50Jyk7XG5cbiAgWE1MRG9jdW1lbnRDQiA9IHJlcXVpcmUoJy4vWE1MRG9jdW1lbnRDQicpO1xuXG4gIFhNTFN0cmluZ1dyaXRlciA9IHJlcXVpcmUoJy4vWE1MU3RyaW5nV3JpdGVyJyk7XG5cbiAgWE1MU3RyZWFtV3JpdGVyID0gcmVxdWlyZSgnLi9YTUxTdHJlYW1Xcml0ZXInKTtcblxuICBtb2R1bGUuZXhwb3J0cy5jcmVhdGUgPSBmdW5jdGlvbihuYW1lLCB4bWxkZWMsIGRvY3R5cGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgZG9jLCByb290O1xuICAgIGlmIChuYW1lID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJvb3QgZWxlbWVudCBuZWVkcyBhIG5hbWVcIik7XG4gICAgfVxuICAgIG9wdGlvbnMgPSBhc3NpZ24oe30sIHhtbGRlYywgZG9jdHlwZSwgb3B0aW9ucyk7XG4gICAgZG9jID0gbmV3IFhNTERvY3VtZW50KG9wdGlvbnMpO1xuICAgIHJvb3QgPSBkb2MuZWxlbWVudChuYW1lKTtcbiAgICBpZiAoIW9wdGlvbnMuaGVhZGxlc3MpIHtcbiAgICAgIGRvYy5kZWNsYXJhdGlvbihvcHRpb25zKTtcbiAgICAgIGlmICgob3B0aW9ucy5wdWJJRCAhPSBudWxsKSB8fCAob3B0aW9ucy5zeXNJRCAhPSBudWxsKSkge1xuICAgICAgICBkb2MuZG9jdHlwZShvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJvb3Q7XG4gIH07XG5cbiAgbW9kdWxlLmV4cG9ydHMuYmVnaW4gPSBmdW5jdGlvbihvcHRpb25zLCBvbkRhdGEsIG9uRW5kKSB7XG4gICAgdmFyIHJlZjE7XG4gICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICAgIHJlZjEgPSBbb3B0aW9ucywgb25EYXRhXSwgb25EYXRhID0gcmVmMVswXSwgb25FbmQgPSByZWYxWzFdO1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBpZiAob25EYXRhKSB7XG4gICAgICByZXR1cm4gbmV3IFhNTERvY3VtZW50Q0Iob3B0aW9ucywgb25EYXRhLCBvbkVuZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgWE1MRG9jdW1lbnQob3B0aW9ucyk7XG4gICAgfVxuICB9O1xuXG4gIG1vZHVsZS5leHBvcnRzLnN0cmluZ1dyaXRlciA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFhNTFN0cmluZ1dyaXRlcihvcHRpb25zKTtcbiAgfTtcblxuICBtb2R1bGUuZXhwb3J0cy5zdHJlYW1Xcml0ZXIgPSBmdW5jdGlvbihzdHJlYW0sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFhNTFN0cmVhbVdyaXRlcihzdHJlYW0sIG9wdGlvbnMpO1xuICB9O1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8qKlxuICogQGNsYXNzIERhdGVGb3JtYXR0ZXJcbiAqIFRoZSBEYXRlRm9ybWF0dGVyIHN1cHBvcnRzIGRlY29kaW5nIGZyb20gYW5kIGVuY29kaW5nIHRvXG4gKiBJU084NjAxIGZvcm1hdHRlZCBzdHJpbmdzLiBBY2NlcHRzIGZvcm1hdHMgd2l0aCBhbmQgd2l0aG91dFxuICogaHlwaGVuL2NvbG9uIHNlcGFyYXRvcnMgYW5kIGNvcnJlY3RseSBwYXJzZXMgem9uaW5nIGluZm8uXG4gKi9cbnZhciBEYXRlRm9ybWF0dGVyID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgdGhpcy5vcHRzID0ge31cbiAgdGhpcy5zZXRPcHRzKG9wdHMpXG59XG5cbi8qKlxuICogRGVmYXVsdCBvcHRpb25zIGZvciBEYXRlRm9ybWF0dGVyXG4gKiBAc3RhdGljXG4gKiBAc2VlIERhdGVGb3JtYXR0ZXIjc2V0T3B0c1xuICovXG5EYXRlRm9ybWF0dGVyLkRFRkFVTFRfT1BUSU9OUyA9IHtcbiAgY29sb25zOiB0cnVlXG4sIGh5cGhlbnM6IGZhbHNlXG4sIGxvY2FsOiB0cnVlXG4sIG1zOiBmYWxzZVxuLCBvZmZzZXQ6IGZhbHNlXG59XG5cbi8qKlxuICogUmVndWxhciBFeHByZXNzaW9uIHRoYXQgZGlzZWN0cyBJU08gODYwMSBmb3JtYXR0ZWQgc3RyaW5ncyBpbnRvXG4gKiBhbiBhcnJheSBvZiBwYXJ0cy5cbiAqIEBzdGF0aWNcbiAqL1xuRGF0ZUZvcm1hdHRlci5JU084NjAxID0gbmV3IFJlZ0V4cChcbiAgJyhbMC05XXs0fSkoWy1dPyhbMC05XXsyfSkpKFstXT8oWzAtOV17Mn0pKSdcbisgJyhUKFswLTldezJ9KSgoKDo/KFswLTldezJ9KSk/KCg6PyhbMC05XXsyfSkpPyhcXC4oWzAtOV0rKSk/KSk/KSdcbisgJyhafChbKy1dKFswLTldezJ9KDo/KFswLTldezJ9KSk/KSkpPyk/J1xuKVxuXG4vKipcbiAqIFNldHMgb3B0aW9ucyBmb3IgZW5jb2RpbmcgRGF0ZSBvYmplY3RzIHRvIElTTzg2MDEgc3RyaW5ncy5cbiAqICAgIE9taXR0aW5nIHRoZSAnb3B0cycgYXJndW1lbnQgd2lsbCByZXNldCBhbGwgb3B0aW9ucyB0byB0aGUgZGVmYXVsdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIE9wdGlvbnMgKG9wdGlvbmFsKVxuICogQHBhcmFtIHtCb29sZWFufSBvcHRzLmNvbG9ucyAgLSBFbmFibGUvZGlzYWJsZSBmb3JtYXR0aW5nIHRoZSB0aW1lIHBvcnRpb25cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aCBhIGNvbG9uIGFzIHNlcGFyYXRvciAoZGVmYXVsdDogdHJ1ZSlcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0cy5oeXBoZW5zIC0gRW5hYmxlL2Rpc2FibGUgZm9ybWF0dGluZyB0aGUgZGF0ZSBwb3J0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggYSBoeXBoZW4gYXMgc2VwYXJhdG9yIChkZWZhdWx0OiBmYWxzZSlcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0cy5sb2NhbCAgIC0gRW5jb2RlIGFzIGxvY2FsIHRpbWUgaW5zdGVhZCBvZiBVVENcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRlZmF1bHQ6IHRydWUpXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9wdHMubXMgICAgICAtIEVuYWJsZS9EaXNhYmxlIG91dHB1dCBvZiBtaWxsaXNlY29uZHNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRlZmF1bHQ6IGZhbHNlKVxuICogQHBhcmFtIHtCb29sZWFufSBvcHRzLm9mZnNldCAgLSBFbmFibGUvRGlzYWJsZSBvdXRwdXQgb2YgVVRDIG9mZnNldFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZGVmYXVsdDogZmFsc2UpXG4gKi9cbkRhdGVGb3JtYXR0ZXIucHJvdG90eXBlLnNldE9wdHMgPSBmdW5jdGlvbiAob3B0cykge1xuICBpZiAoIW9wdHMpIG9wdHMgPSBEYXRlRm9ybWF0dGVyLkRFRkFVTFRfT1BUSU9OU1xuXG4gIHZhciBjdHggPSB0aGlzXG4gIE9iamVjdC5rZXlzKERhdGVGb3JtYXR0ZXIuREVGQVVMVF9PUFRJT05TKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgY3R4Lm9wdHNba10gPSBvcHRzLmhhc093blByb3BlcnR5KGspID9cbiAgICAgIG9wdHNba10gOiBEYXRlRm9ybWF0dGVyLkRFRkFVTFRfT1BUSU9OU1trXVxuICB9KVxufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgZGF0ZSB0aW1lIHN0YW1wIGZvbGxvd2luZyB0aGUgSVNPODYwMSBmb3JtYXQgdG8gYSBKYXZhU2NyaXB0IERhdGVcbiAqIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdGltZSAtIFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aW1lc3RhbXAuXG4gKiBAcmV0dXJuIHtEYXRlfSAgICAgICAtIERhdGUgb2JqZWN0IGZyb20gdGltZXN0YW1wLlxuICovXG5EYXRlRm9ybWF0dGVyLnByb3RvdHlwZS5kZWNvZGVJc284NjAxID0gZnVuY3Rpb24odGltZSkge1xuICB2YXIgZGF0ZVBhcnRzID0gdGltZS50b1N0cmluZygpLm1hdGNoKERhdGVGb3JtYXR0ZXIuSVNPODYwMSlcbiAgaWYgKCFkYXRlUGFydHMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGEgSVNPODYwMSBkYXRldGltZSBidXQgZ290IFxcJycgKyB0aW1lICsgJ1xcJycpXG4gIH1cblxuICB2YXIgZGF0ZSA9IFtcbiAgICBbZGF0ZVBhcnRzWzFdLCBkYXRlUGFydHNbM10gfHwgJzAxJywgZGF0ZVBhcnRzWzVdIHx8ICcwMSddLmpvaW4oJy0nKVxuICAgICwgJ1QnXG4gICAgLCBbXG4gICAgICAgIGRhdGVQYXJ0c1s3XSB8fCAnMDAnXG4gICAgICAsIGRhdGVQYXJ0c1sxMV0gfHwgJzAwJ1xuICAgICAgLCBkYXRlUGFydHNbMTRdIHx8ICcwMCdcbiAgICAgIF0uam9pbignOicpXG4gICAgLCAnLidcbiAgICAsIGRhdGVQYXJ0c1sxNl0gfHwgJzAwMCdcbiAgXS5qb2luKCcnKVxuXG4gIGRhdGUgKz0gKGRhdGVQYXJ0c1sxN10gIT09IHVuZGVmaW5lZCkgP1xuICAgIGRhdGVQYXJ0c1sxN10gK1xuICAgICAgKChkYXRlUGFydHNbMTldICYmIGRhdGVQYXJ0c1syMF0gPT09IHVuZGVmaW5lZCkgPyAnMDAnIDogJycpIDpcbiAgICBEYXRlRm9ybWF0dGVyLmZvcm1hdEN1cnJlbnRPZmZzZXQobmV3IERhdGUoZGF0ZSkpXG5cbiAgcmV0dXJuIG5ldyBEYXRlKGRhdGUpXG59XG5cbi8qKlxuICogQ29udmVydHMgYSBKYXZhU2NyaXB0IERhdGUgb2JqZWN0IHRvIGFuIElTTzg2MDEgdGltZXN0YW1wLlxuICpcbiAqIEBwYXJhbSB7RGF0ZX0gZGF0ZSAtIERhdGUgb2JqZWN0LlxuICogQHJldHVybiB7U3RyaW5nfSAgIC0gU3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRpbWVzdGFtcC5cbiAqL1xuRGF0ZUZvcm1hdHRlci5wcm90b3R5cGUuZW5jb2RlSXNvODYwMSA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgdmFyIHBhcnRzID0gdGhpcy5vcHRzLmxvY2FsID9cbiAgICBEYXRlRm9ybWF0dGVyLmdldExvY2FsRGF0ZVBhcnRzKGRhdGUpIDpcbiAgICBEYXRlRm9ybWF0dGVyLmdldFVUQ0RhdGVQYXJ0cyhkYXRlKVxuXG4gIHJldHVybiBbXG4gICAgW3BhcnRzWzBdLHBhcnRzWzFdLHBhcnRzWzJdXS5qb2luKHRoaXMub3B0cy5oeXBoZW5zID8gJy0nIDogJycpXG4gICwgJ1QnXG4gICwgW3BhcnRzWzNdLHBhcnRzWzRdLHBhcnRzWzVdXS5qb2luKHRoaXMub3B0cy5jb2xvbnMgPyAnOicgOiAnJylcbiAgLCAodGhpcy5vcHRzLm1zKSA/ICcuJyArIHBhcnRzWzZdIDogJydcbiAgLCAodGhpcy5vcHRzLmxvY2FsKSA/ICgodGhpcy5vcHRzLm9mZnNldCkgP1xuICAgICAgRGF0ZUZvcm1hdHRlci5mb3JtYXRDdXJyZW50T2Zmc2V0KGRhdGUpIDogJycpIDogJ1onXG4gIF0uam9pbignJylcbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGFuIGFycmF5IG9mIHplcm8tcGFkZGVkIGRhdGUgcGFydHMsXG4gKiBpbiBVVENcbiAqXG4gKiBAcGFyYW0ge0RhdGV9IGRhdGUgLSBEYXRlIE9iamVjdFxuICogQHJldHVybiB7U3RyaW5nW119XG4gKi9cbkRhdGVGb3JtYXR0ZXIuZ2V0VVRDRGF0ZVBhcnRzID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgcmV0dXJuIFtcbiAgICBkYXRlLmdldFVUQ0Z1bGxZZWFyKClcbiAgLCBEYXRlRm9ybWF0dGVyLnplcm9QYWQoZGF0ZS5nZXRVVENNb250aCgpKzEsMilcbiAgLCBEYXRlRm9ybWF0dGVyLnplcm9QYWQoZGF0ZS5nZXRVVENEYXRlKCksMilcbiAgLCBEYXRlRm9ybWF0dGVyLnplcm9QYWQoZGF0ZS5nZXRVVENIb3VycygpLCAyKVxuICAsIERhdGVGb3JtYXR0ZXIuemVyb1BhZChkYXRlLmdldFVUQ01pbnV0ZXMoKSwgMilcbiAgLCBEYXRlRm9ybWF0dGVyLnplcm9QYWQoZGF0ZS5nZXRVVENTZWNvbmRzKCksIDIpXG4gICwgRGF0ZUZvcm1hdHRlci56ZXJvUGFkKGRhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCksIDMpXVxufVxuXG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBhbiBhcnJheSBvZiB6ZXJvLXBhZGRlZCBkYXRlIHBhcnRzLFxuICogaW4gdGhlIGxvY2FsIHRpbWUgem9uZVxuICpcbiAqIEBwYXJhbSB7RGF0ZX0gZGF0ZSAtIERhdGUgT2JqZWN0XG4gKiBAcmV0dXJuIHtTdHJpbmdbXX1cbiAqL1xuRGF0ZUZvcm1hdHRlci5nZXRMb2NhbERhdGVQYXJ0cyA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gIHJldHVybiBbXG4gICAgZGF0ZS5nZXRGdWxsWWVhcigpXG4gICwgRGF0ZUZvcm1hdHRlci56ZXJvUGFkKGRhdGUuZ2V0TW9udGgoKSsxLDIpXG4gICwgRGF0ZUZvcm1hdHRlci56ZXJvUGFkKGRhdGUuZ2V0RGF0ZSgpLDIpXG4gICwgRGF0ZUZvcm1hdHRlci56ZXJvUGFkKGRhdGUuZ2V0SG91cnMoKSwgMilcbiAgLCBEYXRlRm9ybWF0dGVyLnplcm9QYWQoZGF0ZS5nZXRNaW51dGVzKCksIDIpXG4gICwgRGF0ZUZvcm1hdHRlci56ZXJvUGFkKGRhdGUuZ2V0U2Vjb25kcygpLCAyKVxuICAsIERhdGVGb3JtYXR0ZXIuemVyb1BhZChkYXRlLmdldE1pbGxpc2Vjb25kcygpLCAzKV1cbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gcGFkIHRoZSBkaWdpdHMgd2l0aCAwcyB0byBtZWV0IGRhdGUgZm9ybWF0dGluZ1xuICogcmVxdWlyZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCAgLSBUaGUgbnVtYmVyIHRvIHBhZC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBsZW5ndGggLSBMZW5ndGggb2YgZGlnaXQgc3RyaW5nLCBwcmVmaXggd2l0aCAwcyBpZiBub3RcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBhbHJlYWR5IGxlbmd0aC5cbiAqIEByZXR1cm4ge1N0cmluZ30gICAgICAgLSBTdHJpbmcgd2l0aCB0aGUgcGFkZGVkIGRpZ2l0XG4gKi9cbkRhdGVGb3JtYXR0ZXIuemVyb1BhZCA9IGZ1bmN0aW9uIChkaWdpdCwgbGVuZ3RoKSB7XG4gIHZhciBwYWRkZWQgPSAnJyArIGRpZ2l0XG4gIHdoaWxlIChwYWRkZWQubGVuZ3RoIDwgbGVuZ3RoKSB7XG4gICAgcGFkZGVkID0gJzAnICsgcGFkZGVkXG4gIH1cblxuICByZXR1cm4gcGFkZGVkXG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGdldCB0aGUgY3VycmVudCB0aW1lem9uZSB0byBkZWZhdWx0IGRlY29kaW5nIHRvXG4gKiByYXRoZXIgdGhhbiBVVEMuIChmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IC0gaW4gdGhlIGZvcm1hdCAvWnxbKy1dXFxkezJ9OlxcZHsyfS9cbiAqL1xuRGF0ZUZvcm1hdHRlci5mb3JtYXRDdXJyZW50T2Zmc2V0ID0gZnVuY3Rpb24gKGQpIHtcbiAgdmFyIG9mZnNldCA9IChkIHx8IG5ldyBEYXRlKCkpLmdldFRpbWV6b25lT2Zmc2V0KClcbiAgcmV0dXJuIChvZmZzZXQgPT09IDApID8gJ1onIDogW1xuICAgICAgKG9mZnNldCA8IDApID8gJysnIDogJy0nXG4gICAgLCBEYXRlRm9ybWF0dGVyLnplcm9QYWQoTWF0aC5hYnMoTWF0aC5mbG9vcihvZmZzZXQvNjApKSwyKVxuICAgICwgJzonXG4gICAgLCBEYXRlRm9ybWF0dGVyLnplcm9QYWQoTWF0aC5hYnMob2Zmc2V0JTYwKSwyKVxuICBdLmpvaW4oJycpXG59XG5cbi8vIGV4cG9ydCBhbiBpbnN0YW5jZSBvZiBEYXRlRm9ybWF0dGVyIG9ubHkuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBEYXRlRm9ybWF0dGVyKClcbiIsICJ2YXIgQ3VzdG9tVHlwZSA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocmF3KSB7XG4gIHRoaXMucmF3ID0gcmF3XG59XG5cbkN1c3RvbVR5cGUucHJvdG90eXBlLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uKHhtbCkge1xuICByZXR1cm4geG1sLmVsZSh0aGlzLnRhZ05hbWUpLnR4dCh0aGlzLnJhdylcbn1cblxuQ3VzdG9tVHlwZS5wcm90b3R5cGUudGFnTmFtZSA9ICdjdXN0b21UeXBlJ1xuXG4iLCAidmFyIHhtbEJ1aWxkZXIgICAgPSByZXF1aXJlKCd4bWxidWlsZGVyJylcbiAgLCBkYXRlRm9ybWF0dGVyID0gcmVxdWlyZSgnLi9kYXRlX2Zvcm1hdHRlcicpXG4gICwgQ3VzdG9tVHlwZSAgICA9IHJlcXVpcmUoJy4vY3VzdG9tdHlwZScpXG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgWE1MIGZvciBhbiBYTUwtUlBDIG1ldGhvZCBjYWxsLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2QgICAgIC0gVGhlIG1ldGhvZCBuYW1lLlxuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zICAgICAgLSBQYXJhbXMgdG8gcGFzcyBpbiB0aGUgY2FsbC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gZnVuY3Rpb24gKGVycm9yLCB4bWwpIHsgLi4uIH1cbiAqICAgLSB7T2JqZWN0fG51bGx9IGVycm9yICAgIC0gQW55IGVycm9ycyB0aGF0IG9jY3VycmVkIHdoaWxlIGJ1aWxkaW5nIHRoZSBYTUwsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyd2lzZSBudWxsLlxuICogICAtIHtTdHJpbmd9IHhtbCAgICAgICAgICAgLSBUaGUgbWV0aG9kIGNhbGwgWE1MLlxuICovXG5leHBvcnRzLnNlcmlhbGl6ZU1ldGhvZENhbGwgPSBmdW5jdGlvbihtZXRob2QsIHBhcmFtcywgZW5jb2RpbmcpIHtcbiAgdmFyIHBhcmFtcyA9IHBhcmFtcyB8fCBbXVxuXG4gIHZhciBvcHRpb25zID0geyB2ZXJzaW9uOiAnMS4wJywgYWxsb3dTdXJyb2dhdGVDaGFyczogdHJ1ZSB9XG5cbiAgaWYgKGVuY29kaW5nKSB7XG4gICAgb3B0aW9ucy5lbmNvZGluZyA9IGVuY29kaW5nXG4gIH1cblxuICB2YXIgeG1sID0geG1sQnVpbGRlci5jcmVhdGUoJ21ldGhvZENhbGwnLCBvcHRpb25zKVxuICAgIC5lbGUoJ21ldGhvZE5hbWUnKVxuICAgICAgLnR4dChtZXRob2QpXG4gICAgLnVwKClcbiAgICAuZWxlKCdwYXJhbXMnKVxuXG4gIHBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uKHBhcmFtKSB7XG4gICAgc2VyaWFsaXplVmFsdWUocGFyYW0sIHhtbC5lbGUoJ3BhcmFtJykpXG4gIH0pXG5cbiAgLy8gSW5jbHVkZXMgdGhlIDw/eG1sIC4uLj4gZGVjbGFyYXRpb25cbiAgcmV0dXJuIHhtbC5kb2MoKS50b1N0cmluZygpXG59XG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgWE1MIGZvciBhbiBYTUwtUlBDIG1ldGhvZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge21peGVkfSB2YWx1ZSAgICAgICAtIFRoZSB2YWx1ZSB0byBwYXNzIGluIHRoZSByZXNwb25zZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gZnVuY3Rpb24gKGVycm9yLCB4bWwpIHsgLi4uIH1cbiAqICAgLSB7T2JqZWN0fG51bGx9IGVycm9yICAgIC0gQW55IGVycm9ycyB0aGF0IG9jY3VycmVkIHdoaWxlIGJ1aWxkaW5nIHRoZSBYTUwsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyd2lzZSBudWxsLlxuICogICAtIHtTdHJpbmd9IHhtbCAgICAgICAgICAgLSBUaGUgbWV0aG9kIHJlc3BvbnNlIFhNTC5cbiAqL1xuZXhwb3J0cy5zZXJpYWxpemVNZXRob2RSZXNwb25zZSA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuICB2YXIgeG1sID0geG1sQnVpbGRlci5jcmVhdGUoJ21ldGhvZFJlc3BvbnNlJywgeyB2ZXJzaW9uOiAnMS4wJywgYWxsb3dTdXJyb2dhdGVDaGFyczogdHJ1ZSB9KVxuICAgIC5lbGUoJ3BhcmFtcycpXG4gICAgICAuZWxlKCdwYXJhbScpXG5cbiAgc2VyaWFsaXplVmFsdWUocmVzdWx0LCB4bWwpXG5cbiAgLy8gSW5jbHVkZXMgdGhlIDw/eG1sIC4uLj4gZGVjbGFyYXRpb25cbiAgcmV0dXJuIHhtbC5kb2MoKS50b1N0cmluZygpXG59XG5cbmV4cG9ydHMuc2VyaWFsaXplRmF1bHQgPSBmdW5jdGlvbihmYXVsdCkge1xuICB2YXIgeG1sID0geG1sQnVpbGRlci5jcmVhdGUoJ21ldGhvZFJlc3BvbnNlJywgeyB2ZXJzaW9uOiAnMS4wJywgYWxsb3dTdXJyb2dhdGVDaGFyczogdHJ1ZSB9KVxuICAgIC5lbGUoJ2ZhdWx0JylcblxuICBzZXJpYWxpemVWYWx1ZShmYXVsdCwgeG1sKVxuXG4gIC8vIEluY2x1ZGVzIHRoZSA8P3htbCAuLi4+IGRlY2xhcmF0aW9uXG4gIHJldHVybiB4bWwuZG9jKCkudG9TdHJpbmcoKVxufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVWYWx1ZSh2YWx1ZSwgeG1sKSB7XG4gIHZhciBzdGFjayAgICAgPSBbIHsgdmFsdWU6IHZhbHVlLCB4bWw6IHhtbCB9IF1cbiAgICAsIGN1cnJlbnQgICA9IG51bGxcbiAgICAsIHZhbHVlTm9kZSA9IG51bGxcbiAgICAsIG5leHQgICAgICA9IG51bGxcblxuICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgIGN1cnJlbnQgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXVxuXG4gICAgaWYgKGN1cnJlbnQuaW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gSXRlcmF0aW5nIGEgY29tcG91bmRcbiAgICAgIG5leHQgPSBnZXROZXh0SXRlbXNGcmFtZShjdXJyZW50KVxuICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgc3RhY2sucHVzaChuZXh0KVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN0YWNrLnBvcCgpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gd2UncmUgYWJvdXQgdG8gYWRkIGEgbmV3IHZhbHVlIChjb21wb3VuZCBvciBzaW1wbGUpXG4gICAgICB2YWx1ZU5vZGUgPSBjdXJyZW50LnhtbC5lbGUoJ3ZhbHVlJylcbiAgICAgIHN3aXRjaCh0eXBlb2YgY3VycmVudC52YWx1ZSkge1xuICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICBhcHBlbmRCb29sZWFuKGN1cnJlbnQudmFsdWUsIHZhbHVlTm9kZSlcbiAgICAgICAgICBzdGFjay5wb3AoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgYXBwZW5kU3RyaW5nKGN1cnJlbnQudmFsdWUsIHZhbHVlTm9kZSlcbiAgICAgICAgICBzdGFjay5wb3AoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgYXBwZW5kTnVtYmVyKGN1cnJlbnQudmFsdWUsIHZhbHVlTm9kZSlcbiAgICAgICAgICBzdGFjay5wb3AoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgaWYgKGN1cnJlbnQudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhbHVlTm9kZS5lbGUoJ25pbCcpXG4gICAgICAgICAgICBzdGFjay5wb3AoKVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChjdXJyZW50LnZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgYXBwZW5kRGF0ZXRpbWUoY3VycmVudC52YWx1ZSwgdmFsdWVOb2RlKVxuICAgICAgICAgICAgc3RhY2sucG9wKClcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoQnVmZmVyLmlzQnVmZmVyKGN1cnJlbnQudmFsdWUpKSB7XG4gICAgICAgICAgICBhcHBlbmRCdWZmZXIoY3VycmVudC52YWx1ZSwgdmFsdWVOb2RlKVxuICAgICAgICAgICAgc3RhY2sucG9wKClcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoY3VycmVudC52YWx1ZSBpbnN0YW5jZW9mIEN1c3RvbVR5cGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnQudmFsdWUuc2VyaWFsaXplKHZhbHVlTm9kZSlcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY3VycmVudC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgY3VycmVudC54bWwgPSB2YWx1ZU5vZGUuZWxlKCdhcnJheScpLmVsZSgnZGF0YScpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgY3VycmVudC54bWwgPSB2YWx1ZU5vZGUuZWxlKCdzdHJ1Y3QnKVxuICAgICAgICAgICAgICBjdXJyZW50LmtleXMgPSBPYmplY3Qua2V5cyhjdXJyZW50LnZhbHVlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudC5pbmRleCA9IDBcbiAgICAgICAgICAgIG5leHQgPSBnZXROZXh0SXRlbXNGcmFtZShjdXJyZW50KVxuICAgICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgICAgc3RhY2sucHVzaChuZXh0KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHN0YWNrLnBvcCgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgc3RhY2sucG9wKClcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXROZXh0SXRlbXNGcmFtZShmcmFtZSkge1xuICB2YXIgbmV4dEZyYW1lID0gbnVsbFxuXG4gIGlmIChmcmFtZS5rZXlzKSB7XG4gICAgaWYgKGZyYW1lLmluZGV4IDwgZnJhbWUua2V5cy5sZW5ndGgpIHtcbiAgICAgIHZhciBrZXkgICAgPSBmcmFtZS5rZXlzW2ZyYW1lLmluZGV4KytdXG4gICAgICAgICwgbWVtYmVyID0gZnJhbWUueG1sLmVsZSgnbWVtYmVyJykuZWxlKCduYW1lJykudGV4dChrZXkpLnVwKClcbiAgICAgIG5leHRGcmFtZSA9IHtcbiAgICAgICAgdmFsdWU6IGZyYW1lLnZhbHVlW2tleV1cbiAgICAgICwgeG1sOiBtZW1iZXJcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZWxzZSBpZiAoZnJhbWUuaW5kZXggPCBmcmFtZS52YWx1ZS5sZW5ndGgpIHtcbiAgICBuZXh0RnJhbWUgPSB7XG4gICAgICB2YWx1ZTogZnJhbWUudmFsdWVbZnJhbWUuaW5kZXhdXG4gICAgLCB4bWw6IGZyYW1lLnhtbFxuICAgIH1cbiAgICBmcmFtZS5pbmRleCsrXG4gIH1cblxuICByZXR1cm4gbmV4dEZyYW1lXG59XG5cbmZ1bmN0aW9uIGFwcGVuZEJvb2xlYW4odmFsdWUsIHhtbCkge1xuICB4bWwuZWxlKCdib29sZWFuJykudHh0KHZhbHVlID8gMSA6IDApXG59XG5cbnZhciBpbGxlZ2FsQ2hhcnMgPSAvXig/IVtePCZdKl1dPltePCZdKilbXjwmXSokL1xuZnVuY3Rpb24gYXBwZW5kU3RyaW5nKHZhbHVlLCB4bWwpIHtcbiAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgIHhtbC5lbGUoJ3N0cmluZycpXG4gIH1cbiAgZWxzZSBpZiAoIWlsbGVnYWxDaGFycy50ZXN0KHZhbHVlKSkge1xuICAgIHhtbC5lbGUoJ3N0cmluZycpLmQodmFsdWUpXG4gIH1cbiAgZWxzZSB7XG4gICAgeG1sLmVsZSgnc3RyaW5nJykudHh0KHZhbHVlKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGVuZE51bWJlcih2YWx1ZSwgeG1sKSB7XG4gIGlmICh2YWx1ZSAlIDEgPT0gMCkge1xuICAgIHhtbC5lbGUoJ2ludCcpLnR4dCh2YWx1ZSlcbiAgfVxuICBlbHNlIHtcbiAgICB4bWwuZWxlKCdkb3VibGUnKS50eHQodmFsdWUpXG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwZW5kRGF0ZXRpbWUodmFsdWUsIHhtbCkge1xuICB4bWwuZWxlKCdkYXRlVGltZS5pc284NjAxJykudHh0KGRhdGVGb3JtYXR0ZXIuZW5jb2RlSXNvODYwMSh2YWx1ZSkpXG59XG5cbmZ1bmN0aW9uIGFwcGVuZEJ1ZmZlcih2YWx1ZSwgeG1sKSB7XG4gIHhtbC5lbGUoJ2Jhc2U2NCcpLnR4dCh2YWx1ZS50b1N0cmluZygnYmFzZTY0JykpXG59XG4iLCAiOyhmdW5jdGlvbiAoc2F4KSB7IC8vIHdyYXBwZXIgZm9yIG5vbi1ub2RlIGVudnNcbiAgc2F4LnBhcnNlciA9IGZ1bmN0aW9uIChzdHJpY3QsIG9wdCkgeyByZXR1cm4gbmV3IFNBWFBhcnNlcihzdHJpY3QsIG9wdCkgfVxuICBzYXguU0FYUGFyc2VyID0gU0FYUGFyc2VyXG4gIHNheC5TQVhTdHJlYW0gPSBTQVhTdHJlYW1cbiAgc2F4LmNyZWF0ZVN0cmVhbSA9IGNyZWF0ZVN0cmVhbVxuXG4gIC8vIFdoZW4gd2UgcGFzcyB0aGUgTUFYX0JVRkZFUl9MRU5HVEggcG9zaXRpb24sIHN0YXJ0IGNoZWNraW5nIGZvciBidWZmZXIgb3ZlcnJ1bnMuXG4gIC8vIFdoZW4gd2UgY2hlY2ssIHNjaGVkdWxlIHRoZSBuZXh0IGNoZWNrIGZvciBNQVhfQlVGRkVSX0xFTkdUSCAtIChtYXgoYnVmZmVyIGxlbmd0aHMpKSxcbiAgLy8gc2luY2UgdGhhdCdzIHRoZSBlYXJsaWVzdCB0aGF0IGEgYnVmZmVyIG92ZXJydW4gY291bGQgb2NjdXIuICBUaGlzIHdheSwgY2hlY2tzIGFyZVxuICAvLyBhcyByYXJlIGFzIHJlcXVpcmVkLCBidXQgYXMgb2Z0ZW4gYXMgbmVjZXNzYXJ5IHRvIGVuc3VyZSBuZXZlciBjcm9zc2luZyB0aGlzIGJvdW5kLlxuICAvLyBGdXJ0aGVybW9yZSwgYnVmZmVycyBhcmUgb25seSB0ZXN0ZWQgYXQgbW9zdCBvbmNlIHBlciB3cml0ZSgpLCBzbyBwYXNzaW5nIGEgdmVyeVxuICAvLyBsYXJnZSBzdHJpbmcgaW50byB3cml0ZSgpIG1pZ2h0IGhhdmUgdW5kZXNpcmFibGUgZWZmZWN0cywgYnV0IHRoaXMgaXMgbWFuYWdlYWJsZSBieVxuICAvLyB0aGUgY2FsbGVyLCBzbyBpdCBpcyBhc3N1bWVkIHRvIGJlIHNhZmUuICBUaHVzLCBhIGNhbGwgdG8gd3JpdGUoKSBtYXksIGluIHRoZSBleHRyZW1lXG4gIC8vIGVkZ2UgY2FzZSwgcmVzdWx0IGluIGNyZWF0aW5nIGF0IG1vc3Qgb25lIGNvbXBsZXRlIGNvcHkgb2YgdGhlIHN0cmluZyBwYXNzZWQgaW4uXG4gIC8vIFNldCB0byBJbmZpbml0eSB0byBoYXZlIHVubGltaXRlZCBidWZmZXJzLlxuICBzYXguTUFYX0JVRkZFUl9MRU5HVEggPSA2NCAqIDEwMjRcblxuICB2YXIgYnVmZmVycyA9IFtcbiAgICAnY29tbWVudCcsICdzZ21sRGVjbCcsICd0ZXh0Tm9kZScsICd0YWdOYW1lJywgJ2RvY3R5cGUnLFxuICAgICdwcm9jSW5zdE5hbWUnLCAncHJvY0luc3RCb2R5JywgJ2VudGl0eScsICdhdHRyaWJOYW1lJyxcbiAgICAnYXR0cmliVmFsdWUnLCAnY2RhdGEnLCAnc2NyaXB0J1xuICBdXG5cbiAgc2F4LkVWRU5UUyA9IFtcbiAgICAndGV4dCcsXG4gICAgJ3Byb2Nlc3NpbmdpbnN0cnVjdGlvbicsXG4gICAgJ3NnbWxkZWNsYXJhdGlvbicsXG4gICAgJ2RvY3R5cGUnLFxuICAgICdjb21tZW50JyxcbiAgICAnb3BlbnRhZ3N0YXJ0JyxcbiAgICAnYXR0cmlidXRlJyxcbiAgICAnb3BlbnRhZycsXG4gICAgJ2Nsb3NldGFnJyxcbiAgICAnb3BlbmNkYXRhJyxcbiAgICAnY2RhdGEnLFxuICAgICdjbG9zZWNkYXRhJyxcbiAgICAnZXJyb3InLFxuICAgICdlbmQnLFxuICAgICdyZWFkeScsXG4gICAgJ3NjcmlwdCcsXG4gICAgJ29wZW5uYW1lc3BhY2UnLFxuICAgICdjbG9zZW5hbWVzcGFjZSdcbiAgXVxuXG4gIGZ1bmN0aW9uIFNBWFBhcnNlciAoc3RyaWN0LCBvcHQpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU0FYUGFyc2VyKSkge1xuICAgICAgcmV0dXJuIG5ldyBTQVhQYXJzZXIoc3RyaWN0LCBvcHQpXG4gICAgfVxuXG4gICAgdmFyIHBhcnNlciA9IHRoaXNcbiAgICBjbGVhckJ1ZmZlcnMocGFyc2VyKVxuICAgIHBhcnNlci5xID0gcGFyc2VyLmMgPSAnJ1xuICAgIHBhcnNlci5idWZmZXJDaGVja1Bvc2l0aW9uID0gc2F4Lk1BWF9CVUZGRVJfTEVOR1RIXG4gICAgcGFyc2VyLm9wdCA9IG9wdCB8fCB7fVxuICAgIHBhcnNlci5vcHQubG93ZXJjYXNlID0gcGFyc2VyLm9wdC5sb3dlcmNhc2UgfHwgcGFyc2VyLm9wdC5sb3dlcmNhc2V0YWdzXG4gICAgcGFyc2VyLmxvb3NlQ2FzZSA9IHBhcnNlci5vcHQubG93ZXJjYXNlID8gJ3RvTG93ZXJDYXNlJyA6ICd0b1VwcGVyQ2FzZSdcbiAgICBwYXJzZXIudGFncyA9IFtdXG4gICAgcGFyc2VyLmNsb3NlZCA9IHBhcnNlci5jbG9zZWRSb290ID0gcGFyc2VyLnNhd1Jvb3QgPSBmYWxzZVxuICAgIHBhcnNlci50YWcgPSBwYXJzZXIuZXJyb3IgPSBudWxsXG4gICAgcGFyc2VyLnN0cmljdCA9ICEhc3RyaWN0XG4gICAgcGFyc2VyLm5vc2NyaXB0ID0gISEoc3RyaWN0IHx8IHBhcnNlci5vcHQubm9zY3JpcHQpXG4gICAgcGFyc2VyLnN0YXRlID0gUy5CRUdJTlxuICAgIHBhcnNlci5zdHJpY3RFbnRpdGllcyA9IHBhcnNlci5vcHQuc3RyaWN0RW50aXRpZXNcbiAgICBwYXJzZXIuRU5USVRJRVMgPSBwYXJzZXIuc3RyaWN0RW50aXRpZXMgPyBPYmplY3QuY3JlYXRlKHNheC5YTUxfRU5USVRJRVMpIDogT2JqZWN0LmNyZWF0ZShzYXguRU5USVRJRVMpXG4gICAgcGFyc2VyLmF0dHJpYkxpc3QgPSBbXVxuXG4gICAgLy8gbmFtZXNwYWNlcyBmb3JtIGEgcHJvdG90eXBlIGNoYWluLlxuICAgIC8vIGl0IGFsd2F5cyBwb2ludHMgYXQgdGhlIGN1cnJlbnQgdGFnLFxuICAgIC8vIHdoaWNoIHByb3RvcyB0byBpdHMgcGFyZW50IHRhZy5cbiAgICBpZiAocGFyc2VyLm9wdC54bWxucykge1xuICAgICAgcGFyc2VyLm5zID0gT2JqZWN0LmNyZWF0ZShyb290TlMpXG4gICAgfVxuXG4gICAgLy8gbW9zdGx5IGp1c3QgZm9yIGVycm9yIHJlcG9ydGluZ1xuICAgIHBhcnNlci50cmFja1Bvc2l0aW9uID0gcGFyc2VyLm9wdC5wb3NpdGlvbiAhPT0gZmFsc2VcbiAgICBpZiAocGFyc2VyLnRyYWNrUG9zaXRpb24pIHtcbiAgICAgIHBhcnNlci5wb3NpdGlvbiA9IHBhcnNlci5saW5lID0gcGFyc2VyLmNvbHVtbiA9IDBcbiAgICB9XG4gICAgZW1pdChwYXJzZXIsICdvbnJlYWR5JylcbiAgfVxuXG4gIGlmICghT2JqZWN0LmNyZWF0ZSkge1xuICAgIE9iamVjdC5jcmVhdGUgPSBmdW5jdGlvbiAobykge1xuICAgICAgZnVuY3Rpb24gRiAoKSB7fVxuICAgICAgRi5wcm90b3R5cGUgPSBvXG4gICAgICB2YXIgbmV3ZiA9IG5ldyBGKClcbiAgICAgIHJldHVybiBuZXdmXG4gICAgfVxuICB9XG5cbiAgaWYgKCFPYmplY3Qua2V5cykge1xuICAgIE9iamVjdC5rZXlzID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgIHZhciBhID0gW11cbiAgICAgIGZvciAodmFyIGkgaW4gbykgaWYgKG8uaGFzT3duUHJvcGVydHkoaSkpIGEucHVzaChpKVxuICAgICAgcmV0dXJuIGFcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0J1ZmZlckxlbmd0aCAocGFyc2VyKSB7XG4gICAgdmFyIG1heEFsbG93ZWQgPSBNYXRoLm1heChzYXguTUFYX0JVRkZFUl9MRU5HVEgsIDEwKVxuICAgIHZhciBtYXhBY3R1YWwgPSAwXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBidWZmZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGxlbiA9IHBhcnNlcltidWZmZXJzW2ldXS5sZW5ndGhcbiAgICAgIGlmIChsZW4gPiBtYXhBbGxvd2VkKSB7XG4gICAgICAgIC8vIFRleHQvY2RhdGEgbm9kZXMgY2FuIGdldCBiaWcsIGFuZCBzaW5jZSB0aGV5J3JlIGJ1ZmZlcmVkLFxuICAgICAgICAvLyB3ZSBjYW4gZ2V0IGhlcmUgdW5kZXIgbm9ybWFsIGNvbmRpdGlvbnMuXG4gICAgICAgIC8vIEF2b2lkIGlzc3VlcyBieSBlbWl0dGluZyB0aGUgdGV4dCBub2RlIG5vdyxcbiAgICAgICAgLy8gc28gYXQgbGVhc3QgaXQgd29uJ3QgZ2V0IGFueSBiaWdnZXIuXG4gICAgICAgIHN3aXRjaCAoYnVmZmVyc1tpXSkge1xuICAgICAgICAgIGNhc2UgJ3RleHROb2RlJzpcbiAgICAgICAgICAgIGNsb3NlVGV4dChwYXJzZXIpXG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgY2FzZSAnY2RhdGEnOlxuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jZGF0YScsIHBhcnNlci5jZGF0YSlcbiAgICAgICAgICAgIHBhcnNlci5jZGF0YSA9ICcnXG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgY2FzZSAnc2NyaXB0JzpcbiAgICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uc2NyaXB0JywgcGFyc2VyLnNjcmlwdClcbiAgICAgICAgICAgIHBhcnNlci5zY3JpcHQgPSAnJ1xuICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBlcnJvcihwYXJzZXIsICdNYXggYnVmZmVyIGxlbmd0aCBleGNlZWRlZDogJyArIGJ1ZmZlcnNbaV0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1heEFjdHVhbCA9IE1hdGgubWF4KG1heEFjdHVhbCwgbGVuKVxuICAgIH1cbiAgICAvLyBzY2hlZHVsZSB0aGUgbmV4dCBjaGVjayBmb3IgdGhlIGVhcmxpZXN0IHBvc3NpYmxlIGJ1ZmZlciBvdmVycnVuLlxuICAgIHZhciBtID0gc2F4Lk1BWF9CVUZGRVJfTEVOR1RIIC0gbWF4QWN0dWFsXG4gICAgcGFyc2VyLmJ1ZmZlckNoZWNrUG9zaXRpb24gPSBtICsgcGFyc2VyLnBvc2l0aW9uXG4gIH1cblxuICBmdW5jdGlvbiBjbGVhckJ1ZmZlcnMgKHBhcnNlcikge1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYnVmZmVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHBhcnNlcltidWZmZXJzW2ldXSA9ICcnXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2hCdWZmZXJzIChwYXJzZXIpIHtcbiAgICBjbG9zZVRleHQocGFyc2VyKVxuICAgIGlmIChwYXJzZXIuY2RhdGEgIT09ICcnKSB7XG4gICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNkYXRhJywgcGFyc2VyLmNkYXRhKVxuICAgICAgcGFyc2VyLmNkYXRhID0gJydcbiAgICB9XG4gICAgaWYgKHBhcnNlci5zY3JpcHQgIT09ICcnKSB7XG4gICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbnNjcmlwdCcsIHBhcnNlci5zY3JpcHQpXG4gICAgICBwYXJzZXIuc2NyaXB0ID0gJydcbiAgICB9XG4gIH1cblxuICBTQVhQYXJzZXIucHJvdG90eXBlID0ge1xuICAgIGVuZDogZnVuY3Rpb24gKCkgeyBlbmQodGhpcykgfSxcbiAgICB3cml0ZTogd3JpdGUsXG4gICAgcmVzdW1lOiBmdW5jdGlvbiAoKSB7IHRoaXMuZXJyb3IgPSBudWxsOyByZXR1cm4gdGhpcyB9LFxuICAgIGNsb3NlOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLndyaXRlKG51bGwpIH0sXG4gICAgZmx1c2g6IGZ1bmN0aW9uICgpIHsgZmx1c2hCdWZmZXJzKHRoaXMpIH1cbiAgfVxuXG4gIHZhciBTdHJlYW1cbiAgdHJ5IHtcbiAgICBTdHJlYW0gPSByZXF1aXJlKCdzdHJlYW0nKS5TdHJlYW1cbiAgfSBjYXRjaCAoZXgpIHtcbiAgICBTdHJlYW0gPSBmdW5jdGlvbiAoKSB7fVxuICB9XG5cbiAgdmFyIHN0cmVhbVdyYXBzID0gc2F4LkVWRU5UUy5maWx0ZXIoZnVuY3Rpb24gKGV2KSB7XG4gICAgcmV0dXJuIGV2ICE9PSAnZXJyb3InICYmIGV2ICE9PSAnZW5kJ1xuICB9KVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVN0cmVhbSAoc3RyaWN0LCBvcHQpIHtcbiAgICByZXR1cm4gbmV3IFNBWFN0cmVhbShzdHJpY3QsIG9wdClcbiAgfVxuXG4gIGZ1bmN0aW9uIFNBWFN0cmVhbSAoc3RyaWN0LCBvcHQpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU0FYU3RyZWFtKSkge1xuICAgICAgcmV0dXJuIG5ldyBTQVhTdHJlYW0oc3RyaWN0LCBvcHQpXG4gICAgfVxuXG4gICAgU3RyZWFtLmFwcGx5KHRoaXMpXG5cbiAgICB0aGlzLl9wYXJzZXIgPSBuZXcgU0FYUGFyc2VyKHN0cmljdCwgb3B0KVxuICAgIHRoaXMud3JpdGFibGUgPSB0cnVlXG4gICAgdGhpcy5yZWFkYWJsZSA9IHRydWVcblxuICAgIHZhciBtZSA9IHRoaXNcblxuICAgIHRoaXMuX3BhcnNlci5vbmVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIG1lLmVtaXQoJ2VuZCcpXG4gICAgfVxuXG4gICAgdGhpcy5fcGFyc2VyLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXIpIHtcbiAgICAgIG1lLmVtaXQoJ2Vycm9yJywgZXIpXG5cbiAgICAgIC8vIGlmIGRpZG4ndCB0aHJvdywgdGhlbiBtZWFucyBlcnJvciB3YXMgaGFuZGxlZC5cbiAgICAgIC8vIGdvIGFoZWFkIGFuZCBjbGVhciBlcnJvciwgc28gd2UgY2FuIHdyaXRlIGFnYWluLlxuICAgICAgbWUuX3BhcnNlci5lcnJvciA9IG51bGxcbiAgICB9XG5cbiAgICB0aGlzLl9kZWNvZGVyID0gbnVsbFxuXG4gICAgc3RyZWFtV3JhcHMuZm9yRWFjaChmdW5jdGlvbiAoZXYpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtZSwgJ29uJyArIGV2LCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBtZS5fcGFyc2VyWydvbicgKyBldl1cbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoaCkge1xuICAgICAgICAgIGlmICghaCkge1xuICAgICAgICAgICAgbWUucmVtb3ZlQWxsTGlzdGVuZXJzKGV2KVxuICAgICAgICAgICAgbWUuX3BhcnNlclsnb24nICsgZXZdID0gaFxuICAgICAgICAgICAgcmV0dXJuIGhcbiAgICAgICAgICB9XG4gICAgICAgICAgbWUub24oZXYsIGgpXG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIFNBWFN0cmVhbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0cmVhbS5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IFNBWFN0cmVhbVxuICAgIH1cbiAgfSlcblxuICBTQVhTdHJlYW0ucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAodHlwZW9mIEJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgdHlwZW9mIEJ1ZmZlci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgQnVmZmVyLmlzQnVmZmVyKGRhdGEpKSB7XG4gICAgICBpZiAoIXRoaXMuX2RlY29kZXIpIHtcbiAgICAgICAgdmFyIFNEID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXInKS5TdHJpbmdEZWNvZGVyXG4gICAgICAgIHRoaXMuX2RlY29kZXIgPSBuZXcgU0QoJ3V0ZjgnKVxuICAgICAgfVxuICAgICAgZGF0YSA9IHRoaXMuX2RlY29kZXIud3JpdGUoZGF0YSlcbiAgICB9XG5cbiAgICB0aGlzLl9wYXJzZXIud3JpdGUoZGF0YS50b1N0cmluZygpKVxuICAgIHRoaXMuZW1pdCgnZGF0YScsIGRhdGEpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIFNBWFN0cmVhbS5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgaWYgKGNodW5rICYmIGNodW5rLmxlbmd0aCkge1xuICAgICAgdGhpcy53cml0ZShjaHVuaylcbiAgICB9XG4gICAgdGhpcy5fcGFyc2VyLmVuZCgpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIFNBWFN0cmVhbS5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXYsIGhhbmRsZXIpIHtcbiAgICB2YXIgbWUgPSB0aGlzXG4gICAgaWYgKCFtZS5fcGFyc2VyWydvbicgKyBldl0gJiYgc3RyZWFtV3JhcHMuaW5kZXhPZihldikgIT09IC0xKSB7XG4gICAgICBtZS5fcGFyc2VyWydvbicgKyBldl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IFthcmd1bWVudHNbMF1dIDogQXJyYXkuYXBwbHkobnVsbCwgYXJndW1lbnRzKVxuICAgICAgICBhcmdzLnNwbGljZSgwLCAwLCBldilcbiAgICAgICAgbWUuZW1pdC5hcHBseShtZSwgYXJncylcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gU3RyZWFtLnByb3RvdHlwZS5vbi5jYWxsKG1lLCBldiwgaGFuZGxlcilcbiAgfVxuXG4gIC8vIHRoaXMgcmVhbGx5IG5lZWRzIHRvIGJlIHJlcGxhY2VkIHdpdGggY2hhcmFjdGVyIGNsYXNzZXMuXG4gIC8vIFhNTCBhbGxvd3MgYWxsIG1hbm5lciBvZiByaWRpY3Vsb3VzIG51bWJlcnMgYW5kIGRpZ2l0cy5cbiAgdmFyIENEQVRBID0gJ1tDREFUQVsnXG4gIHZhciBET0NUWVBFID0gJ0RPQ1RZUEUnXG4gIHZhciBYTUxfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSdcbiAgdmFyIFhNTE5TX05BTUVTUEFDRSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zLydcbiAgdmFyIHJvb3ROUyA9IHsgeG1sOiBYTUxfTkFNRVNQQUNFLCB4bWxuczogWE1MTlNfTkFNRVNQQUNFIH1cblxuICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMteG1sLyNOVC1OYW1lU3RhcnRDaGFyXG4gIC8vIFRoaXMgaW1wbGVtZW50YXRpb24gd29ya3Mgb24gc3RyaW5ncywgYSBzaW5nbGUgY2hhcmFjdGVyIGF0IGEgdGltZVxuICAvLyBhcyBzdWNoLCBpdCBjYW5ub3QgZXZlciBzdXBwb3J0IGFzdHJhbC1wbGFuZSBjaGFyYWN0ZXJzICgxMDAwMC1FRkZGRilcbiAgLy8gd2l0aG91dCBhIHNpZ25pZmljYW50IGJyZWFraW5nIGNoYW5nZSB0byBlaXRoZXIgdGhpcyAgcGFyc2VyLCBvciB0aGVcbiAgLy8gSmF2YVNjcmlwdCBsYW5ndWFnZS4gIEltcGxlbWVudGF0aW9uIG9mIGFuIGVtb2ppLWNhcGFibGUgeG1sIHBhcnNlclxuICAvLyBpcyBsZWZ0IGFzIGFuIGV4ZXJjaXNlIGZvciB0aGUgcmVhZGVyLlxuICB2YXIgbmFtZVN0YXJ0ID0gL1s6X0EtWmEtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRF0vXG5cbiAgdmFyIG5hbWVCb2R5ID0gL1s6X0EtWmEtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRFxcdTAwQjdcXHUwMzAwLVxcdTAzNkZcXHUyMDNGLVxcdTIwNDAuXFxkLV0vXG5cbiAgdmFyIGVudGl0eVN0YXJ0ID0gL1sjOl9BLVphLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRdL1xuICB2YXIgZW50aXR5Qm9keSA9IC9bIzpfQS1aYS16XFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkZGXFx1MDM3MC1cXHUwMzdEXFx1MDM3Ri1cXHUxRkZGXFx1MjAwQy1cXHUyMDBEXFx1MjA3MC1cXHUyMThGXFx1MkMwMC1cXHUyRkVGXFx1MzAwMS1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkZEXFx1MDBCN1xcdTAzMDAtXFx1MDM2RlxcdTIwM0YtXFx1MjA0MC5cXGQtXS9cblxuICBmdW5jdGlvbiBpc1doaXRlc3BhY2UgKGMpIHtcbiAgICByZXR1cm4gYyA9PT0gJyAnIHx8IGMgPT09ICdcXG4nIHx8IGMgPT09ICdcXHInIHx8IGMgPT09ICdcXHQnXG4gIH1cblxuICBmdW5jdGlvbiBpc1F1b3RlIChjKSB7XG4gICAgcmV0dXJuIGMgPT09ICdcIicgfHwgYyA9PT0gJ1xcJydcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQXR0cmliRW5kIChjKSB7XG4gICAgcmV0dXJuIGMgPT09ICc+JyB8fCBpc1doaXRlc3BhY2UoYylcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzTWF0Y2ggKHJlZ2V4LCBjKSB7XG4gICAgcmV0dXJuIHJlZ2V4LnRlc3QoYylcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vdE1hdGNoIChyZWdleCwgYykge1xuICAgIHJldHVybiAhaXNNYXRjaChyZWdleCwgYylcbiAgfVxuXG4gIHZhciBTID0gMFxuICBzYXguU1RBVEUgPSB7XG4gICAgQkVHSU46IFMrKywgLy8gbGVhZGluZyBieXRlIG9yZGVyIG1hcmsgb3Igd2hpdGVzcGFjZVxuICAgIEJFR0lOX1dISVRFU1BBQ0U6IFMrKywgLy8gbGVhZGluZyB3aGl0ZXNwYWNlXG4gICAgVEVYVDogUysrLCAvLyBnZW5lcmFsIHN0dWZmXG4gICAgVEVYVF9FTlRJVFk6IFMrKywgLy8gJmFtcCBhbmQgc3VjaC5cbiAgICBPUEVOX1dBS0E6IFMrKywgLy8gPFxuICAgIFNHTUxfREVDTDogUysrLCAvLyA8IUJMQVJHXG4gICAgU0dNTF9ERUNMX1FVT1RFRDogUysrLCAvLyA8IUJMQVJHIGZvbyBcImJhclxuICAgIERPQ1RZUEU6IFMrKywgLy8gPCFET0NUWVBFXG4gICAgRE9DVFlQRV9RVU9URUQ6IFMrKywgLy8gPCFET0NUWVBFIFwiLy9ibGFoXG4gICAgRE9DVFlQRV9EVEQ6IFMrKywgLy8gPCFET0NUWVBFIFwiLy9ibGFoXCIgWyAuLi5cbiAgICBET0NUWVBFX0RURF9RVU9URUQ6IFMrKywgLy8gPCFET0NUWVBFIFwiLy9ibGFoXCIgWyBcImZvb1xuICAgIENPTU1FTlRfU1RBUlRJTkc6IFMrKywgLy8gPCEtXG4gICAgQ09NTUVOVDogUysrLCAvLyA8IS0tXG4gICAgQ09NTUVOVF9FTkRJTkc6IFMrKywgLy8gPCEtLSBibGFoIC1cbiAgICBDT01NRU5UX0VOREVEOiBTKyssIC8vIDwhLS0gYmxhaCAtLVxuICAgIENEQVRBOiBTKyssIC8vIDwhW0NEQVRBWyBzb21ldGhpbmdcbiAgICBDREFUQV9FTkRJTkc6IFMrKywgLy8gXVxuICAgIENEQVRBX0VORElOR18yOiBTKyssIC8vIF1dXG4gICAgUFJPQ19JTlNUOiBTKyssIC8vIDw/aGlcbiAgICBQUk9DX0lOU1RfQk9EWTogUysrLCAvLyA8P2hpIHRoZXJlXG4gICAgUFJPQ19JTlNUX0VORElORzogUysrLCAvLyA8P2hpIFwidGhlcmVcIiA/XG4gICAgT1BFTl9UQUc6IFMrKywgLy8gPHN0cm9uZ1xuICAgIE9QRU5fVEFHX1NMQVNIOiBTKyssIC8vIDxzdHJvbmcgL1xuICAgIEFUVFJJQjogUysrLCAvLyA8YVxuICAgIEFUVFJJQl9OQU1FOiBTKyssIC8vIDxhIGZvb1xuICAgIEFUVFJJQl9OQU1FX1NBV19XSElURTogUysrLCAvLyA8YSBmb28gX1xuICAgIEFUVFJJQl9WQUxVRTogUysrLCAvLyA8YSBmb289XG4gICAgQVRUUklCX1ZBTFVFX1FVT1RFRDogUysrLCAvLyA8YSBmb289XCJiYXJcbiAgICBBVFRSSUJfVkFMVUVfQ0xPU0VEOiBTKyssIC8vIDxhIGZvbz1cImJhclwiXG4gICAgQVRUUklCX1ZBTFVFX1VOUVVPVEVEOiBTKyssIC8vIDxhIGZvbz1iYXJcbiAgICBBVFRSSUJfVkFMVUVfRU5USVRZX1E6IFMrKywgLy8gPGZvbyBiYXI9XCImcXVvdDtcIlxuICAgIEFUVFJJQl9WQUxVRV9FTlRJVFlfVTogUysrLCAvLyA8Zm9vIGJhcj0mcXVvdFxuICAgIENMT1NFX1RBRzogUysrLCAvLyA8L2FcbiAgICBDTE9TRV9UQUdfU0FXX1dISVRFOiBTKyssIC8vIDwvYSAgID5cbiAgICBTQ1JJUFQ6IFMrKywgLy8gPHNjcmlwdD4gLi4uXG4gICAgU0NSSVBUX0VORElORzogUysrIC8vIDxzY3JpcHQ+IC4uLiA8XG4gIH1cblxuICBzYXguWE1MX0VOVElUSUVTID0ge1xuICAgICdhbXAnOiAnJicsXG4gICAgJ2d0JzogJz4nLFxuICAgICdsdCc6ICc8JyxcbiAgICAncXVvdCc6ICdcIicsXG4gICAgJ2Fwb3MnOiBcIidcIlxuICB9XG5cbiAgc2F4LkVOVElUSUVTID0ge1xuICAgICdhbXAnOiAnJicsXG4gICAgJ2d0JzogJz4nLFxuICAgICdsdCc6ICc8JyxcbiAgICAncXVvdCc6ICdcIicsXG4gICAgJ2Fwb3MnOiBcIidcIixcbiAgICAnQUVsaWcnOiAxOTgsXG4gICAgJ0FhY3V0ZSc6IDE5MyxcbiAgICAnQWNpcmMnOiAxOTQsXG4gICAgJ0FncmF2ZSc6IDE5MixcbiAgICAnQXJpbmcnOiAxOTcsXG4gICAgJ0F0aWxkZSc6IDE5NSxcbiAgICAnQXVtbCc6IDE5NixcbiAgICAnQ2NlZGlsJzogMTk5LFxuICAgICdFVEgnOiAyMDgsXG4gICAgJ0VhY3V0ZSc6IDIwMSxcbiAgICAnRWNpcmMnOiAyMDIsXG4gICAgJ0VncmF2ZSc6IDIwMCxcbiAgICAnRXVtbCc6IDIwMyxcbiAgICAnSWFjdXRlJzogMjA1LFxuICAgICdJY2lyYyc6IDIwNixcbiAgICAnSWdyYXZlJzogMjA0LFxuICAgICdJdW1sJzogMjA3LFxuICAgICdOdGlsZGUnOiAyMDksXG4gICAgJ09hY3V0ZSc6IDIxMSxcbiAgICAnT2NpcmMnOiAyMTIsXG4gICAgJ09ncmF2ZSc6IDIxMCxcbiAgICAnT3NsYXNoJzogMjE2LFxuICAgICdPdGlsZGUnOiAyMTMsXG4gICAgJ091bWwnOiAyMTQsXG4gICAgJ1RIT1JOJzogMjIyLFxuICAgICdVYWN1dGUnOiAyMTgsXG4gICAgJ1VjaXJjJzogMjE5LFxuICAgICdVZ3JhdmUnOiAyMTcsXG4gICAgJ1V1bWwnOiAyMjAsXG4gICAgJ1lhY3V0ZSc6IDIyMSxcbiAgICAnYWFjdXRlJzogMjI1LFxuICAgICdhY2lyYyc6IDIyNixcbiAgICAnYWVsaWcnOiAyMzAsXG4gICAgJ2FncmF2ZSc6IDIyNCxcbiAgICAnYXJpbmcnOiAyMjksXG4gICAgJ2F0aWxkZSc6IDIyNyxcbiAgICAnYXVtbCc6IDIyOCxcbiAgICAnY2NlZGlsJzogMjMxLFxuICAgICdlYWN1dGUnOiAyMzMsXG4gICAgJ2VjaXJjJzogMjM0LFxuICAgICdlZ3JhdmUnOiAyMzIsXG4gICAgJ2V0aCc6IDI0MCxcbiAgICAnZXVtbCc6IDIzNSxcbiAgICAnaWFjdXRlJzogMjM3LFxuICAgICdpY2lyYyc6IDIzOCxcbiAgICAnaWdyYXZlJzogMjM2LFxuICAgICdpdW1sJzogMjM5LFxuICAgICdudGlsZGUnOiAyNDEsXG4gICAgJ29hY3V0ZSc6IDI0MyxcbiAgICAnb2NpcmMnOiAyNDQsXG4gICAgJ29ncmF2ZSc6IDI0MixcbiAgICAnb3NsYXNoJzogMjQ4LFxuICAgICdvdGlsZGUnOiAyNDUsXG4gICAgJ291bWwnOiAyNDYsXG4gICAgJ3N6bGlnJzogMjIzLFxuICAgICd0aG9ybic6IDI1NCxcbiAgICAndWFjdXRlJzogMjUwLFxuICAgICd1Y2lyYyc6IDI1MSxcbiAgICAndWdyYXZlJzogMjQ5LFxuICAgICd1dW1sJzogMjUyLFxuICAgICd5YWN1dGUnOiAyNTMsXG4gICAgJ3l1bWwnOiAyNTUsXG4gICAgJ2NvcHknOiAxNjksXG4gICAgJ3JlZyc6IDE3NCxcbiAgICAnbmJzcCc6IDE2MCxcbiAgICAnaWV4Y2wnOiAxNjEsXG4gICAgJ2NlbnQnOiAxNjIsXG4gICAgJ3BvdW5kJzogMTYzLFxuICAgICdjdXJyZW4nOiAxNjQsXG4gICAgJ3llbic6IDE2NSxcbiAgICAnYnJ2YmFyJzogMTY2LFxuICAgICdzZWN0JzogMTY3LFxuICAgICd1bWwnOiAxNjgsXG4gICAgJ29yZGYnOiAxNzAsXG4gICAgJ2xhcXVvJzogMTcxLFxuICAgICdub3QnOiAxNzIsXG4gICAgJ3NoeSc6IDE3MyxcbiAgICAnbWFjcic6IDE3NSxcbiAgICAnZGVnJzogMTc2LFxuICAgICdwbHVzbW4nOiAxNzcsXG4gICAgJ3N1cDEnOiAxODUsXG4gICAgJ3N1cDInOiAxNzgsXG4gICAgJ3N1cDMnOiAxNzksXG4gICAgJ2FjdXRlJzogMTgwLFxuICAgICdtaWNybyc6IDE4MSxcbiAgICAncGFyYSc6IDE4MixcbiAgICAnbWlkZG90JzogMTgzLFxuICAgICdjZWRpbCc6IDE4NCxcbiAgICAnb3JkbSc6IDE4NixcbiAgICAncmFxdW8nOiAxODcsXG4gICAgJ2ZyYWMxNCc6IDE4OCxcbiAgICAnZnJhYzEyJzogMTg5LFxuICAgICdmcmFjMzQnOiAxOTAsXG4gICAgJ2lxdWVzdCc6IDE5MSxcbiAgICAndGltZXMnOiAyMTUsXG4gICAgJ2RpdmlkZSc6IDI0NyxcbiAgICAnT0VsaWcnOiAzMzgsXG4gICAgJ29lbGlnJzogMzM5LFxuICAgICdTY2Fyb24nOiAzNTIsXG4gICAgJ3NjYXJvbic6IDM1MyxcbiAgICAnWXVtbCc6IDM3NixcbiAgICAnZm5vZic6IDQwMixcbiAgICAnY2lyYyc6IDcxMCxcbiAgICAndGlsZGUnOiA3MzIsXG4gICAgJ0FscGhhJzogOTEzLFxuICAgICdCZXRhJzogOTE0LFxuICAgICdHYW1tYSc6IDkxNSxcbiAgICAnRGVsdGEnOiA5MTYsXG4gICAgJ0Vwc2lsb24nOiA5MTcsXG4gICAgJ1pldGEnOiA5MTgsXG4gICAgJ0V0YSc6IDkxOSxcbiAgICAnVGhldGEnOiA5MjAsXG4gICAgJ0lvdGEnOiA5MjEsXG4gICAgJ0thcHBhJzogOTIyLFxuICAgICdMYW1iZGEnOiA5MjMsXG4gICAgJ011JzogOTI0LFxuICAgICdOdSc6IDkyNSxcbiAgICAnWGknOiA5MjYsXG4gICAgJ09taWNyb24nOiA5MjcsXG4gICAgJ1BpJzogOTI4LFxuICAgICdSaG8nOiA5MjksXG4gICAgJ1NpZ21hJzogOTMxLFxuICAgICdUYXUnOiA5MzIsXG4gICAgJ1Vwc2lsb24nOiA5MzMsXG4gICAgJ1BoaSc6IDkzNCxcbiAgICAnQ2hpJzogOTM1LFxuICAgICdQc2knOiA5MzYsXG4gICAgJ09tZWdhJzogOTM3LFxuICAgICdhbHBoYSc6IDk0NSxcbiAgICAnYmV0YSc6IDk0NixcbiAgICAnZ2FtbWEnOiA5NDcsXG4gICAgJ2RlbHRhJzogOTQ4LFxuICAgICdlcHNpbG9uJzogOTQ5LFxuICAgICd6ZXRhJzogOTUwLFxuICAgICdldGEnOiA5NTEsXG4gICAgJ3RoZXRhJzogOTUyLFxuICAgICdpb3RhJzogOTUzLFxuICAgICdrYXBwYSc6IDk1NCxcbiAgICAnbGFtYmRhJzogOTU1LFxuICAgICdtdSc6IDk1NixcbiAgICAnbnUnOiA5NTcsXG4gICAgJ3hpJzogOTU4LFxuICAgICdvbWljcm9uJzogOTU5LFxuICAgICdwaSc6IDk2MCxcbiAgICAncmhvJzogOTYxLFxuICAgICdzaWdtYWYnOiA5NjIsXG4gICAgJ3NpZ21hJzogOTYzLFxuICAgICd0YXUnOiA5NjQsXG4gICAgJ3Vwc2lsb24nOiA5NjUsXG4gICAgJ3BoaSc6IDk2NixcbiAgICAnY2hpJzogOTY3LFxuICAgICdwc2knOiA5NjgsXG4gICAgJ29tZWdhJzogOTY5LFxuICAgICd0aGV0YXN5bSc6IDk3NyxcbiAgICAndXBzaWgnOiA5NzgsXG4gICAgJ3Bpdic6IDk4MixcbiAgICAnZW5zcCc6IDgxOTQsXG4gICAgJ2Vtc3AnOiA4MTk1LFxuICAgICd0aGluc3AnOiA4MjAxLFxuICAgICd6d25qJzogODIwNCxcbiAgICAnendqJzogODIwNSxcbiAgICAnbHJtJzogODIwNixcbiAgICAncmxtJzogODIwNyxcbiAgICAnbmRhc2gnOiA4MjExLFxuICAgICdtZGFzaCc6IDgyMTIsXG4gICAgJ2xzcXVvJzogODIxNixcbiAgICAncnNxdW8nOiA4MjE3LFxuICAgICdzYnF1byc6IDgyMTgsXG4gICAgJ2xkcXVvJzogODIyMCxcbiAgICAncmRxdW8nOiA4MjIxLFxuICAgICdiZHF1byc6IDgyMjIsXG4gICAgJ2RhZ2dlcic6IDgyMjQsXG4gICAgJ0RhZ2dlcic6IDgyMjUsXG4gICAgJ2J1bGwnOiA4MjI2LFxuICAgICdoZWxsaXAnOiA4MjMwLFxuICAgICdwZXJtaWwnOiA4MjQwLFxuICAgICdwcmltZSc6IDgyNDIsXG4gICAgJ1ByaW1lJzogODI0MyxcbiAgICAnbHNhcXVvJzogODI0OSxcbiAgICAncnNhcXVvJzogODI1MCxcbiAgICAnb2xpbmUnOiA4MjU0LFxuICAgICdmcmFzbCc6IDgyNjAsXG4gICAgJ2V1cm8nOiA4MzY0LFxuICAgICdpbWFnZSc6IDg0NjUsXG4gICAgJ3dlaWVycCc6IDg0NzIsXG4gICAgJ3JlYWwnOiA4NDc2LFxuICAgICd0cmFkZSc6IDg0ODIsXG4gICAgJ2FsZWZzeW0nOiA4NTAxLFxuICAgICdsYXJyJzogODU5MixcbiAgICAndWFycic6IDg1OTMsXG4gICAgJ3JhcnInOiA4NTk0LFxuICAgICdkYXJyJzogODU5NSxcbiAgICAnaGFycic6IDg1OTYsXG4gICAgJ2NyYXJyJzogODYyOSxcbiAgICAnbEFycic6IDg2NTYsXG4gICAgJ3VBcnInOiA4NjU3LFxuICAgICdyQXJyJzogODY1OCxcbiAgICAnZEFycic6IDg2NTksXG4gICAgJ2hBcnInOiA4NjYwLFxuICAgICdmb3JhbGwnOiA4NzA0LFxuICAgICdwYXJ0JzogODcwNixcbiAgICAnZXhpc3QnOiA4NzA3LFxuICAgICdlbXB0eSc6IDg3MDksXG4gICAgJ25hYmxhJzogODcxMSxcbiAgICAnaXNpbic6IDg3MTIsXG4gICAgJ25vdGluJzogODcxMyxcbiAgICAnbmknOiA4NzE1LFxuICAgICdwcm9kJzogODcxOSxcbiAgICAnc3VtJzogODcyMSxcbiAgICAnbWludXMnOiA4NzIyLFxuICAgICdsb3dhc3QnOiA4NzI3LFxuICAgICdyYWRpYyc6IDg3MzAsXG4gICAgJ3Byb3AnOiA4NzMzLFxuICAgICdpbmZpbic6IDg3MzQsXG4gICAgJ2FuZyc6IDg3MzYsXG4gICAgJ2FuZCc6IDg3NDMsXG4gICAgJ29yJzogODc0NCxcbiAgICAnY2FwJzogODc0NSxcbiAgICAnY3VwJzogODc0NixcbiAgICAnaW50JzogODc0NyxcbiAgICAndGhlcmU0JzogODc1NixcbiAgICAnc2ltJzogODc2NCxcbiAgICAnY29uZyc6IDg3NzMsXG4gICAgJ2FzeW1wJzogODc3NixcbiAgICAnbmUnOiA4ODAwLFxuICAgICdlcXVpdic6IDg4MDEsXG4gICAgJ2xlJzogODgwNCxcbiAgICAnZ2UnOiA4ODA1LFxuICAgICdzdWInOiA4ODM0LFxuICAgICdzdXAnOiA4ODM1LFxuICAgICduc3ViJzogODgzNixcbiAgICAnc3ViZSc6IDg4MzgsXG4gICAgJ3N1cGUnOiA4ODM5LFxuICAgICdvcGx1cyc6IDg4NTMsXG4gICAgJ290aW1lcyc6IDg4NTUsXG4gICAgJ3BlcnAnOiA4ODY5LFxuICAgICdzZG90JzogODkwMSxcbiAgICAnbGNlaWwnOiA4OTY4LFxuICAgICdyY2VpbCc6IDg5NjksXG4gICAgJ2xmbG9vcic6IDg5NzAsXG4gICAgJ3JmbG9vcic6IDg5NzEsXG4gICAgJ2xhbmcnOiA5MDAxLFxuICAgICdyYW5nJzogOTAwMixcbiAgICAnbG96JzogOTY3NCxcbiAgICAnc3BhZGVzJzogOTgyNCxcbiAgICAnY2x1YnMnOiA5ODI3LFxuICAgICdoZWFydHMnOiA5ODI5LFxuICAgICdkaWFtcyc6IDk4MzBcbiAgfVxuXG4gIE9iamVjdC5rZXlzKHNheC5FTlRJVElFUykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIGUgPSBzYXguRU5USVRJRVNba2V5XVxuICAgIHZhciBzID0gdHlwZW9mIGUgPT09ICdudW1iZXInID8gU3RyaW5nLmZyb21DaGFyQ29kZShlKSA6IGVcbiAgICBzYXguRU5USVRJRVNba2V5XSA9IHNcbiAgfSlcblxuICBmb3IgKHZhciBzIGluIHNheC5TVEFURSkge1xuICAgIHNheC5TVEFURVtzYXguU1RBVEVbc11dID0gc1xuICB9XG5cbiAgLy8gc2hvcnRoYW5kXG4gIFMgPSBzYXguU1RBVEVcblxuICBmdW5jdGlvbiBlbWl0IChwYXJzZXIsIGV2ZW50LCBkYXRhKSB7XG4gICAgcGFyc2VyW2V2ZW50XSAmJiBwYXJzZXJbZXZlbnRdKGRhdGEpXG4gIH1cblxuICBmdW5jdGlvbiBlbWl0Tm9kZSAocGFyc2VyLCBub2RlVHlwZSwgZGF0YSkge1xuICAgIGlmIChwYXJzZXIudGV4dE5vZGUpIGNsb3NlVGV4dChwYXJzZXIpXG4gICAgZW1pdChwYXJzZXIsIG5vZGVUeXBlLCBkYXRhKVxuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VUZXh0IChwYXJzZXIpIHtcbiAgICBwYXJzZXIudGV4dE5vZGUgPSB0ZXh0b3B0cyhwYXJzZXIub3B0LCBwYXJzZXIudGV4dE5vZGUpXG4gICAgaWYgKHBhcnNlci50ZXh0Tm9kZSkgZW1pdChwYXJzZXIsICdvbnRleHQnLCBwYXJzZXIudGV4dE5vZGUpXG4gICAgcGFyc2VyLnRleHROb2RlID0gJydcbiAgfVxuXG4gIGZ1bmN0aW9uIHRleHRvcHRzIChvcHQsIHRleHQpIHtcbiAgICBpZiAob3B0LnRyaW0pIHRleHQgPSB0ZXh0LnRyaW0oKVxuICAgIGlmIChvcHQubm9ybWFsaXplKSB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXHMrL2csICcgJylcbiAgICByZXR1cm4gdGV4dFxuICB9XG5cbiAgZnVuY3Rpb24gZXJyb3IgKHBhcnNlciwgZXIpIHtcbiAgICBjbG9zZVRleHQocGFyc2VyKVxuICAgIGlmIChwYXJzZXIudHJhY2tQb3NpdGlvbikge1xuICAgICAgZXIgKz0gJ1xcbkxpbmU6ICcgKyBwYXJzZXIubGluZSArXG4gICAgICAgICdcXG5Db2x1bW46ICcgKyBwYXJzZXIuY29sdW1uICtcbiAgICAgICAgJ1xcbkNoYXI6ICcgKyBwYXJzZXIuY1xuICAgIH1cbiAgICBlciA9IG5ldyBFcnJvcihlcilcbiAgICBwYXJzZXIuZXJyb3IgPSBlclxuICAgIGVtaXQocGFyc2VyLCAnb25lcnJvcicsIGVyKVxuICAgIHJldHVybiBwYXJzZXJcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZCAocGFyc2VyKSB7XG4gICAgaWYgKHBhcnNlci5zYXdSb290ICYmICFwYXJzZXIuY2xvc2VkUm9vdCkgc3RyaWN0RmFpbChwYXJzZXIsICdVbmNsb3NlZCByb290IHRhZycpXG4gICAgaWYgKChwYXJzZXIuc3RhdGUgIT09IFMuQkVHSU4pICYmXG4gICAgICAocGFyc2VyLnN0YXRlICE9PSBTLkJFR0lOX1dISVRFU1BBQ0UpICYmXG4gICAgICAocGFyc2VyLnN0YXRlICE9PSBTLlRFWFQpKSB7XG4gICAgICBlcnJvcihwYXJzZXIsICdVbmV4cGVjdGVkIGVuZCcpXG4gICAgfVxuICAgIGNsb3NlVGV4dChwYXJzZXIpXG4gICAgcGFyc2VyLmMgPSAnJ1xuICAgIHBhcnNlci5jbG9zZWQgPSB0cnVlXG4gICAgZW1pdChwYXJzZXIsICdvbmVuZCcpXG4gICAgU0FYUGFyc2VyLmNhbGwocGFyc2VyLCBwYXJzZXIuc3RyaWN0LCBwYXJzZXIub3B0KVxuICAgIHJldHVybiBwYXJzZXJcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmljdEZhaWwgKHBhcnNlciwgbWVzc2FnZSkge1xuICAgIGlmICh0eXBlb2YgcGFyc2VyICE9PSAnb2JqZWN0JyB8fCAhKHBhcnNlciBpbnN0YW5jZW9mIFNBWFBhcnNlcikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIGNhbGwgdG8gc3RyaWN0RmFpbCcpXG4gICAgfVxuICAgIGlmIChwYXJzZXIuc3RyaWN0KSB7XG4gICAgICBlcnJvcihwYXJzZXIsIG1lc3NhZ2UpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbmV3VGFnIChwYXJzZXIpIHtcbiAgICBpZiAoIXBhcnNlci5zdHJpY3QpIHBhcnNlci50YWdOYW1lID0gcGFyc2VyLnRhZ05hbWVbcGFyc2VyLmxvb3NlQ2FzZV0oKVxuICAgIHZhciBwYXJlbnQgPSBwYXJzZXIudGFnc1twYXJzZXIudGFncy5sZW5ndGggLSAxXSB8fCBwYXJzZXJcbiAgICB2YXIgdGFnID0gcGFyc2VyLnRhZyA9IHsgbmFtZTogcGFyc2VyLnRhZ05hbWUsIGF0dHJpYnV0ZXM6IHt9IH1cblxuICAgIC8vIHdpbGwgYmUgb3ZlcnJpZGRlbiBpZiB0YWcgY29udGFpbHMgYW4geG1sbnM9XCJmb29cIiBvciB4bWxuczpmb289XCJiYXJcIlxuICAgIGlmIChwYXJzZXIub3B0LnhtbG5zKSB7XG4gICAgICB0YWcubnMgPSBwYXJlbnQubnNcbiAgICB9XG4gICAgcGFyc2VyLmF0dHJpYkxpc3QubGVuZ3RoID0gMFxuICAgIGVtaXROb2RlKHBhcnNlciwgJ29ub3BlbnRhZ3N0YXJ0JywgdGFnKVxuICB9XG5cbiAgZnVuY3Rpb24gcW5hbWUgKG5hbWUsIGF0dHJpYnV0ZSkge1xuICAgIHZhciBpID0gbmFtZS5pbmRleE9mKCc6JylcbiAgICB2YXIgcXVhbE5hbWUgPSBpIDwgMCA/IFsgJycsIG5hbWUgXSA6IG5hbWUuc3BsaXQoJzonKVxuICAgIHZhciBwcmVmaXggPSBxdWFsTmFtZVswXVxuICAgIHZhciBsb2NhbCA9IHF1YWxOYW1lWzFdXG5cbiAgICAvLyA8eCBcInhtbG5zXCI9XCJodHRwOi8vZm9vXCI+XG4gICAgaWYgKGF0dHJpYnV0ZSAmJiBuYW1lID09PSAneG1sbnMnKSB7XG4gICAgICBwcmVmaXggPSAneG1sbnMnXG4gICAgICBsb2NhbCA9ICcnXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgcHJlZml4OiBwcmVmaXgsIGxvY2FsOiBsb2NhbCB9XG4gIH1cblxuICBmdW5jdGlvbiBhdHRyaWIgKHBhcnNlcikge1xuICAgIGlmICghcGFyc2VyLnN0cmljdCkge1xuICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBwYXJzZXIuYXR0cmliTmFtZVtwYXJzZXIubG9vc2VDYXNlXSgpXG4gICAgfVxuXG4gICAgaWYgKHBhcnNlci5hdHRyaWJMaXN0LmluZGV4T2YocGFyc2VyLmF0dHJpYk5hbWUpICE9PSAtMSB8fFxuICAgICAgcGFyc2VyLnRhZy5hdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KHBhcnNlci5hdHRyaWJOYW1lKSkge1xuICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBwYXJzZXIuYXR0cmliVmFsdWUgPSAnJ1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHBhcnNlci5vcHQueG1sbnMpIHtcbiAgICAgIHZhciBxbiA9IHFuYW1lKHBhcnNlci5hdHRyaWJOYW1lLCB0cnVlKVxuICAgICAgdmFyIHByZWZpeCA9IHFuLnByZWZpeFxuICAgICAgdmFyIGxvY2FsID0gcW4ubG9jYWxcblxuICAgICAgaWYgKHByZWZpeCA9PT0gJ3htbG5zJykge1xuICAgICAgICAvLyBuYW1lc3BhY2UgYmluZGluZyBhdHRyaWJ1dGUuIHB1c2ggdGhlIGJpbmRpbmcgaW50byBzY29wZVxuICAgICAgICBpZiAobG9jYWwgPT09ICd4bWwnICYmIHBhcnNlci5hdHRyaWJWYWx1ZSAhPT0gWE1MX05BTUVTUEFDRSkge1xuICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLFxuICAgICAgICAgICAgJ3htbDogcHJlZml4IG11c3QgYmUgYm91bmQgdG8gJyArIFhNTF9OQU1FU1BBQ0UgKyAnXFxuJyArXG4gICAgICAgICAgICAnQWN0dWFsOiAnICsgcGFyc2VyLmF0dHJpYlZhbHVlKVxuICAgICAgICB9IGVsc2UgaWYgKGxvY2FsID09PSAneG1sbnMnICYmIHBhcnNlci5hdHRyaWJWYWx1ZSAhPT0gWE1MTlNfTkFNRVNQQUNFKSB7XG4gICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsXG4gICAgICAgICAgICAneG1sbnM6IHByZWZpeCBtdXN0IGJlIGJvdW5kIHRvICcgKyBYTUxOU19OQU1FU1BBQ0UgKyAnXFxuJyArXG4gICAgICAgICAgICAnQWN0dWFsOiAnICsgcGFyc2VyLmF0dHJpYlZhbHVlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciB0YWcgPSBwYXJzZXIudGFnXG4gICAgICAgICAgdmFyIHBhcmVudCA9IHBhcnNlci50YWdzW3BhcnNlci50YWdzLmxlbmd0aCAtIDFdIHx8IHBhcnNlclxuICAgICAgICAgIGlmICh0YWcubnMgPT09IHBhcmVudC5ucykge1xuICAgICAgICAgICAgdGFnLm5zID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQubnMpXG4gICAgICAgICAgfVxuICAgICAgICAgIHRhZy5uc1tsb2NhbF0gPSBwYXJzZXIuYXR0cmliVmFsdWVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBkZWZlciBvbmF0dHJpYnV0ZSBldmVudHMgdW50aWwgYWxsIGF0dHJpYnV0ZXMgaGF2ZSBiZWVuIHNlZW5cbiAgICAgIC8vIHNvIGFueSBuZXcgYmluZGluZ3MgY2FuIHRha2UgZWZmZWN0LiBwcmVzZXJ2ZSBhdHRyaWJ1dGUgb3JkZXJcbiAgICAgIC8vIHNvIGRlZmVycmVkIGV2ZW50cyBjYW4gYmUgZW1pdHRlZCBpbiBkb2N1bWVudCBvcmRlclxuICAgICAgcGFyc2VyLmF0dHJpYkxpc3QucHVzaChbcGFyc2VyLmF0dHJpYk5hbWUsIHBhcnNlci5hdHRyaWJWYWx1ZV0pXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGluIG5vbi14bWxucyBtb2RlLCB3ZSBjYW4gZW1pdCB0aGUgZXZlbnQgcmlnaHQgYXdheVxuICAgICAgcGFyc2VyLnRhZy5hdHRyaWJ1dGVzW3BhcnNlci5hdHRyaWJOYW1lXSA9IHBhcnNlci5hdHRyaWJWYWx1ZVxuICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25hdHRyaWJ1dGUnLCB7XG4gICAgICAgIG5hbWU6IHBhcnNlci5hdHRyaWJOYW1lLFxuICAgICAgICB2YWx1ZTogcGFyc2VyLmF0dHJpYlZhbHVlXG4gICAgICB9KVxuICAgIH1cblxuICAgIHBhcnNlci5hdHRyaWJOYW1lID0gcGFyc2VyLmF0dHJpYlZhbHVlID0gJydcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5UYWcgKHBhcnNlciwgc2VsZkNsb3NpbmcpIHtcbiAgICBpZiAocGFyc2VyLm9wdC54bWxucykge1xuICAgICAgLy8gZW1pdCBuYW1lc3BhY2UgYmluZGluZyBldmVudHNcbiAgICAgIHZhciB0YWcgPSBwYXJzZXIudGFnXG5cbiAgICAgIC8vIGFkZCBuYW1lc3BhY2UgaW5mbyB0byB0YWdcbiAgICAgIHZhciBxbiA9IHFuYW1lKHBhcnNlci50YWdOYW1lKVxuICAgICAgdGFnLnByZWZpeCA9IHFuLnByZWZpeFxuICAgICAgdGFnLmxvY2FsID0gcW4ubG9jYWxcbiAgICAgIHRhZy51cmkgPSB0YWcubnNbcW4ucHJlZml4XSB8fCAnJ1xuXG4gICAgICBpZiAodGFnLnByZWZpeCAmJiAhdGFnLnVyaSkge1xuICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1VuYm91bmQgbmFtZXNwYWNlIHByZWZpeDogJyArXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkocGFyc2VyLnRhZ05hbWUpKVxuICAgICAgICB0YWcudXJpID0gcW4ucHJlZml4XG4gICAgICB9XG5cbiAgICAgIHZhciBwYXJlbnQgPSBwYXJzZXIudGFnc1twYXJzZXIudGFncy5sZW5ndGggLSAxXSB8fCBwYXJzZXJcbiAgICAgIGlmICh0YWcubnMgJiYgcGFyZW50Lm5zICE9PSB0YWcubnMpIHtcbiAgICAgICAgT2JqZWN0LmtleXModGFnLm5zKS5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25vcGVubmFtZXNwYWNlJywge1xuICAgICAgICAgICAgcHJlZml4OiBwLFxuICAgICAgICAgICAgdXJpOiB0YWcubnNbcF1cbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICAvLyBoYW5kbGUgZGVmZXJyZWQgb25hdHRyaWJ1dGUgZXZlbnRzXG4gICAgICAvLyBOb3RlOiBkbyBub3QgYXBwbHkgZGVmYXVsdCBucyB0byBhdHRyaWJ1dGVzOlxuICAgICAgLy8gICBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMteG1sLW5hbWVzLyNkZWZhdWx0aW5nXG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgbnYgPSBwYXJzZXIuYXR0cmliTGlzdFtpXVxuICAgICAgICB2YXIgbmFtZSA9IG52WzBdXG4gICAgICAgIHZhciB2YWx1ZSA9IG52WzFdXG4gICAgICAgIHZhciBxdWFsTmFtZSA9IHFuYW1lKG5hbWUsIHRydWUpXG4gICAgICAgIHZhciBwcmVmaXggPSBxdWFsTmFtZS5wcmVmaXhcbiAgICAgICAgdmFyIGxvY2FsID0gcXVhbE5hbWUubG9jYWxcbiAgICAgICAgdmFyIHVyaSA9IHByZWZpeCA9PT0gJycgPyAnJyA6ICh0YWcubnNbcHJlZml4XSB8fCAnJylcbiAgICAgICAgdmFyIGEgPSB7XG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgcHJlZml4OiBwcmVmaXgsXG4gICAgICAgICAgbG9jYWw6IGxvY2FsLFxuICAgICAgICAgIHVyaTogdXJpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGVyZSdzIGFueSBhdHRyaWJ1dGVzIHdpdGggYW4gdW5kZWZpbmVkIG5hbWVzcGFjZSxcbiAgICAgICAgLy8gdGhlbiBmYWlsIG9uIHRoZW0gbm93LlxuICAgICAgICBpZiAocHJlZml4ICYmIHByZWZpeCAhPT0gJ3htbG5zJyAmJiAhdXJpKSB7XG4gICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdVbmJvdW5kIG5hbWVzcGFjZSBwcmVmaXg6ICcgK1xuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJlZml4KSlcbiAgICAgICAgICBhLnVyaSA9IHByZWZpeFxuICAgICAgICB9XG4gICAgICAgIHBhcnNlci50YWcuYXR0cmlidXRlc1tuYW1lXSA9IGFcbiAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25hdHRyaWJ1dGUnLCBhKVxuICAgICAgfVxuICAgICAgcGFyc2VyLmF0dHJpYkxpc3QubGVuZ3RoID0gMFxuICAgIH1cblxuICAgIHBhcnNlci50YWcuaXNTZWxmQ2xvc2luZyA9ICEhc2VsZkNsb3NpbmdcblxuICAgIC8vIHByb2Nlc3MgdGhlIHRhZ1xuICAgIHBhcnNlci5zYXdSb290ID0gdHJ1ZVxuICAgIHBhcnNlci50YWdzLnB1c2gocGFyc2VyLnRhZylcbiAgICBlbWl0Tm9kZShwYXJzZXIsICdvbm9wZW50YWcnLCBwYXJzZXIudGFnKVxuICAgIGlmICghc2VsZkNsb3NpbmcpIHtcbiAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgPHNjcmlwdD4gaW4gbm9uLXN0cmljdCBtb2RlLlxuICAgICAgaWYgKCFwYXJzZXIubm9zY3JpcHQgJiYgcGFyc2VyLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3NjcmlwdCcpIHtcbiAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TQ1JJUFRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVFxuICAgICAgfVxuICAgICAgcGFyc2VyLnRhZyA9IG51bGxcbiAgICAgIHBhcnNlci50YWdOYW1lID0gJydcbiAgICB9XG4gICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBwYXJzZXIuYXR0cmliVmFsdWUgPSAnJ1xuICAgIHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aCA9IDBcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlVGFnIChwYXJzZXIpIHtcbiAgICBpZiAoIXBhcnNlci50YWdOYW1lKSB7XG4gICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1dlaXJkIGVtcHR5IGNsb3NlIHRhZy4nKVxuICAgICAgcGFyc2VyLnRleHROb2RlICs9ICc8Lz4nXG4gICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChwYXJzZXIuc2NyaXB0KSB7XG4gICAgICBpZiAocGFyc2VyLnRhZ05hbWUgIT09ICdzY3JpcHQnKSB7XG4gICAgICAgIHBhcnNlci5zY3JpcHQgKz0gJzwvJyArIHBhcnNlci50YWdOYW1lICsgJz4nXG4gICAgICAgIHBhcnNlci50YWdOYW1lID0gJydcbiAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TQ1JJUFRcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbnNjcmlwdCcsIHBhcnNlci5zY3JpcHQpXG4gICAgICBwYXJzZXIuc2NyaXB0ID0gJydcbiAgICB9XG5cbiAgICAvLyBmaXJzdCBtYWtlIHN1cmUgdGhhdCB0aGUgY2xvc2luZyB0YWcgYWN0dWFsbHkgZXhpc3RzLlxuICAgIC8vIDxhPjxiPjwvYz48L2I+PC9hPiB3aWxsIGNsb3NlIGV2ZXJ5dGhpbmcsIG90aGVyd2lzZS5cbiAgICB2YXIgdCA9IHBhcnNlci50YWdzLmxlbmd0aFxuICAgIHZhciB0YWdOYW1lID0gcGFyc2VyLnRhZ05hbWVcbiAgICBpZiAoIXBhcnNlci5zdHJpY3QpIHtcbiAgICAgIHRhZ05hbWUgPSB0YWdOYW1lW3BhcnNlci5sb29zZUNhc2VdKClcbiAgICB9XG4gICAgdmFyIGNsb3NlVG8gPSB0YWdOYW1lXG4gICAgd2hpbGUgKHQtLSkge1xuICAgICAgdmFyIGNsb3NlID0gcGFyc2VyLnRhZ3NbdF1cbiAgICAgIGlmIChjbG9zZS5uYW1lICE9PSBjbG9zZVRvKSB7XG4gICAgICAgIC8vIGZhaWwgdGhlIGZpcnN0IHRpbWUgaW4gc3RyaWN0IG1vZGVcbiAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdVbmV4cGVjdGVkIGNsb3NlIHRhZycpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRpZG4ndCBmaW5kIGl0LiAgd2UgYWxyZWFkeSBmYWlsZWQgZm9yIHN0cmljdCwgc28ganVzdCBhYm9ydC5cbiAgICBpZiAodCA8IDApIHtcbiAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVW5tYXRjaGVkIGNsb3NpbmcgdGFnOiAnICsgcGFyc2VyLnRhZ05hbWUpXG4gICAgICBwYXJzZXIudGV4dE5vZGUgKz0gJzwvJyArIHBhcnNlci50YWdOYW1lICsgJz4nXG4gICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBwYXJzZXIudGFnTmFtZSA9IHRhZ05hbWVcbiAgICB2YXIgcyA9IHBhcnNlci50YWdzLmxlbmd0aFxuICAgIHdoaWxlIChzLS0gPiB0KSB7XG4gICAgICB2YXIgdGFnID0gcGFyc2VyLnRhZyA9IHBhcnNlci50YWdzLnBvcCgpXG4gICAgICBwYXJzZXIudGFnTmFtZSA9IHBhcnNlci50YWcubmFtZVxuICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jbG9zZXRhZycsIHBhcnNlci50YWdOYW1lKVxuXG4gICAgICB2YXIgeCA9IHt9XG4gICAgICBmb3IgKHZhciBpIGluIHRhZy5ucykge1xuICAgICAgICB4W2ldID0gdGFnLm5zW2ldXG4gICAgICB9XG5cbiAgICAgIHZhciBwYXJlbnQgPSBwYXJzZXIudGFnc1twYXJzZXIudGFncy5sZW5ndGggLSAxXSB8fCBwYXJzZXJcbiAgICAgIGlmIChwYXJzZXIub3B0LnhtbG5zICYmIHRhZy5ucyAhPT0gcGFyZW50Lm5zKSB7XG4gICAgICAgIC8vIHJlbW92ZSBuYW1lc3BhY2UgYmluZGluZ3MgaW50cm9kdWNlZCBieSB0YWdcbiAgICAgICAgT2JqZWN0LmtleXModGFnLm5zKS5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgdmFyIG4gPSB0YWcubnNbcF1cbiAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNsb3NlbmFtZXNwYWNlJywgeyBwcmVmaXg6IHAsIHVyaTogbiB9KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodCA9PT0gMCkgcGFyc2VyLmNsb3NlZFJvb3QgPSB0cnVlXG4gICAgcGFyc2VyLnRhZ05hbWUgPSBwYXJzZXIuYXR0cmliVmFsdWUgPSBwYXJzZXIuYXR0cmliTmFtZSA9ICcnXG4gICAgcGFyc2VyLmF0dHJpYkxpc3QubGVuZ3RoID0gMFxuICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVFxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VFbnRpdHkgKHBhcnNlcikge1xuICAgIHZhciBlbnRpdHkgPSBwYXJzZXIuZW50aXR5XG4gICAgdmFyIGVudGl0eUxDID0gZW50aXR5LnRvTG93ZXJDYXNlKClcbiAgICB2YXIgbnVtXG4gICAgdmFyIG51bVN0ciA9ICcnXG5cbiAgICBpZiAocGFyc2VyLkVOVElUSUVTW2VudGl0eV0pIHtcbiAgICAgIHJldHVybiBwYXJzZXIuRU5USVRJRVNbZW50aXR5XVxuICAgIH1cbiAgICBpZiAocGFyc2VyLkVOVElUSUVTW2VudGl0eUxDXSkge1xuICAgICAgcmV0dXJuIHBhcnNlci5FTlRJVElFU1tlbnRpdHlMQ11cbiAgICB9XG4gICAgZW50aXR5ID0gZW50aXR5TENcbiAgICBpZiAoZW50aXR5LmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICBpZiAoZW50aXR5LmNoYXJBdCgxKSA9PT0gJ3gnKSB7XG4gICAgICAgIGVudGl0eSA9IGVudGl0eS5zbGljZSgyKVxuICAgICAgICBudW0gPSBwYXJzZUludChlbnRpdHksIDE2KVxuICAgICAgICBudW1TdHIgPSBudW0udG9TdHJpbmcoMTYpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbnRpdHkgPSBlbnRpdHkuc2xpY2UoMSlcbiAgICAgICAgbnVtID0gcGFyc2VJbnQoZW50aXR5LCAxMClcbiAgICAgICAgbnVtU3RyID0gbnVtLnRvU3RyaW5nKDEwKVxuICAgICAgfVxuICAgIH1cbiAgICBlbnRpdHkgPSBlbnRpdHkucmVwbGFjZSgvXjArLywgJycpXG4gICAgaWYgKGlzTmFOKG51bSkgfHwgbnVtU3RyLnRvTG93ZXJDYXNlKCkgIT09IGVudGl0eSkge1xuICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGNoYXJhY3RlciBlbnRpdHknKVxuICAgICAgcmV0dXJuICcmJyArIHBhcnNlci5lbnRpdHkgKyAnOydcbiAgICB9XG5cbiAgICByZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQobnVtKVxuICB9XG5cbiAgZnVuY3Rpb24gYmVnaW5XaGl0ZVNwYWNlIChwYXJzZXIsIGMpIHtcbiAgICBpZiAoYyA9PT0gJzwnKSB7XG4gICAgICBwYXJzZXIuc3RhdGUgPSBTLk9QRU5fV0FLQVxuICAgICAgcGFyc2VyLnN0YXJ0VGFnUG9zaXRpb24gPSBwYXJzZXIucG9zaXRpb25cbiAgICB9IGVsc2UgaWYgKCFpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgIC8vIGhhdmUgdG8gcHJvY2VzcyB0aGlzIGFzIGEgdGV4dCBub2RlLlxuICAgICAgLy8gd2VpcmQsIGJ1dCBoYXBwZW5zLlxuICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdOb24td2hpdGVzcGFjZSBiZWZvcmUgZmlyc3QgdGFnLicpXG4gICAgICBwYXJzZXIudGV4dE5vZGUgPSBjXG4gICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaGFyQXQgKGNodW5rLCBpKSB7XG4gICAgdmFyIHJlc3VsdCA9ICcnXG4gICAgaWYgKGkgPCBjaHVuay5sZW5ndGgpIHtcbiAgICAgIHJlc3VsdCA9IGNodW5rLmNoYXJBdChpKVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZSAoY2h1bmspIHtcbiAgICB2YXIgcGFyc2VyID0gdGhpc1xuICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICB0aHJvdyB0aGlzLmVycm9yXG4gICAgfVxuICAgIGlmIChwYXJzZXIuY2xvc2VkKSB7XG4gICAgICByZXR1cm4gZXJyb3IocGFyc2VyLFxuICAgICAgICAnQ2Fubm90IHdyaXRlIGFmdGVyIGNsb3NlLiBBc3NpZ24gYW4gb25yZWFkeSBoYW5kbGVyLicpXG4gICAgfVxuICAgIGlmIChjaHVuayA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGVuZChwYXJzZXIpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2h1bmsgPT09ICdvYmplY3QnKSB7XG4gICAgICBjaHVuayA9IGNodW5rLnRvU3RyaW5nKClcbiAgICB9XG4gICAgdmFyIGkgPSAwXG4gICAgdmFyIGMgPSAnJ1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjID0gY2hhckF0KGNodW5rLCBpKyspXG4gICAgICBwYXJzZXIuYyA9IGNcblxuICAgICAgaWYgKCFjKSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJzZXIudHJhY2tQb3NpdGlvbikge1xuICAgICAgICBwYXJzZXIucG9zaXRpb24rK1xuICAgICAgICBpZiAoYyA9PT0gJ1xcbicpIHtcbiAgICAgICAgICBwYXJzZXIubGluZSsrXG4gICAgICAgICAgcGFyc2VyLmNvbHVtbiA9IDBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJzZXIuY29sdW1uKytcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKHBhcnNlci5zdGF0ZSkge1xuICAgICAgICBjYXNlIFMuQkVHSU46XG4gICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5CRUdJTl9XSElURVNQQUNFXG4gICAgICAgICAgaWYgKGMgPT09ICdcXHVGRUZGJykge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgICAgYmVnaW5XaGl0ZVNwYWNlKHBhcnNlciwgYylcbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5CRUdJTl9XSElURVNQQUNFOlxuICAgICAgICAgIGJlZ2luV2hpdGVTcGFjZShwYXJzZXIsIGMpXG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuVEVYVDpcbiAgICAgICAgICBpZiAocGFyc2VyLnNhd1Jvb3QgJiYgIXBhcnNlci5jbG9zZWRSb290KSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRpID0gaSAtIDFcbiAgICAgICAgICAgIHdoaWxlIChjICYmIGMgIT09ICc8JyAmJiBjICE9PSAnJicpIHtcbiAgICAgICAgICAgICAgYyA9IGNoYXJBdChjaHVuaywgaSsrKVxuICAgICAgICAgICAgICBpZiAoYyAmJiBwYXJzZXIudHJhY2tQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIHBhcnNlci5wb3NpdGlvbisrXG4gICAgICAgICAgICAgICAgaWYgKGMgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgICBwYXJzZXIubGluZSsrXG4gICAgICAgICAgICAgICAgICBwYXJzZXIuY29sdW1uID0gMFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwYXJzZXIuY29sdW1uKytcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlci50ZXh0Tm9kZSArPSBjaHVuay5zdWJzdHJpbmcoc3RhcnRpLCBpIC0gMSlcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGMgPT09ICc8JyAmJiAhKHBhcnNlci5zYXdSb290ICYmIHBhcnNlci5jbG9zZWRSb290ICYmICFwYXJzZXIuc3RyaWN0KSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5PUEVOX1dBS0FcbiAgICAgICAgICAgIHBhcnNlci5zdGFydFRhZ1Bvc2l0aW9uID0gcGFyc2VyLnBvc2l0aW9uXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNXaGl0ZXNwYWNlKGMpICYmICghcGFyc2VyLnNhd1Jvb3QgfHwgcGFyc2VyLmNsb3NlZFJvb3QpKSB7XG4gICAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVGV4dCBkYXRhIG91dHNpZGUgb2Ygcm9vdCBub2RlLicpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA9PT0gJyYnKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVF9FTlRJVFlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhcnNlci50ZXh0Tm9kZSArPSBjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlNDUklQVDpcbiAgICAgICAgICAvLyBvbmx5IG5vbi1zdHJpY3RcbiAgICAgICAgICBpZiAoYyA9PT0gJzwnKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNDUklQVF9FTkRJTkdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnNjcmlwdCArPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlNDUklQVF9FTkRJTkc6XG4gICAgICAgICAgaWYgKGMgPT09ICcvJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DTE9TRV9UQUdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnNjcmlwdCArPSAnPCcgKyBjXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNDUklQVFxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5PUEVOX1dBS0E6XG4gICAgICAgICAgLy8gZWl0aGVyIGEgLywgPywgISwgb3IgdGV4dCBpcyBjb21pbmcgbmV4dC5cbiAgICAgICAgICBpZiAoYyA9PT0gJyEnKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNHTUxfREVDTFxuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsID0gJydcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgLy8gd2FpdCBmb3IgaXQuLi5cbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTWF0Y2gobmFtZVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5PUEVOX1RBR1xuICAgICAgICAgICAgcGFyc2VyLnRhZ05hbWUgPSBjXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnLycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0xPU0VfVEFHXG4gICAgICAgICAgICBwYXJzZXIudGFnTmFtZSA9ICcnXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuUFJPQ19JTlNUXG4gICAgICAgICAgICBwYXJzZXIucHJvY0luc3ROYW1lID0gcGFyc2VyLnByb2NJbnN0Qm9keSA9ICcnXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVW5lbmNvZGVkIDwnKVxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgd2FzIHNvbWUgd2hpdGVzcGFjZSwgdGhlbiBhZGQgdGhhdCBpbi5cbiAgICAgICAgICAgIGlmIChwYXJzZXIuc3RhcnRUYWdQb3NpdGlvbiArIDEgPCBwYXJzZXIucG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgdmFyIHBhZCA9IHBhcnNlci5wb3NpdGlvbiAtIHBhcnNlci5zdGFydFRhZ1Bvc2l0aW9uXG4gICAgICAgICAgICAgIGMgPSBuZXcgQXJyYXkocGFkKS5qb2luKCcgJykgKyBjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZXIudGV4dE5vZGUgKz0gJzwnICsgY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlNHTUxfREVDTDpcbiAgICAgICAgICBpZiAoKHBhcnNlci5zZ21sRGVjbCArIGMpLnRvVXBwZXJDYXNlKCkgPT09IENEQVRBKSB7XG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbm9wZW5jZGF0YScpXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNEQVRBXG4gICAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhID0gJydcbiAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlci5zZ21sRGVjbCArIGMgPT09ICctLScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVFxuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsID0gJydcbiAgICAgICAgICB9IGVsc2UgaWYgKChwYXJzZXIuc2dtbERlY2wgKyBjKS50b1VwcGVyQ2FzZSgpID09PSBET0NUWVBFKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVcbiAgICAgICAgICAgIGlmIChwYXJzZXIuZG9jdHlwZSB8fCBwYXJzZXIuc2F3Um9vdCkge1xuICAgICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlcixcbiAgICAgICAgICAgICAgICAnSW5hcHByb3ByaWF0ZWx5IGxvY2F0ZWQgZG9jdHlwZSBkZWNsYXJhdGlvbicpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZXIuZG9jdHlwZSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgPSAnJ1xuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbnNnbWxkZWNsYXJhdGlvbicsIHBhcnNlci5zZ21sRGVjbClcbiAgICAgICAgICAgIHBhcnNlci5zZ21sRGVjbCA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzUXVvdGUoYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0dNTF9ERUNMX1FVT1RFRFxuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsICs9IGNcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsICs9IGNcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuU0dNTF9ERUNMX1FVT1RFRDpcbiAgICAgICAgICBpZiAoYyA9PT0gcGFyc2VyLnEpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0dNTF9ERUNMXG4gICAgICAgICAgICBwYXJzZXIucSA9ICcnXG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcnNlci5zZ21sRGVjbCArPSBjXG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuRE9DVFlQRTpcbiAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uZG9jdHlwZScsIHBhcnNlci5kb2N0eXBlKVxuICAgICAgICAgICAgcGFyc2VyLmRvY3R5cGUgPSB0cnVlIC8vIGp1c3QgcmVtZW1iZXIgdGhhdCB3ZSBzYXcgaXQuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5kb2N0eXBlICs9IGNcbiAgICAgICAgICAgIGlmIChjID09PSAnWycpIHtcbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFX0RURFxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1F1b3RlKGMpKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRV9RVU9URURcbiAgICAgICAgICAgICAgcGFyc2VyLnEgPSBjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkRPQ1RZUEVfUVVPVEVEOlxuICAgICAgICAgIHBhcnNlci5kb2N0eXBlICs9IGNcbiAgICAgICAgICBpZiAoYyA9PT0gcGFyc2VyLnEpIHtcbiAgICAgICAgICAgIHBhcnNlci5xID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5ET0NUWVBFX0RURDpcbiAgICAgICAgICBwYXJzZXIuZG9jdHlwZSArPSBjXG4gICAgICAgICAgaWYgKGMgPT09ICddJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFXG4gICAgICAgICAgfSBlbHNlIGlmIChpc1F1b3RlKGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVfRFREX1FVT1RFRFxuICAgICAgICAgICAgcGFyc2VyLnEgPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkRPQ1RZUEVfRFREX1FVT1RFRDpcbiAgICAgICAgICBwYXJzZXIuZG9jdHlwZSArPSBjXG4gICAgICAgICAgaWYgKGMgPT09IHBhcnNlci5xKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVfRFREXG4gICAgICAgICAgICBwYXJzZXIucSA9ICcnXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNPTU1FTlQ6XG4gICAgICAgICAgaWYgKGMgPT09ICctJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DT01NRU5UX0VORElOR1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuY29tbWVudCArPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNPTU1FTlRfRU5ESU5HOlxuICAgICAgICAgIGlmIChjID09PSAnLScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVF9FTkRFRFxuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgPSB0ZXh0b3B0cyhwYXJzZXIub3B0LCBwYXJzZXIuY29tbWVudClcbiAgICAgICAgICAgIGlmIChwYXJzZXIuY29tbWVudCkge1xuICAgICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNvbW1lbnQnLCBwYXJzZXIuY29tbWVudClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlci5jb21tZW50ID0gJydcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgKz0gJy0nICsgY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DT01NRU5UXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNPTU1FTlRfRU5ERUQ6XG4gICAgICAgICAgaWYgKGMgIT09ICc+Jykge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdNYWxmb3JtZWQgY29tbWVudCcpXG4gICAgICAgICAgICAvLyBhbGxvdyA8IS0tIGJsYWggLS0gYmxvbyAtLT4gaW4gbm9uLXN0cmljdCBtb2RlLFxuICAgICAgICAgICAgLy8gd2hpY2ggaXMgYSBjb21tZW50IG9mIFwiIGJsYWggLS0gYmxvbyBcIlxuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgKz0gJy0tJyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0RBVEE6XG4gICAgICAgICAgaWYgKGMgPT09ICddJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DREFUQV9FTkRJTkdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhICs9IGNcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0RBVEFfRU5ESU5HOlxuICAgICAgICAgIGlmIChjID09PSAnXScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEFfRU5ESU5HXzJcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhICs9ICddJyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEFcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0RBVEFfRU5ESU5HXzI6XG4gICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgaWYgKHBhcnNlci5jZGF0YSkge1xuICAgICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNkYXRhJywgcGFyc2VyLmNkYXRhKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jbG9zZWNkYXRhJylcbiAgICAgICAgICAgIHBhcnNlci5jZGF0YSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICddJykge1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhICs9ICddJ1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuY2RhdGEgKz0gJ11dJyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEFcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuUFJPQ19JTlNUOlxuICAgICAgICAgIGlmIChjID09PSAnPycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuUFJPQ19JTlNUX0VORElOR1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlBST0NfSU5TVF9CT0RZXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5wcm9jSW5zdE5hbWUgKz0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5QUk9DX0lOU1RfQk9EWTpcbiAgICAgICAgICBpZiAoIXBhcnNlci5wcm9jSW5zdEJvZHkgJiYgaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz8nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlBST0NfSU5TVF9FTkRJTkdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnByb2NJbnN0Qm9keSArPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlBST0NfSU5TVF9FTkRJTkc6XG4gICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25wcm9jZXNzaW5naW5zdHJ1Y3Rpb24nLCB7XG4gICAgICAgICAgICAgIG5hbWU6IHBhcnNlci5wcm9jSW5zdE5hbWUsXG4gICAgICAgICAgICAgIGJvZHk6IHBhcnNlci5wcm9jSW5zdEJvZHlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBwYXJzZXIucHJvY0luc3ROYW1lID0gcGFyc2VyLnByb2NJbnN0Qm9keSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnByb2NJbnN0Qm9keSArPSAnPycgKyBjXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlBST0NfSU5TVF9CT0RZXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLk9QRU5fVEFHOlxuICAgICAgICAgIGlmIChpc01hdGNoKG5hbWVCb2R5LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnRhZ05hbWUgKz0gY1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdUYWcocGFyc2VyKVxuICAgICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgICBvcGVuVGFnKHBhcnNlcilcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJy8nKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9UQUdfU0xBU0hcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICghaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGNoYXJhY3RlciBpbiB0YWcgbmFtZScpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuT1BFTl9UQUdfU0xBU0g6XG4gICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIsIHRydWUpXG4gICAgICAgICAgICBjbG9zZVRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnRm9yd2FyZC1zbGFzaCBpbiBvcGVuaW5nIHRhZyBub3QgZm9sbG93ZWQgYnkgPicpXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQlxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5BVFRSSUI6XG4gICAgICAgICAgLy8gaGF2ZW4ndCByZWFkIHRoZSBhdHRyaWJ1dGUgbmFtZSB5ZXQuXG4gICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnLycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9UQUdfU0xBU0hcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTWF0Y2gobmFtZVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBjXG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliVmFsdWUgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfTkFNRVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgYXR0cmlidXRlIG5hbWUnKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5BVFRSSUJfTkFNRTpcbiAgICAgICAgICBpZiAoYyA9PT0gJz0nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRVxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0F0dHJpYnV0ZSB3aXRob3V0IHZhbHVlJylcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJWYWx1ZSA9IHBhcnNlci5hdHRyaWJOYW1lXG4gICAgICAgICAgICBhdHRyaWIocGFyc2VyKVxuICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX05BTUVfU0FXX1dISVRFXG4gICAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoKG5hbWVCb2R5LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgKz0gY1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgYXR0cmlidXRlIG5hbWUnKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5BVFRSSUJfTkFNRV9TQVdfV0hJVEU6XG4gICAgICAgICAgaWYgKGMgPT09ICc9Jykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUVcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdBdHRyaWJ1dGUgd2l0aG91dCB2YWx1ZScpXG4gICAgICAgICAgICBwYXJzZXIudGFnLmF0dHJpYnV0ZXNbcGFyc2VyLmF0dHJpYk5hbWVdID0gJydcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJWYWx1ZSA9ICcnXG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmF0dHJpYnV0ZScsIHtcbiAgICAgICAgICAgICAgbmFtZTogcGFyc2VyLmF0dHJpYk5hbWUsXG4gICAgICAgICAgICAgIHZhbHVlOiAnJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJOYW1lID0gJydcbiAgICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTWF0Y2gobmFtZVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgICBwYXJzZXIuYXR0cmliTmFtZSA9IGNcbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfTkFNRVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lJylcbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCX1ZBTFVFOlxuICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfSBlbHNlIGlmIChpc1F1b3RlKGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIucSA9IGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX1FVT1RFRFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1VucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZScpXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9VTlFVT1RFRFxuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYlZhbHVlID0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5BVFRSSUJfVkFMVUVfUVVPVEVEOlxuICAgICAgICAgIGlmIChjICE9PSBwYXJzZXIucSkge1xuICAgICAgICAgICAgaWYgKGMgPT09ICcmJykge1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfUVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGFyc2VyLmF0dHJpYlZhbHVlICs9IGNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGF0dHJpYihwYXJzZXIpXG4gICAgICAgICAgcGFyc2VyLnEgPSAnJ1xuICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX0NMT1NFRFxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9DTE9TRUQ6XG4gICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnLycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9UQUdfU0xBU0hcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTWF0Y2gobmFtZVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdObyB3aGl0ZXNwYWNlIGJldHdlZW4gYXR0cmlidXRlcycpXG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliTmFtZSA9IGNcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJWYWx1ZSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9OQU1FXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBhdHRyaWJ1dGUgbmFtZScpXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9VTlFVT1RFRDpcbiAgICAgICAgICBpZiAoIWlzQXR0cmliRW5kKGMpKSB7XG4gICAgICAgICAgICBpZiAoYyA9PT0gJyYnKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX0VOVElUWV9VXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYXJzZXIuYXR0cmliVmFsdWUgKz0gY1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgICAgYXR0cmliKHBhcnNlcilcbiAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBvcGVuVGFnKHBhcnNlcilcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0xPU0VfVEFHOlxuICAgICAgICAgIGlmICghcGFyc2VyLnRhZ05hbWUpIHtcbiAgICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobm90TWF0Y2gobmFtZVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgICBpZiAocGFyc2VyLnNjcmlwdCkge1xuICAgICAgICAgICAgICAgIHBhcnNlci5zY3JpcHQgKz0gJzwvJyArIGNcbiAgICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNDUklQVFxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCB0YWduYW1lIGluIGNsb3NpbmcgdGFnLicpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhcnNlci50YWdOYW1lID0gY1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBjbG9zZVRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoKG5hbWVCb2R5LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnRhZ05hbWUgKz0gY1xuICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VyLnNjcmlwdCkge1xuICAgICAgICAgICAgcGFyc2VyLnNjcmlwdCArPSAnPC8nICsgcGFyc2VyLnRhZ05hbWVcbiAgICAgICAgICAgIHBhcnNlci50YWdOYW1lID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0NSSVBUXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCB0YWduYW1lIGluIGNsb3NpbmcgdGFnJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0xPU0VfVEFHX1NBV19XSElURVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5DTE9TRV9UQUdfU0FXX1dISVRFOlxuICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIGNsb3NlVGFnKHBhcnNlcilcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGNoYXJhY3RlcnMgaW4gY2xvc2luZyB0YWcnKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5URVhUX0VOVElUWTpcbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfUTpcbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfVTpcbiAgICAgICAgICB2YXIgcmV0dXJuU3RhdGVcbiAgICAgICAgICB2YXIgYnVmZmVyXG4gICAgICAgICAgc3dpdGNoIChwYXJzZXIuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgUy5URVhUX0VOVElUWTpcbiAgICAgICAgICAgICAgcmV0dXJuU3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICAgICAgYnVmZmVyID0gJ3RleHROb2RlJ1xuICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICBjYXNlIFMuQVRUUklCX1ZBTFVFX0VOVElUWV9ROlxuICAgICAgICAgICAgICByZXR1cm5TdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX1FVT1RFRFxuICAgICAgICAgICAgICBidWZmZXIgPSAnYXR0cmliVmFsdWUnXG4gICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIGNhc2UgUy5BVFRSSUJfVkFMVUVfRU5USVRZX1U6XG4gICAgICAgICAgICAgIHJldHVyblN0YXRlID0gUy5BVFRSSUJfVkFMVUVfVU5RVU9URURcbiAgICAgICAgICAgICAgYnVmZmVyID0gJ2F0dHJpYlZhbHVlJ1xuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjID09PSAnOycpIHtcbiAgICAgICAgICAgIHBhcnNlcltidWZmZXJdICs9IHBhcnNlRW50aXR5KHBhcnNlcilcbiAgICAgICAgICAgIHBhcnNlci5lbnRpdHkgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gcmV0dXJuU3RhdGVcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTWF0Y2gocGFyc2VyLmVudGl0eS5sZW5ndGggPyBlbnRpdHlCb2R5IDogZW50aXR5U3RhcnQsIGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIuZW50aXR5ICs9IGNcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGNoYXJhY3RlciBpbiBlbnRpdHkgbmFtZScpXG4gICAgICAgICAgICBwYXJzZXJbYnVmZmVyXSArPSAnJicgKyBwYXJzZXIuZW50aXR5ICsgY1xuICAgICAgICAgICAgcGFyc2VyLmVudGl0eSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSByZXR1cm5TdGF0ZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGFyc2VyLCAnVW5rbm93biBzdGF0ZTogJyArIHBhcnNlci5zdGF0ZSlcbiAgICAgIH1cbiAgICB9IC8vIHdoaWxlXG5cbiAgICBpZiAocGFyc2VyLnBvc2l0aW9uID49IHBhcnNlci5idWZmZXJDaGVja1Bvc2l0aW9uKSB7XG4gICAgICBjaGVja0J1ZmZlckxlbmd0aChwYXJzZXIpXG4gICAgfVxuICAgIHJldHVybiBwYXJzZXJcbiAgfVxuXG4gIC8qISBodHRwOi8vbXRocy5iZS9mcm9tY29kZXBvaW50IHYwLjEuMCBieSBAbWF0aGlhcyAqL1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoIVN0cmluZy5mcm9tQ29kZVBvaW50KSB7XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlXG4gICAgICB2YXIgZmxvb3IgPSBNYXRoLmZsb29yXG4gICAgICB2YXIgZnJvbUNvZGVQb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIE1BWF9TSVpFID0gMHg0MDAwXG4gICAgICAgIHZhciBjb2RlVW5pdHMgPSBbXVxuICAgICAgICB2YXIgaGlnaFN1cnJvZ2F0ZVxuICAgICAgICB2YXIgbG93U3Vycm9nYXRlXG4gICAgICAgIHZhciBpbmRleCA9IC0xXG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuICcnXG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGNvZGVQb2ludCA9IE51bWJlcihhcmd1bWVudHNbaW5kZXhdKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFpc0Zpbml0ZShjb2RlUG9pbnQpIHx8IC8vIGBOYU5gLCBgK0luZmluaXR5YCwgb3IgYC1JbmZpbml0eWBcbiAgICAgICAgICAgIGNvZGVQb2ludCA8IDAgfHwgLy8gbm90IGEgdmFsaWQgVW5pY29kZSBjb2RlIHBvaW50XG4gICAgICAgICAgICBjb2RlUG9pbnQgPiAweDEwRkZGRiB8fCAvLyBub3QgYSB2YWxpZCBVbmljb2RlIGNvZGUgcG9pbnRcbiAgICAgICAgICAgIGZsb29yKGNvZGVQb2ludCkgIT09IGNvZGVQb2ludCAvLyBub3QgYW4gaW50ZWdlclxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhyb3cgUmFuZ2VFcnJvcignSW52YWxpZCBjb2RlIHBvaW50OiAnICsgY29kZVBvaW50KVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4RkZGRikgeyAvLyBCTVAgY29kZSBwb2ludFxuICAgICAgICAgICAgY29kZVVuaXRzLnB1c2goY29kZVBvaW50KVxuICAgICAgICAgIH0gZWxzZSB7IC8vIEFzdHJhbCBjb2RlIHBvaW50OyBzcGxpdCBpbiBzdXJyb2dhdGUgaGFsdmVzXG4gICAgICAgICAgICAvLyBodHRwOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nI3N1cnJvZ2F0ZS1mb3JtdWxhZVxuICAgICAgICAgICAgY29kZVBvaW50IC09IDB4MTAwMDBcbiAgICAgICAgICAgIGhpZ2hTdXJyb2dhdGUgPSAoY29kZVBvaW50ID4+IDEwKSArIDB4RDgwMFxuICAgICAgICAgICAgbG93U3Vycm9nYXRlID0gKGNvZGVQb2ludCAlIDB4NDAwKSArIDB4REMwMFxuICAgICAgICAgICAgY29kZVVuaXRzLnB1c2goaGlnaFN1cnJvZ2F0ZSwgbG93U3Vycm9nYXRlKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5kZXggKyAxID09PSBsZW5ndGggfHwgY29kZVVuaXRzLmxlbmd0aCA+IE1BWF9TSVpFKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGNvZGVVbml0cylcbiAgICAgICAgICAgIGNvZGVVbml0cy5sZW5ndGggPSAwXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcsICdmcm9tQ29kZVBvaW50Jywge1xuICAgICAgICAgIHZhbHVlOiBmcm9tQ29kZVBvaW50LFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgU3RyaW5nLmZyb21Db2RlUG9pbnQgPSBmcm9tQ29kZVBvaW50XG4gICAgICB9XG4gICAgfSgpKVxuICB9XG59KSh0eXBlb2YgZXhwb3J0cyA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnNheCA9IHt9IDogZXhwb3J0cylcbiIsICJ2YXIgc2F4ICAgICAgICAgICA9IHJlcXVpcmUoJ3NheCcpXG4gICwgZGF0ZUZvcm1hdHRlciA9IHJlcXVpcmUoJy4vZGF0ZV9mb3JtYXR0ZXInKVxuXG52YXIgRGVzZXJpYWxpemVyID0gZnVuY3Rpb24oZW5jb2RpbmcpIHtcbiAgdGhpcy50eXBlID0gbnVsbFxuICB0aGlzLnJlc3BvbnNlVHlwZSA9IG51bGxcbiAgdGhpcy5zdGFjayA9IFtdXG4gIHRoaXMubWFya3MgPSBbXVxuICB0aGlzLmRhdGEgPSBbXVxuICB0aGlzLm1ldGhvZG5hbWUgPSBudWxsXG4gIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZyB8fCAndXRmOCdcbiAgdGhpcy52YWx1ZSA9IGZhbHNlXG4gIHRoaXMuY2FsbGJhY2sgPSBudWxsXG4gIHRoaXMuZXJyb3IgPSBudWxsXG5cbiAgdGhpcy5wYXJzZXIgPSBzYXguY3JlYXRlU3RyZWFtKClcbiAgdGhpcy5wYXJzZXIub24oJ29wZW50YWcnLCAgdGhpcy5vbk9wZW50YWcuYmluZCh0aGlzKSlcbiAgdGhpcy5wYXJzZXIub24oJ2Nsb3NldGFnJywgdGhpcy5vbkNsb3NldGFnLmJpbmQodGhpcykpXG4gIHRoaXMucGFyc2VyLm9uKCd0ZXh0JywgICAgIHRoaXMub25UZXh0LmJpbmQodGhpcykpXG4gIHRoaXMucGFyc2VyLm9uKCdjZGF0YScsICAgIHRoaXMub25DREFUQS5iaW5kKHRoaXMpKVxuICB0aGlzLnBhcnNlci5vbignZW5kJywgICAgICB0aGlzLm9uRG9uZS5iaW5kKHRoaXMpKVxuICB0aGlzLnBhcnNlci5vbignZXJyb3InLCAgICB0aGlzLm9uRXJyb3IuYmluZCh0aGlzKSlcbn1cblxuRGVzZXJpYWxpemVyLnByb3RvdHlwZS5kZXNlcmlhbGl6ZU1ldGhvZFJlc3BvbnNlID0gZnVuY3Rpb24oc3RyZWFtLCBjYWxsYmFjaykge1xuICB2YXIgdGhhdCA9IHRoaXNcblxuICB0aGlzLmNhbGxiYWNrID0gZnVuY3Rpb24oZXJyb3IsIHJlc3VsdCkge1xuICAgIGlmIChlcnJvcikge1xuICAgICAgY2FsbGJhY2soZXJyb3IpXG4gICAgfVxuICAgIGVsc2UgaWYgKHJlc3VsdC5sZW5ndGggPiAxKSB7XG4gICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ1Jlc3BvbnNlIGhhcyBtb3JlIHRoYW4gb25lIHBhcmFtJykpXG4gICAgfVxuICAgIGVsc2UgaWYgKHRoYXQudHlwZSAhPT0gJ21ldGhvZHJlc3BvbnNlJykge1xuICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdOb3QgYSBtZXRob2QgcmVzcG9uc2UnKSlcbiAgICB9XG4gICAgZWxzZSBpZiAoIXRoYXQucmVzcG9uc2VUeXBlKSB7XG4gICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIHJlc3BvbnNlJykpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0WzBdKVxuICAgIH1cbiAgfVxuXG4gIHN0cmVhbS5zZXRFbmNvZGluZyh0aGlzLmVuY29kaW5nKVxuICBzdHJlYW0ub24oJ2Vycm9yJywgdGhpcy5vbkVycm9yLmJpbmQodGhpcykpXG4gIHN0cmVhbS5waXBlKHRoaXMucGFyc2VyKVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmRlc2VyaWFsaXplTWV0aG9kQ2FsbCA9IGZ1bmN0aW9uKHN0cmVhbSwgY2FsbGJhY2spIHtcbiAgdmFyIHRoYXQgPSB0aGlzXG5cbiAgdGhpcy5jYWxsYmFjayA9IGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpIHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNhbGxiYWNrKGVycm9yKVxuICAgIH1cbiAgICBlbHNlIGlmICh0aGF0LnR5cGUgIT09ICdtZXRob2RjYWxsJykge1xuICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdOb3QgYSBtZXRob2QgY2FsbCcpKVxuICAgIH1cbiAgICBlbHNlIGlmICghdGhhdC5tZXRob2RuYW1lKSB7XG4gICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ01ldGhvZCBjYWxsIGRpZCBub3QgY29udGFpbiBhIG1ldGhvZCBuYW1lJykpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2FsbGJhY2sobnVsbCwgdGhhdC5tZXRob2RuYW1lLCByZXN1bHQpXG4gICAgfVxuICB9XG5cbiAgc3RyZWFtLnNldEVuY29kaW5nKHRoaXMuZW5jb2RpbmcpXG4gIHN0cmVhbS5vbignZXJyb3InLCB0aGlzLm9uRXJyb3IuYmluZCh0aGlzKSlcbiAgc3RyZWFtLnBpcGUodGhpcy5wYXJzZXIpXG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUub25Eb25lID0gZnVuY3Rpb24oKSB7XG4gIHZhciB0aGF0ID0gdGhpc1xuXG4gIGlmICghdGhpcy5lcnJvcikge1xuICAgIGlmICh0aGlzLnR5cGUgPT09IG51bGwgfHwgdGhpcy5tYXJrcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY2FsbGJhY2sobmV3IEVycm9yKCdJbnZhbGlkIFhNTC1SUEMgbWVzc2FnZScpKVxuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLnJlc3BvbnNlVHlwZSA9PT0gJ2ZhdWx0Jykge1xuICAgICAgdmFyIGNyZWF0ZUZhdWx0ID0gZnVuY3Rpb24oZmF1bHQpIHtcbiAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKCdYTUwtUlBDIGZhdWx0JyArIChmYXVsdC5mYXVsdFN0cmluZyA/ICc6ICcgKyBmYXVsdC5mYXVsdFN0cmluZyA6ICcnKSlcbiAgICAgICAgZXJyb3IuY29kZSA9IGZhdWx0LmZhdWx0Q29kZVxuICAgICAgICBlcnJvci5mYXVsdENvZGUgPSBmYXVsdC5mYXVsdENvZGVcbiAgICAgICAgZXJyb3IuZmF1bHRTdHJpbmcgPSBmYXVsdC5mYXVsdFN0cmluZ1xuICAgICAgICByZXR1cm4gZXJyb3JcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FsbGJhY2soY3JlYXRlRmF1bHQodGhpcy5zdGFja1swXSkpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5jYWxsYmFjayh1bmRlZmluZWQsIHRoaXMuc3RhY2spXG4gICAgfVxuICB9XG59XG5cbi8vIFRPRE86XG4vLyBFcnJvciBoYW5kbGluZyBuZWVkcyBhIGxpdHRsZSB0aGlua2luZy4gVGhlcmUgYXJlIHR3byBkaWZmZXJlbnQga2luZHMgb2Zcbi8vIGVycm9yczogXG4vLyAgIDEuIExvdyBsZXZlbCBlcnJvcnMgbGlrZSBuZXR3b3JrLCBzdHJlYW0gb3IgeG1sIGVycm9ycy4gVGhlc2UgZG9uJ3Rcbi8vICAgICAgcmVxdWlyZSBzcGVjaWFsIHRyZWF0bWVudC4gVGhleSBvbmx5IG5lZWQgdG8gYmUgZm9yd2FyZGVkLiBUaGUgSU9cbi8vICAgICAgaXMgYWxyZWFkeSBzdG9wcGVkIGluIHRoZXNlIGNhc2VzLiBcbi8vICAgMi4gUHJvdG9jb2wgZXJyb3JzOiBJbnZhbGlkIHRhZ3MsIGludmFsaWQgdmFsdWVzICZjLiBUaGVzZSBoYXBwZW4gaW5cbi8vICAgICAgb3VyIGNvZGUgYW5kIHdlIHNob3VsZCB0ZWFyIGRvd24gdGhlIElPIGFuZCBzdG9wIHBhcnNpbmcuXG4vLyBDdXJyZW50bHkgYWxsIGVycm9ycyBlbmQgaGVyZS4gR3Vlc3MgSSdsbCBzcGxpdCBpdCB1cC4gXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbihtc2cpIHtcbiAgaWYgKCF0aGlzLmVycm9yKSB7XG4gICAgaWYgKHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmVycm9yID0gbmV3IEVycm9yKG1zZylcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmVycm9yID0gbXNnXG4gICAgfVxuICAgIHRoaXMuY2FsbGJhY2sodGhpcy5lcnJvcilcbiAgfVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLnN0YWNrLnB1c2godmFsdWUpXG59XG5cbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTQVggSGFuZGxlcnNcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUub25PcGVudGFnID0gZnVuY3Rpb24obm9kZSkge1xuICBpZiAobm9kZS5uYW1lID09PSAnQVJSQVknIHx8IG5vZGUubmFtZSA9PT0gJ1NUUlVDVCcpIHtcbiAgICB0aGlzLm1hcmtzLnB1c2godGhpcy5zdGFjay5sZW5ndGgpXG4gIH1cbiAgdGhpcy5kYXRhID0gW11cbiAgdGhpcy52YWx1ZSA9IChub2RlLm5hbWUgPT09ICdWQUxVRScpXG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUub25UZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICB0aGlzLmRhdGEucHVzaCh0ZXh0KVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLm9uQ0RBVEEgPSBmdW5jdGlvbihjZGF0YSkge1xuICB0aGlzLmRhdGEucHVzaChjZGF0YSlcbn1cblxuRGVzZXJpYWxpemVyLnByb3RvdHlwZS5vbkNsb3NldGFnID0gZnVuY3Rpb24oZWwpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLmRhdGEuam9pbignJylcbiAgdHJ5IHtcbiAgICBzd2l0Y2goZWwpIHtcbiAgICAgIGNhc2UgJ0JPT0xFQU4nOlxuICAgICAgICB0aGlzLmVuZEJvb2xlYW4oZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ0lOVCc6XG4gICAgICBjYXNlICdJNCc6XG4gICAgICAgIHRoaXMuZW5kSW50KGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdJOCc6XG4gICAgICAgIHRoaXMuZW5kSTgoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ0RPVUJMRSc6XG4gICAgICAgIHRoaXMuZW5kRG91YmxlKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdTVFJJTkcnOlxuICAgICAgY2FzZSAnTkFNRSc6XG4gICAgICAgIHRoaXMuZW5kU3RyaW5nKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdBUlJBWSc6XG4gICAgICAgIHRoaXMuZW5kQXJyYXkoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ1NUUlVDVCc6XG4gICAgICAgIHRoaXMuZW5kU3RydWN0KGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdCQVNFNjQnOlxuICAgICAgICB0aGlzLmVuZEJhc2U2NChkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnREFURVRJTUUuSVNPODYwMSc6XG4gICAgICAgIHRoaXMuZW5kRGF0ZVRpbWUoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ1ZBTFVFJzpcbiAgICAgICAgdGhpcy5lbmRWYWx1ZShkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnUEFSQU1TJzpcbiAgICAgICAgdGhpcy5lbmRQYXJhbXMoZGF0YSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ0ZBVUxUJzpcbiAgICAgICAgdGhpcy5lbmRGYXVsdChkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnTUVUSE9EUkVTUE9OU0UnOlxuICAgICAgICB0aGlzLmVuZE1ldGhvZFJlc3BvbnNlKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdNRVRIT0ROQU1FJzpcbiAgICAgICAgdGhpcy5lbmRNZXRob2ROYW1lKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdNRVRIT0RDQUxMJzpcbiAgICAgICAgdGhpcy5lbmRNZXRob2RDYWxsKGRhdGEpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdOSUwnOlxuICAgICAgICB0aGlzLmVuZE5pbChkYXRhKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnREFUQSc6XG4gICAgICBjYXNlICdQQVJBTSc6XG4gICAgICBjYXNlICdNRU1CRVInOlxuICAgICAgICAvLyBJZ25vcmVkIGJ5IGRlc2lnblxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5vbkVycm9yKCdVbmtub3duIFhNTC1SUEMgdGFnIFxcJycgKyBlbCArICdcXCcnKVxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuICBjYXRjaCAoZSkge1xuICAgIHRoaXMub25FcnJvcihlKVxuICB9XG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUuZW5kTmlsID0gZnVuY3Rpb24oZGF0YSkge1xuICB0aGlzLnB1c2gobnVsbClcbiAgdGhpcy52YWx1ZSA9IGZhbHNlXG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUuZW5kQm9vbGVhbiA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09ICcxJykge1xuICAgIHRoaXMucHVzaCh0cnVlKVxuICB9XG4gIGVsc2UgaWYgKGRhdGEgPT09ICcwJykge1xuICAgIHRoaXMucHVzaChmYWxzZSlcbiAgfVxuICBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgYm9vbGVhbiB2YWx1ZSBcXCcnICsgZGF0YSArICdcXCcnKVxuICB9XG4gIHRoaXMudmFsdWUgPSBmYWxzZVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmVuZEludCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgdmFyIHZhbHVlID0gcGFyc2VJbnQoZGF0YSwgMTApXG4gIGlmIChpc05hTih2YWx1ZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGFuIGludGVnZXIgYnV0IGdvdCBcXCcnICsgZGF0YSArICdcXCcnKVxuICB9XG4gIGVsc2Uge1xuICAgIHRoaXMucHVzaCh2YWx1ZSlcbiAgICB0aGlzLnZhbHVlID0gZmFsc2VcbiAgfVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmVuZERvdWJsZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgdmFyIHZhbHVlID0gcGFyc2VGbG9hdChkYXRhKVxuICBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBhIGRvdWJsZSBidXQgZ290IFxcJycgKyBkYXRhICsgJ1xcJycpXG4gIH1cbiAgZWxzZSB7XG4gICAgdGhpcy5wdXNoKHZhbHVlKVxuICAgIHRoaXMudmFsdWUgPSBmYWxzZVxuICB9XG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUuZW5kU3RyaW5nID0gZnVuY3Rpb24oZGF0YSkge1xuICB0aGlzLnB1c2goZGF0YSlcbiAgdGhpcy52YWx1ZSA9IGZhbHNlXG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUuZW5kQXJyYXkgPSBmdW5jdGlvbihkYXRhKSB7XG4gIHZhciBtYXJrID0gdGhpcy5tYXJrcy5wb3AoKVxuICB0aGlzLnN0YWNrLnNwbGljZShtYXJrLCB0aGlzLnN0YWNrLmxlbmd0aCAtIG1hcmssIHRoaXMuc3RhY2suc2xpY2UobWFyaykpXG4gIHRoaXMudmFsdWUgPSBmYWxzZVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmVuZFN0cnVjdCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgdmFyIG1hcmsgPSB0aGlzLm1hcmtzLnBvcCgpXG4gICAgLCBzdHJ1Y3QgPSB7fVxuICAgICwgaXRlbXMgPSB0aGlzLnN0YWNrLnNsaWNlKG1hcmspXG4gICAgLCBpID0gMFxuXG4gIGZvciAoOyBpIDwgaXRlbXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBzdHJ1Y3RbaXRlbXNbaV1dID0gaXRlbXNbaSArIDFdXG4gIH1cbiAgdGhpcy5zdGFjay5zcGxpY2UobWFyaywgdGhpcy5zdGFjay5sZW5ndGggLSBtYXJrLCBzdHJ1Y3QpXG4gIHRoaXMudmFsdWUgPSBmYWxzZVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmVuZEJhc2U2NCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgdmFyIGJ1ZmZlciA9IG5ldyBCdWZmZXIoZGF0YSwgJ2Jhc2U2NCcpXG4gIHRoaXMucHVzaChidWZmZXIpXG4gIHRoaXMudmFsdWUgPSBmYWxzZVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmVuZERhdGVUaW1lID0gZnVuY3Rpb24oZGF0YSkge1xuICB2YXIgZGF0ZSA9IGRhdGVGb3JtYXR0ZXIuZGVjb2RlSXNvODYwMShkYXRhKVxuICB0aGlzLnB1c2goZGF0ZSlcbiAgdGhpcy52YWx1ZSA9IGZhbHNlXG59XG5cbnZhciBpc0ludGVnZXIgPSAvXi0/XFxkKyQvXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmVuZEk4ID0gZnVuY3Rpb24oZGF0YSkge1xuICBpZiAoIWlzSW50ZWdlci50ZXN0KGRhdGEpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBpbnRlZ2VyIChJOCkgdmFsdWUgYnV0IGdvdCBcXCcnICsgZGF0YSArICdcXCcnKVxuICB9XG4gIGVsc2Uge1xuICAgIHRoaXMuZW5kU3RyaW5nKGRhdGEpXG4gIH1cbn1cblxuRGVzZXJpYWxpemVyLnByb3RvdHlwZS5lbmRWYWx1ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICB0aGlzLmVuZFN0cmluZyhkYXRhKVxuICB9XG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUuZW5kUGFyYW1zID0gZnVuY3Rpb24oZGF0YSkge1xuICB0aGlzLnJlc3BvbnNlVHlwZSA9ICdwYXJhbXMnXG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUuZW5kRmF1bHQgPSBmdW5jdGlvbihkYXRhKSB7XG4gIHRoaXMucmVzcG9uc2VUeXBlID0gJ2ZhdWx0J1xufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmVuZE1ldGhvZFJlc3BvbnNlID0gZnVuY3Rpb24oZGF0YSkge1xuICB0aGlzLnR5cGUgPSAnbWV0aG9kcmVzcG9uc2UnXG59XG5cbkRlc2VyaWFsaXplci5wcm90b3R5cGUuZW5kTWV0aG9kTmFtZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgdGhpcy5tZXRob2RuYW1lID0gZGF0YVxufVxuXG5EZXNlcmlhbGl6ZXIucHJvdG90eXBlLmVuZE1ldGhvZENhbGwgPSBmdW5jdGlvbihkYXRhKSB7XG4gIHRoaXMudHlwZSA9ICdtZXRob2RjYWxsJ1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERlc2VyaWFsaXplclxuXG4iLCAiLyoqXG4gKiBDcmVhdGVzIG9iamVjdCBmb3IgY29va2llcyBtYW5pcHVsYXRpb24gb24gY2xpZW50IHNpZGUuXG4gKiBBbGxvd3MgdG8gcGFyc2Ugc2VydmVyJ3MgcmVzcG9uc2UgaW4gb3JkZXIgdG8gZ2V0IGNvb2tpZXMgYW5kIGNvbXBvc2UgaHR0cCByZXF1ZXN0IHRvIHRyYW5zZmVyIGNvb2tpZXMgdG8gdGhlIHNlcnZlclxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIENvb2tpZXMoKSB7XG4gIHRoaXMuY29va2llcyA9IHt9XG59XG5cbkNvb2tpZXMucHJvdG90eXBlID0ge1xuICAvKipcbiAgICogT2J0YWlucyB2YWx1ZSBvZiB0aGUgY29va2llIHdpdGggc3BlY2lmaWVkIG5hbWUuXG4gICAqIFRoaXMgY2FsbCBjaGVja3MgZXhwaXJhdGlvbiBkYXRlcyBhbmQgZG9lcyBub3QgcmV0dXJuIGV4cGlyZWQgY29va2llcy5cbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgY29va2llIG5hbWVcbiAgICogQHJldHVybiB7U3RyaW5nfSBjb29raWUgdmFsdWUgb3IgbnVsbFxuICAgKi9cbiAgZ2V0OiBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIGNvb2tpZSA9IHRoaXMuY29va2llc1tuYW1lXVxuICAgIGlmIChjb29raWUgJiYgdGhpcy5jaGVja05vdEV4cGlyZWQobmFtZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb2tpZXNbbmFtZV0udmFsdWVcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyBjb29raWUncyB2YWx1ZSBhbmQgb3B0aW9uYWwgb3B0aW9uc1xuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBjb29raWUncyBuYW1lXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSB2YWx1ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyB3aXRoIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuICAgKiAgLSB7Qm9vbGVhbn0gc2VjdXJlIC0gaXMgY29va2llIHNlY3VyZSBvciBub3QgKGRvZXMgbm90IG1lYW4gYW55dGhpbmcgZm9yIG5vdylcbiAgICogIC0ge0RhdGV9IGV4cGlyZXMgLSBjb29raWUncyBleHBpcmF0aW9uIGRhdGUuIElmIHNwZWNpZmllZCB0aGVuIGNvb2tpZSB3aWxsIGRpc2FwcGVhciBhZnRlciB0aGF0IGRhdGVcbiAgICovXG4gIHNldDogZnVuY3Rpb24obmFtZSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICB2YXIgY29va2llID0gdHlwZW9mIG9wdGlvbnMgPT0gJ29iamVjdCdcbiAgICAgICAgPyB7dmFsdWU6IHZhbHVlLCBleHBpcmVzOiBvcHRpb25zLmV4cGlyZXMsIHNlY3VyZTogb3B0aW9ucy5zZWN1cmUgfHwgZmFsc2UsIG5ldzogb3B0aW9ucy5uZXcgfHwgZmFsc2V9XG4gICAgICAgIDoge3ZhbHVlOiB2YWx1ZX1cbiAgICBpZiAodGhpcy5jaGVja05vdEV4cGlyZWQobmFtZSwgY29va2llKSkge1xuICAgICAgdGhpcy5jb29raWVzW25hbWVdID0gY29va2llXG4gICAgfVxuICB9LFxuXG4gIC8vIEZvciB0ZXN0aW5nIHB1cnBvc2VzXG4gIGdldEV4cGlyYXRpb25EYXRlOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuY29va2llc1tuYW1lXSA/IHRoaXMuY29va2llc1tuYW1lXS5leHBpcmVzIDogbnVsbFxuICB9LFxuXG4gIC8vIEludGVybmFsIGZ1bmN0aW9uXG4gIGNoZWNrTm90RXhwaXJlZDogZnVuY3Rpb24obmFtZSwgY29va2llKSB7XG4gICAgaWYgKHR5cGVvZiBjb29raWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb29raWUgPSB0aGlzLmNvb2tpZXNbbmFtZV1cbiAgICB9XG4gICAgdmFyIG5vdyA9IG5ldyBEYXRlKClcbiAgICBpZiAoY29va2llICYmIGNvb2tpZS5leHBpcmVzICYmIG5vdyA+IGNvb2tpZS5leHBpcmVzKSB7XG4gICAgICBkZWxldGUgdGhpcy5jb29raWVzW25hbWVdXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfSxcblxuXG4gIC8qKlxuICAgKiBQYXJzZXMgaGVhZGVycyBmcm9tIHNlcnZlcidzIHJlc3BvbnNlIGZvciAnc2V0LWNvb2tpZScgaGVhZGVyIGFuZCBzdG9yZSBjb29raWUncyB2YWx1ZXMuXG4gICAqIEFsc28gcGFyc2VzIGV4cGlyYXRpb24gZGF0ZVxuICAgKiBAcGFyYW0gaGVhZGVyc1xuICAgKi9cbiAgcGFyc2VSZXNwb25zZTogZnVuY3Rpb24oaGVhZGVycykge1xuICAgIHZhciBjb29raWVzID0gaGVhZGVyc1snc2V0LWNvb2tpZSddXG4gICAgaWYgKGNvb2tpZXMpIHtcbiAgICAgIGNvb2tpZXMuZm9yRWFjaChmdW5jdGlvbihjKSB7XG4gICAgICAgIHZhciBjb29raWVzUGFyYW1zID0gYy5zcGxpdCgnOycpXG4gICAgICAgIHZhciBjb29raWVQYWlyID0gY29va2llc1BhcmFtcy5zaGlmdCgpLnNwbGl0KCc9JylcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7fVxuICAgICAgICBjb29raWVzUGFyYW1zLmZvckVhY2goZnVuY3Rpb24ocGFyYW0pIHtcbiAgICAgICAgICBwYXJhbSA9IHBhcmFtLnRyaW0oKVxuICAgICAgICAgIGlmIChwYXJhbS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2V4cGlyZXMnKSA9PSAwKSB7XG4gICAgICAgICAgICB2YXIgZGF0ZSA9IHBhcmFtLnNwbGl0KCc9JylbMV0udHJpbSgpXG4gICAgICAgICAgICBvcHRpb25zLmV4cGlyZXMgPSBuZXcgRGF0ZShkYXRlKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5zZXQoY29va2llUGFpclswXS50cmltKCksIGNvb2tpZVBhaXJbMV0udHJpbSgpLCBvcHRpb25zKVxuICAgICAgfS5iaW5kKHRoaXMpKVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQWRkcyBjb29raWVzIHRvIHRoZSBwcm92aWRlZCBoZWFkZXJzIGFzIGFycmF5LiBEb2VzIG5vdGhpbmcgaWYgdGhlcmUgYXJlIG5vIGNvb2tpZXMgc3RvcmVkLlxuICAgKiBUaGlzIGNhbGwgY2hlY2tzIGV4cGlyYXRpb24gZGF0ZXMgYW5kIGRvZXMgbm90IGFkZCBleHBpcmVkIGNvb2tpZXMuXG4gICAqIEBwYXJhbSBoZWFkZXJzXG4gICAqL1xuICBjb21wb3NlUmVxdWVzdDogZnVuY3Rpb24oaGVhZGVycykge1xuICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmNvb2tpZXMpLmxlbmd0aCA9PSAwKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaGVhZGVyc1snQ29va2llJ10gPSB0aGlzLnRvU3RyaW5nKClcbiAgfSxcblxuXG4gIC8qKlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IGNvb2tpZXMgYXMgJ25hbWU9dmFsdWUnIHBhaXJzIGpvaW5lZCBieSBzZW1pY29sb25cbiAgICovXG4gIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5jb29raWVzKVxuICAgICAgLmZpbHRlcih0aGlzLmNoZWNrTm90RXhwaXJlZC5iaW5kKHRoaXMpKVxuICAgICAgLm1hcChmdW5jdGlvbihuYW1lKSB7XG4gICAgICByZXR1cm4gbmFtZSArICc9JyArIHRoaXMuY29va2llc1tuYW1lXS52YWx1ZVxuICAgIH0uYmluZCh0aGlzKSkuam9pbignOycpXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDb29raWVzXG4iLCAidmFyIGh0dHAgICAgICAgICA9IHJlcXVpcmUoJ2h0dHAnKVxuICAsIGh0dHBzICAgICAgICA9IHJlcXVpcmUoJ2h0dHBzJylcbiAgLCB1cmwgICAgICAgICAgPSByZXF1aXJlKCd1cmwnKVxuICAsIFNlcmlhbGl6ZXIgICA9IHJlcXVpcmUoJy4vc2VyaWFsaXplcicpXG4gICwgRGVzZXJpYWxpemVyID0gcmVxdWlyZSgnLi9kZXNlcmlhbGl6ZXInKVxuICAsIENvb2tpZXMgICAgICA9IHJlcXVpcmUoJy4vY29va2llcycpXG5cbi8qKlxuICogQ3JlYXRlcyBhIENsaWVudCBvYmplY3QgZm9yIG1ha2luZyBYTUwtUlBDIG1ldGhvZCBjYWxscy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gb3B0aW9ucyAtIFNlcnZlciBvcHRpb25zIHRvIG1ha2UgdGhlIEhUVFAgcmVxdWVzdCB0by5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVpdGhlciBhIFVSSSBzdHJpbmdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLmcuICdodHRwOi8vbG9jYWxob3N0OjkwOTAnKSBvciBhbiBvYmplY3RcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggZmllbGRzOlxuICogICAtIHtTdHJpbmd9IGhvc3QgICAgICAgICAgICAgIC0gKG9wdGlvbmFsKVxuICogICAtIHtOdW1iZXJ9IHBvcnRcbiAqICAgLSB7U3RyaW5nfSB1cmwgICAgICAgICAgICAgICAtIChvcHRpb25hbCkgLSBtYXkgYmUgdXNlZCBpbnN0ZWFkIG9mIGhvc3QvcG9ydCBwYWlyXG4gKiAgIC0ge0Jvb2xlYW59IGNvb2tpZXMgICAgICAgICAgLSAob3B0aW9uYWwpIC0gaWYgdHJ1ZSB0aGVuIGNvb2tpZXMgcmV0dXJuZWQgYnkgc2VydmVyIHdpbGwgYmUgc3RvcmVkIGFuZCBzZW50IGJhY2sgb24gdGhlIG5leHQgY2FsbHMuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbHNvIGl0IHdpbGwgYmUgcG9zc2libGUgdG8gYWNjZXNzL21hbmlwdWxhdGUgY29va2llcyB2aWEgI3NldENvb2tpZS8jZ2V0Q29va2llIG1ldGhvZHNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNTZWN1cmUgICAgICAtIFRydWUgaWYgdXNpbmcgaHR0cHMgZm9yIG1ha2luZyBjYWxscyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyd2lzZSBmYWxzZS5cbiAqIEByZXR1cm4ge0NsaWVudH1cbiAqL1xuZnVuY3Rpb24gQ2xpZW50KG9wdGlvbnMsIGlzU2VjdXJlKSB7XG5cbiAgLy8gSW52b2tlcyB3aXRoIG5ldyBpZiBjYWxsZWQgd2l0aG91dFxuICBpZiAoZmFsc2UgPT09ICh0aGlzIGluc3RhbmNlb2YgQ2xpZW50KSkge1xuICAgIHJldHVybiBuZXcgQ2xpZW50KG9wdGlvbnMsIGlzU2VjdXJlKVxuICB9XG5cbiAgLy8gSWYgYSBzdHJpbmcgVVJJIGlzIHBhc3NlZCBpbiwgY29udmVydHMgdG8gVVJJIGZpZWxkc1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgb3B0aW9ucyA9IHVybC5wYXJzZShvcHRpb25zKVxuICAgIG9wdGlvbnMuaG9zdCA9IG9wdGlvbnMuaG9zdG5hbWVcbiAgICBvcHRpb25zLnBhdGggPSBvcHRpb25zLnBhdGhuYW1lXG4gIH1cblxuICBpZiAodHlwZW9mIG9wdGlvbnMudXJsICE9PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBwYXJzZWRVcmwgPSB1cmwucGFyc2Uob3B0aW9ucy51cmwpO1xuICAgIG9wdGlvbnMuaG9zdCA9IHBhcnNlZFVybC5ob3N0bmFtZTtcbiAgICBvcHRpb25zLnBhdGggPSBwYXJzZWRVcmwucGF0aG5hbWU7XG4gICAgb3B0aW9ucy5wb3J0ID0gcGFyc2VkVXJsLnBvcnQ7XG4gIH1cblxuICAvLyBTZXQgdGhlIEhUVFAgcmVxdWVzdCBoZWFkZXJzXG4gIHZhciBoZWFkZXJzID0ge1xuICAgICdVc2VyLUFnZW50JyAgICAgOiAnTm9kZUpTIFhNTC1SUEMgQ2xpZW50J1xuICAsICdDb250ZW50LVR5cGUnICAgOiAndGV4dC94bWwnXG4gICwgJ0FjY2VwdCcgICAgICAgICA6ICd0ZXh0L3htbCdcbiAgLCAnQWNjZXB0LUNoYXJzZXQnIDogJ1VURjgnXG4gICwgJ0Nvbm5lY3Rpb24nICAgICA6ICdLZWVwLUFsaXZlJ1xuICB9XG4gIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fVxuXG4gIGlmIChvcHRpb25zLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9PSBudWxsICYmXG4gICAgICBvcHRpb25zLmJhc2ljX2F1dGggIT0gbnVsbCAmJlxuICAgICAgb3B0aW9ucy5iYXNpY19hdXRoLnVzZXIgIT0gbnVsbCAmJlxuICAgICAgb3B0aW9ucy5iYXNpY19hdXRoLnBhc3MgIT0gbnVsbClcbiAge1xuICAgIHZhciBhdXRoID0gb3B0aW9ucy5iYXNpY19hdXRoLnVzZXIgKyAnOicgKyBvcHRpb25zLmJhc2ljX2F1dGgucGFzc1xuICAgIG9wdGlvbnMuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gJ0Jhc2ljICcgKyBuZXcgQnVmZmVyKGF1dGgpLnRvU3RyaW5nKCdiYXNlNjQnKVxuICB9XG5cbiAgZm9yICh2YXIgYXR0cmlidXRlIGluIGhlYWRlcnMpIHtcbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzW2F0dHJpYnV0ZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgb3B0aW9ucy5oZWFkZXJzW2F0dHJpYnV0ZV0gPSBoZWFkZXJzW2F0dHJpYnV0ZV1cbiAgICB9XG4gIH1cblxuICBvcHRpb25zLm1ldGhvZCA9ICdQT1NUJ1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG5cbiAgdGhpcy5pc1NlY3VyZSA9IGlzU2VjdXJlXG4gIHRoaXMuaGVhZGVyc1Byb2Nlc3NvcnMgPSB7XG4gICAgcHJvY2Vzc29yczogW10sXG4gICAgY29tcG9zZVJlcXVlc3Q6IGZ1bmN0aW9uKGhlYWRlcnMpIHtcbiAgICAgIHRoaXMucHJvY2Vzc29ycy5mb3JFYWNoKGZ1bmN0aW9uKHApIHtwLmNvbXBvc2VSZXF1ZXN0KGhlYWRlcnMpO30pXG4gICAgfSxcbiAgICBwYXJzZVJlc3BvbnNlOiBmdW5jdGlvbihoZWFkZXJzKSB7XG4gICAgICB0aGlzLnByb2Nlc3NvcnMuZm9yRWFjaChmdW5jdGlvbihwKSB7cC5wYXJzZVJlc3BvbnNlKGhlYWRlcnMpO30pXG4gICAgfVxuICB9O1xuICBpZiAob3B0aW9ucy5jb29raWVzKSB7XG4gICAgdGhpcy5jb29raWVzID0gbmV3IENvb2tpZXMoKTtcbiAgICB0aGlzLmhlYWRlcnNQcm9jZXNzb3JzLnByb2Nlc3NvcnMudW5zaGlmdCh0aGlzLmNvb2tpZXMpO1xuICB9XG59XG5cbi8qKlxuICogTWFrZXMgYW4gWE1MLVJQQyBjYWxsIHRvIHRoZSBzZXJ2ZXIgc3BlY2lmaWVkIGJ5IHRoZSBjb25zdHJ1Y3RvcidzIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZCAgICAgLSBUaGUgbWV0aG9kIG5hbWUuXG4gKiBAcGFyYW0ge0FycmF5fSBwYXJhbXMgICAgICAtIFBhcmFtcyB0byBzZW5kIGluIHRoZSBjYWxsLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBmdW5jdGlvbihlcnJvciwgdmFsdWUpIHsgLi4uIH1cbiAqICAgLSB7T2JqZWN0fG51bGx9IGVycm9yICAgIC0gQW55IGVycm9ycyB3aGVuIG1ha2luZyB0aGUgY2FsbCwgb3RoZXJ3aXNlIG51bGwuXG4gKiAgIC0ge21peGVkfSB2YWx1ZSAgICAgICAgICAtIFRoZSB2YWx1ZSByZXR1cm5lZCBpbiB0aGUgbWV0aG9kIHJlc3BvbnNlLlxuICovXG5DbGllbnQucHJvdG90eXBlLm1ldGhvZENhbGwgPSBmdW5jdGlvbiBtZXRob2RDYWxsKG1ldGhvZCwgcGFyYW1zLCBjYWxsYmFjaykge1xuICB2YXIgb3B0aW9ucyAgID0gdGhpcy5vcHRpb25zXG4gIHZhciB4bWwgICAgICAgPSBTZXJpYWxpemVyLnNlcmlhbGl6ZU1ldGhvZENhbGwobWV0aG9kLCBwYXJhbXMsIG9wdGlvbnMuZW5jb2RpbmcpXG4gIHZhciB0cmFuc3BvcnQgPSB0aGlzLmlzU2VjdXJlID8gaHR0cHMgOiBodHRwXG5cbiAgb3B0aW9ucy5oZWFkZXJzWydDb250ZW50LUxlbmd0aCddID0gQnVmZmVyLmJ5dGVMZW5ndGgoeG1sLCAndXRmOCcpXG4gIHRoaXMuaGVhZGVyc1Byb2Nlc3NvcnMuY29tcG9zZVJlcXVlc3Qob3B0aW9ucy5oZWFkZXJzKVxuICB2YXIgcmVxdWVzdCA9IHRyYW5zcG9ydC5yZXF1ZXN0KG9wdGlvbnMsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cbiAgICB2YXIgYm9keSA9IFtdXG4gICAgcmVzcG9uc2Uub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHsgYm9keS5wdXNoKGNodW5rKSB9KVxuXG4gICAgZnVuY3Rpb24gX19lbnJpY2hFcnJvciAoZXJyKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXJyLCAncmVxJywgeyB2YWx1ZTogcmVxdWVzdCB9KVxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVyciwgJ3JlcycsIHsgdmFsdWU6IHJlc3BvbnNlIH0pXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXJyLCAnYm9keScsIHsgdmFsdWU6IGJvZHkuam9pbignJykgfSlcbiAgICAgIHJldHVybiBlcnJcbiAgICB9XG5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA9PSA0MDQpIHtcbiAgICAgIGNhbGxiYWNrKF9fZW5yaWNoRXJyb3IobmV3IEVycm9yKCdOb3QgRm91bmQnKSkpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5oZWFkZXJzUHJvY2Vzc29ycy5wYXJzZVJlc3BvbnNlKHJlc3BvbnNlLmhlYWRlcnMpXG5cbiAgICAgIHZhciBkZXNlcmlhbGl6ZXIgPSBuZXcgRGVzZXJpYWxpemVyKG9wdGlvbnMucmVzcG9uc2VFbmNvZGluZylcblxuICAgICAgZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplTWV0aG9kUmVzcG9uc2UocmVzcG9uc2UsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBlcnIgPSBfX2VucmljaEVycm9yKGVycilcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhlcnIsIHJlc3VsdClcbiAgICAgIH0pXG4gICAgfVxuICB9LmJpbmQodGhpcykpXG5cbiAgcmVxdWVzdC5vbignZXJyb3InLCBjYWxsYmFjaylcbiAgcmVxdWVzdC53cml0ZSh4bWwsICd1dGY4JylcbiAgcmVxdWVzdC5lbmQoKVxufVxuXG4vKipcbiAqIEdldHMgdGhlIGNvb2tpZSB2YWx1ZSBieSBpdHMgbmFtZS4gVGhlIGxhdGVzdCB2YWx1ZSByZWNlaXZlZCBmcm9tIHNlcnZyIHdpdGggJ1NldC1Db29raWUnIGhlYWRlciBpcyByZXR1cm5lZFxuICogTm90ZSB0aGF0IG1ldGhvZCB0aHJvd3MgYW4gZXJyb3IgaWYgY29va2llcyB3ZXJlIG5vdCB0dXJuZWQgb24gZHVyaW5nIGNsaWVudCBjcmVhdGlvbiAoc2VlIGNvbW1lbnRzIGZvciBjb25zdHJ1Y3RvcilcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBjb29raWUgdG8gYmUgb2J0YWluZWQgb3IgY2hhbmdlZFxuICogQHJldHVybiB7Kn0gY29va2llJ3MgdmFsdWVcbiAqL1xuQ2xpZW50LnByb3RvdHlwZS5nZXRDb29raWUgPSBmdW5jdGlvbiBnZXRDb29raWUobmFtZSkge1xuICBpZiAoIXRoaXMuY29va2llcykge1xuICAgIHRocm93ICdDb29raWVzIHN1cHBvcnQgaXMgbm90IHR1cm5lZCBvbiBmb3IgdGhpcyBjbGllbnQgaW5zdGFuY2UnO1xuICB9XG4gIHJldHVybiB0aGlzLmNvb2tpZXMuZ2V0KG5hbWUpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGNvb2tpZSB2YWx1ZSBieSBpdHMgbmFtZS4gVGhlIGNvb2tpZSB3aWxsIGJlIHNlbnQgdG8gdGhlIHNlcnZlciBkdXJpbmcgdGhlIG5leHQgeG1sLXJwYyBjYWxsLlxuICogVGhlIG1ldGhvZCByZXR1cm5zIGNsaWVudCBpdHNlbGYsIHNvIGl0IGlzIHBvc3NpYmxlIHRvIGNoYWluIGNhbGxzIGxpa2UgdGhlIGZvbGxvd2luZzpcbiAqXG4gKiA8Y29kZT5cbiAqICAgY2xpZW50LmNvb2tpZSgnbG9naW4nLCAnYWxleCcpLmNvb2tpZSgncGFzc3dvcmQnLCAnMTIzJyk7XG4gKiA8L2NvZGU+XG4gKlxuICogTm90ZSB0aGF0IG1ldGhvZCB0aHJvd3MgYW4gZXJyb3IgaWYgY29va2llcyB3ZXJlIG5vdCB0dXJuZWQgb24gZHVyaW5nIGNsaWVudCBjcmVhdGlvbiAoc2VlIGNvbW1lbnRzIGZvciBjb25zdHJ1Y3RvcilcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBjb29raWUgdG8gYmUgY2hhbmdlZFxuICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIHZhbHVlIHRvIGJlIHNldC5cbiAqIEByZXR1cm4geyp9IGNsaWVudCBvYmplY3QgaXRzZWxmXG4gKi9cbkNsaWVudC5wcm90b3R5cGUuc2V0Q29va2llID0gZnVuY3Rpb24gc2V0Q29va2llKG5hbWUsIHZhbHVlKSB7XG4gIGlmICghdGhpcy5jb29raWVzKSB7XG4gICAgdGhyb3cgJ0Nvb2tpZXMgc3VwcG9ydCBpcyBub3QgdHVybmVkIG9uIGZvciB0aGlzIGNsaWVudCBpbnN0YW5jZSc7XG4gIH1cbiAgdGhpcy5jb29raWVzLnNldChuYW1lLCB2YWx1ZSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENsaWVudFxuXG4iLCAidmFyIGh0dHAgICAgICAgICAgICAgPSByZXF1aXJlKCdodHRwJylcbiAgLCBodHRwcyAgICAgICAgICAgID0gcmVxdWlyZSgnaHR0cHMnKVxuICAsIHVybCAgICAgICAgICAgICAgPSByZXF1aXJlKCd1cmwnKVxuICAsIEV2ZW50RW1pdHRlciAgICAgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbiAgLCBTZXJpYWxpemVyICAgICAgID0gcmVxdWlyZSgnLi9zZXJpYWxpemVyJylcbiAgLCBEZXNlcmlhbGl6ZXIgICAgID0gcmVxdWlyZSgnLi9kZXNlcmlhbGl6ZXInKVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgU2VydmVyIG9iamVjdC4gQWxzbyBjcmVhdGVzIGFuIEhUVFAgc2VydmVyIHRvIHN0YXJ0IGxpc3RlbmluZ1xuICogZm9yIFhNTC1SUEMgbWV0aG9kIGNhbGxzLiBXaWxsIGVtaXQgYW4gZXZlbnQgd2l0aCB0aGUgWE1MLVJQQyBjYWxsJ3MgbWV0aG9kXG4gKiBuYW1lIHdoZW4gcmVjZWl2aW5nIGEgbWV0aG9kIGNhbGwuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IG9wdGlvbnMgLSBUaGUgSFRUUCBzZXJ2ZXIgb3B0aW9ucy4gRWl0aGVyIGEgVVJJIHN0cmluZ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUuZy4gJ2h0dHA6Ly9sb2NhbGhvc3Q6OTA5MCcpIG9yIGFuIG9iamVjdFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aCBmaWVsZHM6XG4gKiAgIC0ge1N0cmluZ30gaG9zdCAgICAgICAgICAgICAgLSAob3B0aW9uYWwpXG4gKiAgIC0ge051bWJlcn0gcG9ydFxuICogQHBhcmFtIHtCb29sZWFufSBpc1NlY3VyZSAgICAgIC0gVHJ1ZSBpZiB1c2luZyBodHRwcyBmb3IgbWFraW5nIGNhbGxzLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJ3aXNlIGZhbHNlLlxuICogQHJldHVybiB7U2VydmVyfVxuICovXG5mdW5jdGlvbiBTZXJ2ZXIob3B0aW9ucywgaXNTZWN1cmUsIG9uTGlzdGVuaW5nKSB7XG5cbiAgaWYgKGZhbHNlID09PSAodGhpcyBpbnN0YW5jZW9mIFNlcnZlcikpIHtcbiAgICByZXR1cm4gbmV3IFNlcnZlcihvcHRpb25zLCBpc1NlY3VyZSlcbiAgfVxuICBvbkxpc3RlbmluZyA9IG9uTGlzdGVuaW5nIHx8IGZ1bmN0aW9uKCkge31cbiAgdmFyIHRoYXQgPSB0aGlzXG5cbiAgLy8gSWYgYSBzdHJpbmcgVVJJIGlzIHBhc3NlZCBpbiwgY29udmVydHMgdG8gVVJJIGZpZWxkc1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgb3B0aW9ucyA9IHVybC5wYXJzZShvcHRpb25zKVxuICAgIG9wdGlvbnMuaG9zdCA9IG9wdGlvbnMuaG9zdG5hbWVcbiAgICBvcHRpb25zLnBhdGggPSBvcHRpb25zLnBhdGhuYW1lXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNZXRob2RDYWxsKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgdmFyIGRlc2VyaWFsaXplciA9IG5ldyBEZXNlcmlhbGl6ZXIoKVxuICAgIGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZU1ldGhvZENhbGwocmVxdWVzdCwgZnVuY3Rpb24oZXJyb3IsIG1ldGhvZE5hbWUsIHBhcmFtcykge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGF0Ll9ldmVudHMsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgIHRoYXQuZW1pdChtZXRob2ROYW1lLCBudWxsLCBwYXJhbXMsIGZ1bmN0aW9uKGVycm9yLCB2YWx1ZSkge1xuICAgICAgICAgIHZhciB4bWwgPSBudWxsXG4gICAgICAgICAgaWYgKGVycm9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICB4bWwgPSBTZXJpYWxpemVyLnNlcmlhbGl6ZUZhdWx0KGVycm9yKVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHhtbCA9IFNlcmlhbGl6ZXIuc2VyaWFsaXplTWV0aG9kUmVzcG9uc2UodmFsdWUpXG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3BvbnNlLndyaXRlSGVhZCgyMDAsIHsnQ29udGVudC1UeXBlJzogJ3RleHQveG1sJ30pXG4gICAgICAgICAgcmVzcG9uc2UuZW5kKHhtbClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGF0LmVtaXQoJ05vdEZvdW5kJywgbWV0aG9kTmFtZSwgcGFyYW1zKVxuICAgICAgICByZXNwb25zZS53cml0ZUhlYWQoNDA0KVxuICAgICAgICByZXNwb25zZS5lbmQoKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICB0aGlzLmh0dHBTZXJ2ZXIgPSBpc1NlY3VyZSA/IGh0dHBzLmNyZWF0ZVNlcnZlcihvcHRpb25zLCBoYW5kbGVNZXRob2RDYWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaHR0cC5jcmVhdGVTZXJ2ZXIoaGFuZGxlTWV0aG9kQ2FsbClcblxuICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaHR0cFNlcnZlci5saXN0ZW4ob3B0aW9ucy5wb3J0LCBvcHRpb25zLmhvc3QsIG9uTGlzdGVuaW5nKVxuICB9LmJpbmQodGhpcykpXG4gIHRoaXMuY2xvc2UgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIHRoaXMuaHR0cFNlcnZlci5vbmNlKCdjbG9zZScsIGNhbGxiYWNrKVxuICAgIHRoaXMuaHR0cFNlcnZlci5jbG9zZSgpXG4gIH0uYmluZCh0aGlzKVxufVxuXG4vLyBJbmhlcml0IGZyb20gRXZlbnRFbWl0dGVyIHRvIGVtaXQgYW5kIGxpc3RlblxuU2VydmVyLnByb3RvdHlwZS5fX3Byb3RvX18gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlXG5cbm1vZHVsZS5leHBvcnRzID0gU2VydmVyXG5cbiIsICJ2YXIgQ2xpZW50ID0gcmVxdWlyZSgnLi9jbGllbnQnKVxuICAsIFNlcnZlciA9IHJlcXVpcmUoJy4vc2VydmVyJylcbiAgLCBDdXN0b21UeXBlID0gcmVxdWlyZSgnLi9jdXN0b210eXBlJylcbiAgLCBkYXRlRm9ybWF0dGVyID0gcmVxdWlyZSgnLi9kYXRlX2Zvcm1hdHRlcicpXG5cbnZhciB4bWxycGMgPSBleHBvcnRzXG5cbi8qKlxuICogQ3JlYXRlcyBhbiBYTUwtUlBDIGNsaWVudC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIHNlcnZlciBvcHRpb25zIHRvIG1ha2UgdGhlIEhUVFAgcmVxdWVzdCB0b1xuICogICAtIHtTdHJpbmd9IGhvc3RcbiAqICAgLSB7TnVtYmVyfSBwb3J0XG4gKiAgIC0ge1N0cmluZ30gdXJsXG4gKiAgIC0ge0Jvb2xlYW59IGNvb2tpZXNcbiAqIEByZXR1cm4ge0NsaWVudH1cbiAqIEBzZWUgQ2xpZW50XG4gKi9cbnhtbHJwYy5jcmVhdGVDbGllbnQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgQ2xpZW50KG9wdGlvbnMsIGZhbHNlKVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gWE1MLVJQQyBjbGllbnQgdGhhdCBtYWtlcyBjYWxscyB1c2luZyBIVFRQUy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIHNlcnZlciBvcHRpb25zIHRvIG1ha2UgdGhlIEhUVFAgcmVxdWVzdCB0b1xuICogICAtIHtTdHJpbmd9IGhvc3RcbiAqICAgLSB7TnVtYmVyfSBwb3J0XG4gKiAgIC0ge1N0cmluZ30gdXJsXG4gKiAgIC0ge0Jvb2xlYW59IGNvb2tpZXNcbiAqIEByZXR1cm4ge0NsaWVudH1cbiAqIEBzZWUgQ2xpZW50XG4gKi9cbnhtbHJwYy5jcmVhdGVTZWN1cmVDbGllbnQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgQ2xpZW50KG9wdGlvbnMsIHRydWUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBYTUwtUlBDIHNlcnZlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH1vcHRpb25zIC0gdGhlIEhUVFAgc2VydmVyIG9wdGlvbnNcbiAqICAgLSB7U3RyaW5nfSBob3N0XG4gKiAgIC0ge051bWJlcn0gcG9ydFxuICogQHJldHVybiB7U2VydmVyfVxuICogQHNlZSBTZXJ2ZXJcbiAqL1xueG1scnBjLmNyZWF0ZVNlcnZlciA9IGZ1bmN0aW9uKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBuZXcgU2VydmVyKG9wdGlvbnMsIGZhbHNlLCBjYWxsYmFjaylcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIFhNTC1SUEMgc2VydmVyIHRoYXQgdXNlcyBIVFRQUy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH1vcHRpb25zIC0gdGhlIEhUVFAgc2VydmVyIG9wdGlvbnNcbiAqICAgLSB7U3RyaW5nfSBob3N0XG4gKiAgIC0ge051bWJlcn0gcG9ydFxuICogQHJldHVybiB7U2VydmVyfVxuICogQHNlZSBTZXJ2ZXJcbiAqL1xueG1scnBjLmNyZWF0ZVNlY3VyZVNlcnZlciA9IGZ1bmN0aW9uKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBuZXcgU2VydmVyKG9wdGlvbnMsIHRydWUsIGNhbGxiYWNrKVxufVxuXG54bWxycGMuQ3VzdG9tVHlwZSA9IEN1c3RvbVR5cGVcbnhtbHJwYy5kYXRlRm9ybWF0dGVyID0gZGF0ZUZvcm1hdHRlclxuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVdGlsaXR5IG1ldGhvZCB0byBwZXJtaXQgQXJyYXkjcmVkdWNlLWxpa2Ugb3BlcmF0aW9ucyBvdmVyIG9iamVjdHNcbiAqXG4gKiBUaGlzIGlzIGxpa2VseSB0byBiZSBzbGlnaHRseSBtb3JlIGluZWZmaWNpZW50IHRoYW4gdXNpbmcgbG9kYXNoLnJlZHVjZSxcbiAqIGJ1dCByZXN1bHRzIGluIH41MGtiIGxlc3Mgc2l6ZSBpbiB0aGUgcmVzdWx0aW5nIGJ1bmRsZWQgY29kZSBiZWZvcmVcbiAqIG1pbmlmaWNhdGlvbiBhbmQgfjEya2Igb2Ygc2F2aW5ncyB3aXRoIG1pbmlmaWNhdGlvbi5cbiAqXG4gKiBVbmxpa2UgbG9kYXNoLnJlZHVjZSgpLCB0aGUgaXRlcmF0b3IgYW5kIGluaXRpYWwgdmFsdWUgcHJvcGVydGllcyBhcmUgTk9UXG4gKiBvcHRpb25hbDogdGhpcyBpcyBkb25lIHRvIHNpbXBsaWZ5IHRoZSBjb2RlLCB0aGlzIG1vZHVsZSBpcyBub3QgaW50ZW5kZWQgdG9cbiAqIGJlIGEgZnVsbCByZXBsYWNlbWVudCBmb3IgbG9kYXNoLnJlZHVjZSBhbmQgaW5zdGVhZCBwcmlvcml0aXplcyBzaW1wbGljaXR5XG4gKiBmb3IgYSBzcGVjaWZpYyBjb21tb24gY2FzZS5cbiAqXG4gKiBAbW9kdWxlIHV0aWwvb2JqZWN0LXJlZHVjZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogQW4gb2JqZWN0IG9mIGtleS12YWx1ZSBwYWlyc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3IgQSBmdW5jdGlvbiB0byB1c2UgdG8gcmVkdWNlIHRoZSBvYmplY3RcbiAqIEBwYXJhbSB7Kn0gaW5pdGlhbFN0YXRlIFRoZSBpbml0aWFsIHZhbHVlIHRvIHBhc3MgdG8gdGhlIHJlZHVjZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIFRoZSByZXN1bHQgb2YgdGhlIHJlZHVjdGlvbiBvcGVyYXRpb25cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAoIG9iaiwgaXRlcmF0b3IsIGluaXRpYWxTdGF0ZSApID0+IE9iamVjdFxuXHQua2V5cyggb2JqIClcblx0LnJlZHVjZShcblx0XHQoIG1lbW8sIGtleSApID0+IGl0ZXJhdG9yKCBtZW1vLCBvYmpbIGtleSBdLCBrZXkgKSxcblx0XHRpbml0aWFsU3RhdGVcblx0KTtcbiIsICIvKipcbiAqIEBtb2R1bGUgdXRpbC9uYW1lZC1ncm91cC1yZWdleHBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBwYXR0ZXJuID0gW1xuXHQvLyBDYXB0dXJlIGdyb3VwIHN0YXJ0XG5cdCdcXFxcKFxcXFw/Jyxcblx0Ly8gQ2FwdHVyZSBncm91cCBuYW1lIGJlZ2lucyBlaXRoZXIgYFA8YCwgYDxgIG9yIGAnYFxuXHQnKD86UDx8PHxcXCcpJyxcblx0Ly8gRXZlcnl0aGluZyB1cCB0byB0aGUgbmV4dCBgPmBgIG9yIGAnYCAoZGVwZW5kaW5nKSB3aWxsIGJlIHRoZSBjYXB0dXJlIGdyb3VwIG5hbWVcblx0JyhbXj5cXCddKyknLFxuXHQvLyBDYXB0dXJlIGdyb3VwIGVuZFxuXHQnWz5cXCddJyxcblx0Ly8gR2V0IGV2ZXJ5dGhpbmcgdXAgdG8gdGhlIGVuZCBvZiB0aGUgY2FwdHVyZSBncm91cDogdGhpcyBpcyB0aGUgUmVnRXhwIHVzZWRcblx0Ly8gd2hlbiBtYXRjaGluZyBVUkxzIHRvIHRoaXMgcm91dGUsIHdoaWNoIHdlIGNhbiB1c2UgZm9yIHZhbGlkYXRpb24gcHVycG9zZXMuXG5cdCcoW15cXFxcKV0qKFxcXFwpKT9cXFxcPz8pJyxcblx0Ly8gQ2FwdHVyZSBncm91cCBlbmRcblx0J1xcXFwpJyxcbl0uam9pbiggJycgKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdC8qKlxuXHQgKiBTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGV4cG9ydGVkIFJlZ3VsYXIgRXhwcmVzc2lvbjsgd2UgY29uc3RydWN0IHRoaXNcblx0ICogUmVnRXhwIGZyb20gYSBzdHJpbmcgdG8gZW5hYmxlIG1vcmUgZGV0YWlsZWQgYW5ub3RhdGlvbiBhbmQgcGVybXV0YXRpb25cblx0ICpcblx0ICogQHByb3Age1N0cmluZ30gcGF0dGVyblxuXHQgKi9cblx0cGF0dGVybjogcGF0dGVybixcblxuXHQvKipcblx0ICogUmVndWxhciBFeHByZXNzaW9uIHRvIGlkZW50aWZ5IGEgY2FwdHVyZSBncm91cCBpbiBQQ1JFIGZvcm1hdHNcblx0ICogYCg/PG5hbWU+cmVnZXgpYCwgYCg/J25hbWUncmVnZXgpYCBvciBgKD9QPG5hbWU+cmVnZXgpYCAoc2VlXG5cdCAqIHJlZ3VsYXItZXhwcmVzc2lvbnMuaW5mby9yZWZleHQuaHRtbClcblx0ICpcblx0ICogQHByb3Age1JlZ0V4cH0gbmFtZWRHcm91cFJFXG5cdCAqL1xuXHRuYW1lZEdyb3VwUkU6IG5ldyBSZWdFeHAoIHBhdHRlcm4gKSxcbn07XG4iLCAiLyoqXG4gKiBAbW9kdWxlIHV0aWwvc3BsaXQtcGF0aFxuICovXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IG5hbWVkR3JvdXBQYXR0ZXJuID0gcmVxdWlyZSggJy4vbmFtZWQtZ3JvdXAtcmVnZXhwJyApLnBhdHRlcm47XG5cbi8vIENvbnZlcnQgY2FwdHVyZSBncm91cHMgdG8gbm9uLW1hdGNoaW5nIGdyb3VwcywgYmVjYXVzZSBhbGwgY2FwdHVyZSBncm91cHNcbi8vIGFyZSBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0aW5nIGFycmF5IHdoZW4gYW4gUkUgaXMgcGFzc2VkIHRvIGAuc3BsaXQoKWBcbi8vIChXZSByZS11c2UgdGhlIGV4aXN0aW5nIG5hbWVkIGdyb3VwJ3MgY2FwdHVyZSBwYXR0ZXJuIGluc3RlYWQgb2YgY3JlYXRpbmdcbi8vIGEgbmV3IFJlZ0V4cCBqdXN0IGZvciB0aGlzIHB1cnBvc2UpXG5jb25zdCBwYXR0ZXJuV2l0aG91dFN1Ymdyb3VwcyA9IG5hbWVkR3JvdXBQYXR0ZXJuXG5cdC5yZXBsYWNlKCAvKFteXFxcXF0pXFwoKFteP10pL2csICckMSg/OiQyJyApO1xuXG4vLyBNYWtlIGEgbmV3IFJlZ0V4cCB1c2luZyB0aGUgc2FtZSBwYXR0ZXJuIGFzIG9uZSBzaW5nbGUgdW5pZmllZCBjYXB0dXJlIGdyb3VwLFxuLy8gc28gdGhlIG1hdGNoIGFzIGEgd2hvbGUgd2lsbCBiZSBwcmVzZXJ2ZWQgYWZ0ZXIgYC5zcGxpdCgpYC4gUGVybWl0IG5vbi1zbGFzaFxuLy8gY2hhcmFjdGVycyBiZWZvcmUgb3IgYWZ0ZXIgdGhlIG5hbWVkIGNhcHR1cmUgZ3JvdXAsIGFsdGhvdWdoIHRob3NlIGNvbXBvbmVudHNcbi8vIHdpbGwgbm90IHlpZWxkIGZ1bmN0aW9uaW5nIHNldHRlcnMuXG5jb25zdCBuYW1lZEdyb3VwUkUgPSBuZXcgUmVnRXhwKCAnKFteL10qJyArIHBhdHRlcm5XaXRob3V0U3ViZ3JvdXBzICsgJ1teL10qKScgKTtcblxuLyoqXG4gKiBEaXZpZGUgYSByb3V0ZSBzdHJpbmcgdXAgaW50byBoaWVyYXJjaGljYWwgY29tcG9uZW50cyBieSBicmVha2luZyBpdCBhcGFydFxuICogb24gZm9yd2FyZCBzbGFzaCBjaGFyYWN0ZXJzLlxuICpcbiAqIFRoZXJlIGFyZSBwbHVnaW5zIChpbmNsdWRpbmcgSmV0cGFjaykgdGhhdCByZWdpc3RlciByb3V0ZXMgd2l0aCByZWdleCBjYXB0dXJlXG4gKiBncm91cHMgd2hpY2ggYWxzbyBjb250YWluIGZvcndhcmQgc2xhc2hlcywgc28gdGhvc2UgZ3JvdXBzIGhhdmUgdG8gYmUgcHVsbGVkXG4gKiBvdXQgZmlyc3QgYmVmb3JlIHRoZSByZW1haW5kZXIgb2YgdGhlIHN0cmluZyBjYW4gYmUgLnNwbGl0KCkgYXMgbm9ybWFsLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoU3RyIEEgcm91dGUgcGF0aCBzdHJpbmcgdG8gYnJlYWsgaW50byBjb21wb25lbnRzXG4gKiBAcmV0dXJucyB7U3RyaW5nW119IEFuIGFycmF5IG9mIHJvdXRlIGNvbXBvbmVudCBzdHJpbmdzXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gcGF0aFN0ciA9PiBwYXRoU3RyXG5cdC8vIERpdmlkZSBhIHN0cmluZyBsaWtlIFwiL3NvbWUvcGF0aC8oP1A8d2l0aF9uYW1lZF9ncm91cHM+KS9ldGNcIiBpbnRvIGFuXG5cdC8vIGFycmF5IGBbIFwiL3NvbWUvcGF0aC9cIiwgXCIoP1A8d2l0aF9uYW1lZF9ncm91cHM+KVwiLCBcIi9ldGNcIiBdYC5cblx0LnNwbGl0KCBuYW1lZEdyb3VwUkUgKVxuXHQvLyBUaGVuLCByZWR1Y2UgdGhyb3VnaCB0aGUgYXJyYXkgb2YgcGFydHMsIHNwbGl0dGluZyBhbnkgbm9uLWNhcHR1cmUtZ3JvdXBcblx0Ly8gcGFydHMgb24gZm9yd2FyZCBzbGFzaGVzIGFuZCBkaXNjYXJkaW5nIGVtcHR5IHN0cmluZ3MgdG8gY3JlYXRlIHRoZSBmaW5hbFxuXHQvLyBhcnJheSBvZiBwYXRoIGNvbXBvbmVudHMuXG5cdC5yZWR1Y2UoICggY29tcG9uZW50cywgcGFydCApID0+IHtcblx0XHRpZiAoICEgcGFydCApIHtcblx0XHRcdC8vIElnbm9yZSBlbXB0eSBzdHJpbmdzIHBhcnRzXG5cdFx0XHRyZXR1cm4gY29tcG9uZW50cztcblx0XHR9XG5cblx0XHRpZiAoIG5hbWVkR3JvdXBSRS50ZXN0KCBwYXJ0ICkgKSB7XG5cdFx0XHQvLyBJbmNsdWRlIG5hbWVkIGNhcHR1cmUgZ3JvdXBzIGFzLWlzXG5cdFx0XHRyZXR1cm4gY29tcG9uZW50cy5jb25jYXQoIHBhcnQgKTtcblx0XHR9XG5cblx0XHQvLyBTcGxpdCB0aGUgcGFydCBvbiAvIGFuZCBmaWx0ZXIgb3V0IGVtcHR5IHN0cmluZ3Ncblx0XHRyZXR1cm4gY29tcG9uZW50cy5jb25jYXQoIHBhcnQuc3BsaXQoICcvJyApLmZpbHRlciggQm9vbGVhbiApICk7XG5cdH0sIFtdICk7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEVuc3VyZSB0aGF0IGEgcHJvcGVydHkgaXMgcHJlc2VudCBpbiBhbiBvYmplY3QsIGluaXRpYWxpemluZyBpdCB0byBhIGRlZmF1bHRcbiAqIHZhbHVlIGlmIGl0IGlzIG5vdCBhbHJlYWR5IGRlZmluZWQuIE1vZGlmaWVzIHRoZSBwcm92aWRlZCBvYmplY3QgYnkgcmVmZXJlbmNlLlxuICpcbiAqIEBtb2R1bGUgdXRpbC9lbnN1cmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmogICAgICAgICAgICAgIFRoZSBvYmplY3QgaW4gd2hpY2ggdG8gZW5zdXJlIGEgcHJvcGVydHkgZXhpc3RzXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcCAgICAgICAgICAgICBUaGUgcHJvcGVydHkga2V5IHRvIGVuc3VyZVxuICogQHBhcmFtIHt9ICAgICAgIHByb3BEZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSBwcm9wZXJ0eVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gKCBvYmosIHByb3AsIHByb3BEZWZhdWx0VmFsdWUgKSA9PiB7XG5cdGlmICggb2JqICYmIG9ialsgcHJvcCBdID09PSB1bmRlZmluZWQgKSB7XG5cdFx0b2JqWyBwcm9wIF0gPSBwcm9wRGVmYXVsdFZhbHVlO1xuXHR9XG59O1xuIiwgIi8qKlxuICogQG1vZHVsZSByb3V0ZS10cmVlXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgbmFtZWRHcm91cFJFID0gcmVxdWlyZSggJy4vdXRpbC9uYW1lZC1ncm91cC1yZWdleHAnICkubmFtZWRHcm91cFJFO1xuY29uc3Qgc3BsaXRQYXRoID0gcmVxdWlyZSggJy4vdXRpbC9zcGxpdC1wYXRoJyApO1xuY29uc3QgZW5zdXJlID0gcmVxdWlyZSggJy4vdXRpbC9lbnN1cmUnICk7XG5jb25zdCBvYmplY3RSZWR1Y2UgPSByZXF1aXJlKCAnLi91dGlsL29iamVjdC1yZWR1Y2UnICk7XG5cbi8qKlxuICogTWV0aG9kIHRvIHVzZSB3aGVuIHJlZHVjaW5nIHJvdXRlIGNvbXBvbmVudHMgYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fSByb3V0ZU9iaiAgICAgQSByb3V0ZSBkZWZpbml0aW9uIG9iamVjdCAoc2V0IHZpYSAuYmluZCBwYXJ0aWFsIGFwcGxpY2F0aW9uKVxuICogQHBhcmFtIHtvYmplY3R9IHRvcExldmVsICAgICBUaGUgdG9wLWxldmVsIHJvdXRlIHRyZWUgb2JqZWN0IGZvciB0aGlzIHNldCBvZiByb3V0ZXMgKHNldFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWEgLmJpbmQgcGFydGlhbCBhcHBsaWNhdGlvbilcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYXJlbnRMZXZlbCAgVGhlIG1lbW8gb2JqZWN0LCB3aGljaCBpcyBtdXRhdGVkIGFzIHRoZSByZWR1Y2VyIGFkZHNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSBuZXcgbGV2ZWwgaGFuZGxlciBmb3IgZWFjaCBsZXZlbCBpbiB0aGUgcm91dGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnQgICAgVGhlIHN0cmluZyBkZWZpbmluZyB0aGlzIHJvdXRlIGNvbXBvbmVudFxuICogQHBhcmFtIHtudW1iZXJ9IGlkeCAgICAgICAgICBUaGUgaW5kZXggb2YgdGhpcyBjb21wb25lbnQgd2l0aGluIHRoZSBjb21wb25lbnRzIGFycmF5XG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBjb21wb25lbnRzIFRoZSBhcnJheSBvZiBhbGwgY29tcG9uZW50c1xuICogQHJldHVybnMge29iamVjdH0gVGhlIGNoaWxkIG9iamVjdCBvZiB0aGUgbGV2ZWwgYmVpbmcgcmVkdWNlZFxuICovXG5mdW5jdGlvbiByZWR1Y2VSb3V0ZUNvbXBvbmVudHMoIHJvdXRlT2JqLCB0b3BMZXZlbCwgcGFyZW50TGV2ZWwsIGNvbXBvbmVudCwgaWR4LCBjb21wb25lbnRzICkge1xuXHQvLyBDaGVjayB0byBzZWUgaWYgdGhpcyBjb21wb25lbnQgaXMgYSBkeW5hbWljIFVSTCBzZWdtZW50IChpLmUuIGRlZmluZWQgYnlcblx0Ly8gYSBuYW1lZCBjYXB0dXJlIGdyb3VwIHJlZ3VsYXIgZXhwcmVzc2lvbikuIG5hbWVkR3JvdXAgd2lsbCBiZSBgbnVsbGAgaWZcblx0Ly8gdGhlIHJlZ2V4cCBkb2VzIG5vdCBtYXRjaCwgb3IgZWxzZSBhbiBhcnJheSBkZWZpbmluZyB0aGUgUmVnRXhwIG1hdGNoLCBlLmcuXG5cdC8vIFtcblx0Ly8gICAnUDxpZD5bXFxcXGRdKyknLFxuXHQvLyAgICdpZCcsIC8vIE5hbWUgb2YgdGhlIGdyb3VwXG5cdC8vICAgJ1tcXFxcZF0rJywgLy8gcmVndWxhciBleHByZXNzaW9uIGZvciB0aGlzIFVSTCBzZWdtZW50J3MgY29udGVudHNcblx0Ly8gICBpbmRleDogMTUsXG5cdC8vICAgaW5wdXQ6ICcvd3AvdjIvcG9zdHMvKD9QPGlkPltcXFxcZF0rKSdcblx0Ly8gXVxuXHRjb25zdCBuYW1lZEdyb3VwID0gY29tcG9uZW50Lm1hdGNoKCBuYW1lZEdyb3VwUkUgKTtcblx0Ly8gUHVsbCBvdXQgcmVmZXJlbmNlcyB0byB0aGUgcmVsZXZhbnQgaW5kaWNlcyBvZiB0aGUgbWF0Y2gsIGZvciB1dGlsaXR5OlxuXHQvLyBgbnVsbGAgY2hlY2tpbmcgaXMgbmVjZXNzYXJ5IGluIGNhc2UgdGhlIGNvbXBvbmVudCBkaWQgbm90IG1hdGNoIHRoZSBSRSxcblx0Ly8gaGVuY2UgdGhlIGBuYW1lZEdyb3VwICYmYC5cblx0Y29uc3QgZ3JvdXBOYW1lID0gbmFtZWRHcm91cCAmJiBuYW1lZEdyb3VwWyAxIF07XG5cdGNvbnN0IGdyb3VwUGF0dGVybiA9IG5hbWVkR3JvdXAgJiYgbmFtZWRHcm91cFsgMiBdO1xuXG5cdC8vIFdoZW4gYnJhbmNoaW5nIGJhc2VkIG9uIGEgZHluYW1pYyBjYXB0dXJlIGdyb3VwIHdlIHVzZWQgdGhlIGdyb3VwJ3MgUkVcblx0Ly8gcGF0dGVybiBhcyB0aGUgdW5pcXVlIGlkZW50aWZpZXI6IHRoaXMgaXMgZG9uZSBiZWNhdXNlIHRoZSBzYW1lIGdyb3VwXG5cdC8vIGNvdWxkIGJlIGFzc2lnbmVkIGRpZmZlcmVudCBuYW1lcyBpbiBkaWZmZXJlbnQgZW5kcG9pbnQgaGFuZGxlcnMsIGUuZy5cblx0Ly8gXCJpZFwiIGZvciBwb3N0cy86aWQgdnMgXCJwYXJlbnRfaWRcIiBmb3IgcG9zdHMvOnBhcmVudF9pZC9yZXZpc2lvbnMuXG5cdC8vXG5cdC8vIFRoZXJlIGlzIGFuIGVkZ2UgY2FzZSB3aGVyZSBncm91cFBhdHRlcm4gd2lsbCBiZSBcIlwiIGlmIHdlIGFyZSByZWdpc3RlcmluZ1xuXHQvLyBhIGN1c3RvbSByb3V0ZSB2aWEgYC5yZWdpc3RlclJvdXRlYCB0aGF0IGRvZXMgbm90IGluY2x1ZGUgcGFyYW1ldGVyXG5cdC8vIHZhbGlkYXRpb24uIEluIHRoaXMgY2FzZSB3ZSBhc3N1bWUgdGhlIGdyb3VwTmFtZSBpcyBzdWZmaWNpZW50bHkgdW5pcXVlLFxuXHQvLyBhbmQgZmFsbCBiYWNrIHRvIGB8fCBncm91cE5hbWVgIGZvciB0aGUgbGV2ZWxLZXkgc3RyaW5nLlxuXHRjb25zdCBsZXZlbEtleSA9IG5hbWVkR3JvdXAgPyAoIGdyb3VwUGF0dGVybiB8fCBncm91cE5hbWUgKSA6IGNvbXBvbmVudDtcblxuXHQvLyBMZXZlbCBuYW1lIG9uIHRoZSBvdGhlciBoYW5kIHRha2VzIGl0cyB2YWx1ZSBmcm9tIHRoZSBncm91cCdzIG5hbWUsIGlmXG5cdC8vIGRlZmluZWQsIGFuZCBmYWxscyBiYWNrIHRvIHRoZSBjb21wb25lbnQgc3RyaW5nIHRvIGhhbmRsZSBzaXR1YXRpb25zIHdoZXJlXG5cdC8vIGBjb21wb25lbnRgIGlzIGEgY29sbGVjdGlvbiAoZS5nLiBcInJldmlzaW9uc1wiKVxuXHRjb25zdCBsZXZlbE5hbWUgPSBuYW1lZEdyb3VwID8gZ3JvdXBOYW1lIDogY29tcG9uZW50O1xuXG5cdC8vIENoZWNrIHdoZXRoZXIgd2UgaGF2ZSBhIHByZWV4aXN0aW5nIG5vZGUgYXQgdGhpcyBsZXZlbCBvZiB0aGUgdHJlZSwgYW5kXG5cdC8vIGNyZWF0ZSBhIG5ldyBsZXZlbCBvYmplY3QgaWYgbm90LiBUaGUgY29tcG9uZW50IHN0cmluZyBpcyBpbmNsdWRlZCBzbyB0aGF0XG5cdC8vIHZhbGlkYXRvcnMgY2FuIHRocm93IG1lYW5pbmdmdWwgZXJyb3JzIGFzIGFwcHJvcHJpYXRlLlxuXHRjb25zdCBjdXJyZW50TGV2ZWwgPSBwYXJlbnRMZXZlbFsgbGV2ZWxLZXkgXSB8fCB7XG5cdFx0Y29tcG9uZW50OiBjb21wb25lbnQsXG5cdFx0bmFtZWRHcm91cDogbmFtZWRHcm91cCA/IHRydWUgOiBmYWxzZSxcblx0XHRsZXZlbDogaWR4LFxuXHRcdG5hbWVzOiBbXSxcblx0fTtcblxuXHQvLyBBIGxldmVsJ3MgXCJuYW1lc1wiIGNvcnJlc3BvbmQgdG8gdGhlIGxpc3Qgb2Ygc3RyaW5ncyB3aGljaCBjb3VsZCBkZXNjcmliZVxuXHQvLyBhbiBlbmRwb2ludCdzIGNvbXBvbmVudCBzZXR0ZXIgZnVuY3Rpb25zOiBcImlkXCIsIFwicmV2aXNpb25zXCIsIGV0Yy5cblx0aWYgKCBjdXJyZW50TGV2ZWwubmFtZXMuaW5kZXhPZiggbGV2ZWxOYW1lICkgPCAwICkge1xuXHRcdGN1cnJlbnRMZXZlbC5uYW1lcy5wdXNoKCBsZXZlbE5hbWUgKTtcblx0fVxuXG5cdC8vIEEgbGV2ZWwncyB2YWxpZGF0ZSBtZXRob2QgaXMgY2FsbGVkIHRvIGNoZWNrIHdoZXRoZXIgYSB2YWx1ZSBiZWluZyBzZXRcblx0Ly8gb24gdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBwcm9wZXIgdHlwZSBmb3IgdGhlIGxvY2F0aW9uIGluIHdoaWNoIGl0XG5cdC8vIGlzIHNwZWNpZmllZC4gSWYgYSBncm91cCBwYXR0ZXJuIHdhcyBmb3VuZCwgdGhlIHZhbGlkYXRvciBjaGVja3Mgd2hldGhlclxuXHQvLyB0aGUgaW5wdXQgc3RyaW5nIGV4YWN0bHkgbWF0Y2hlcyB0aGUgZ3JvdXAgcGF0dGVybi5cblx0Y29uc3QgZ3JvdXBQYXR0ZXJuUkUgPSBncm91cFBhdHRlcm4gPT09ICcnID9cblx0XHQvLyBJZiBncm91cFBhdHRlcm4gaXMgYW4gZW1wdHkgc3RyaW5nLCBhY2NlcHQgYW55IGlucHV0IHdpdGhvdXQgdmFsaWRhdGlvblxuXHRcdC8uKi8gOlxuXHRcdC8vIE90aGVyd2lzZSwgdmFsaWRhdGUgYWdhaW5zdCB0aGUgZ3JvdXAgcGF0dGVybiBvciB0aGUgY29tcG9uZW50IHN0cmluZ1xuXHRcdG5ldyBSZWdFeHAoIGdyb3VwUGF0dGVybiA/ICdeJyArIGdyb3VwUGF0dGVybiArICckJyA6IGNvbXBvbmVudCwgJ2knICk7XG5cblx0Ly8gT25seSBvbmUgdmFsaWRhdGUgZnVuY3Rpb24gaXMgbWFpbnRhaW5lZCBmb3IgZWFjaCBub2RlLCBiZWNhdXNlIGVhY2ggbm9kZVxuXHQvLyBpcyBkZWZpbmVkIGVpdGhlciBieSBhIHN0cmluZyBsaXRlcmFsIG9yIGJ5IGEgc3BlY2lmaWMgcmVndWxhciBleHByZXNzaW9uLlxuXHRjdXJyZW50TGV2ZWwudmFsaWRhdGUgPSBpbnB1dCA9PiBncm91cFBhdHRlcm5SRS50ZXN0KCBpbnB1dCApO1xuXG5cdC8vIENoZWNrIHRvIHNlZSB3aGV0aGVyIHRvIGV4cGVjdCBtb3JlIG5vZGVzIHdpdGhpbiB0aGlzIGJyYW5jaCBvZiB0aGUgdHJlZSxcblx0aWYgKCBjb21wb25lbnRzWyBpZHggKyAxIF0gKSB7XG5cdFx0Ly8gYW5kIGNyZWF0ZSBhIFwiY2hpbGRyZW5cIiBvYmplY3QgdG8gaG9sZCB0aG9zZSBub2RlcyBpZiBuZWNlc3Nhcnlcblx0XHRjdXJyZW50TGV2ZWwuY2hpbGRyZW4gPSBjdXJyZW50TGV2ZWwuY2hpbGRyZW4gfHwge307XG5cdH0gZWxzZSB7XG5cdFx0Ly8gQXQgbGVhZiBub2Rlcywgc3BlY2lmeSB0aGUgbWV0aG9kIGNhcGFiaWxpdGllcyBvZiB0aGlzIGVuZHBvaW50XG5cdFx0Y3VycmVudExldmVsLm1ldGhvZHMgPSAoIHJvdXRlT2JqLm1ldGhvZHMgfHwgW10gKS5tYXAoIHN0ciA9PiBzdHIudG9Mb3dlckNhc2UoKSApO1xuXG5cdFx0Ly8gRW5zdXJlIEhFQUQgaXMgaW5jbHVkZWQgd2hlbmV2ZXIgR0VUIGlzIHN1cHBvcnRlZDogdGhlIEFQSSBhdXRvbWF0aWNhbGx5XG5cdFx0Ly8gYWRkcyBzdXBwb3J0IGZvciBIRUFEIGlmIHlvdSBoYXZlIEdFVFxuXHRcdGlmICggY3VycmVudExldmVsLm1ldGhvZHMuaW5kZXhPZiggJ2dldCcgKSA+IC0xICYmIGN1cnJlbnRMZXZlbC5tZXRob2RzLmluZGV4T2YoICdoZWFkJyApID09PSAtMSApIHtcblx0XHRcdGN1cnJlbnRMZXZlbC5tZXRob2RzLnB1c2goICdoZWFkJyApO1xuXHRcdH1cblxuXHRcdC8vIEF0IGxlYWYgbm9kZXMgYWxzbyBmbGFnIChhdCB0aGUgdG9wIGxldmVsKSB3aGF0IGFyZ3VtZW50cyBhcmVcblx0XHQvLyBhdmFpbGFibGUgdG8gR0VUIHJlcXVlc3RzLCBzbyB0aGF0IHdlIG1heSBhdXRvbWF0aWNhbGx5IGFwcGx5IHRoZVxuXHRcdC8vIGFwcHJvcHJpYXRlIHBhcmFtZXRlciBtaXhpbnNcblx0XHRpZiAoIHJvdXRlT2JqLmVuZHBvaW50cyApIHtcblx0XHRcdHRvcExldmVsLl9nZXRBcmdzID0gdG9wTGV2ZWwuX2dldEFyZ3MgfHwge307XG5cdFx0XHRyb3V0ZU9iai5lbmRwb2ludHMuZm9yRWFjaCggKCBlbmRwb2ludCApID0+IHtcblx0XHRcdFx0Ly8gYGVuZHBvaW50Lm1ldGhvZHNgIHdpbGwgYmUgYW4gYXJyYXkgb2YgbWV0aG9kcyBsaWtlIGBbICdHRVQnIF1gOiB3ZVxuXHRcdFx0XHQvLyBvbmx5IGNhcmUgYWJvdXQgR0VUIGZvciB0aGlzIGV4ZXJjaXNlLiBWYWxpZGF0aW5nIFBPU1QgYW5kIFBVVCBhcmdzXG5cdFx0XHRcdC8vIGNvdWxkIGJlIHVzZWZ1bCBidXQgaXMgY3VycmVudGx5IGRlZW1lZCB0byBiZSBvdXQtb2Ytc2NvcGUuXG5cdFx0XHRcdGVuZHBvaW50Lm1ldGhvZHMuZm9yRWFjaCggKCBtZXRob2QgKSA9PiB7XG5cdFx0XHRcdFx0aWYgKCBtZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gJ2dldCcgKSB7XG5cdFx0XHRcdFx0XHRPYmplY3Qua2V5cyggZW5kcG9pbnQuYXJncyApLmZvckVhY2goICggYXJnS2V5ICkgPT4ge1xuXHRcdFx0XHRcdFx0XHQvLyBSZWZlcmVuY2UgcGFyYW0gZGVmaW5pdGlvbiBvYmplY3RzIGluIHRoZSB0b3AgX2dldEFyZ3MgZGljdGlvbmFyeVxuXHRcdFx0XHRcdFx0XHR0b3BMZXZlbC5fZ2V0QXJnc1sgYXJnS2V5IF0gPSBlbmRwb2ludC5hcmdzWyBhcmdLZXkgXTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIGNoaWxkIG5vZGUgb2JqZWN0IGFzIHRoZSBuZXcgXCJsZXZlbFwiXG5cdHBhcmVudExldmVsWyBsZXZlbEtleSBdID0gY3VycmVudExldmVsO1xuXHRyZXR1cm4gY3VycmVudExldmVsLmNoaWxkcmVuO1xufVxuXG4vKipcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtvYmplY3R9ICAgbmFtZXNwYWNlcyBUaGUgbWVtbyBvYmplY3QgdGhhdCBiZWNvbWVzIGEgZGljdGlvbmFyeSBtYXBwaW5nIEFQSVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VzIHRvIGFuIG9iamVjdCBvZiB0aGUgbmFtZXNwYWNlJ3Mgcm91dGVzXG4gKiBAcGFyYW0ge29iamVjdH0gICByb3V0ZU9iaiAgIEEgcm91dGUgZGVmaW5pdGlvbiBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSAgIHJvdXRlICAgICAgVGhlIHN0cmluZyBrZXkgb2YgdGhlIGByb3V0ZU9iamAgcm91dGUgb2JqZWN0XG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUaGUgbmFtZXNwYWNlcyBkaWN0aW9uYXJ5IG1lbW8gb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIHJlZHVjZVJvdXRlVHJlZSggbmFtZXNwYWNlcywgcm91dGVPYmosIHJvdXRlICkge1xuXHRjb25zdCBuc0ZvclJvdXRlID0gcm91dGVPYmoubmFtZXNwYWNlO1xuXG5cdGNvbnN0IHJvdXRlU3RyaW5nID0gcm91dGVcblx0XHQvLyBTdHJpcCB0aGUgbmFtZXNwYWNlIGZyb20gdGhlIHJvdXRlIHN0cmluZyAoYWxsIHJvdXRlcyBzaG91bGQgaGF2ZSB0aGVcblx0XHQvLyBmb3JtYXQgYC9uYW1lc3BhY2Uvb3RoZXIvc3R1ZmZgKSBAVE9ETzogVmFsaWRhdGUgdGhpcyBhc3N1bXB0aW9uXG5cdFx0LnJlcGxhY2UoICcvJyArIG5zRm9yUm91dGUgKyAnLycsICcnIClcblx0XHQvLyBBbHNvIHN0cmlwIGFueSB0cmFpbGluZyBcIi8/XCI6IHRoZSBzbGFzaCBpcyBhbHJlYWR5IG9wdGlvbmFsIGFuZCBhIHNpbmdsZVxuXHRcdC8vIHF1ZXN0aW9uIG1hcmsgd291bGQgYnJlYWsgdGhlIHJlZ2V4IHBhcnNlclxuXHRcdC5yZXBsYWNlKCAvXFwvXFw/JC8sICcnICk7XG5cblx0Ly8gU3BsaXQgdGhlIHJvdXRlcyB1cCBpbnRvIGhpZXJhcmNoaWNhbCByb3V0ZSBjb21wb25lbnRzXG5cdGNvbnN0IHJvdXRlQ29tcG9uZW50cyA9IHNwbGl0UGF0aCggcm91dGVTdHJpbmcgKTtcblxuXHQvLyBEbyBub3QgbWFrZSBhIG5hbWVzcGFjZSBncm91cCBmb3IgdGhlIEFQSSByb290XG5cdC8vIERvIG5vdCBhZGQgdGhlIG5hbWVzcGFjZSByb290IHRvIGl0cyBvd24gZ3JvdXBcblx0Ly8gRG8gbm90IHRha2UgYW55IGFjdGlvbiBpZiByb3V0ZVN0cmluZyBpcyBlbXB0eVxuXHRpZiAoICEgbnNGb3JSb3V0ZSB8fCAnLycgKyBuc0ZvclJvdXRlID09PSByb3V0ZSB8fCAhIHJvdXRlU3RyaW5nICkge1xuXHRcdHJldHVybiBuYW1lc3BhY2VzO1xuXHR9XG5cblx0Ly8gRW5zdXJlIHRoYXQgdGhlIG5hbWVzcGFjZSBvYmplY3QgZm9yIHRoaXMgbmFtZXNwYWNlIGV4aXN0c1xuXHRlbnN1cmUoIG5hbWVzcGFjZXMsIG5zRm9yUm91dGUsIHt9ICk7XG5cblx0Ly8gR2V0IGEgbG9jYWwgcmVmZXJlbmNlIHRvIG5hbWVzcGFjZSBvYmplY3Rcblx0Y29uc3QgbnMgPSBuYW1lc3BhY2VzWyBuc0ZvclJvdXRlIF07XG5cblx0Ly8gVGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIHJvdXRlIHRlbGxzIHVzIHdoYXQgdHlwZSBvZiByZXNvdXJjZSB0aGlzIHJvdXRlXG5cdC8vIGlzIGZvciwgZS5nLiBcInBvc3RzXCIgb3IgXCJjb21tZW50c1wiOiB3ZSBidWlsZCBvbmUgaGFuZGxlciBwZXIgcmVzb3VyY2Vcblx0Ly8gdHlwZSwgc28gd2UgZ3JvdXAgbGlrZSByZXNvdXJjZSBwYXRocyB0b2dldGhlci5cblx0Y29uc3QgcmVzb3VyY2UgPSByb3V0ZUNvbXBvbmVudHNbMF07XG5cblx0Ly8gQFRPRE86IFRoaXMgY29kZSBhYm92ZSBjdXJyZW50bHkgcHJlY2x1ZGVzIGJhc2VsZXNzIHJvdXRlcywgZS5nLlxuXHQvLyBteXBsdWdpbi92Mi8oP1A8cmVzb3VyY2U+XFx3KykgLS0gc2hvdWxkIHRob3NlIGJlIHN1cHBvcnRlZD9cblxuXHQvLyBDcmVhdGUgYW4gYXJyYXkgdG8gcmVwcmVzZW50IHRoaXMgcmVzb3VyY2UsIGFuZCBlbnN1cmUgaXQgaXMgYXNzaWduZWRcblx0Ly8gdG8gdGhlIG5hbWVzcGFjZSBvYmplY3QuIFRoZSBhcnJheSB3aWxsIHN0cnVjdHVyZSB0aGUgXCJsZXZlbHNcIiAocGF0aFxuXHQvLyBjb21wb25lbnRzIGFuZCBzdWJyZXNvdXJjZSB0eXBlcykgb2YgdGhpcyByZXNvdXJjZSdzIGVuZHBvaW50IGhhbmRsZXIuXG5cdGVuc3VyZSggbnMsIHJlc291cmNlLCB7fSApO1xuXHRjb25zdCBsZXZlbHMgPSBuc1sgcmVzb3VyY2UgXTtcblxuXHQvLyBSZWN1cnNlIHRocm91Z2ggdGhlIHJvdXRlIGNvbXBvbmVudHMsIG11dGF0aW5nIGxldmVscyB3aXRoIGluZm9ybWF0aW9uIGFib3V0XG5cdC8vIGVhY2ggY2hpbGQgbm9kZSBlbmNvdW50ZXJlZCB3aGlsZSB3YWxraW5nIHRocm91Z2ggdGhlIHJvdXRlcyB0cmVlIGFuZCB3aGF0XG5cdC8vIGFyZ3VtZW50cyAocGFyYW1ldGVycykgYXJlIGF2YWlsYWJsZSBmb3IgR0VUIHJlcXVlc3RzIHRvIHRoaXMgZW5kcG9pbnQuXG5cdHJvdXRlQ29tcG9uZW50cy5yZWR1Y2UoXG5cdFx0cmVkdWNlUm91dGVDb21wb25lbnRzLmJpbmQoIG51bGwsIHJvdXRlT2JqLCBsZXZlbHMgKSxcblx0XHRsZXZlbHNcblx0KTtcblxuXHRyZXR1cm4gbmFtZXNwYWNlcztcbn1cblxuLyoqXG4gKiBCdWlsZCBhIHJvdXRlIHRyZWUgYnkgcmVkdWNpbmcgb3ZlciBhIHJvdXRlcyBkZWZpbml0aW9uIG9iamVjdCBmcm9tIHRoZSBBUElcbiAqIHJvb3QgZW5kcG9pbnQgcmVzcG9uc2Ugb2JqZWN0XG4gKlxuICogQG1ldGhvZCBidWlsZFxuICogQHBhcmFtIHtvYmplY3R9IHJvdXRlcyBBIGRpY3Rpb25hcnkgb2Ygcm91dGVzIGtleWVkIGJ5IHJvdXRlIHJlZ2V4IHN0cmluZ3NcbiAqIEByZXR1cm5zIHtvYmplY3R9IEEgZGljdGlvbmFyeSwga2V5ZWQgYnkgbmFtZXNwYWNlLCBvZiByZXNvdXJjZSBoYW5kbGVyXG4gKiBmYWN0b3J5IG1ldGhvZHMgZm9yIGVhY2ggbmFtZXNwYWNlJ3MgcmVzb3VyY2VzXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUm91dGVUcmVlKCByb3V0ZXMgKSB7XG5cdHJldHVybiBvYmplY3RSZWR1Y2UoIHJvdXRlcywgcmVkdWNlUm91dGVUcmVlLCB7fSApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0YnVpbGQ6IGJ1aWxkUm91dGVUcmVlLFxufTtcbiIsICIvKipcbiAqIEBtb2R1bGUgcGF0aC1wYXJ0LXNldHRlclxuICovXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogUmV0dXJuIGEgZnVuY3Rpb24gdG8gc2V0IHBhcnQgb2YgdGhlIHJlcXVlc3QgVVJMIHBhdGguXG4gKlxuICogUGF0aCBwYXJ0IHNldHRlciBtZXRob2RzIG1heSBiZSBlaXRoZXIgZHluYW1pYyAoKmkuZS4qIG1heSByZXByZXNlbnQgYVxuICogXCJuYW1lZCBncm91cFwiKSBvciBub24tZHluYW1pYyAocmVwcmVzZW50aW5nIGEgc3RhdGljIHBhcnQgb2YgdGhlIFVSTCwgd2hpY2hcbiAqIGlzIHVzdWFsbHkgYSBjb2xsZWN0aW9uIGVuZHBvaW50IG9mIHNvbWUgc29ydCkuIFdoaWNoIHR5cGUgb2YgZnVuY3Rpb24gaXNcbiAqIHJldHVybmVkIGRlcGVuZHMgb24gd2hldGhlciBhIGdpdmVuIHJvdXRlIGhhcyBvbmUgb3IgbWFueSBzdWItcmVzb3VyY2VzLlxuICpcbiAqIEBhbGlhcyBtb2R1bGU6bGliL3BhdGgtcGFydC1zZXR0ZXIuY3JlYXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSBBbiBvYmplY3QgcmVwcmVzZW50aW5nIGEgbGV2ZWwgb2YgYW4gZW5kcG9pbnQgcGF0aCBoaWVyYXJjaHlcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBwYXRoIHBhcnQgc2V0dGVyIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBhdGhQYXJ0U2V0dGVyKCBub2RlICkge1xuXHQvLyBMb2NhbCByZWZlcmVuY2VzIHRvIGBub2RlYCBwcm9wZXJ0aWVzIHVzZWQgYnkgcmV0dXJuZWQgZnVuY3Rpb25zXG5cdGNvbnN0IG5vZGVMZXZlbCA9IG5vZGUubGV2ZWw7XG5cdGNvbnN0IG5vZGVOYW1lID0gbm9kZS5uYW1lc1sgMCBdO1xuXHRjb25zdCBzdXBwb3J0ZWRNZXRob2RzID0gbm9kZS5tZXRob2RzIHx8IFtdO1xuXHRjb25zdCBkeW5hbWljQ2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuID9cblx0XHRPYmplY3Qua2V5cyggbm9kZS5jaGlsZHJlbiApXG5cdFx0XHQubWFwKCBrZXkgPT4gbm9kZS5jaGlsZHJlblsga2V5IF0gKVxuXHRcdFx0LmZpbHRlciggY2hpbGROb2RlID0+ICggY2hpbGROb2RlLm5hbWVkR3JvdXAgPT09IHRydWUgKSApIDpcblx0XHRbXTtcblx0Y29uc3QgZHluYW1pY0NoaWxkID0gZHluYW1pY0NoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJiBkeW5hbWljQ2hpbGRyZW5bIDAgXTtcblx0Y29uc3QgZHluYW1pY0NoaWxkTGV2ZWwgPSBkeW5hbWljQ2hpbGQgJiYgZHluYW1pY0NoaWxkLmxldmVsO1xuXG5cdGlmICggbm9kZS5uYW1lZEdyb3VwICkge1xuXHRcdC8qKlxuXHRcdCAqIFNldCBhIGR5bWFuaWMgKG5hbWVkLWdyb3VwKSBwYXRoIHBhcnQgb2YgYSBxdWVyeSBVUkwuXG5cdFx0ICpcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqXG5cdFx0ICogICAgIC8vIGlkKCkgaXMgYSBkeW5hbWljIHBhdGggcGFydCBzZXR0ZXI6XG5cdFx0ICogICAgIHdwLnBvc3RzKCkuaWQoIDcgKTsgLy8gR2V0IHBvc3RzLzdcblx0XHQgKlxuXHRcdCAqIEBjaGFpbmFibGVcblx0XHQgKiBAcGFyYW0gIHtTdHJpbmd8TnVtYmVyfSB2YWwgVGhlIHBhdGggcGFydCB2YWx1ZSB0byBzZXRcblx0XHQgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgaGFuZGxlciBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuXHRcdCAqL1xuXHRcdHJldHVybiBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0dGhpcy5zZXRQYXRoUGFydCggbm9kZUxldmVsLCB2YWwgKTtcblx0XHRcdGlmICggc3VwcG9ydGVkTWV0aG9kcy5sZW5ndGggKSB7XG5cdFx0XHRcdHRoaXMuX3N1cHBvcnRlZE1ldGhvZHMgPSBzdXBwb3J0ZWRNZXRob2RzO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHQvKipcblx0XHQgKiBTZXQgYSBub24tZHltYW5pYyAobm9uLW5hbWVkLWdyb3VwKSBwYXRoIHBhcnQgb2YgYSBxdWVyeSBVUkwsIGFuZFxuXHRcdCAqIHNldCB0aGUgdmFsdWUgb2YgYSBzdWJyZXNvdXJjZSBpZiBhbiBpbnB1dCB2YWx1ZSBpcyBwcm92aWRlZCBhbmRcblx0XHQgKiBleGFjdGx5IG9uZSBuYW1lZC1ncm91cCBjaGlsZCBub2RlIGV4aXN0cy5cblx0XHQgKlxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICpcblx0XHQgKiAgICAgLy8gcmV2aXNpb25zKCkgaXMgYSBub24tZHluYW1pYyBwYXRoIHBhcnQgc2V0dGVyOlxuXHRcdCAqICAgICB3cC5wb3N0cygpLmlkKCA0ICkucmV2aXNpb25zKCk7ICAgICAgIC8vIEdldCBwb3N0cy80L3JldmlzaW9uc1xuXHRcdCAqICAgICB3cC5wb3N0cygpLmlkKCA0ICkucmV2aXNpb25zKCAxMzcyICk7IC8vIEdldCBwb3N0cy80L3JldmlzaW9ucy8xMzcyXG5cdFx0ICpcblx0XHQgKiBAY2hhaW5hYmxlXG5cdFx0ICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gW3ZhbF0gVGhlIHBhdGggcGFydCB2YWx1ZSB0byBzZXQgKGlmIHByb3ZpZGVkKVxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhIHN1YnJlc291cmNlIHdpdGhpbiB0aGlzIHJlc291cmNlXG5cdFx0ICogQHJldHVybnMge09iamVjdH0gVGhlIGhhbmRsZXIgaW5zdGFuY2UgKGZvciBjaGFpbmluZylcblx0XHQgKi9cblx0XHRyZXR1cm4gZnVuY3Rpb24oIHZhbCApIHtcblx0XHRcdC8vIElmIHRoZSBwYXRoIHBhcnQgaXMgbm90IGEgbmFtZWRHcm91cCwgaXQgc2hvdWxkIGhhdmUgZXhhY3RseSBvbmVcblx0XHRcdC8vIGVudHJ5IGluIHRoZSBuYW1lcyBhcnJheTogdXNlIHRoYXQgYXMgdGhlIHZhbHVlIGZvciB0aGlzIHNldHRlcixcblx0XHRcdC8vIGFzIGl0IHdpbGwgdXN1YWxseSBjb3JyZXNwb25kIHRvIGEgY29sbGVjdGlvbiBlbmRwb2ludC5cblx0XHRcdHRoaXMuc2V0UGF0aFBhcnQoIG5vZGVMZXZlbCwgbm9kZU5hbWUgKTtcblxuXHRcdFx0Ly8gSWYgdGhpcyBub2RlIGhhcyBleGFjdGx5IG9uZSBkeW5hbWljIGNoaWxkLCB0aGlzIG1ldGhvZCBtYXkgYWN0IGFzXG5cdFx0XHQvLyBhIHNldHRlciBmb3IgdGhhdCBjaGlsZCBub2RlLiBgZHluYW1pY0NoaWxkTGV2ZWxgIHdpbGwgYmUgZmFsc3kgaWYgdGhlXG5cdFx0XHQvLyBub2RlIGRvZXMgbm90IGhhdmUgYSBjaGlsZCBvciBoYXMgbXVsdGlwbGUgY2hpbGRyZW4uXG5cdFx0XHRpZiAoIHZhbCAhPT0gdW5kZWZpbmVkICYmIGR5bmFtaWNDaGlsZExldmVsICkge1xuXHRcdFx0XHR0aGlzLnNldFBhdGhQYXJ0KCBkeW5hbWljQ2hpbGRMZXZlbCwgdmFsICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9O1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRjcmVhdGU6IGNyZWF0ZVBhdGhQYXJ0U2V0dGVyLFxufTtcbiIsICIvKipcbiAqIEBtb2R1bGUgcmVzb3VyY2UtaGFuZGxlci1zcGVjXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgY3JlYXRlUGF0aFBhcnRTZXR0ZXIgPSByZXF1aXJlKCAnLi9wYXRoLXBhcnQtc2V0dGVyJyApLmNyZWF0ZTtcblxuLyoqIEBwcml2YXRlICovXG5mdW5jdGlvbiBhZGRMZXZlbE9wdGlvbiggbGV2ZWxzT2JqLCBsZXZlbCwgb2JqICkge1xuXHRsZXZlbHNPYmpbIGxldmVsIF0gPSBsZXZlbHNPYmpbIGxldmVsIF0gfHwgW107XG5cdGxldmVsc09ialsgbGV2ZWwgXS5wdXNoKCBvYmogKTtcbn1cblxuLyoqXG4gKiBBc3NpZ24gYSBzZXR0ZXIgZnVuY3Rpb24gZm9yIHRoZSBwcm92aWRlZCBub2RlIHRvIHRoZSBwcm92aWRlZCByb3V0ZVxuICogaGFuZGxlciBvYmplY3Qgc2V0dGVycyBkaWN0aW9uYXJ5IChtdXRhdGVzIGhhbmRsZXIgYnkgcmVmZXJlbmNlKS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IGhhbmRsZXIgQSByb3V0ZSBoYW5kbGVyIGRlZmluaXRpb24gb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSAgICBBIHJvdXRlIGhpZXJhcmNoeSBsZXZlbCBub2RlIG9iamVjdFxuICovXG5mdW5jdGlvbiBhc3NpZ25TZXR0ZXJGbkZvck5vZGUoIGhhbmRsZXIsIG5vZGUgKSB7XG5cdGxldCBzZXR0ZXJGbjtcblxuXHQvLyBGb3IgZWFjaCBub2RlLCBhZGQgaXRzIGhhbmRsZXIgdG8gdGhlIHJlbGV2YW50IFwibGV2ZWxcIiByZXByZXNlbnRhdGlvblxuXHRhZGRMZXZlbE9wdGlvbiggaGFuZGxlci5fbGV2ZWxzLCBub2RlLmxldmVsLCB7XG5cdFx0Y29tcG9uZW50OiBub2RlLmNvbXBvbmVudCxcblx0XHR2YWxpZGF0ZTogbm9kZS52YWxpZGF0ZSxcblx0XHRtZXRob2RzOiBub2RlLm1ldGhvZHMsXG5cdH0gKTtcblxuXHQvLyBGaXJzdCBsZXZlbCBpcyBzZXQgaW1wbGljaXRseSwgbm8gZGVkaWNhdGVkIHNldHRlciBuZWVkZWRcblx0aWYgKCBub2RlLmxldmVsID4gMCApIHtcblxuXHRcdHNldHRlckZuID0gY3JlYXRlUGF0aFBhcnRTZXR0ZXIoIG5vZGUgKTtcblxuXHRcdG5vZGUubmFtZXMuZm9yRWFjaCggKCBuYW1lICkgPT4ge1xuXHRcdFx0Ly8gQ29udmVydCBmcm9tIHNuYWtlX2Nhc2UgdG8gY2FtZWxDYXNlXG5cdFx0XHRjb25zdCBzZXR0ZXJGbk5hbWUgPSBuYW1lLnJlcGxhY2UoXG5cdFx0XHRcdC9bXy1dK1xcdy9nLFxuXHRcdFx0XHRtYXRjaCA9PiBtYXRjaC5yZXBsYWNlKCAvW18tXSsvLCAnJyApLnRvVXBwZXJDYXNlKClcblx0XHRcdCk7XG5cblx0XHRcdC8vIERvbid0IG92ZXJ3cml0ZSBwcmV2aW91c2x5LXNldCBtZXRob2RzXG5cdFx0XHRpZiAoICEgaGFuZGxlci5fc2V0dGVyc1sgc2V0dGVyRm5OYW1lIF0gKSB7XG5cdFx0XHRcdGhhbmRsZXIuX3NldHRlcnNbIHNldHRlckZuTmFtZSBdID0gc2V0dGVyRm47XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59XG5cbi8qKlxuICogV2FsayB0aGUgdHJlZSBvZiBhIHNwZWNpZmljIHJlc291cmNlIG5vZGUgdG8gY3JlYXRlIHRoZSBzZXR0ZXIgbWV0aG9kc1xuICpcbiAqIFRoZSBBUEkgd2Ugd2FudCB0byBwcm9kdWNlIGZyb20gdGhlIG5vZGUgdHJlZSBsb29rcyBsaWtlIHRoaXM6XG4gKlxuICogICAgIHdwLnBvc3RzKCk7ICAgICAgICAgICAgICAgICAgICAgICAgL3dwL3YyL3Bvc3RzXG4gKiAgICAgd3AucG9zdHMoKS5pZCggNyApOyAgICAgICAgICAgICAgICAvd3AvdjIvcG9zdHMvN1xuICogICAgIHdwLnBvc3RzKCkuaWQoIDcgKS5yZXZpc2lvbnMoKTsgICAgL3dwL3YyL3Bvc3RzLzcvcmV2aXNpb25zXG4gKiAgICAgd3AucG9zdHMoKS5pZCggNyApLnJldmlzaW9ucyggOCApOyAvd3AvdjIvcG9zdHMvNy9yZXZpc2lvbnMvOFxuICpcbiAqIF4gVGhhdCBsYXN0IG9uZSdzIHRoZSB0cmlja3kgb25lOiB3ZSBjYW4gZGVkdWNlIHRoYXQgdGhpcyBwYXJhbWV0ZXIgaXMgXCJpZFwiLCBidXRcbiAqIHRoYXQgcGFyYW0gd2lsbCBhbHJlYWR5IGJlIHRha2VuIGJ5IHRoZSBwb3N0IElELCBzbyBzdWItY29sbGVjdGlvbnMgaGF2ZSB0byBiZVxuICogc2V0IHVwIGFzIGAucmV2aXNpb25zKClgIHRvIGdldCB0aGUgY29sbGVjdGlvbiwgYW5kIGAucmV2aXNpb25zKCBpZCApYCB0byBnZXQgYVxuICogc3BlY2lmaWMgcmVzb3VyY2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge09iamVjdH0gbm9kZSAgICAgICAgICAgIEEgbm9kZSBvYmplY3RcbiAqIEBwYXJhbSAge09iamVjdH0gW25vZGUuY2hpbGRyZW5dIEFuIG9iamVjdCBvZiBjaGlsZCBub2Rlc1xuICogLy8gQHJldHVybnMge2lzTGVhZn0gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgcHJvY2Vzc2VkIG5vZGUgaXMgYSBsZWFmXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RTZXR0ZXJGcm9tTm9kZSggaGFuZGxlciwgbm9kZSApIHtcblxuXHRhc3NpZ25TZXR0ZXJGbkZvck5vZGUoIGhhbmRsZXIsIG5vZGUgKTtcblxuXHRpZiAoIG5vZGUuY2hpbGRyZW4gKSB7XG5cdFx0Ly8gUmVjdXJzZSBkb3duIHRvIHRoaXMgbm9kZSdzIGNoaWxkcmVuXG5cdFx0T2JqZWN0LmtleXMoIG5vZGUuY2hpbGRyZW4gKS5mb3JFYWNoKCAoIGtleSApID0+IHtcblx0XHRcdGV4dHJhY3RTZXR0ZXJGcm9tTm9kZSggaGFuZGxlciwgbm9kZS5jaGlsZHJlblsga2V5IF0gKTtcblx0XHR9ICk7XG5cdH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBub2RlIGhhbmRsZXIgc3BlY2lmaWNhdGlvbiBvYmplY3QgZnJvbSBhIHJvdXRlIGRlZmluaXRpb24gb2JqZWN0XG4gKlxuICogQG5hbWUgY3JlYXRlXG4gKiBAcGFyYW0ge29iamVjdH0gcm91dGVEZWZpbml0aW9uIEEgcm91dGUgZGVmaW5pdGlvbiBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXNvdXJjZSBUaGUgc3RyaW5nIGtleSBvZiB0aGUgcmVzb3VyY2UgZm9yIHdoaWNoIHRvIGNyZWF0ZSBhIGhhbmRsZXJcbiAqIEByZXR1cm5zIHtvYmplY3R9IEEgaGFuZGxlciBzcGVjIG9iamVjdCB3aXRoIF9wYXRoLCBfbGV2ZWxzIGFuZCBfc2V0dGVycyBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU5vZGVIYW5kbGVyU3BlYyggcm91dGVEZWZpbml0aW9uLCByZXNvdXJjZSApIHtcblxuXHRjb25zdCBoYW5kbGVyID0ge1xuXHRcdC8vIEEgXCJwYXRoXCIgaXMgYW4gb3JkZXJlZCAoYnkga2V5KSBzZXQgb2YgdmFsdWVzIGNvbXBvc2VkIGludG8gdGhlIGZpbmFsIFVSTFxuXHRcdF9wYXRoOiB7XG5cdFx0XHQnMCc6IHJlc291cmNlLFxuXHRcdH0sXG5cblx0XHQvLyBBIFwibGV2ZWxcIiBpcyBhIGxldmVsLWtleWVkIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHZhbGlkIG9wdGlvbnMgZm9yXG5cdFx0Ly8gb25lIGxldmVsIG9mIHRoZSByZXNvdXJjZSBVUkxcblx0XHRfbGV2ZWxzOiB7fSxcblxuXHRcdC8vIE9iamVjdHMgdGhhdCBob2xkIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgd2hpY2ggd2lsbCBiZSBjb3BpZWQgdG9cblx0XHQvLyBpbnN0YW5jZXMgb2YgdGhpcyBlbmRwb2ludCdzIGhhbmRsZXJcblx0XHRfc2V0dGVyczoge30sXG5cblx0XHQvLyBBcmd1bWVudHMgKHF1ZXJ5IHBhcmFtZXRlcnMpIHRoYXQgbWF5IGJlIHNldCBpbiBHRVQgcmVxdWVzdHMgdG8gZW5kcG9pbnRzXG5cdFx0Ly8gbmVzdGVkIHdpdGhpbiB0aGlzIHJlc291cmNlIHJvdXRlIHRyZWUsIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBtaXhpbnMgdG9cblx0XHQvLyBhZGQgdG8gdGhlIHJlcXVlc3QgaGFuZGxlclxuXHRcdF9nZXRBcmdzOiByb3V0ZURlZmluaXRpb24uX2dldEFyZ3MsXG5cdH07XG5cblx0Ly8gV2FsayB0aGUgdHJlZVxuXHRPYmplY3Qua2V5cyggcm91dGVEZWZpbml0aW9uICkuZm9yRWFjaCggKCByb3V0ZURlZlByb3AgKSA9PiB7XG5cdFx0aWYgKCByb3V0ZURlZlByb3AgIT09ICdfZ2V0QXJncycgKSB7XG5cdFx0XHRleHRyYWN0U2V0dGVyRnJvbU5vZGUoIGhhbmRsZXIsIHJvdXRlRGVmaW5pdGlvblsgcm91dGVEZWZQcm9wIF0gKTtcblx0XHR9XG5cdH0gKTtcblxuXHRyZXR1cm4gaGFuZGxlcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdGNyZWF0ZTogY3JlYXRlTm9kZUhhbmRsZXJTcGVjLFxufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qIGVzbGludCBjb21wbGV4aXR5OiBbMiwgMThdLCBtYXgtc3RhdGVtZW50czogWzIsIDMzXSAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBoYXNTeW1ib2xzKCkge1xuXHRpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAhPT0gJ2Z1bmN0aW9uJykgeyByZXR1cm4gZmFsc2U7IH1cblx0aWYgKHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICdzeW1ib2wnKSB7IHJldHVybiB0cnVlOyB9XG5cblx0dmFyIG9iaiA9IHt9O1xuXHR2YXIgc3ltID0gU3ltYm9sKCd0ZXN0Jyk7XG5cdHZhciBzeW1PYmogPSBPYmplY3Qoc3ltKTtcblx0aWYgKHR5cGVvZiBzeW0gPT09ICdzdHJpbmcnKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ltKSAhPT0gJ1tvYmplY3QgU3ltYm9sXScpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ltT2JqKSAhPT0gJ1tvYmplY3QgU3ltYm9sXScpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0Ly8gdGVtcCBkaXNhYmxlZCBwZXIgaHR0cHM6Ly9naXRodWIuY29tL2xqaGFyYi9vYmplY3QuYXNzaWduL2lzc3Vlcy8xN1xuXHQvLyBpZiAoc3ltIGluc3RhbmNlb2YgU3ltYm9sKSB7IHJldHVybiBmYWxzZTsgfVxuXHQvLyB0ZW1wIGRpc2FibGVkIHBlciBodHRwczovL2dpdGh1Yi5jb20vV2ViUmVmbGVjdGlvbi9nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMvaXNzdWVzLzRcblx0Ly8gaWYgKCEoc3ltT2JqIGluc3RhbmNlb2YgU3ltYm9sKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHQvLyBpZiAodHlwZW9mIFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmcgIT09ICdmdW5jdGlvbicpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdC8vIGlmIChTdHJpbmcoc3ltKSAhPT0gU3ltYm9sLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN5bSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0dmFyIHN5bVZhbCA9IDQyO1xuXHRvYmpbc3ltXSA9IHN5bVZhbDtcblx0Zm9yIChzeW0gaW4gb2JqKSB7IHJldHVybiBmYWxzZTsgfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4LCBuby11bnJlYWNoYWJsZS1sb29wXG5cdGlmICh0eXBlb2YgT2JqZWN0LmtleXMgPT09ICdmdW5jdGlvbicgJiYgT2JqZWN0LmtleXMob2JqKS5sZW5ndGggIT09IDApIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0aWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyA9PT0gJ2Z1bmN0aW9uJyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLmxlbmd0aCAhPT0gMCkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHR2YXIgc3ltcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqKTtcblx0aWYgKHN5bXMubGVuZ3RoICE9PSAxIHx8IHN5bXNbMF0gIT09IHN5bSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmosIHN5bSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0aWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwgc3ltKTtcblx0XHRpZiAoZGVzY3JpcHRvci52YWx1ZSAhPT0gc3ltVmFsIHx8IGRlc2NyaXB0b3IuZW51bWVyYWJsZSAhPT0gdHJ1ZSkgeyByZXR1cm4gZmFsc2U7IH1cblx0fVxuXG5cdHJldHVybiB0cnVlO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBvcmlnU3ltYm9sID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sO1xudmFyIGhhc1N5bWJvbFNoYW0gPSByZXF1aXJlKCcuL3NoYW1zJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaGFzTmF0aXZlU3ltYm9scygpIHtcblx0aWYgKHR5cGVvZiBvcmlnU3ltYm9sICE9PSAnZnVuY3Rpb24nKSB7IHJldHVybiBmYWxzZTsgfVxuXHRpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJykgeyByZXR1cm4gZmFsc2U7IH1cblx0aWYgKHR5cGVvZiBvcmlnU3ltYm9sKCdmb28nKSAhPT0gJ3N5bWJvbCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmICh0eXBlb2YgU3ltYm9sKCdiYXInKSAhPT0gJ3N5bWJvbCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0cmV0dXJuIGhhc1N5bWJvbFNoYW0oKTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiBlc2xpbnQgbm8taW52YWxpZC10aGlzOiAxICovXG5cbnZhciBFUlJPUl9NRVNTQUdFID0gJ0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgJztcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgZnVuY1R5cGUgPSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJpbmQodGhhdCkge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzO1xuICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnZnVuY3Rpb24nIHx8IHRvU3RyLmNhbGwodGFyZ2V0KSAhPT0gZnVuY1R5cGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJPUl9NRVNTQUdFICsgdGFyZ2V0KTtcbiAgICB9XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgICB2YXIgYm91bmQ7XG4gICAgdmFyIGJpbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBib3VuZCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRhcmdldC5hcHBseShcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoT2JqZWN0KHJlc3VsdCkgPT09IHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkoXG4gICAgICAgICAgICAgICAgdGhhdCxcbiAgICAgICAgICAgICAgICBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBib3VuZExlbmd0aCA9IE1hdGgubWF4KDAsIHRhcmdldC5sZW5ndGggLSBhcmdzLmxlbmd0aCk7XG4gICAgdmFyIGJvdW5kQXJncyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRMZW5ndGg7IGkrKykge1xuICAgICAgICBib3VuZEFyZ3MucHVzaCgnJCcgKyBpKTtcbiAgICB9XG5cbiAgICBib3VuZCA9IEZ1bmN0aW9uKCdiaW5kZXInLCAncmV0dXJuIGZ1bmN0aW9uICgnICsgYm91bmRBcmdzLmpvaW4oJywnKSArICcpeyByZXR1cm4gYmluZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsgfScpKGJpbmRlcik7XG5cbiAgICBpZiAodGFyZ2V0LnByb3RvdHlwZSkge1xuICAgICAgICB2YXIgRW1wdHkgPSBmdW5jdGlvbiBFbXB0eSgpIHt9O1xuICAgICAgICBFbXB0eS5wcm90b3R5cGUgPSB0YXJnZXQucHJvdG90eXBlO1xuICAgICAgICBib3VuZC5wcm90b3R5cGUgPSBuZXcgRW1wdHkoKTtcbiAgICAgICAgRW1wdHkucHJvdG90eXBlID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gYm91bmQ7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGltcGxlbWVudGF0aW9uID0gcmVxdWlyZSgnLi9pbXBsZW1lbnRhdGlvbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIHx8IGltcGxlbWVudGF0aW9uO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCdmdW5jdGlvbi1iaW5kJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHVuZGVmaW5lZDtcblxudmFyICRTeW50YXhFcnJvciA9IFN5bnRheEVycm9yO1xudmFyICRGdW5jdGlvbiA9IEZ1bmN0aW9uO1xudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxudmFyIGdldEV2YWxsZWRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIChleHByZXNzaW9uU3ludGF4KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuICRGdW5jdGlvbignXCJ1c2Ugc3RyaWN0XCI7IHJldHVybiAoJyArIGV4cHJlc3Npb25TeW50YXggKyAnKS5jb25zdHJ1Y3RvcjsnKSgpO1xuXHR9IGNhdGNoIChlKSB7fVxufTtcblxudmFyICRnT1BEID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbmlmICgkZ09QRCkge1xuXHR0cnkge1xuXHRcdCRnT1BEKHt9LCAnJyk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQkZ09QRCA9IG51bGw7IC8vIHRoaXMgaXMgSUUgOCwgd2hpY2ggaGFzIGEgYnJva2VuIGdPUERcblx0fVxufVxuXG52YXIgdGhyb3dUeXBlRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdHRocm93IG5ldyAkVHlwZUVycm9yKCk7XG59O1xudmFyIFRocm93VHlwZUVycm9yID0gJGdPUERcblx0PyAoZnVuY3Rpb24gKCkge1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zLCBuby1jYWxsZXIsIG5vLXJlc3RyaWN0ZWQtcHJvcGVydGllc1xuXHRcdFx0YXJndW1lbnRzLmNhbGxlZTsgLy8gSUUgOCBkb2VzIG5vdCB0aHJvdyBoZXJlXG5cdFx0XHRyZXR1cm4gdGhyb3dUeXBlRXJyb3I7XG5cdFx0fSBjYXRjaCAoY2FsbGVlVGhyb3dzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHQvLyBJRSA4IHRocm93cyBvbiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFyZ3VtZW50cywgJycpXG5cdFx0XHRcdHJldHVybiAkZ09QRChhcmd1bWVudHMsICdjYWxsZWUnKS5nZXQ7XG5cdFx0XHR9IGNhdGNoIChnT1BEdGhyb3dzKSB7XG5cdFx0XHRcdHJldHVybiB0aHJvd1R5cGVFcnJvcjtcblx0XHRcdH1cblx0XHR9XG5cdH0oKSlcblx0OiB0aHJvd1R5cGVFcnJvcjtcblxudmFyIGhhc1N5bWJvbHMgPSByZXF1aXJlKCdoYXMtc3ltYm9scycpKCk7XG5cbnZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5fX3Byb3RvX187IH07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG9cblxudmFyIG5lZWRzRXZhbCA9IHt9O1xuXG52YXIgVHlwZWRBcnJheSA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IGdldFByb3RvKFVpbnQ4QXJyYXkpO1xuXG52YXIgSU5UUklOU0lDUyA9IHtcblx0JyVBZ2dyZWdhdGVFcnJvciUnOiB0eXBlb2YgQWdncmVnYXRlRXJyb3IgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogQWdncmVnYXRlRXJyb3IsXG5cdCclQXJyYXklJzogQXJyYXksXG5cdCclQXJyYXlCdWZmZXIlJzogdHlwZW9mIEFycmF5QnVmZmVyID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEFycmF5QnVmZmVyLFxuXHQnJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlJzogaGFzU3ltYm9scyA/IGdldFByb3RvKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSkgOiB1bmRlZmluZWQsXG5cdCclQXN5bmNGcm9tU3luY0l0ZXJhdG9yUHJvdG90eXBlJSc6IHVuZGVmaW5lZCxcblx0JyVBc3luY0Z1bmN0aW9uJSc6IG5lZWRzRXZhbCxcblx0JyVBc3luY0dlbmVyYXRvciUnOiBuZWVkc0V2YWwsXG5cdCclQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUnOiBuZWVkc0V2YWwsXG5cdCclQXN5bmNJdGVyYXRvclByb3RvdHlwZSUnOiBuZWVkc0V2YWwsXG5cdCclQXRvbWljcyUnOiB0eXBlb2YgQXRvbWljcyA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBBdG9taWNzLFxuXHQnJUJpZ0ludCUnOiB0eXBlb2YgQmlnSW50ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEJpZ0ludCxcblx0JyVCb29sZWFuJSc6IEJvb2xlYW4sXG5cdCclRGF0YVZpZXclJzogdHlwZW9mIERhdGFWaWV3ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IERhdGFWaWV3LFxuXHQnJURhdGUlJzogRGF0ZSxcblx0JyVkZWNvZGVVUkklJzogZGVjb2RlVVJJLFxuXHQnJWRlY29kZVVSSUNvbXBvbmVudCUnOiBkZWNvZGVVUklDb21wb25lbnQsXG5cdCclZW5jb2RlVVJJJSc6IGVuY29kZVVSSSxcblx0JyVlbmNvZGVVUklDb21wb25lbnQlJzogZW5jb2RlVVJJQ29tcG9uZW50LFxuXHQnJUVycm9yJSc6IEVycm9yLFxuXHQnJWV2YWwlJzogZXZhbCwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1ldmFsXG5cdCclRXZhbEVycm9yJSc6IEV2YWxFcnJvcixcblx0JyVGbG9hdDMyQXJyYXklJzogdHlwZW9mIEZsb2F0MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBGbG9hdDMyQXJyYXksXG5cdCclRmxvYXQ2NEFycmF5JSc6IHR5cGVvZiBGbG9hdDY0QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogRmxvYXQ2NEFycmF5LFxuXHQnJUZpbmFsaXphdGlvblJlZ2lzdHJ5JSc6IHR5cGVvZiBGaW5hbGl6YXRpb25SZWdpc3RyeSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBGaW5hbGl6YXRpb25SZWdpc3RyeSxcblx0JyVGdW5jdGlvbiUnOiAkRnVuY3Rpb24sXG5cdCclR2VuZXJhdG9yRnVuY3Rpb24lJzogbmVlZHNFdmFsLFxuXHQnJUludDhBcnJheSUnOiB0eXBlb2YgSW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEludDhBcnJheSxcblx0JyVJbnQxNkFycmF5JSc6IHR5cGVvZiBJbnQxNkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEludDE2QXJyYXksXG5cdCclSW50MzJBcnJheSUnOiB0eXBlb2YgSW50MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQzMkFycmF5LFxuXHQnJWlzRmluaXRlJSc6IGlzRmluaXRlLFxuXHQnJWlzTmFOJSc6IGlzTmFOLFxuXHQnJUl0ZXJhdG9yUHJvdG90eXBlJSc6IGhhc1N5bWJvbHMgPyBnZXRQcm90byhnZXRQcm90byhbXVtTeW1ib2wuaXRlcmF0b3JdKCkpKSA6IHVuZGVmaW5lZCxcblx0JyVKU09OJSc6IHR5cGVvZiBKU09OID09PSAnb2JqZWN0JyA/IEpTT04gOiB1bmRlZmluZWQsXG5cdCclTWFwJSc6IHR5cGVvZiBNYXAgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogTWFwLFxuXHQnJU1hcEl0ZXJhdG9yUHJvdG90eXBlJSc6IHR5cGVvZiBNYXAgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNTeW1ib2xzID8gdW5kZWZpbmVkIDogZ2V0UHJvdG8obmV3IE1hcCgpW1N5bWJvbC5pdGVyYXRvcl0oKSksXG5cdCclTWF0aCUnOiBNYXRoLFxuXHQnJU51bWJlciUnOiBOdW1iZXIsXG5cdCclT2JqZWN0JSc6IE9iamVjdCxcblx0JyVwYXJzZUZsb2F0JSc6IHBhcnNlRmxvYXQsXG5cdCclcGFyc2VJbnQlJzogcGFyc2VJbnQsXG5cdCclUHJvbWlzZSUnOiB0eXBlb2YgUHJvbWlzZSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBQcm9taXNlLFxuXHQnJVByb3h5JSc6IHR5cGVvZiBQcm94eSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBQcm94eSxcblx0JyVSYW5nZUVycm9yJSc6IFJhbmdlRXJyb3IsXG5cdCclUmVmZXJlbmNlRXJyb3IlJzogUmVmZXJlbmNlRXJyb3IsXG5cdCclUmVmbGVjdCUnOiB0eXBlb2YgUmVmbGVjdCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBSZWZsZWN0LFxuXHQnJVJlZ0V4cCUnOiBSZWdFeHAsXG5cdCclU2V0JSc6IHR5cGVvZiBTZXQgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogU2V0LFxuXHQnJVNldEl0ZXJhdG9yUHJvdG90eXBlJSc6IHR5cGVvZiBTZXQgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNTeW1ib2xzID8gdW5kZWZpbmVkIDogZ2V0UHJvdG8obmV3IFNldCgpW1N5bWJvbC5pdGVyYXRvcl0oKSksXG5cdCclU2hhcmVkQXJyYXlCdWZmZXIlJzogdHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFNoYXJlZEFycmF5QnVmZmVyLFxuXHQnJVN0cmluZyUnOiBTdHJpbmcsXG5cdCclU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlJzogaGFzU3ltYm9scyA/IGdldFByb3RvKCcnW1N5bWJvbC5pdGVyYXRvcl0oKSkgOiB1bmRlZmluZWQsXG5cdCclU3ltYm9sJSc6IGhhc1N5bWJvbHMgPyBTeW1ib2wgOiB1bmRlZmluZWQsXG5cdCclU3ludGF4RXJyb3IlJzogJFN5bnRheEVycm9yLFxuXHQnJVRocm93VHlwZUVycm9yJSc6IFRocm93VHlwZUVycm9yLFxuXHQnJVR5cGVkQXJyYXklJzogVHlwZWRBcnJheSxcblx0JyVUeXBlRXJyb3IlJzogJFR5cGVFcnJvcixcblx0JyVVaW50OEFycmF5JSc6IHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFVpbnQ4QXJyYXksXG5cdCclVWludDhDbGFtcGVkQXJyYXklJzogdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFVpbnQ4Q2xhbXBlZEFycmF5LFxuXHQnJVVpbnQxNkFycmF5JSc6IHR5cGVvZiBVaW50MTZBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBVaW50MTZBcnJheSxcblx0JyVVaW50MzJBcnJheSUnOiB0eXBlb2YgVWludDMyQXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogVWludDMyQXJyYXksXG5cdCclVVJJRXJyb3IlJzogVVJJRXJyb3IsXG5cdCclV2Vha01hcCUnOiB0eXBlb2YgV2Vha01hcCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBXZWFrTWFwLFxuXHQnJVdlYWtSZWYlJzogdHlwZW9mIFdlYWtSZWYgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogV2Vha1JlZixcblx0JyVXZWFrU2V0JSc6IHR5cGVvZiBXZWFrU2V0ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFdlYWtTZXRcbn07XG5cbnZhciBkb0V2YWwgPSBmdW5jdGlvbiBkb0V2YWwobmFtZSkge1xuXHR2YXIgdmFsdWU7XG5cdGlmIChuYW1lID09PSAnJUFzeW5jRnVuY3Rpb24lJykge1xuXHRcdHZhbHVlID0gZ2V0RXZhbGxlZENvbnN0cnVjdG9yKCdhc3luYyBmdW5jdGlvbiAoKSB7fScpO1xuXHR9IGVsc2UgaWYgKG5hbWUgPT09ICclR2VuZXJhdG9yRnVuY3Rpb24lJykge1xuXHRcdHZhbHVlID0gZ2V0RXZhbGxlZENvbnN0cnVjdG9yKCdmdW5jdGlvbiogKCkge30nKTtcblx0fSBlbHNlIGlmIChuYW1lID09PSAnJUFzeW5jR2VuZXJhdG9yRnVuY3Rpb24lJykge1xuXHRcdHZhbHVlID0gZ2V0RXZhbGxlZENvbnN0cnVjdG9yKCdhc3luYyBmdW5jdGlvbiogKCkge30nKTtcblx0fSBlbHNlIGlmIChuYW1lID09PSAnJUFzeW5jR2VuZXJhdG9yJScpIHtcblx0XHR2YXIgZm4gPSBkb0V2YWwoJyVBc3luY0dlbmVyYXRvckZ1bmN0aW9uJScpO1xuXHRcdGlmIChmbikge1xuXHRcdFx0dmFsdWUgPSBmbi5wcm90b3R5cGU7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG5hbWUgPT09ICclQXN5bmNJdGVyYXRvclByb3RvdHlwZSUnKSB7XG5cdFx0dmFyIGdlbiA9IGRvRXZhbCgnJUFzeW5jR2VuZXJhdG9yJScpO1xuXHRcdGlmIChnZW4pIHtcblx0XHRcdHZhbHVlID0gZ2V0UHJvdG8oZ2VuLnByb3RvdHlwZSk7XG5cdFx0fVxuXHR9XG5cblx0SU5UUklOU0lDU1tuYW1lXSA9IHZhbHVlO1xuXG5cdHJldHVybiB2YWx1ZTtcbn07XG5cbnZhciBMRUdBQ1lfQUxJQVNFUyA9IHtcblx0JyVBcnJheUJ1ZmZlclByb3RvdHlwZSUnOiBbJ0FycmF5QnVmZmVyJywgJ3Byb3RvdHlwZSddLFxuXHQnJUFycmF5UHJvdG90eXBlJSc6IFsnQXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclQXJyYXlQcm90b19lbnRyaWVzJSc6IFsnQXJyYXknLCAncHJvdG90eXBlJywgJ2VudHJpZXMnXSxcblx0JyVBcnJheVByb3RvX2ZvckVhY2glJzogWydBcnJheScsICdwcm90b3R5cGUnLCAnZm9yRWFjaCddLFxuXHQnJUFycmF5UHJvdG9fa2V5cyUnOiBbJ0FycmF5JywgJ3Byb3RvdHlwZScsICdrZXlzJ10sXG5cdCclQXJyYXlQcm90b192YWx1ZXMlJzogWydBcnJheScsICdwcm90b3R5cGUnLCAndmFsdWVzJ10sXG5cdCclQXN5bmNGdW5jdGlvblByb3RvdHlwZSUnOiBbJ0FzeW5jRnVuY3Rpb24nLCAncHJvdG90eXBlJ10sXG5cdCclQXN5bmNHZW5lcmF0b3IlJzogWydBc3luY0dlbmVyYXRvckZ1bmN0aW9uJywgJ3Byb3RvdHlwZSddLFxuXHQnJUFzeW5jR2VuZXJhdG9yUHJvdG90eXBlJSc6IFsnQXN5bmNHZW5lcmF0b3JGdW5jdGlvbicsICdwcm90b3R5cGUnLCAncHJvdG90eXBlJ10sXG5cdCclQm9vbGVhblByb3RvdHlwZSUnOiBbJ0Jvb2xlYW4nLCAncHJvdG90eXBlJ10sXG5cdCclRGF0YVZpZXdQcm90b3R5cGUlJzogWydEYXRhVmlldycsICdwcm90b3R5cGUnXSxcblx0JyVEYXRlUHJvdG90eXBlJSc6IFsnRGF0ZScsICdwcm90b3R5cGUnXSxcblx0JyVFcnJvclByb3RvdHlwZSUnOiBbJ0Vycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJUV2YWxFcnJvclByb3RvdHlwZSUnOiBbJ0V2YWxFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVGbG9hdDMyQXJyYXlQcm90b3R5cGUlJzogWydGbG9hdDMyQXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclRmxvYXQ2NEFycmF5UHJvdG90eXBlJSc6IFsnRmxvYXQ2NEFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJUZ1bmN0aW9uUHJvdG90eXBlJSc6IFsnRnVuY3Rpb24nLCAncHJvdG90eXBlJ10sXG5cdCclR2VuZXJhdG9yJSc6IFsnR2VuZXJhdG9yRnVuY3Rpb24nLCAncHJvdG90eXBlJ10sXG5cdCclR2VuZXJhdG9yUHJvdG90eXBlJSc6IFsnR2VuZXJhdG9yRnVuY3Rpb24nLCAncHJvdG90eXBlJywgJ3Byb3RvdHlwZSddLFxuXHQnJUludDhBcnJheVByb3RvdHlwZSUnOiBbJ0ludDhBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVJbnQxNkFycmF5UHJvdG90eXBlJSc6IFsnSW50MTZBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVJbnQzMkFycmF5UHJvdG90eXBlJSc6IFsnSW50MzJBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVKU09OUGFyc2UlJzogWydKU09OJywgJ3BhcnNlJ10sXG5cdCclSlNPTlN0cmluZ2lmeSUnOiBbJ0pTT04nLCAnc3RyaW5naWZ5J10sXG5cdCclTWFwUHJvdG90eXBlJSc6IFsnTWFwJywgJ3Byb3RvdHlwZSddLFxuXHQnJU51bWJlclByb3RvdHlwZSUnOiBbJ051bWJlcicsICdwcm90b3R5cGUnXSxcblx0JyVPYmplY3RQcm90b3R5cGUlJzogWydPYmplY3QnLCAncHJvdG90eXBlJ10sXG5cdCclT2JqUHJvdG9fdG9TdHJpbmclJzogWydPYmplY3QnLCAncHJvdG90eXBlJywgJ3RvU3RyaW5nJ10sXG5cdCclT2JqUHJvdG9fdmFsdWVPZiUnOiBbJ09iamVjdCcsICdwcm90b3R5cGUnLCAndmFsdWVPZiddLFxuXHQnJVByb21pc2VQcm90b3R5cGUlJzogWydQcm9taXNlJywgJ3Byb3RvdHlwZSddLFxuXHQnJVByb21pc2VQcm90b190aGVuJSc6IFsnUHJvbWlzZScsICdwcm90b3R5cGUnLCAndGhlbiddLFxuXHQnJVByb21pc2VfYWxsJSc6IFsnUHJvbWlzZScsICdhbGwnXSxcblx0JyVQcm9taXNlX3JlamVjdCUnOiBbJ1Byb21pc2UnLCAncmVqZWN0J10sXG5cdCclUHJvbWlzZV9yZXNvbHZlJSc6IFsnUHJvbWlzZScsICdyZXNvbHZlJ10sXG5cdCclUmFuZ2VFcnJvclByb3RvdHlwZSUnOiBbJ1JhbmdlRXJyb3InLCAncHJvdG90eXBlJ10sXG5cdCclUmVmZXJlbmNlRXJyb3JQcm90b3R5cGUlJzogWydSZWZlcmVuY2VFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVSZWdFeHBQcm90b3R5cGUlJzogWydSZWdFeHAnLCAncHJvdG90eXBlJ10sXG5cdCclU2V0UHJvdG90eXBlJSc6IFsnU2V0JywgJ3Byb3RvdHlwZSddLFxuXHQnJVNoYXJlZEFycmF5QnVmZmVyUHJvdG90eXBlJSc6IFsnU2hhcmVkQXJyYXlCdWZmZXInLCAncHJvdG90eXBlJ10sXG5cdCclU3RyaW5nUHJvdG90eXBlJSc6IFsnU3RyaW5nJywgJ3Byb3RvdHlwZSddLFxuXHQnJVN5bWJvbFByb3RvdHlwZSUnOiBbJ1N5bWJvbCcsICdwcm90b3R5cGUnXSxcblx0JyVTeW50YXhFcnJvclByb3RvdHlwZSUnOiBbJ1N5bnRheEVycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJVR5cGVkQXJyYXlQcm90b3R5cGUlJzogWydUeXBlZEFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJVR5cGVFcnJvclByb3RvdHlwZSUnOiBbJ1R5cGVFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVVaW50OEFycmF5UHJvdG90eXBlJSc6IFsnVWludDhBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVVaW50OENsYW1wZWRBcnJheVByb3RvdHlwZSUnOiBbJ1VpbnQ4Q2xhbXBlZEFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJVVpbnQxNkFycmF5UHJvdG90eXBlJSc6IFsnVWludDE2QXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclVWludDMyQXJyYXlQcm90b3R5cGUlJzogWydVaW50MzJBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVVUklFcnJvclByb3RvdHlwZSUnOiBbJ1VSSUVycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJVdlYWtNYXBQcm90b3R5cGUlJzogWydXZWFrTWFwJywgJ3Byb3RvdHlwZSddLFxuXHQnJVdlYWtTZXRQcm90b3R5cGUlJzogWydXZWFrU2V0JywgJ3Byb3RvdHlwZSddXG59O1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCdoYXMnKTtcbnZhciAkY29uY2F0ID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIEFycmF5LnByb3RvdHlwZS5jb25jYXQpO1xudmFyICRzcGxpY2VBcHBseSA9IGJpbmQuY2FsbChGdW5jdGlvbi5hcHBseSwgQXJyYXkucHJvdG90eXBlLnNwbGljZSk7XG52YXIgJHJlcGxhY2UgPSBiaW5kLmNhbGwoRnVuY3Rpb24uY2FsbCwgU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlKTtcbnZhciAkc3RyU2xpY2UgPSBiaW5kLmNhbGwoRnVuY3Rpb24uY2FsbCwgU3RyaW5nLnByb3RvdHlwZS5zbGljZSk7XG5cbi8qIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbG9kYXNoL2xvZGFzaC9ibG9iLzQuMTcuMTUvZGlzdC9sb2Rhc2guanMjTDY3MzUtTDY3NDQgKi9cbnZhciByZVByb3BOYW1lID0gL1teJS5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwlJCkpL2c7XG52YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7IC8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHN0cmluZ1RvUGF0aCA9IGZ1bmN0aW9uIHN0cmluZ1RvUGF0aChzdHJpbmcpIHtcblx0dmFyIGZpcnN0ID0gJHN0clNsaWNlKHN0cmluZywgMCwgMSk7XG5cdHZhciBsYXN0ID0gJHN0clNsaWNlKHN0cmluZywgLTEpO1xuXHRpZiAoZmlyc3QgPT09ICclJyAmJiBsYXN0ICE9PSAnJScpIHtcblx0XHR0aHJvdyBuZXcgJFN5bnRheEVycm9yKCdpbnZhbGlkIGludHJpbnNpYyBzeW50YXgsIGV4cGVjdGVkIGNsb3NpbmcgYCVgJyk7XG5cdH0gZWxzZSBpZiAobGFzdCA9PT0gJyUnICYmIGZpcnN0ICE9PSAnJScpIHtcblx0XHR0aHJvdyBuZXcgJFN5bnRheEVycm9yKCdpbnZhbGlkIGludHJpbnNpYyBzeW50YXgsIGV4cGVjdGVkIG9wZW5pbmcgYCVgJyk7XG5cdH1cblx0dmFyIHJlc3VsdCA9IFtdO1xuXHQkcmVwbGFjZShzdHJpbmcsIHJlUHJvcE5hbWUsIGZ1bmN0aW9uIChtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3ViU3RyaW5nKSB7XG5cdFx0cmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gcXVvdGUgPyAkcmVwbGFjZShzdWJTdHJpbmcsIHJlRXNjYXBlQ2hhciwgJyQxJykgOiBudW1iZXIgfHwgbWF0Y2g7XG5cdH0pO1xuXHRyZXR1cm4gcmVzdWx0O1xufTtcbi8qIGVuZCBhZGFwdGF0aW9uICovXG5cbnZhciBnZXRCYXNlSW50cmluc2ljID0gZnVuY3Rpb24gZ2V0QmFzZUludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0dmFyIGludHJpbnNpY05hbWUgPSBuYW1lO1xuXHR2YXIgYWxpYXM7XG5cdGlmIChoYXNPd24oTEVHQUNZX0FMSUFTRVMsIGludHJpbnNpY05hbWUpKSB7XG5cdFx0YWxpYXMgPSBMRUdBQ1lfQUxJQVNFU1tpbnRyaW5zaWNOYW1lXTtcblx0XHRpbnRyaW5zaWNOYW1lID0gJyUnICsgYWxpYXNbMF0gKyAnJSc7XG5cdH1cblxuXHRpZiAoaGFzT3duKElOVFJJTlNJQ1MsIGludHJpbnNpY05hbWUpKSB7XG5cdFx0dmFyIHZhbHVlID0gSU5UUklOU0lDU1tpbnRyaW5zaWNOYW1lXTtcblx0XHRpZiAodmFsdWUgPT09IG5lZWRzRXZhbCkge1xuXHRcdFx0dmFsdWUgPSBkb0V2YWwoaW50cmluc2ljTmFtZSk7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnICYmICFhbGxvd01pc3NpbmcpIHtcblx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdpbnRyaW5zaWMgJyArIG5hbWUgKyAnIGV4aXN0cywgYnV0IGlzIG5vdCBhdmFpbGFibGUuIFBsZWFzZSBmaWxlIGFuIGlzc3VlIScpO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRhbGlhczogYWxpYXMsXG5cdFx0XHRuYW1lOiBpbnRyaW5zaWNOYW1lLFxuXHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0fTtcblx0fVxuXG5cdHRocm93IG5ldyAkU3ludGF4RXJyb3IoJ2ludHJpbnNpYyAnICsgbmFtZSArICcgZG9lcyBub3QgZXhpc3QhJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIEdldEludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0aWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCBuYW1lLmxlbmd0aCA9PT0gMCkge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdpbnRyaW5zaWMgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuXHR9XG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSAmJiB0eXBlb2YgYWxsb3dNaXNzaW5nICE9PSAnYm9vbGVhbicpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignXCJhbGxvd01pc3NpbmdcIiBhcmd1bWVudCBtdXN0IGJlIGEgYm9vbGVhbicpO1xuXHR9XG5cblx0dmFyIHBhcnRzID0gc3RyaW5nVG9QYXRoKG5hbWUpO1xuXHR2YXIgaW50cmluc2ljQmFzZU5hbWUgPSBwYXJ0cy5sZW5ndGggPiAwID8gcGFydHNbMF0gOiAnJztcblxuXHR2YXIgaW50cmluc2ljID0gZ2V0QmFzZUludHJpbnNpYygnJScgKyBpbnRyaW5zaWNCYXNlTmFtZSArICclJywgYWxsb3dNaXNzaW5nKTtcblx0dmFyIGludHJpbnNpY1JlYWxOYW1lID0gaW50cmluc2ljLm5hbWU7XG5cdHZhciB2YWx1ZSA9IGludHJpbnNpYy52YWx1ZTtcblx0dmFyIHNraXBGdXJ0aGVyQ2FjaGluZyA9IGZhbHNlO1xuXG5cdHZhciBhbGlhcyA9IGludHJpbnNpYy5hbGlhcztcblx0aWYgKGFsaWFzKSB7XG5cdFx0aW50cmluc2ljQmFzZU5hbWUgPSBhbGlhc1swXTtcblx0XHQkc3BsaWNlQXBwbHkocGFydHMsICRjb25jYXQoWzAsIDFdLCBhbGlhcykpO1xuXHR9XG5cblx0Zm9yICh2YXIgaSA9IDEsIGlzT3duID0gdHJ1ZTsgaSA8IHBhcnRzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0dmFyIHBhcnQgPSBwYXJ0c1tpXTtcblx0XHR2YXIgZmlyc3QgPSAkc3RyU2xpY2UocGFydCwgMCwgMSk7XG5cdFx0dmFyIGxhc3QgPSAkc3RyU2xpY2UocGFydCwgLTEpO1xuXHRcdGlmIChcblx0XHRcdChcblx0XHRcdFx0KGZpcnN0ID09PSAnXCInIHx8IGZpcnN0ID09PSBcIidcIiB8fCBmaXJzdCA9PT0gJ2AnKVxuXHRcdFx0XHR8fCAobGFzdCA9PT0gJ1wiJyB8fCBsYXN0ID09PSBcIidcIiB8fCBsYXN0ID09PSAnYCcpXG5cdFx0XHQpXG5cdFx0XHQmJiBmaXJzdCAhPT0gbGFzdFxuXHRcdCkge1xuXHRcdFx0dGhyb3cgbmV3ICRTeW50YXhFcnJvcigncHJvcGVydHkgbmFtZXMgd2l0aCBxdW90ZXMgbXVzdCBoYXZlIG1hdGNoaW5nIHF1b3RlcycpO1xuXHRcdH1cblx0XHRpZiAocGFydCA9PT0gJ2NvbnN0cnVjdG9yJyB8fCAhaXNPd24pIHtcblx0XHRcdHNraXBGdXJ0aGVyQ2FjaGluZyA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aW50cmluc2ljQmFzZU5hbWUgKz0gJy4nICsgcGFydDtcblx0XHRpbnRyaW5zaWNSZWFsTmFtZSA9ICclJyArIGludHJpbnNpY0Jhc2VOYW1lICsgJyUnO1xuXG5cdFx0aWYgKGhhc093bihJTlRSSU5TSUNTLCBpbnRyaW5zaWNSZWFsTmFtZSkpIHtcblx0XHRcdHZhbHVlID0gSU5UUklOU0lDU1tpbnRyaW5zaWNSZWFsTmFtZV07XG5cdFx0fSBlbHNlIGlmICh2YWx1ZSAhPSBudWxsKSB7XG5cdFx0XHRpZiAoIShwYXJ0IGluIHZhbHVlKSkge1xuXHRcdFx0XHRpZiAoIWFsbG93TWlzc2luZykge1xuXHRcdFx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdiYXNlIGludHJpbnNpYyBmb3IgJyArIG5hbWUgKyAnIGV4aXN0cywgYnV0IHRoZSBwcm9wZXJ0eSBpcyBub3QgYXZhaWxhYmxlLicpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB2b2lkIHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHRcdGlmICgkZ09QRCAmJiAoaSArIDEpID49IHBhcnRzLmxlbmd0aCkge1xuXHRcdFx0XHR2YXIgZGVzYyA9ICRnT1BEKHZhbHVlLCBwYXJ0KTtcblx0XHRcdFx0aXNPd24gPSAhIWRlc2M7XG5cblx0XHRcdFx0Ly8gQnkgY29udmVudGlvbiwgd2hlbiBhIGRhdGEgcHJvcGVydHkgaXMgY29udmVydGVkIHRvIGFuIGFjY2Vzc29yXG5cdFx0XHRcdC8vIHByb3BlcnR5IHRvIGVtdWxhdGUgYSBkYXRhIHByb3BlcnR5IHRoYXQgZG9lcyBub3Qgc3VmZmVyIGZyb21cblx0XHRcdFx0Ly8gdGhlIG92ZXJyaWRlIG1pc3Rha2UsIHRoYXQgYWNjZXNzb3IncyBnZXR0ZXIgaXMgbWFya2VkIHdpdGhcblx0XHRcdFx0Ly8gYW4gYG9yaWdpbmFsVmFsdWVgIHByb3BlcnR5LiBIZXJlLCB3aGVuIHdlIGRldGVjdCB0aGlzLCB3ZVxuXHRcdFx0XHQvLyB1cGhvbGQgdGhlIGlsbHVzaW9uIGJ5IHByZXRlbmRpbmcgdG8gc2VlIHRoYXQgb3JpZ2luYWwgZGF0YVxuXHRcdFx0XHQvLyBwcm9wZXJ0eSwgaS5lLiwgcmV0dXJuaW5nIHRoZSB2YWx1ZSByYXRoZXIgdGhhbiB0aGUgZ2V0dGVyXG5cdFx0XHRcdC8vIGl0c2VsZi5cblx0XHRcdFx0aWYgKGlzT3duICYmICdnZXQnIGluIGRlc2MgJiYgISgnb3JpZ2luYWxWYWx1ZScgaW4gZGVzYy5nZXQpKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBkZXNjLmdldDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlW3BhcnRdO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpc093biA9IGhhc093bih2YWx1ZSwgcGFydCk7XG5cdFx0XHRcdHZhbHVlID0gdmFsdWVbcGFydF07XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpc093biAmJiAhc2tpcEZ1cnRoZXJDYWNoaW5nKSB7XG5cdFx0XHRcdElOVFJJTlNJQ1NbaW50cmluc2ljUmVhbE5hbWVdID0gdmFsdWU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiB2YWx1ZTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcbnZhciBHZXRJbnRyaW5zaWMgPSByZXF1aXJlKCdnZXQtaW50cmluc2ljJyk7XG5cbnZhciAkYXBwbHkgPSBHZXRJbnRyaW5zaWMoJyVGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHklJyk7XG52YXIgJGNhbGwgPSBHZXRJbnRyaW5zaWMoJyVGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCUnKTtcbnZhciAkcmVmbGVjdEFwcGx5ID0gR2V0SW50cmluc2ljKCclUmVmbGVjdC5hcHBseSUnLCB0cnVlKSB8fCBiaW5kLmNhbGwoJGNhbGwsICRhcHBseSk7XG5cbnZhciAkZ09QRCA9IEdldEludHJpbnNpYygnJU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IlJywgdHJ1ZSk7XG52YXIgJGRlZmluZVByb3BlcnR5ID0gR2V0SW50cmluc2ljKCclT2JqZWN0LmRlZmluZVByb3BlcnR5JScsIHRydWUpO1xudmFyICRtYXggPSBHZXRJbnRyaW5zaWMoJyVNYXRoLm1heCUnKTtcblxuaWYgKCRkZWZpbmVQcm9wZXJ0eSkge1xuXHR0cnkge1xuXHRcdCRkZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7IHZhbHVlOiAxIH0pO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gSUUgOCBoYXMgYSBicm9rZW4gZGVmaW5lUHJvcGVydHlcblx0XHQkZGVmaW5lUHJvcGVydHkgPSBudWxsO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY2FsbEJpbmQob3JpZ2luYWxGdW5jdGlvbikge1xuXHR2YXIgZnVuYyA9ICRyZWZsZWN0QXBwbHkoYmluZCwgJGNhbGwsIGFyZ3VtZW50cyk7XG5cdGlmICgkZ09QRCAmJiAkZGVmaW5lUHJvcGVydHkpIHtcblx0XHR2YXIgZGVzYyA9ICRnT1BEKGZ1bmMsICdsZW5ndGgnKTtcblx0XHRpZiAoZGVzYy5jb25maWd1cmFibGUpIHtcblx0XHRcdC8vIG9yaWdpbmFsIGxlbmd0aCwgcGx1cyB0aGUgcmVjZWl2ZXIsIG1pbnVzIGFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyAoYWZ0ZXIgdGhlIHJlY2VpdmVyKVxuXHRcdFx0JGRlZmluZVByb3BlcnR5KFxuXHRcdFx0XHRmdW5jLFxuXHRcdFx0XHQnbGVuZ3RoJyxcblx0XHRcdFx0eyB2YWx1ZTogMSArICRtYXgoMCwgb3JpZ2luYWxGdW5jdGlvbi5sZW5ndGggLSAoYXJndW1lbnRzLmxlbmd0aCAtIDEpKSB9XG5cdFx0XHQpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZnVuYztcbn07XG5cbnZhciBhcHBseUJpbmQgPSBmdW5jdGlvbiBhcHBseUJpbmQoKSB7XG5cdHJldHVybiAkcmVmbGVjdEFwcGx5KGJpbmQsICRhcHBseSwgYXJndW1lbnRzKTtcbn07XG5cbmlmICgkZGVmaW5lUHJvcGVydHkpIHtcblx0JGRlZmluZVByb3BlcnR5KG1vZHVsZS5leHBvcnRzLCAnYXBwbHknLCB7IHZhbHVlOiBhcHBseUJpbmQgfSk7XG59IGVsc2Uge1xuXHRtb2R1bGUuZXhwb3J0cy5hcHBseSA9IGFwcGx5QmluZDtcbn1cbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBHZXRJbnRyaW5zaWMgPSByZXF1aXJlKCdnZXQtaW50cmluc2ljJyk7XG5cbnZhciBjYWxsQmluZCA9IHJlcXVpcmUoJy4vJyk7XG5cbnZhciAkaW5kZXhPZiA9IGNhbGxCaW5kKEdldEludHJpbnNpYygnU3RyaW5nLnByb3RvdHlwZS5pbmRleE9mJykpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNhbGxCb3VuZEludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0dmFyIGludHJpbnNpYyA9IEdldEludHJpbnNpYyhuYW1lLCAhIWFsbG93TWlzc2luZyk7XG5cdGlmICh0eXBlb2YgaW50cmluc2ljID09PSAnZnVuY3Rpb24nICYmICRpbmRleE9mKG5hbWUsICcucHJvdG90eXBlLicpID4gLTEpIHtcblx0XHRyZXR1cm4gY2FsbEJpbmQoaW50cmluc2ljKTtcblx0fVxuXHRyZXR1cm4gaW50cmluc2ljO1xufTtcbiIsICIiLCAidmFyIGhhc01hcCA9IHR5cGVvZiBNYXAgPT09ICdmdW5jdGlvbicgJiYgTWFwLnByb3RvdHlwZTtcbnZhciBtYXBTaXplRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgJiYgaGFzTWFwID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihNYXAucHJvdG90eXBlLCAnc2l6ZScpIDogbnVsbDtcbnZhciBtYXBTaXplID0gaGFzTWFwICYmIG1hcFNpemVEZXNjcmlwdG9yICYmIHR5cGVvZiBtYXBTaXplRGVzY3JpcHRvci5nZXQgPT09ICdmdW5jdGlvbicgPyBtYXBTaXplRGVzY3JpcHRvci5nZXQgOiBudWxsO1xudmFyIG1hcEZvckVhY2ggPSBoYXNNYXAgJiYgTWFwLnByb3RvdHlwZS5mb3JFYWNoO1xudmFyIGhhc1NldCA9IHR5cGVvZiBTZXQgPT09ICdmdW5jdGlvbicgJiYgU2V0LnByb3RvdHlwZTtcbnZhciBzZXRTaXplRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgJiYgaGFzU2V0ID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihTZXQucHJvdG90eXBlLCAnc2l6ZScpIDogbnVsbDtcbnZhciBzZXRTaXplID0gaGFzU2V0ICYmIHNldFNpemVEZXNjcmlwdG9yICYmIHR5cGVvZiBzZXRTaXplRGVzY3JpcHRvci5nZXQgPT09ICdmdW5jdGlvbicgPyBzZXRTaXplRGVzY3JpcHRvci5nZXQgOiBudWxsO1xudmFyIHNldEZvckVhY2ggPSBoYXNTZXQgJiYgU2V0LnByb3RvdHlwZS5mb3JFYWNoO1xudmFyIGhhc1dlYWtNYXAgPSB0eXBlb2YgV2Vha01hcCA9PT0gJ2Z1bmN0aW9uJyAmJiBXZWFrTWFwLnByb3RvdHlwZTtcbnZhciB3ZWFrTWFwSGFzID0gaGFzV2Vha01hcCA/IFdlYWtNYXAucHJvdG90eXBlLmhhcyA6IG51bGw7XG52YXIgaGFzV2Vha1NldCA9IHR5cGVvZiBXZWFrU2V0ID09PSAnZnVuY3Rpb24nICYmIFdlYWtTZXQucHJvdG90eXBlO1xudmFyIHdlYWtTZXRIYXMgPSBoYXNXZWFrU2V0ID8gV2Vha1NldC5wcm90b3R5cGUuaGFzIDogbnVsbDtcbnZhciBoYXNXZWFrUmVmID0gdHlwZW9mIFdlYWtSZWYgPT09ICdmdW5jdGlvbicgJiYgV2Vha1JlZi5wcm90b3R5cGU7XG52YXIgd2Vha1JlZkRlcmVmID0gaGFzV2Vha1JlZiA/IFdlYWtSZWYucHJvdG90eXBlLmRlcmVmIDogbnVsbDtcbnZhciBib29sZWFuVmFsdWVPZiA9IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2Y7XG52YXIgb2JqZWN0VG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGZ1bmN0aW9uVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgbWF0Y2ggPSBTdHJpbmcucHJvdG90eXBlLm1hdGNoO1xudmFyIGJpZ0ludFZhbHVlT2YgPSB0eXBlb2YgQmlnSW50ID09PSAnZnVuY3Rpb24nID8gQmlnSW50LnByb3RvdHlwZS52YWx1ZU9mIDogbnVsbDtcbnZhciBnT1BTID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBzeW1Ub1N0cmluZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gJ3N5bWJvbCcgPyBTeW1ib2wucHJvdG90eXBlLnRvU3RyaW5nIDogbnVsbDtcbnZhciBoYXNTaGFtbWVkU3ltYm9scyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gJ29iamVjdCc7XG4vLyBpZSwgYGhhcy10b3N0cmluZ3RhZy9zaGFtc1xudmFyIHRvU3RyaW5nVGFnID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcgJiYgKHR5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWcgPT09IGhhc1NoYW1tZWRTeW1ib2xzID8gJ29iamVjdCcgOiAnc3ltYm9sJylcbiAgICA/IFN5bWJvbC50b1N0cmluZ1RhZ1xuICAgIDogbnVsbDtcbnZhciBpc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG52YXIgZ1BPID0gKHR5cGVvZiBSZWZsZWN0ID09PSAnZnVuY3Rpb24nID8gUmVmbGVjdC5nZXRQcm90b3R5cGVPZiA6IE9iamVjdC5nZXRQcm90b3R5cGVPZikgfHwgKFxuICAgIFtdLl9fcHJvdG9fXyA9PT0gQXJyYXkucHJvdG90eXBlIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG9cbiAgICAgICAgPyBmdW5jdGlvbiAoTykge1xuICAgICAgICAgICAgcmV0dXJuIE8uX19wcm90b19fOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvXG4gICAgICAgIH1cbiAgICAgICAgOiBudWxsXG4pO1xuXG52YXIgaW5zcGVjdEN1c3RvbSA9IHJlcXVpcmUoJy4vdXRpbC5pbnNwZWN0JykuY3VzdG9tO1xudmFyIGluc3BlY3RTeW1ib2wgPSBpbnNwZWN0Q3VzdG9tICYmIGlzU3ltYm9sKGluc3BlY3RDdXN0b20pID8gaW5zcGVjdEN1c3RvbSA6IG51bGw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5zcGVjdF8ob2JqLCBvcHRpb25zLCBkZXB0aCwgc2Vlbikge1xuICAgIHZhciBvcHRzID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIGlmIChoYXMob3B0cywgJ3F1b3RlU3R5bGUnKSAmJiAob3B0cy5xdW90ZVN0eWxlICE9PSAnc2luZ2xlJyAmJiBvcHRzLnF1b3RlU3R5bGUgIT09ICdkb3VibGUnKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gXCJxdW90ZVN0eWxlXCIgbXVzdCBiZSBcInNpbmdsZVwiIG9yIFwiZG91YmxlXCInKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgICBoYXMob3B0cywgJ21heFN0cmluZ0xlbmd0aCcpICYmICh0eXBlb2Ygb3B0cy5tYXhTdHJpbmdMZW5ndGggPT09ICdudW1iZXInXG4gICAgICAgICAgICA/IG9wdHMubWF4U3RyaW5nTGVuZ3RoIDwgMCAmJiBvcHRzLm1heFN0cmluZ0xlbmd0aCAhPT0gSW5maW5pdHlcbiAgICAgICAgICAgIDogb3B0cy5tYXhTdHJpbmdMZW5ndGggIT09IG51bGxcbiAgICAgICAgKVxuICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gXCJtYXhTdHJpbmdMZW5ndGhcIiwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLCBJbmZpbml0eSwgb3IgYG51bGxgJyk7XG4gICAgfVxuICAgIHZhciBjdXN0b21JbnNwZWN0ID0gaGFzKG9wdHMsICdjdXN0b21JbnNwZWN0JykgPyBvcHRzLmN1c3RvbUluc3BlY3QgOiB0cnVlO1xuICAgIGlmICh0eXBlb2YgY3VzdG9tSW5zcGVjdCAhPT0gJ2Jvb2xlYW4nICYmIGN1c3RvbUluc3BlY3QgIT09ICdzeW1ib2wnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBcImN1c3RvbUluc3BlY3RcIiwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYHRydWVgLCBgZmFsc2VgLCBvciBgXFwnc3ltYm9sXFwnYCcpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgICAgaGFzKG9wdHMsICdpbmRlbnQnKVxuICAgICAgICAmJiBvcHRzLmluZGVudCAhPT0gbnVsbFxuICAgICAgICAmJiBvcHRzLmluZGVudCAhPT0gJ1xcdCdcbiAgICAgICAgJiYgIShwYXJzZUludChvcHRzLmluZGVudCwgMTApID09PSBvcHRzLmluZGVudCAmJiBvcHRzLmluZGVudCA+IDApXG4gICAgKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbnMgXCJpbmRlbnRcIiBtdXN0IGJlIFwiXFxcXHRcIiwgYW4gaW50ZWdlciA+IDAsIG9yIGBudWxsYCcpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gICAgfVxuICAgIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICdudWxsJztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdib29sZWFuJykge1xuICAgICAgICByZXR1cm4gb2JqID8gJ3RydWUnIDogJ2ZhbHNlJztcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGluc3BlY3RTdHJpbmcob2JqLCBvcHRzKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChvYmogPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBJbmZpbml0eSAvIG9iaiA+IDAgPyAnMCcgOiAnLTAnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTdHJpbmcob2JqKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdiaWdpbnQnKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcob2JqKSArICduJztcbiAgICB9XG5cbiAgICB2YXIgbWF4RGVwdGggPSB0eXBlb2Ygb3B0cy5kZXB0aCA9PT0gJ3VuZGVmaW5lZCcgPyA1IDogb3B0cy5kZXB0aDtcbiAgICBpZiAodHlwZW9mIGRlcHRoID09PSAndW5kZWZpbmVkJykgeyBkZXB0aCA9IDA7IH1cbiAgICBpZiAoZGVwdGggPj0gbWF4RGVwdGggJiYgbWF4RGVwdGggPiAwICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KG9iaikgPyAnW0FycmF5XScgOiAnW09iamVjdF0nO1xuICAgIH1cblxuICAgIHZhciBpbmRlbnQgPSBnZXRJbmRlbnQob3B0cywgZGVwdGgpO1xuXG4gICAgaWYgKHR5cGVvZiBzZWVuID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZWVuID0gW107XG4gICAgfSBlbHNlIGlmIChpbmRleE9mKHNlZW4sIG9iaikgPj0gMCkge1xuICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3BlY3QodmFsdWUsIGZyb20sIG5vSW5kZW50KSB7XG4gICAgICAgIGlmIChmcm9tKSB7XG4gICAgICAgICAgICBzZWVuID0gc2Vlbi5zbGljZSgpO1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGZyb20pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub0luZGVudCkge1xuICAgICAgICAgICAgdmFyIG5ld09wdHMgPSB7XG4gICAgICAgICAgICAgICAgZGVwdGg6IG9wdHMuZGVwdGhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoaGFzKG9wdHMsICdxdW90ZVN0eWxlJykpIHtcbiAgICAgICAgICAgICAgICBuZXdPcHRzLnF1b3RlU3R5bGUgPSBvcHRzLnF1b3RlU3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5zcGVjdF8odmFsdWUsIG5ld09wdHMsIGRlcHRoICsgMSwgc2Vlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluc3BlY3RfKHZhbHVlLCBvcHRzLCBkZXB0aCArIDEsIHNlZW4pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBuYW1lID0gbmFtZU9mKG9iaik7XG4gICAgICAgIHZhciBrZXlzID0gYXJyT2JqS2V5cyhvYmosIGluc3BlY3QpO1xuICAgICAgICByZXR1cm4gJ1tGdW5jdGlvbicgKyAobmFtZSA/ICc6ICcgKyBuYW1lIDogJyAoYW5vbnltb3VzKScpICsgJ10nICsgKGtleXMubGVuZ3RoID4gMCA/ICcgeyAnICsga2V5cy5qb2luKCcsICcpICsgJyB9JyA6ICcnKTtcbiAgICB9XG4gICAgaWYgKGlzU3ltYm9sKG9iaikpIHtcbiAgICAgICAgdmFyIHN5bVN0cmluZyA9IGhhc1NoYW1tZWRTeW1ib2xzID8gU3RyaW5nKG9iaikucmVwbGFjZSgvXihTeW1ib2xcXCguKlxcKSlfW14pXSokLywgJyQxJykgOiBzeW1Ub1N0cmluZy5jYWxsKG9iaik7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiAhaGFzU2hhbW1lZFN5bWJvbHMgPyBtYXJrQm94ZWQoc3ltU3RyaW5nKSA6IHN5bVN0cmluZztcbiAgICB9XG4gICAgaWYgKGlzRWxlbWVudChvYmopKSB7XG4gICAgICAgIHZhciBzID0gJzwnICsgU3RyaW5nKG9iai5ub2RlTmFtZSkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdmFyIGF0dHJzID0gb2JqLmF0dHJpYnV0ZXMgfHwgW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHMgKz0gJyAnICsgYXR0cnNbaV0ubmFtZSArICc9JyArIHdyYXBRdW90ZXMocXVvdGUoYXR0cnNbaV0udmFsdWUpLCAnZG91YmxlJywgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgcyArPSAnPic7XG4gICAgICAgIGlmIChvYmouY2hpbGROb2RlcyAmJiBvYmouY2hpbGROb2Rlcy5sZW5ndGgpIHsgcyArPSAnLi4uJzsgfVxuICAgICAgICBzICs9ICc8LycgKyBTdHJpbmcob2JqLm5vZGVOYW1lKS50b0xvd2VyQ2FzZSgpICsgJz4nO1xuICAgICAgICByZXR1cm4gcztcbiAgICB9XG4gICAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgICAgICBpZiAob2JqLmxlbmd0aCA9PT0gMCkgeyByZXR1cm4gJ1tdJzsgfVxuICAgICAgICB2YXIgeHMgPSBhcnJPYmpLZXlzKG9iaiwgaW5zcGVjdCk7XG4gICAgICAgIGlmIChpbmRlbnQgJiYgIXNpbmdsZUxpbmVWYWx1ZXMoeHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1snICsgaW5kZW50ZWRKb2luKHhzLCBpbmRlbnQpICsgJ10nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnWyAnICsgeHMuam9pbignLCAnKSArICcgXSc7XG4gICAgfVxuICAgIGlmIChpc0Vycm9yKG9iaikpIHtcbiAgICAgICAgdmFyIHBhcnRzID0gYXJyT2JqS2V5cyhvYmosIGluc3BlY3QpO1xuICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAwKSB7IHJldHVybiAnWycgKyBTdHJpbmcob2JqKSArICddJzsgfVxuICAgICAgICByZXR1cm4gJ3sgWycgKyBTdHJpbmcob2JqKSArICddICcgKyBwYXJ0cy5qb2luKCcsICcpICsgJyB9JztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIGN1c3RvbUluc3BlY3QpIHtcbiAgICAgICAgaWYgKGluc3BlY3RTeW1ib2wgJiYgdHlwZW9mIG9ialtpbnNwZWN0U3ltYm9sXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIG9ialtpbnNwZWN0U3ltYm9sXSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGN1c3RvbUluc3BlY3QgIT09ICdzeW1ib2wnICYmIHR5cGVvZiBvYmouaW5zcGVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIG9iai5pbnNwZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzTWFwKG9iaikpIHtcbiAgICAgICAgdmFyIG1hcFBhcnRzID0gW107XG4gICAgICAgIG1hcEZvckVhY2guY2FsbChvYmosIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICBtYXBQYXJ0cy5wdXNoKGluc3BlY3Qoa2V5LCBvYmosIHRydWUpICsgJyA9PiAnICsgaW5zcGVjdCh2YWx1ZSwgb2JqKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbk9mKCdNYXAnLCBtYXBTaXplLmNhbGwob2JqKSwgbWFwUGFydHMsIGluZGVudCk7XG4gICAgfVxuICAgIGlmIChpc1NldChvYmopKSB7XG4gICAgICAgIHZhciBzZXRQYXJ0cyA9IFtdO1xuICAgICAgICBzZXRGb3JFYWNoLmNhbGwob2JqLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHNldFBhcnRzLnB1c2goaW5zcGVjdCh2YWx1ZSwgb2JqKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbk9mKCdTZXQnLCBzZXRTaXplLmNhbGwob2JqKSwgc2V0UGFydHMsIGluZGVudCk7XG4gICAgfVxuICAgIGlmIChpc1dlYWtNYXAob2JqKSkge1xuICAgICAgICByZXR1cm4gd2Vha0NvbGxlY3Rpb25PZignV2Vha01hcCcpO1xuICAgIH1cbiAgICBpZiAoaXNXZWFrU2V0KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIHdlYWtDb2xsZWN0aW9uT2YoJ1dlYWtTZXQnKTtcbiAgICB9XG4gICAgaWYgKGlzV2Vha1JlZihvYmopKSB7XG4gICAgICAgIHJldHVybiB3ZWFrQ29sbGVjdGlvbk9mKCdXZWFrUmVmJyk7XG4gICAgfVxuICAgIGlmIChpc051bWJlcihvYmopKSB7XG4gICAgICAgIHJldHVybiBtYXJrQm94ZWQoaW5zcGVjdChOdW1iZXIob2JqKSkpO1xuICAgIH1cbiAgICBpZiAoaXNCaWdJbnQob2JqKSkge1xuICAgICAgICByZXR1cm4gbWFya0JveGVkKGluc3BlY3QoYmlnSW50VmFsdWVPZi5jYWxsKG9iaikpKTtcbiAgICB9XG4gICAgaWYgKGlzQm9vbGVhbihvYmopKSB7XG4gICAgICAgIHJldHVybiBtYXJrQm94ZWQoYm9vbGVhblZhbHVlT2YuY2FsbChvYmopKTtcbiAgICB9XG4gICAgaWYgKGlzU3RyaW5nKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG1hcmtCb3hlZChpbnNwZWN0KFN0cmluZyhvYmopKSk7XG4gICAgfVxuICAgIGlmICghaXNEYXRlKG9iaikgJiYgIWlzUmVnRXhwKG9iaikpIHtcbiAgICAgICAgdmFyIHlzID0gYXJyT2JqS2V5cyhvYmosIGluc3BlY3QpO1xuICAgICAgICB2YXIgaXNQbGFpbk9iamVjdCA9IGdQTyA/IGdQTyhvYmopID09PSBPYmplY3QucHJvdG90eXBlIDogb2JqIGluc3RhbmNlb2YgT2JqZWN0IHx8IG9iai5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xuICAgICAgICB2YXIgcHJvdG9UYWcgPSBvYmogaW5zdGFuY2VvZiBPYmplY3QgPyAnJyA6ICdudWxsIHByb3RvdHlwZSc7XG4gICAgICAgIHZhciBzdHJpbmdUYWcgPSAhaXNQbGFpbk9iamVjdCAmJiB0b1N0cmluZ1RhZyAmJiBPYmplY3Qob2JqKSA9PT0gb2JqICYmIHRvU3RyaW5nVGFnIGluIG9iaiA/IHRvU3RyKG9iaikuc2xpY2UoOCwgLTEpIDogcHJvdG9UYWcgPyAnT2JqZWN0JyA6ICcnO1xuICAgICAgICB2YXIgY29uc3RydWN0b3JUYWcgPSBpc1BsYWluT2JqZWN0IHx8IHR5cGVvZiBvYmouY29uc3RydWN0b3IgIT09ICdmdW5jdGlvbicgPyAnJyA6IG9iai5jb25zdHJ1Y3Rvci5uYW1lID8gb2JqLmNvbnN0cnVjdG9yLm5hbWUgKyAnICcgOiAnJztcbiAgICAgICAgdmFyIHRhZyA9IGNvbnN0cnVjdG9yVGFnICsgKHN0cmluZ1RhZyB8fCBwcm90b1RhZyA/ICdbJyArIFtdLmNvbmNhdChzdHJpbmdUYWcgfHwgW10sIHByb3RvVGFnIHx8IFtdKS5qb2luKCc6ICcpICsgJ10gJyA6ICcnKTtcbiAgICAgICAgaWYgKHlzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm4gdGFnICsgJ3t9JzsgfVxuICAgICAgICBpZiAoaW5kZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGFnICsgJ3snICsgaW5kZW50ZWRKb2luKHlzLCBpbmRlbnQpICsgJ30nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YWcgKyAneyAnICsgeXMuam9pbignLCAnKSArICcgfSc7XG4gICAgfVxuICAgIHJldHVybiBTdHJpbmcob2JqKTtcbn07XG5cbmZ1bmN0aW9uIHdyYXBRdW90ZXMocywgZGVmYXVsdFN0eWxlLCBvcHRzKSB7XG4gICAgdmFyIHF1b3RlQ2hhciA9IChvcHRzLnF1b3RlU3R5bGUgfHwgZGVmYXVsdFN0eWxlKSA9PT0gJ2RvdWJsZScgPyAnXCInIDogXCInXCI7XG4gICAgcmV0dXJuIHF1b3RlQ2hhciArIHMgKyBxdW90ZUNoYXI7XG59XG5cbmZ1bmN0aW9uIHF1b3RlKHMpIHtcbiAgICByZXR1cm4gU3RyaW5nKHMpLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKTtcbn1cblxuZnVuY3Rpb24gaXNBcnJheShvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XScgJiYgKCF0b1N0cmluZ1RhZyB8fCAhKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIHRvU3RyaW5nVGFnIGluIG9iaikpOyB9XG5mdW5jdGlvbiBpc0RhdGUob2JqKSB7IHJldHVybiB0b1N0cihvYmopID09PSAnW29iamVjdCBEYXRlXScgJiYgKCF0b1N0cmluZ1RhZyB8fCAhKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIHRvU3RyaW5nVGFnIGluIG9iaikpOyB9XG5mdW5jdGlvbiBpc1JlZ0V4cChvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IFJlZ0V4cF0nICYmICghdG9TdHJpbmdUYWcgfHwgISh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiB0b1N0cmluZ1RhZyBpbiBvYmopKTsgfVxuZnVuY3Rpb24gaXNFcnJvcihvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IEVycm9yXScgJiYgKCF0b1N0cmluZ1RhZyB8fCAhKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIHRvU3RyaW5nVGFnIGluIG9iaikpOyB9XG5mdW5jdGlvbiBpc1N0cmluZyhvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IFN0cmluZ10nICYmICghdG9TdHJpbmdUYWcgfHwgISh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiB0b1N0cmluZ1RhZyBpbiBvYmopKTsgfVxuZnVuY3Rpb24gaXNOdW1iZXIob2JqKSB7IHJldHVybiB0b1N0cihvYmopID09PSAnW29iamVjdCBOdW1iZXJdJyAmJiAoIXRvU3RyaW5nVGFnIHx8ICEodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgdG9TdHJpbmdUYWcgaW4gb2JqKSk7IH1cbmZ1bmN0aW9uIGlzQm9vbGVhbihvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IEJvb2xlYW5dJyAmJiAoIXRvU3RyaW5nVGFnIHx8ICEodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgdG9TdHJpbmdUYWcgaW4gb2JqKSk7IH1cblxuLy8gU3ltYm9sIGFuZCBCaWdJbnQgZG8gaGF2ZSBTeW1ib2wudG9TdHJpbmdUYWcgYnkgc3BlYywgc28gdGhhdCBjYW4ndCBiZSB1c2VkIHRvIGVsaW1pbmF0ZSBmYWxzZSBwb3NpdGl2ZXNcbmZ1bmN0aW9uIGlzU3ltYm9sKG9iaikge1xuICAgIGlmIChoYXNTaGFtbWVkU3ltYm9scykge1xuICAgICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iaiBpbnN0YW5jZW9mIFN5bWJvbDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdzeW1ib2wnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCAhc3ltVG9TdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBzeW1Ub1N0cmluZy5jYWxsKG9iaik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc0JpZ0ludChvYmopIHtcbiAgICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCAhYmlnSW50VmFsdWVPZikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGJpZ0ludFZhbHVlT2YuY2FsbChvYmopO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxudmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkgfHwgZnVuY3Rpb24gKGtleSkgeyByZXR1cm4ga2V5IGluIHRoaXM7IH07XG5mdW5jdGlvbiBoYXMob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gaGFzT3duLmNhbGwob2JqLCBrZXkpO1xufVxuXG5mdW5jdGlvbiB0b1N0cihvYmopIHtcbiAgICByZXR1cm4gb2JqZWN0VG9TdHJpbmcuY2FsbChvYmopO1xufVxuXG5mdW5jdGlvbiBuYW1lT2YoZikge1xuICAgIGlmIChmLm5hbWUpIHsgcmV0dXJuIGYubmFtZTsgfVxuICAgIHZhciBtID0gbWF0Y2guY2FsbChmdW5jdGlvblRvU3RyaW5nLmNhbGwoZiksIC9eZnVuY3Rpb25cXHMqKFtcXHckXSspLyk7XG4gICAgaWYgKG0pIHsgcmV0dXJuIG1bMV07IH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gaW5kZXhPZih4cywgeCkge1xuICAgIGlmICh4cy5pbmRleE9mKSB7IHJldHVybiB4cy5pbmRleE9mKHgpOyB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSB4cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKHhzW2ldID09PSB4KSB7IHJldHVybiBpOyB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gaXNNYXAoeCkge1xuICAgIGlmICghbWFwU2l6ZSB8fCAheCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBtYXBTaXplLmNhbGwoeCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRTaXplLmNhbGwoeCk7XG4gICAgICAgIH0gY2F0Y2ggKHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4IGluc3RhbmNlb2YgTWFwOyAvLyBjb3JlLWpzIHdvcmthcm91bmQsIHByZS12Mi41LjBcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNXZWFrTWFwKHgpIHtcbiAgICBpZiAoIXdlYWtNYXBIYXMgfHwgIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgd2Vha01hcEhhcy5jYWxsKHgsIHdlYWtNYXBIYXMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2Vha1NldEhhcy5jYWxsKHgsIHdlYWtTZXRIYXMpO1xuICAgICAgICB9IGNhdGNoIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geCBpbnN0YW5jZW9mIFdlYWtNYXA7IC8vIGNvcmUtanMgd29ya2Fyb3VuZCwgcHJlLXYyLjUuMFxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc1dlYWtSZWYoeCkge1xuICAgIGlmICghd2Vha1JlZkRlcmVmIHx8ICF4IHx8IHR5cGVvZiB4ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHdlYWtSZWZEZXJlZi5jYWxsKHgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNTZXQoeCkge1xuICAgIGlmICghc2V0U2l6ZSB8fCAheCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBzZXRTaXplLmNhbGwoeCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtYXBTaXplLmNhbGwoeCk7XG4gICAgICAgIH0gY2F0Y2ggKG0pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4IGluc3RhbmNlb2YgU2V0OyAvLyBjb3JlLWpzIHdvcmthcm91bmQsIHByZS12Mi41LjBcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNXZWFrU2V0KHgpIHtcbiAgICBpZiAoIXdlYWtTZXRIYXMgfHwgIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgd2Vha1NldEhhcy5jYWxsKHgsIHdlYWtTZXRIYXMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2Vha01hcEhhcy5jYWxsKHgsIHdlYWtNYXBIYXMpO1xuICAgICAgICB9IGNhdGNoIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geCBpbnN0YW5jZW9mIFdlYWtTZXQ7IC8vIGNvcmUtanMgd29ya2Fyb3VuZCwgcHJlLXYyLjUuMFxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc0VsZW1lbnQoeCkge1xuICAgIGlmICgheCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgaWYgKHR5cGVvZiBIVE1MRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgeCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZW9mIHgubm9kZU5hbWUgPT09ICdzdHJpbmcnICYmIHR5cGVvZiB4LmdldEF0dHJpYnV0ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaW5zcGVjdFN0cmluZyhzdHIsIG9wdHMpIHtcbiAgICBpZiAoc3RyLmxlbmd0aCA+IG9wdHMubWF4U3RyaW5nTGVuZ3RoKSB7XG4gICAgICAgIHZhciByZW1haW5pbmcgPSBzdHIubGVuZ3RoIC0gb3B0cy5tYXhTdHJpbmdMZW5ndGg7XG4gICAgICAgIHZhciB0cmFpbGVyID0gJy4uLiAnICsgcmVtYWluaW5nICsgJyBtb3JlIGNoYXJhY3RlcicgKyAocmVtYWluaW5nID4gMSA/ICdzJyA6ICcnKTtcbiAgICAgICAgcmV0dXJuIGluc3BlY3RTdHJpbmcoc3RyLnNsaWNlKDAsIG9wdHMubWF4U3RyaW5nTGVuZ3RoKSwgb3B0cykgKyB0cmFpbGVyO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleFxuICAgIHZhciBzID0gc3RyLnJlcGxhY2UoLyhbJ1xcXFxdKS9nLCAnXFxcXCQxJykucmVwbGFjZSgvW1xceDAwLVxceDFmXS9nLCBsb3dieXRlKTtcbiAgICByZXR1cm4gd3JhcFF1b3RlcyhzLCAnc2luZ2xlJywgb3B0cyk7XG59XG5cbmZ1bmN0aW9uIGxvd2J5dGUoYykge1xuICAgIHZhciBuID0gYy5jaGFyQ29kZUF0KDApO1xuICAgIHZhciB4ID0ge1xuICAgICAgICA4OiAnYicsXG4gICAgICAgIDk6ICd0JyxcbiAgICAgICAgMTA6ICduJyxcbiAgICAgICAgMTI6ICdmJyxcbiAgICAgICAgMTM6ICdyJ1xuICAgIH1bbl07XG4gICAgaWYgKHgpIHsgcmV0dXJuICdcXFxcJyArIHg7IH1cbiAgICByZXR1cm4gJ1xcXFx4JyArIChuIDwgMHgxMCA/ICcwJyA6ICcnKSArIG4udG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG59XG5cbmZ1bmN0aW9uIG1hcmtCb3hlZChzdHIpIHtcbiAgICByZXR1cm4gJ09iamVjdCgnICsgc3RyICsgJyknO1xufVxuXG5mdW5jdGlvbiB3ZWFrQ29sbGVjdGlvbk9mKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZSArICcgeyA/IH0nO1xufVxuXG5mdW5jdGlvbiBjb2xsZWN0aW9uT2YodHlwZSwgc2l6ZSwgZW50cmllcywgaW5kZW50KSB7XG4gICAgdmFyIGpvaW5lZEVudHJpZXMgPSBpbmRlbnQgPyBpbmRlbnRlZEpvaW4oZW50cmllcywgaW5kZW50KSA6IGVudHJpZXMuam9pbignLCAnKTtcbiAgICByZXR1cm4gdHlwZSArICcgKCcgKyBzaXplICsgJykgeycgKyBqb2luZWRFbnRyaWVzICsgJ30nO1xufVxuXG5mdW5jdGlvbiBzaW5nbGVMaW5lVmFsdWVzKHhzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaW5kZXhPZih4c1tpXSwgJ1xcbicpID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0SW5kZW50KG9wdHMsIGRlcHRoKSB7XG4gICAgdmFyIGJhc2VJbmRlbnQ7XG4gICAgaWYgKG9wdHMuaW5kZW50ID09PSAnXFx0Jykge1xuICAgICAgICBiYXNlSW5kZW50ID0gJ1xcdCc7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0cy5pbmRlbnQgPT09ICdudW1iZXInICYmIG9wdHMuaW5kZW50ID4gMCkge1xuICAgICAgICBiYXNlSW5kZW50ID0gQXJyYXkob3B0cy5pbmRlbnQgKyAxKS5qb2luKCcgJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGJhc2U6IGJhc2VJbmRlbnQsXG4gICAgICAgIHByZXY6IEFycmF5KGRlcHRoICsgMSkuam9pbihiYXNlSW5kZW50KVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGluZGVudGVkSm9pbih4cywgaW5kZW50KSB7XG4gICAgaWYgKHhzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm4gJyc7IH1cbiAgICB2YXIgbGluZUpvaW5lciA9ICdcXG4nICsgaW5kZW50LnByZXYgKyBpbmRlbnQuYmFzZTtcbiAgICByZXR1cm4gbGluZUpvaW5lciArIHhzLmpvaW4oJywnICsgbGluZUpvaW5lcikgKyAnXFxuJyArIGluZGVudC5wcmV2O1xufVxuXG5mdW5jdGlvbiBhcnJPYmpLZXlzKG9iaiwgaW5zcGVjdCkge1xuICAgIHZhciBpc0FyciA9IGlzQXJyYXkob2JqKTtcbiAgICB2YXIgeHMgPSBbXTtcbiAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgeHMubGVuZ3RoID0gb2JqLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHhzW2ldID0gaGFzKG9iaiwgaSkgPyBpbnNwZWN0KG9ialtpXSwgb2JqKSA6ICcnO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBzeW1zID0gdHlwZW9mIGdPUFMgPT09ICdmdW5jdGlvbicgPyBnT1BTKG9iaikgOiBbXTtcbiAgICB2YXIgc3ltTWFwO1xuICAgIGlmIChoYXNTaGFtbWVkU3ltYm9scykge1xuICAgICAgICBzeW1NYXAgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBzeW1zLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICBzeW1NYXBbJyQnICsgc3ltc1trXV0gPSBzeW1zW2tdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICAgIGlmICghaGFzKG9iaiwga2V5KSkgeyBjb250aW51ZTsgfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4LCBuby1jb250aW51ZVxuICAgICAgICBpZiAoaXNBcnIgJiYgU3RyaW5nKE51bWJlcihrZXkpKSA9PT0ga2V5ICYmIGtleSA8IG9iai5sZW5ndGgpIHsgY29udGludWU7IH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheCwgbm8tY29udGludWVcbiAgICAgICAgaWYgKGhhc1NoYW1tZWRTeW1ib2xzICYmIHN5bU1hcFsnJCcgKyBrZXldIGluc3RhbmNlb2YgU3ltYm9sKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRvIHByZXZlbnQgc2hhbW1lZCBTeW1ib2xzLCB3aGljaCBhcmUgc3RvcmVkIGFzIHN0cmluZ3MsIGZyb20gYmVpbmcgaW5jbHVkZWQgaW4gdGhlIHN0cmluZyBrZXkgc2VjdGlvblxuICAgICAgICAgICAgY29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXgsIG5vLWNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoKC9bXlxcdyRdLykudGVzdChrZXkpKSB7XG4gICAgICAgICAgICB4cy5wdXNoKGluc3BlY3Qoa2V5LCBvYmopICsgJzogJyArIGluc3BlY3Qob2JqW2tleV0sIG9iaikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeHMucHVzaChrZXkgKyAnOiAnICsgaW5zcGVjdChvYmpba2V5XSwgb2JqKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBnT1BTID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc3ltcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKGlzRW51bWVyYWJsZS5jYWxsKG9iaiwgc3ltc1tqXSkpIHtcbiAgICAgICAgICAgICAgICB4cy5wdXNoKCdbJyArIGluc3BlY3Qoc3ltc1tqXSkgKyAnXTogJyArIGluc3BlY3Qob2JqW3N5bXNbal1dLCBvYmopKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geHM7XG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgR2V0SW50cmluc2ljID0gcmVxdWlyZSgnZ2V0LWludHJpbnNpYycpO1xudmFyIGNhbGxCb3VuZCA9IHJlcXVpcmUoJ2NhbGwtYmluZC9jYWxsQm91bmQnKTtcbnZhciBpbnNwZWN0ID0gcmVxdWlyZSgnb2JqZWN0LWluc3BlY3QnKTtcblxudmFyICRUeXBlRXJyb3IgPSBHZXRJbnRyaW5zaWMoJyVUeXBlRXJyb3IlJyk7XG52YXIgJFdlYWtNYXAgPSBHZXRJbnRyaW5zaWMoJyVXZWFrTWFwJScsIHRydWUpO1xudmFyICRNYXAgPSBHZXRJbnRyaW5zaWMoJyVNYXAlJywgdHJ1ZSk7XG5cbnZhciAkd2Vha01hcEdldCA9IGNhbGxCb3VuZCgnV2Vha01hcC5wcm90b3R5cGUuZ2V0JywgdHJ1ZSk7XG52YXIgJHdlYWtNYXBTZXQgPSBjYWxsQm91bmQoJ1dlYWtNYXAucHJvdG90eXBlLnNldCcsIHRydWUpO1xudmFyICR3ZWFrTWFwSGFzID0gY2FsbEJvdW5kKCdXZWFrTWFwLnByb3RvdHlwZS5oYXMnLCB0cnVlKTtcbnZhciAkbWFwR2V0ID0gY2FsbEJvdW5kKCdNYXAucHJvdG90eXBlLmdldCcsIHRydWUpO1xudmFyICRtYXBTZXQgPSBjYWxsQm91bmQoJ01hcC5wcm90b3R5cGUuc2V0JywgdHJ1ZSk7XG52YXIgJG1hcEhhcyA9IGNhbGxCb3VuZCgnTWFwLnByb3RvdHlwZS5oYXMnLCB0cnVlKTtcblxuLypcbiAqIFRoaXMgZnVuY3Rpb24gdHJhdmVyc2VzIHRoZSBsaXN0IHJldHVybmluZyB0aGUgbm9kZSBjb3JyZXNwb25kaW5nIHRvIHRoZVxuICogZ2l2ZW4ga2V5LlxuICpcbiAqIFRoYXQgbm9kZSBpcyBhbHNvIG1vdmVkIHRvIHRoZSBoZWFkIG9mIHRoZSBsaXN0LCBzbyB0aGF0IGlmIGl0J3MgYWNjZXNzZWRcbiAqIGFnYWluIHdlIGRvbid0IG5lZWQgdG8gdHJhdmVyc2UgdGhlIHdob2xlIGxpc3QuIEJ5IGRvaW5nIHNvLCBhbGwgdGhlIHJlY2VudGx5XG4gKiB1c2VkIG5vZGVzIGNhbiBiZSBhY2Nlc3NlZCByZWxhdGl2ZWx5IHF1aWNrbHkuXG4gKi9cbnZhciBsaXN0R2V0Tm9kZSA9IGZ1bmN0aW9uIChsaXN0LCBrZXkpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjb25zaXN0ZW50LXJldHVyblxuXHRmb3IgKHZhciBwcmV2ID0gbGlzdCwgY3VycjsgKGN1cnIgPSBwcmV2Lm5leHQpICE9PSBudWxsOyBwcmV2ID0gY3Vycikge1xuXHRcdGlmIChjdXJyLmtleSA9PT0ga2V5KSB7XG5cdFx0XHRwcmV2Lm5leHQgPSBjdXJyLm5leHQ7XG5cdFx0XHRjdXJyLm5leHQgPSBsaXN0Lm5leHQ7XG5cdFx0XHRsaXN0Lm5leHQgPSBjdXJyOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG5cdFx0XHRyZXR1cm4gY3Vycjtcblx0XHR9XG5cdH1cbn07XG5cbnZhciBsaXN0R2V0ID0gZnVuY3Rpb24gKG9iamVjdHMsIGtleSkge1xuXHR2YXIgbm9kZSA9IGxpc3RHZXROb2RlKG9iamVjdHMsIGtleSk7XG5cdHJldHVybiBub2RlICYmIG5vZGUudmFsdWU7XG59O1xudmFyIGxpc3RTZXQgPSBmdW5jdGlvbiAob2JqZWN0cywga2V5LCB2YWx1ZSkge1xuXHR2YXIgbm9kZSA9IGxpc3RHZXROb2RlKG9iamVjdHMsIGtleSk7XG5cdGlmIChub2RlKSB7XG5cdFx0bm9kZS52YWx1ZSA9IHZhbHVlO1xuXHR9IGVsc2Uge1xuXHRcdC8vIFByZXBlbmQgdGhlIG5ldyBub2RlIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3Rcblx0XHRvYmplY3RzLm5leHQgPSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cblx0XHRcdGtleToga2V5LFxuXHRcdFx0bmV4dDogb2JqZWN0cy5uZXh0LFxuXHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0fTtcblx0fVxufTtcbnZhciBsaXN0SGFzID0gZnVuY3Rpb24gKG9iamVjdHMsIGtleSkge1xuXHRyZXR1cm4gISFsaXN0R2V0Tm9kZShvYmplY3RzLCBrZXkpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZXRTaWRlQ2hhbm5lbCgpIHtcblx0dmFyICR3bTtcblx0dmFyICRtO1xuXHR2YXIgJG87XG5cdHZhciBjaGFubmVsID0ge1xuXHRcdGFzc2VydDogZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0aWYgKCFjaGFubmVsLmhhcyhrZXkpKSB7XG5cdFx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdTaWRlIGNoYW5uZWwgZG9lcyBub3QgY29udGFpbiAnICsgaW5zcGVjdChrZXkpKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGdldDogZnVuY3Rpb24gKGtleSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG5cdFx0XHRpZiAoJFdlYWtNYXAgJiYga2V5ICYmICh0eXBlb2Yga2V5ID09PSAnb2JqZWN0JyB8fCB0eXBlb2Yga2V5ID09PSAnZnVuY3Rpb24nKSkge1xuXHRcdFx0XHRpZiAoJHdtKSB7XG5cdFx0XHRcdFx0cmV0dXJuICR3ZWFrTWFwR2V0KCR3bSwga2V5KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICgkTWFwKSB7XG5cdFx0XHRcdGlmICgkbSkge1xuXHRcdFx0XHRcdHJldHVybiAkbWFwR2V0KCRtLCBrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoJG8pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lbHktaWZcblx0XHRcdFx0XHRyZXR1cm4gbGlzdEdldCgkbywga2V5KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aGFzOiBmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRpZiAoJFdlYWtNYXAgJiYga2V5ICYmICh0eXBlb2Yga2V5ID09PSAnb2JqZWN0JyB8fCB0eXBlb2Yga2V5ID09PSAnZnVuY3Rpb24nKSkge1xuXHRcdFx0XHRpZiAoJHdtKSB7XG5cdFx0XHRcdFx0cmV0dXJuICR3ZWFrTWFwSGFzKCR3bSwga2V5KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICgkTWFwKSB7XG5cdFx0XHRcdGlmICgkbSkge1xuXHRcdFx0XHRcdHJldHVybiAkbWFwSGFzKCRtLCBrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoJG8pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lbHktaWZcblx0XHRcdFx0XHRyZXR1cm4gbGlzdEhhcygkbywga2V5KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuXHRcdFx0aWYgKCRXZWFrTWFwICYmIGtleSAmJiAodHlwZW9mIGtleSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIGtleSA9PT0gJ2Z1bmN0aW9uJykpIHtcblx0XHRcdFx0aWYgKCEkd20pIHtcblx0XHRcdFx0XHQkd20gPSBuZXcgJFdlYWtNYXAoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQkd2Vha01hcFNldCgkd20sIGtleSwgdmFsdWUpO1xuXHRcdFx0fSBlbHNlIGlmICgkTWFwKSB7XG5cdFx0XHRcdGlmICghJG0pIHtcblx0XHRcdFx0XHQkbSA9IG5ldyAkTWFwKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0JG1hcFNldCgkbSwga2V5LCB2YWx1ZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoISRvKSB7XG5cdFx0XHRcdFx0Lypcblx0XHRcdFx0XHQgKiBJbml0aWFsaXplIHRoZSBsaW5rZWQgbGlzdCBhcyBhbiBlbXB0eSBub2RlLCBzbyB0aGF0IHdlIGRvbid0IGhhdmVcblx0XHRcdFx0XHQgKiB0byBzcGVjaWFsLWNhc2UgaGFuZGxpbmcgb2YgdGhlIGZpcnN0IG5vZGU6IHdlIGNhbiBhbHdheXMgcmVmZXIgdG9cblx0XHRcdFx0XHQgKiBpdCBhcyAocHJldmlvdXMgbm9kZSkubmV4dCwgaW5zdGVhZCBvZiBzb21ldGhpbmcgbGlrZSAobGlzdCkuaGVhZFxuXHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdCRvID0geyBrZXk6IHt9LCBuZXh0OiBudWxsIH07XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdFNldCgkbywga2V5LCB2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gY2hhbm5lbDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgcmVwbGFjZSA9IFN0cmluZy5wcm90b3R5cGUucmVwbGFjZTtcbnZhciBwZXJjZW50VHdlbnRpZXMgPSAvJTIwL2c7XG5cbnZhciBGb3JtYXQgPSB7XG4gICAgUkZDMTczODogJ1JGQzE3MzgnLFxuICAgIFJGQzM5ODY6ICdSRkMzOTg2J1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgJ2RlZmF1bHQnOiBGb3JtYXQuUkZDMzk4NixcbiAgICBmb3JtYXR0ZXJzOiB7XG4gICAgICAgIFJGQzE3Mzg6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2UuY2FsbCh2YWx1ZSwgcGVyY2VudFR3ZW50aWVzLCAnKycpO1xuICAgICAgICB9LFxuICAgICAgICBSRkMzOTg2OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBSRkMxNzM4OiBGb3JtYXQuUkZDMTczOCxcbiAgICBSRkMzOTg2OiBGb3JtYXQuUkZDMzk4NlxufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBmb3JtYXRzID0gcmVxdWlyZSgnLi9mb3JtYXRzJyk7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG52YXIgaGV4VGFibGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgICAgICAgYXJyYXkucHVzaCgnJScgKyAoKGkgPCAxNiA/ICcwJyA6ICcnKSArIGkudG9TdHJpbmcoMTYpKS50b1VwcGVyQ2FzZSgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG59KCkpO1xuXG52YXIgY29tcGFjdFF1ZXVlID0gZnVuY3Rpb24gY29tcGFjdFF1ZXVlKHF1ZXVlKSB7XG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiAgICAgICAgdmFyIG9iaiA9IGl0ZW0ub2JqW2l0ZW0ucHJvcF07XG5cbiAgICAgICAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgdmFyIGNvbXBhY3RlZCA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqW2pdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBjb21wYWN0ZWQucHVzaChvYmpbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXRlbS5vYmpbaXRlbS5wcm9wXSA9IGNvbXBhY3RlZDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBhcnJheVRvT2JqZWN0ID0gZnVuY3Rpb24gYXJyYXlUb09iamVjdChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqID0gb3B0aW9ucyAmJiBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZVtpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG9ialtpXSA9IHNvdXJjZVtpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG59O1xuXG52YXIgbWVyZ2UgPSBmdW5jdGlvbiBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgIC8qIGVzbGludCBuby1wYXJhbS1yZWFzc2lnbjogMCAqL1xuICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChpc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRhcmdldC5wdXNoKHNvdXJjZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ICYmIHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoKG9wdGlvbnMgJiYgKG9wdGlvbnMucGxhaW5PYmplY3RzIHx8IG9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSkgfHwgIWhhcy5jYWxsKE9iamVjdC5wcm90b3R5cGUsIHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbc291cmNlXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW3RhcmdldCwgc291cmNlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgaWYgKCF0YXJnZXQgfHwgdHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIFt0YXJnZXRdLmNvbmNhdChzb3VyY2UpO1xuICAgIH1cblxuICAgIHZhciBtZXJnZVRhcmdldCA9IHRhcmdldDtcbiAgICBpZiAoaXNBcnJheSh0YXJnZXQpICYmICFpc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgbWVyZ2VUYXJnZXQgPSBhcnJheVRvT2JqZWN0KHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKGlzQXJyYXkodGFyZ2V0KSAmJiBpc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgc291cmNlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgIGlmIChoYXMuY2FsbCh0YXJnZXQsIGkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldEl0ZW0gPSB0YXJnZXRbaV07XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldEl0ZW0gJiYgdHlwZW9mIHRhcmdldEl0ZW0gPT09ICdvYmplY3QnICYmIGl0ZW0gJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtpXSA9IG1lcmdlKHRhcmdldEl0ZW0sIGl0ZW0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2ldID0gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBzb3VyY2Vba2V5XTtcblxuICAgICAgICBpZiAoaGFzLmNhbGwoYWNjLCBrZXkpKSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IG1lcmdlKGFjY1trZXldLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgbWVyZ2VUYXJnZXQpO1xufTtcblxudmFyIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnblNpbmdsZVNvdXJjZSh0YXJnZXQsIHNvdXJjZSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2UpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgYWNjW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB0YXJnZXQpO1xufTtcblxudmFyIGRlY29kZSA9IGZ1bmN0aW9uIChzdHIsIGRlY29kZXIsIGNoYXJzZXQpIHtcbiAgICB2YXIgc3RyV2l0aG91dFBsdXMgPSBzdHIucmVwbGFjZSgvXFwrL2csICcgJyk7XG4gICAgaWYgKGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAvLyB1bmVzY2FwZSBuZXZlciB0aHJvd3MsIG5vIHRyeS4uLmNhdGNoIG5lZWRlZDpcbiAgICAgICAgcmV0dXJuIHN0cldpdGhvdXRQbHVzLnJlcGxhY2UoLyVbMC05YS1mXXsyfS9naSwgdW5lc2NhcGUpO1xuICAgIH1cbiAgICAvLyB1dGYtOFxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyV2l0aG91dFBsdXMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHN0cldpdGhvdXRQbHVzO1xuICAgIH1cbn07XG5cbnZhciBlbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUoc3RyLCBkZWZhdWx0RW5jb2RlciwgY2hhcnNldCwga2luZCwgZm9ybWF0KSB7XG4gICAgLy8gVGhpcyBjb2RlIHdhcyBvcmlnaW5hbGx5IHdyaXR0ZW4gYnkgQnJpYW4gV2hpdGUgKG1zY2RleCkgZm9yIHRoZSBpby5qcyBjb3JlIHF1ZXJ5c3RyaW5nIGxpYnJhcnkuXG4gICAgLy8gSXQgaGFzIGJlZW4gYWRhcHRlZCBoZXJlIGZvciBzdHJpY3RlciBhZGhlcmVuY2UgdG8gUkZDIDM5ODZcbiAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIHZhciBzdHJpbmcgPSBzdHI7XG4gICAgaWYgKHR5cGVvZiBzdHIgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgIHN0cmluZyA9IFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzdHIpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgc3RyaW5nID0gU3RyaW5nKHN0cik7XG4gICAgfVxuXG4gICAgaWYgKGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICByZXR1cm4gZXNjYXBlKHN0cmluZykucmVwbGFjZSgvJXVbMC05YS1mXXs0fS9naSwgZnVuY3Rpb24gKCQwKSB7XG4gICAgICAgICAgICByZXR1cm4gJyUyNiUyMycgKyBwYXJzZUludCgkMC5zbGljZSgyKSwgMTYpICsgJyUzQic7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBvdXQgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgYyA9IHN0cmluZy5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGMgPT09IDB4MkQgLy8gLVxuICAgICAgICAgICAgfHwgYyA9PT0gMHgyRSAvLyAuXG4gICAgICAgICAgICB8fCBjID09PSAweDVGIC8vIF9cbiAgICAgICAgICAgIHx8IGMgPT09IDB4N0UgLy8gflxuICAgICAgICAgICAgfHwgKGMgPj0gMHgzMCAmJiBjIDw9IDB4MzkpIC8vIDAtOVxuICAgICAgICAgICAgfHwgKGMgPj0gMHg0MSAmJiBjIDw9IDB4NUEpIC8vIGEtelxuICAgICAgICAgICAgfHwgKGMgPj0gMHg2MSAmJiBjIDw9IDB4N0EpIC8vIEEtWlxuICAgICAgICAgICAgfHwgKGZvcm1hdCA9PT0gZm9ybWF0cy5SRkMxNzM4ICYmIChjID09PSAweDI4IHx8IGMgPT09IDB4MjkpKSAvLyAoIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBvdXQgKz0gc3RyaW5nLmNoYXJBdChpKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyBoZXhUYWJsZVtjXTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPCAweDgwMCkge1xuICAgICAgICAgICAgb3V0ID0gb3V0ICsgKGhleFRhYmxlWzB4QzAgfCAoYyA+PiA2KV0gKyBoZXhUYWJsZVsweDgwIHwgKGMgJiAweDNGKV0pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4RDgwMCB8fCBjID49IDB4RTAwMCkge1xuICAgICAgICAgICAgb3V0ID0gb3V0ICsgKGhleFRhYmxlWzB4RTAgfCAoYyA+PiAxMildICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M0YpXSArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGkgKz0gMTtcbiAgICAgICAgYyA9IDB4MTAwMDAgKyAoKChjICYgMHgzRkYpIDw8IDEwKSB8IChzdHJpbmcuY2hhckNvZGVBdChpKSAmIDB4M0ZGKSk7XG4gICAgICAgIC8qIGVzbGludCBvcGVyYXRvci1saW5lYnJlYWs6IFsyLCBcImJlZm9yZVwiXSAqL1xuICAgICAgICBvdXQgKz0gaGV4VGFibGVbMHhGMCB8IChjID4+IDE4KV1cbiAgICAgICAgICAgICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiAxMikgJiAweDNGKV1cbiAgICAgICAgICAgICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M0YpXVxuICAgICAgICAgICAgKyBoZXhUYWJsZVsweDgwIHwgKGMgJiAweDNGKV07XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dDtcbn07XG5cbnZhciBjb21wYWN0ID0gZnVuY3Rpb24gY29tcGFjdCh2YWx1ZSkge1xuICAgIHZhciBxdWV1ZSA9IFt7IG9iajogeyBvOiB2YWx1ZSB9LCBwcm9wOiAnbycgfV07XG4gICAgdmFyIHJlZnMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBxdWV1ZVtpXTtcbiAgICAgICAgdmFyIG9iaiA9IGl0ZW0ub2JqW2l0ZW0ucHJvcF07XG5cbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2pdO1xuICAgICAgICAgICAgdmFyIHZhbCA9IG9ialtrZXldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmIHZhbCAhPT0gbnVsbCAmJiByZWZzLmluZGV4T2YodmFsKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHsgb2JqOiBvYmosIHByb3A6IGtleSB9KTtcbiAgICAgICAgICAgICAgICByZWZzLnB1c2godmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBhY3RRdWV1ZShxdWV1ZSk7XG5cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgaXNSZWdFeHAgPSBmdW5jdGlvbiBpc1JlZ0V4cChvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufTtcblxudmFyIGlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIob2JqKSB7XG4gICAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAhIShvYmouY29uc3RydWN0b3IgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopKTtcbn07XG5cbnZhciBjb21iaW5lID0gZnVuY3Rpb24gY29tYmluZShhLCBiKSB7XG4gICAgcmV0dXJuIFtdLmNvbmNhdChhLCBiKTtcbn07XG5cbnZhciBtYXliZU1hcCA9IGZ1bmN0aW9uIG1heWJlTWFwKHZhbCwgZm4pIHtcbiAgICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIHZhciBtYXBwZWQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIG1hcHBlZC5wdXNoKGZuKHZhbFtpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXBwZWQ7XG4gICAgfVxuICAgIHJldHVybiBmbih2YWwpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYXJyYXlUb09iamVjdDogYXJyYXlUb09iamVjdCxcbiAgICBhc3NpZ246IGFzc2lnbixcbiAgICBjb21iaW5lOiBjb21iaW5lLFxuICAgIGNvbXBhY3Q6IGNvbXBhY3QsXG4gICAgZGVjb2RlOiBkZWNvZGUsXG4gICAgZW5jb2RlOiBlbmNvZGUsXG4gICAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICAgIGlzUmVnRXhwOiBpc1JlZ0V4cCxcbiAgICBtYXliZU1hcDogbWF5YmVNYXAsXG4gICAgbWVyZ2U6IG1lcmdlXG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGdldFNpZGVDaGFubmVsID0gcmVxdWlyZSgnc2lkZS1jaGFubmVsJyk7XG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgZm9ybWF0cyA9IHJlcXVpcmUoJy4vZm9ybWF0cycpO1xudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBhcnJheVByZWZpeEdlbmVyYXRvcnMgPSB7XG4gICAgYnJhY2tldHM6IGZ1bmN0aW9uIGJyYWNrZXRzKHByZWZpeCkge1xuICAgICAgICByZXR1cm4gcHJlZml4ICsgJ1tdJztcbiAgICB9LFxuICAgIGNvbW1hOiAnY29tbWEnLFxuICAgIGluZGljZXM6IGZ1bmN0aW9uIGluZGljZXMocHJlZml4LCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeCArICdbJyArIGtleSArICddJztcbiAgICB9LFxuICAgIHJlcGVhdDogZnVuY3Rpb24gcmVwZWF0KHByZWZpeCkge1xuICAgICAgICByZXR1cm4gcHJlZml4O1xuICAgIH1cbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbnZhciBzcGxpdCA9IFN0cmluZy5wcm90b3R5cGUuc3BsaXQ7XG52YXIgcHVzaCA9IEFycmF5LnByb3RvdHlwZS5wdXNoO1xudmFyIHB1c2hUb0FycmF5ID0gZnVuY3Rpb24gKGFyciwgdmFsdWVPckFycmF5KSB7XG4gICAgcHVzaC5hcHBseShhcnIsIGlzQXJyYXkodmFsdWVPckFycmF5KSA/IHZhbHVlT3JBcnJheSA6IFt2YWx1ZU9yQXJyYXldKTtcbn07XG5cbnZhciB0b0lTTyA9IERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nO1xuXG52YXIgZGVmYXVsdEZvcm1hdCA9IGZvcm1hdHNbJ2RlZmF1bHQnXTtcbnZhciBkZWZhdWx0cyA9IHtcbiAgICBhZGRRdWVyeVByZWZpeDogZmFsc2UsXG4gICAgYWxsb3dEb3RzOiBmYWxzZSxcbiAgICBjaGFyc2V0OiAndXRmLTgnLFxuICAgIGNoYXJzZXRTZW50aW5lbDogZmFsc2UsXG4gICAgZGVsaW1pdGVyOiAnJicsXG4gICAgZW5jb2RlOiB0cnVlLFxuICAgIGVuY29kZXI6IHV0aWxzLmVuY29kZSxcbiAgICBlbmNvZGVWYWx1ZXNPbmx5OiBmYWxzZSxcbiAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgZm9ybWF0dGVyOiBmb3JtYXRzLmZvcm1hdHRlcnNbZGVmYXVsdEZvcm1hdF0sXG4gICAgLy8gZGVwcmVjYXRlZFxuICAgIGluZGljZXM6IGZhbHNlLFxuICAgIHNlcmlhbGl6ZURhdGU6IGZ1bmN0aW9uIHNlcmlhbGl6ZURhdGUoZGF0ZSkge1xuICAgICAgICByZXR1cm4gdG9JU08uY2FsbChkYXRlKTtcbiAgICB9LFxuICAgIHNraXBOdWxsczogZmFsc2UsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nOiBmYWxzZVxufTtcblxudmFyIGlzTm9uTnVsbGlzaFByaW1pdGl2ZSA9IGZ1bmN0aW9uIGlzTm9uTnVsbGlzaFByaW1pdGl2ZSh2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnc3RyaW5nJ1xuICAgICAgICB8fCB0eXBlb2YgdiA9PT0gJ251bWJlcidcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdib29sZWFuJ1xuICAgICAgICB8fCB0eXBlb2YgdiA9PT0gJ3N5bWJvbCdcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdiaWdpbnQnO1xufTtcblxudmFyIHNlbnRpbmVsID0ge307XG5cbnZhciBzdHJpbmdpZnkgPSBmdW5jdGlvbiBzdHJpbmdpZnkoXG4gICAgb2JqZWN0LFxuICAgIHByZWZpeCxcbiAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICBza2lwTnVsbHMsXG4gICAgZW5jb2RlcixcbiAgICBmaWx0ZXIsXG4gICAgc29ydCxcbiAgICBhbGxvd0RvdHMsXG4gICAgc2VyaWFsaXplRGF0ZSxcbiAgICBmb3JtYXQsXG4gICAgZm9ybWF0dGVyLFxuICAgIGVuY29kZVZhbHVlc09ubHksXG4gICAgY2hhcnNldCxcbiAgICBzaWRlQ2hhbm5lbFxuKSB7XG4gICAgdmFyIG9iaiA9IG9iamVjdDtcblxuICAgIHZhciB0bXBTYyA9IHNpZGVDaGFubmVsO1xuICAgIHZhciBzdGVwID0gMDtcbiAgICB2YXIgZmluZEZsYWcgPSBmYWxzZTtcbiAgICB3aGlsZSAoKHRtcFNjID0gdG1wU2MuZ2V0KHNlbnRpbmVsKSkgIT09IHVuZGVmaW5lZCAmJiAhZmluZEZsYWcpIHtcbiAgICAgICAgLy8gV2hlcmUgb2JqZWN0IGxhc3QgYXBwZWFyZWQgaW4gdGhlIHJlZiB0cmVlXG4gICAgICAgIHZhciBwb3MgPSB0bXBTYy5nZXQob2JqZWN0KTtcbiAgICAgICAgc3RlcCArPSAxO1xuICAgICAgICBpZiAodHlwZW9mIHBvcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChwb3MgPT09IHN0ZXApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQ3ljbGljIG9iamVjdCB2YWx1ZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaW5kRmxhZyA9IHRydWU7IC8vIEJyZWFrIHdoaWxlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0bXBTYy5nZXQoc2VudGluZWwpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgc3RlcCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvYmogPSBmaWx0ZXIocHJlZml4LCBvYmopO1xuICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBvYmogPSBzZXJpYWxpemVEYXRlKG9iaik7XG4gICAgfSBlbHNlIGlmIChnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnY29tbWEnICYmIGlzQXJyYXkob2JqKSkge1xuICAgICAgICBvYmogPSB1dGlscy5tYXliZU1hcChvYmosIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVEYXRlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoc3RyaWN0TnVsbEhhbmRsaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlciAmJiAhZW5jb2RlVmFsdWVzT25seSA/IGVuY29kZXIocHJlZml4LCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAna2V5JywgZm9ybWF0KSA6IHByZWZpeDtcbiAgICAgICAgfVxuXG4gICAgICAgIG9iaiA9ICcnO1xuICAgIH1cblxuICAgIGlmIChpc05vbk51bGxpc2hQcmltaXRpdmUob2JqKSB8fCB1dGlscy5pc0J1ZmZlcihvYmopKSB7XG4gICAgICAgIGlmIChlbmNvZGVyKSB7XG4gICAgICAgICAgICB2YXIga2V5VmFsdWUgPSBlbmNvZGVWYWx1ZXNPbmx5ID8gcHJlZml4IDogZW5jb2RlcihwcmVmaXgsIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICdrZXknLCBmb3JtYXQpO1xuICAgICAgICAgICAgaWYgKGdlbmVyYXRlQXJyYXlQcmVmaXggPT09ICdjb21tYScgJiYgZW5jb2RlVmFsdWVzT25seSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZXNBcnJheSA9IHNwbGl0LmNhbGwoU3RyaW5nKG9iaiksICcsJyk7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlc0pvaW5lZCA9ICcnO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzQXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzSm9pbmVkICs9IChpID09PSAwID8gJycgOiAnLCcpICsgZm9ybWF0dGVyKGVuY29kZXIodmFsdWVzQXJyYXlbaV0sIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICd2YWx1ZScsIGZvcm1hdCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gW2Zvcm1hdHRlcihrZXlWYWx1ZSkgKyAnPScgKyB2YWx1ZXNKb2luZWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtmb3JtYXR0ZXIoa2V5VmFsdWUpICsgJz0nICsgZm9ybWF0dGVyKGVuY29kZXIob2JqLCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAndmFsdWUnLCBmb3JtYXQpKV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtmb3JtYXR0ZXIocHJlZml4KSArICc9JyArIGZvcm1hdHRlcihTdHJpbmcob2JqKSldO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cblxuICAgIHZhciBvYmpLZXlzO1xuICAgIGlmIChnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnY29tbWEnICYmIGlzQXJyYXkob2JqKSkge1xuICAgICAgICAvLyB3ZSBuZWVkIHRvIGpvaW4gZWxlbWVudHMgaW5cbiAgICAgICAgb2JqS2V5cyA9IFt7IHZhbHVlOiBvYmoubGVuZ3RoID4gMCA/IG9iai5qb2luKCcsJykgfHwgbnVsbCA6IHVuZGVmaW5lZCB9XTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZmlsdGVyKSkge1xuICAgICAgICBvYmpLZXlzID0gZmlsdGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgb2JqS2V5cyA9IHNvcnQgPyBrZXlzLnNvcnQoc29ydCkgOiBrZXlzO1xuICAgIH1cblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqS2V5cy5sZW5ndGg7ICsraikge1xuICAgICAgICB2YXIga2V5ID0gb2JqS2V5c1tqXTtcbiAgICAgICAgdmFyIHZhbHVlID0gdHlwZW9mIGtleSA9PT0gJ29iamVjdCcgJiYga2V5LnZhbHVlICE9PSB1bmRlZmluZWQgPyBrZXkudmFsdWUgOiBvYmpba2V5XTtcblxuICAgICAgICBpZiAoc2tpcE51bGxzICYmIHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBrZXlQcmVmaXggPSBpc0FycmF5KG9iailcbiAgICAgICAgICAgID8gdHlwZW9mIGdlbmVyYXRlQXJyYXlQcmVmaXggPT09ICdmdW5jdGlvbicgPyBnZW5lcmF0ZUFycmF5UHJlZml4KHByZWZpeCwga2V5KSA6IHByZWZpeFxuICAgICAgICAgICAgOiBwcmVmaXggKyAoYWxsb3dEb3RzID8gJy4nICsga2V5IDogJ1snICsga2V5ICsgJ10nKTtcblxuICAgICAgICBzaWRlQ2hhbm5lbC5zZXQob2JqZWN0LCBzdGVwKTtcbiAgICAgICAgdmFyIHZhbHVlU2lkZUNoYW5uZWwgPSBnZXRTaWRlQ2hhbm5lbCgpO1xuICAgICAgICB2YWx1ZVNpZGVDaGFubmVsLnNldChzZW50aW5lbCwgc2lkZUNoYW5uZWwpO1xuICAgICAgICBwdXNoVG9BcnJheSh2YWx1ZXMsIHN0cmluZ2lmeShcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAga2V5UHJlZml4LFxuICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCxcbiAgICAgICAgICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgICAgIHNraXBOdWxscyxcbiAgICAgICAgICAgIGVuY29kZXIsXG4gICAgICAgICAgICBmaWx0ZXIsXG4gICAgICAgICAgICBzb3J0LFxuICAgICAgICAgICAgYWxsb3dEb3RzLFxuICAgICAgICAgICAgc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgICAgIGZvcm1hdCxcbiAgICAgICAgICAgIGZvcm1hdHRlcixcbiAgICAgICAgICAgIGVuY29kZVZhbHVlc09ubHksXG4gICAgICAgICAgICBjaGFyc2V0LFxuICAgICAgICAgICAgdmFsdWVTaWRlQ2hhbm5lbFxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzO1xufTtcblxudmFyIG5vcm1hbGl6ZVN0cmluZ2lmeU9wdGlvbnMgPSBmdW5jdGlvbiBub3JtYWxpemVTdHJpbmdpZnlPcHRpb25zKG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmVuY29kZXIgIT09IG51bGwgJiYgb3B0cy5lbmNvZGVyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdHMuZW5jb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFbmNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBjaGFyc2V0ID0gb3B0cy5jaGFyc2V0IHx8IGRlZmF1bHRzLmNoYXJzZXQ7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmNoYXJzZXQgIT09ICd1bmRlZmluZWQnICYmIG9wdHMuY2hhcnNldCAhPT0gJ3V0Zi04JyAmJiBvcHRzLmNoYXJzZXQgIT09ICdpc28tODg1OS0xJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY2hhcnNldCBvcHRpb24gbXVzdCBiZSBlaXRoZXIgdXRmLTgsIGlzby04ODU5LTEsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cblxuICAgIHZhciBmb3JtYXQgPSBmb3JtYXRzWydkZWZhdWx0J107XG4gICAgaWYgKHR5cGVvZiBvcHRzLmZvcm1hdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKCFoYXMuY2FsbChmb3JtYXRzLmZvcm1hdHRlcnMsIG9wdHMuZm9ybWF0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBmb3JtYXQgb3B0aW9uIHByb3ZpZGVkLicpO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdCA9IG9wdHMuZm9ybWF0O1xuICAgIH1cbiAgICB2YXIgZm9ybWF0dGVyID0gZm9ybWF0cy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG5cbiAgICB2YXIgZmlsdGVyID0gZGVmYXVsdHMuZmlsdGVyO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdmdW5jdGlvbicgfHwgaXNBcnJheShvcHRzLmZpbHRlcikpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0cy5maWx0ZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkUXVlcnlQcmVmaXg6IHR5cGVvZiBvcHRzLmFkZFF1ZXJ5UHJlZml4ID09PSAnYm9vbGVhbicgPyBvcHRzLmFkZFF1ZXJ5UHJlZml4IDogZGVmYXVsdHMuYWRkUXVlcnlQcmVmaXgsXG4gICAgICAgIGFsbG93RG90czogdHlwZW9mIG9wdHMuYWxsb3dEb3RzID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmFsbG93RG90cyA6ICEhb3B0cy5hbGxvd0RvdHMsXG4gICAgICAgIGNoYXJzZXQ6IGNoYXJzZXQsXG4gICAgICAgIGNoYXJzZXRTZW50aW5lbDogdHlwZW9mIG9wdHMuY2hhcnNldFNlbnRpbmVsID09PSAnYm9vbGVhbicgPyBvcHRzLmNoYXJzZXRTZW50aW5lbCA6IGRlZmF1bHRzLmNoYXJzZXRTZW50aW5lbCxcbiAgICAgICAgZGVsaW1pdGVyOiB0eXBlb2Ygb3B0cy5kZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuZGVsaW1pdGVyIDogb3B0cy5kZWxpbWl0ZXIsXG4gICAgICAgIGVuY29kZTogdHlwZW9mIG9wdHMuZW5jb2RlID09PSAnYm9vbGVhbicgPyBvcHRzLmVuY29kZSA6IGRlZmF1bHRzLmVuY29kZSxcbiAgICAgICAgZW5jb2RlcjogdHlwZW9mIG9wdHMuZW5jb2RlciA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuZW5jb2RlciA6IGRlZmF1bHRzLmVuY29kZXIsXG4gICAgICAgIGVuY29kZVZhbHVlc09ubHk6IHR5cGVvZiBvcHRzLmVuY29kZVZhbHVlc09ubHkgPT09ICdib29sZWFuJyA/IG9wdHMuZW5jb2RlVmFsdWVzT25seSA6IGRlZmF1bHRzLmVuY29kZVZhbHVlc09ubHksXG4gICAgICAgIGZpbHRlcjogZmlsdGVyLFxuICAgICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgICAgZm9ybWF0dGVyOiBmb3JtYXR0ZXIsXG4gICAgICAgIHNlcmlhbGl6ZURhdGU6IHR5cGVvZiBvcHRzLnNlcmlhbGl6ZURhdGUgPT09ICdmdW5jdGlvbicgPyBvcHRzLnNlcmlhbGl6ZURhdGUgOiBkZWZhdWx0cy5zZXJpYWxpemVEYXRlLFxuICAgICAgICBza2lwTnVsbHM6IHR5cGVvZiBvcHRzLnNraXBOdWxscyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5za2lwTnVsbHMgOiBkZWZhdWx0cy5za2lwTnVsbHMsXG4gICAgICAgIHNvcnQ6IHR5cGVvZiBvcHRzLnNvcnQgPT09ICdmdW5jdGlvbicgPyBvcHRzLnNvcnQgOiBudWxsLFxuICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IHR5cGVvZiBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgOiBkZWZhdWx0cy5zdHJpY3ROdWxsSGFuZGxpbmdcbiAgICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0LCBvcHRzKSB7XG4gICAgdmFyIG9iaiA9IG9iamVjdDtcbiAgICB2YXIgb3B0aW9ucyA9IG5vcm1hbGl6ZVN0cmluZ2lmeU9wdGlvbnMob3B0cyk7XG5cbiAgICB2YXIgb2JqS2V5cztcbiAgICB2YXIgZmlsdGVyO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICAgICAgb2JqID0gZmlsdGVyKCcnLCBvYmopO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvcHRpb25zLmZpbHRlcikpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG4gICAgICAgIG9iaktleXMgPSBmaWx0ZXI7XG4gICAgfVxuXG4gICAgdmFyIGtleXMgPSBbXTtcblxuICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHZhciBhcnJheUZvcm1hdDtcbiAgICBpZiAob3B0cyAmJiBvcHRzLmFycmF5Rm9ybWF0IGluIGFycmF5UHJlZml4R2VuZXJhdG9ycykge1xuICAgICAgICBhcnJheUZvcm1hdCA9IG9wdHMuYXJyYXlGb3JtYXQ7XG4gICAgfSBlbHNlIGlmIChvcHRzICYmICdpbmRpY2VzJyBpbiBvcHRzKSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gb3B0cy5pbmRpY2VzID8gJ2luZGljZXMnIDogJ3JlcGVhdCc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXJyYXlGb3JtYXQgPSAnaW5kaWNlcyc7XG4gICAgfVxuXG4gICAgdmFyIGdlbmVyYXRlQXJyYXlQcmVmaXggPSBhcnJheVByZWZpeEdlbmVyYXRvcnNbYXJyYXlGb3JtYXRdO1xuXG4gICAgaWYgKCFvYmpLZXlzKSB7XG4gICAgICAgIG9iaktleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnNvcnQpIHtcbiAgICAgICAgb2JqS2V5cy5zb3J0KG9wdGlvbnMuc29ydCk7XG4gICAgfVxuXG4gICAgdmFyIHNpZGVDaGFubmVsID0gZ2V0U2lkZUNoYW5uZWwoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iaktleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IG9iaktleXNbaV07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2tpcE51bGxzICYmIG9ialtrZXldID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBwdXNoVG9BcnJheShrZXlzLCBzdHJpbmdpZnkoXG4gICAgICAgICAgICBvYmpba2V5XSxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgICAgICAgICBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgICAgIG9wdGlvbnMuc2tpcE51bGxzLFxuICAgICAgICAgICAgb3B0aW9ucy5lbmNvZGUgPyBvcHRpb25zLmVuY29kZXIgOiBudWxsLFxuICAgICAgICAgICAgb3B0aW9ucy5maWx0ZXIsXG4gICAgICAgICAgICBvcHRpb25zLnNvcnQsXG4gICAgICAgICAgICBvcHRpb25zLmFsbG93RG90cyxcbiAgICAgICAgICAgIG9wdGlvbnMuc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgICAgIG9wdGlvbnMuZm9ybWF0LFxuICAgICAgICAgICAgb3B0aW9ucy5mb3JtYXR0ZXIsXG4gICAgICAgICAgICBvcHRpb25zLmVuY29kZVZhbHVlc09ubHksXG4gICAgICAgICAgICBvcHRpb25zLmNoYXJzZXQsXG4gICAgICAgICAgICBzaWRlQ2hhbm5lbFxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICB2YXIgam9pbmVkID0ga2V5cy5qb2luKG9wdGlvbnMuZGVsaW1pdGVyKTtcbiAgICB2YXIgcHJlZml4ID0gb3B0aW9ucy5hZGRRdWVyeVByZWZpeCA9PT0gdHJ1ZSA/ICc/JyA6ICcnO1xuXG4gICAgaWYgKG9wdGlvbnMuY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAgICAgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCcmIzEwMDAzOycpLCB0aGUgXCJudW1lcmljIGVudGl0eVwiIHJlcHJlc2VudGF0aW9uIG9mIGEgY2hlY2ttYXJrXG4gICAgICAgICAgICBwcmVmaXggKz0gJ3V0Zjg9JTI2JTIzMTAwMDMlM0ImJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVuY29kZVVSSUNvbXBvbmVudCgnXHUyNzEzJylcbiAgICAgICAgICAgIHByZWZpeCArPSAndXRmOD0lRTIlOUMlOTMmJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBqb2luZWQubGVuZ3RoID4gMCA/IHByZWZpeCArIGpvaW5lZCA6ICcnO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgICBhbGxvd0RvdHM6IGZhbHNlLFxuICAgIGFsbG93UHJvdG90eXBlczogZmFsc2UsXG4gICAgYWxsb3dTcGFyc2U6IGZhbHNlLFxuICAgIGFycmF5TGltaXQ6IDIwLFxuICAgIGNoYXJzZXQ6ICd1dGYtOCcsXG4gICAgY2hhcnNldFNlbnRpbmVsOiBmYWxzZSxcbiAgICBjb21tYTogZmFsc2UsXG4gICAgZGVjb2RlcjogdXRpbHMuZGVjb2RlLFxuICAgIGRlbGltaXRlcjogJyYnLFxuICAgIGRlcHRoOiA1LFxuICAgIGlnbm9yZVF1ZXJ5UHJlZml4OiBmYWxzZSxcbiAgICBpbnRlcnByZXROdW1lcmljRW50aXRpZXM6IGZhbHNlLFxuICAgIHBhcmFtZXRlckxpbWl0OiAxMDAwLFxuICAgIHBhcnNlQXJyYXlzOiB0cnVlLFxuICAgIHBsYWluT2JqZWN0czogZmFsc2UsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nOiBmYWxzZVxufTtcblxudmFyIGludGVycHJldE51bWVyaWNFbnRpdGllcyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyYjKFxcZCspOy9nLCBmdW5jdGlvbiAoJDAsIG51bWJlclN0cikge1xuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChudW1iZXJTdHIsIDEwKSk7XG4gICAgfSk7XG59O1xuXG52YXIgcGFyc2VBcnJheVZhbHVlID0gZnVuY3Rpb24gKHZhbCwgb3B0aW9ucykge1xuICAgIGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgJiYgb3B0aW9ucy5jb21tYSAmJiB2YWwuaW5kZXhPZignLCcpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHZhbC5zcGxpdCgnLCcpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWw7XG59O1xuXG4vLyBUaGlzIGlzIHdoYXQgYnJvd3NlcnMgd2lsbCBzdWJtaXQgd2hlbiB0aGUgXHUyNzEzIGNoYXJhY3RlciBvY2N1cnMgaW4gYW5cbi8vIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCBib2R5IGFuZCB0aGUgZW5jb2Rpbmcgb2YgdGhlIHBhZ2UgY29udGFpbmluZ1xuLy8gdGhlIGZvcm0gaXMgaXNvLTg4NTktMSwgb3Igd2hlbiB0aGUgc3VibWl0dGVkIGZvcm0gaGFzIGFuIGFjY2VwdC1jaGFyc2V0XG4vLyBhdHRyaWJ1dGUgb2YgaXNvLTg4NTktMS4gUHJlc3VtYWJseSBhbHNvIHdpdGggb3RoZXIgY2hhcnNldHMgdGhhdCBkbyBub3QgY29udGFpblxuLy8gdGhlIFx1MjcxMyBjaGFyYWN0ZXIsIHN1Y2ggYXMgdXMtYXNjaWkuXG52YXIgaXNvU2VudGluZWwgPSAndXRmOD0lMjYlMjMxMDAwMyUzQic7IC8vIGVuY29kZVVSSUNvbXBvbmVudCgnJiMxMDAwMzsnKVxuXG4vLyBUaGVzZSBhcmUgdGhlIHBlcmNlbnQtZW5jb2RlZCB1dGYtOCBvY3RldHMgcmVwcmVzZW50aW5nIGEgY2hlY2ttYXJrLCBpbmRpY2F0aW5nIHRoYXQgdGhlIHJlcXVlc3QgYWN0dWFsbHkgaXMgdXRmLTggZW5jb2RlZC5cbnZhciBjaGFyc2V0U2VudGluZWwgPSAndXRmOD0lRTIlOUMlOTMnOyAvLyBlbmNvZGVVUklDb21wb25lbnQoJ1x1MjcxMycpXG5cbnZhciBwYXJzZVZhbHVlcyA9IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmdWYWx1ZXMoc3RyLCBvcHRpb25zKSB7XG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIHZhciBjbGVhblN0ciA9IG9wdGlvbnMuaWdub3JlUXVlcnlQcmVmaXggPyBzdHIucmVwbGFjZSgvXlxcPy8sICcnKSA6IHN0cjtcbiAgICB2YXIgbGltaXQgPSBvcHRpb25zLnBhcmFtZXRlckxpbWl0ID09PSBJbmZpbml0eSA/IHVuZGVmaW5lZCA6IG9wdGlvbnMucGFyYW1ldGVyTGltaXQ7XG4gICAgdmFyIHBhcnRzID0gY2xlYW5TdHIuc3BsaXQob3B0aW9ucy5kZWxpbWl0ZXIsIGxpbWl0KTtcbiAgICB2YXIgc2tpcEluZGV4ID0gLTE7IC8vIEtlZXAgdHJhY2sgb2Ygd2hlcmUgdGhlIHV0Zjggc2VudGluZWwgd2FzIGZvdW5kXG4gICAgdmFyIGk7XG5cbiAgICB2YXIgY2hhcnNldCA9IG9wdGlvbnMuY2hhcnNldDtcbiAgICBpZiAob3B0aW9ucy5jaGFyc2V0U2VudGluZWwpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAocGFydHNbaV0uaW5kZXhPZigndXRmOD0nKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0c1tpXSA9PT0gY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJzZXQgPSAndXRmLTgnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydHNbaV0gPT09IGlzb1NlbnRpbmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJzZXQgPSAnaXNvLTg4NTktMSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNraXBJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgaSA9IHBhcnRzLmxlbmd0aDsgLy8gVGhlIGVzbGludCBzZXR0aW5ncyBkbyBub3QgYWxsb3cgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGkgPT09IHNraXBJbmRleCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTtcblxuICAgICAgICB2YXIgYnJhY2tldEVxdWFsc1BvcyA9IHBhcnQuaW5kZXhPZignXT0nKTtcbiAgICAgICAgdmFyIHBvcyA9IGJyYWNrZXRFcXVhbHNQb3MgPT09IC0xID8gcGFydC5pbmRleE9mKCc9JykgOiBicmFja2V0RXF1YWxzUG9zICsgMTtcblxuICAgICAgICB2YXIga2V5LCB2YWw7XG4gICAgICAgIGlmIChwb3MgPT09IC0xKSB7XG4gICAgICAgICAgICBrZXkgPSBvcHRpb25zLmRlY29kZXIocGFydCwgZGVmYXVsdHMuZGVjb2RlciwgY2hhcnNldCwgJ2tleScpO1xuICAgICAgICAgICAgdmFsID0gb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgPyBudWxsIDogJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBrZXkgPSBvcHRpb25zLmRlY29kZXIocGFydC5zbGljZSgwLCBwb3MpLCBkZWZhdWx0cy5kZWNvZGVyLCBjaGFyc2V0LCAna2V5Jyk7XG4gICAgICAgICAgICB2YWwgPSB1dGlscy5tYXliZU1hcChcbiAgICAgICAgICAgICAgICBwYXJzZUFycmF5VmFsdWUocGFydC5zbGljZShwb3MgKyAxKSwgb3B0aW9ucyksXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVuY29kZWRWYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZGVjb2RlcihlbmNvZGVkVmFsLCBkZWZhdWx0cy5kZWNvZGVyLCBjaGFyc2V0LCAndmFsdWUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbCAmJiBvcHRpb25zLmludGVycHJldE51bWVyaWNFbnRpdGllcyAmJiBjaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgICAgIHZhbCA9IGludGVycHJldE51bWVyaWNFbnRpdGllcyh2YWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQuaW5kZXhPZignW109JykgPiAtMSkge1xuICAgICAgICAgICAgdmFsID0gaXNBcnJheSh2YWwpID8gW3ZhbF0gOiB2YWw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzLmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IHV0aWxzLmNvbWJpbmUob2JqW2tleV0sIHZhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IHZhbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG59O1xuXG52YXIgcGFyc2VPYmplY3QgPSBmdW5jdGlvbiAoY2hhaW4sIHZhbCwgb3B0aW9ucywgdmFsdWVzUGFyc2VkKSB7XG4gICAgdmFyIGxlYWYgPSB2YWx1ZXNQYXJzZWQgPyB2YWwgOiBwYXJzZUFycmF5VmFsdWUodmFsLCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIGkgPSBjaGFpbi5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgb2JqO1xuICAgICAgICB2YXIgcm9vdCA9IGNoYWluW2ldO1xuXG4gICAgICAgIGlmIChyb290ID09PSAnW10nICYmIG9wdGlvbnMucGFyc2VBcnJheXMpIHtcbiAgICAgICAgICAgIG9iaiA9IFtdLmNvbmNhdChsZWFmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9iaiA9IG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgICAgICAgdmFyIGNsZWFuUm9vdCA9IHJvb3QuY2hhckF0KDApID09PSAnWycgJiYgcm9vdC5jaGFyQXQocm9vdC5sZW5ndGggLSAxKSA9PT0gJ10nID8gcm9vdC5zbGljZSgxLCAtMSkgOiByb290O1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gcGFyc2VJbnQoY2xlYW5Sb290LCAxMCk7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMucGFyc2VBcnJheXMgJiYgY2xlYW5Sb290ID09PSAnJykge1xuICAgICAgICAgICAgICAgIG9iaiA9IHsgMDogbGVhZiB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAhaXNOYU4oaW5kZXgpXG4gICAgICAgICAgICAgICAgJiYgcm9vdCAhPT0gY2xlYW5Sb290XG4gICAgICAgICAgICAgICAgJiYgU3RyaW5nKGluZGV4KSA9PT0gY2xlYW5Sb290XG4gICAgICAgICAgICAgICAgJiYgaW5kZXggPj0gMFxuICAgICAgICAgICAgICAgICYmIChvcHRpb25zLnBhcnNlQXJyYXlzICYmIGluZGV4IDw9IG9wdGlvbnMuYXJyYXlMaW1pdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG9iaiA9IFtdO1xuICAgICAgICAgICAgICAgIG9ialtpbmRleF0gPSBsZWFmO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmpbY2xlYW5Sb290XSA9IGxlYWY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZWFmID0gb2JqO1xuICAgIH1cblxuICAgIHJldHVybiBsZWFmO1xufTtcblxudmFyIHBhcnNlS2V5cyA9IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmdLZXlzKGdpdmVuS2V5LCB2YWwsIG9wdGlvbnMsIHZhbHVlc1BhcnNlZCkge1xuICAgIGlmICghZ2l2ZW5LZXkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRyYW5zZm9ybSBkb3Qgbm90YXRpb24gdG8gYnJhY2tldCBub3RhdGlvblxuICAgIHZhciBrZXkgPSBvcHRpb25zLmFsbG93RG90cyA/IGdpdmVuS2V5LnJlcGxhY2UoL1xcLihbXi5bXSspL2csICdbJDFdJykgOiBnaXZlbktleTtcblxuICAgIC8vIFRoZSByZWdleCBjaHVua3NcblxuICAgIHZhciBicmFja2V0cyA9IC8oXFxbW15bXFxdXSpdKS87XG4gICAgdmFyIGNoaWxkID0gLyhcXFtbXltcXF1dKl0pL2c7XG5cbiAgICAvLyBHZXQgdGhlIHBhcmVudFxuXG4gICAgdmFyIHNlZ21lbnQgPSBvcHRpb25zLmRlcHRoID4gMCAmJiBicmFja2V0cy5leGVjKGtleSk7XG4gICAgdmFyIHBhcmVudCA9IHNlZ21lbnQgPyBrZXkuc2xpY2UoMCwgc2VnbWVudC5pbmRleCkgOiBrZXk7XG5cbiAgICAvLyBTdGFzaCB0aGUgcGFyZW50IGlmIGl0IGV4aXN0c1xuXG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIC8vIElmIHdlIGFyZW4ndCB1c2luZyBwbGFpbiBvYmplY3RzLCBvcHRpb25hbGx5IHByZWZpeCBrZXlzIHRoYXQgd291bGQgb3ZlcndyaXRlIG9iamVjdCBwcm90b3R5cGUgcHJvcGVydGllc1xuICAgICAgICBpZiAoIW9wdGlvbnMucGxhaW5PYmplY3RzICYmIGhhcy5jYWxsKE9iamVjdC5wcm90b3R5cGUsIHBhcmVudCkpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBrZXlzLnB1c2gocGFyZW50KTtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggY2hpbGRyZW4gYXBwZW5kaW5nIHRvIHRoZSBhcnJheSB1bnRpbCB3ZSBoaXQgZGVwdGhcblxuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAob3B0aW9ucy5kZXB0aCA+IDAgJiYgKHNlZ21lbnQgPSBjaGlsZC5leGVjKGtleSkpICE9PSBudWxsICYmIGkgPCBvcHRpb25zLmRlcHRoKSB7XG4gICAgICAgIGkgKz0gMTtcbiAgICAgICAgaWYgKCFvcHRpb25zLnBsYWluT2JqZWN0cyAmJiBoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBzZWdtZW50WzFdLnNsaWNlKDEsIC0xKSkpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAga2V5cy5wdXNoKHNlZ21lbnRbMV0pO1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlJ3MgYSByZW1haW5kZXIsIGp1c3QgYWRkIHdoYXRldmVyIGlzIGxlZnRcblxuICAgIGlmIChzZWdtZW50KSB7XG4gICAgICAgIGtleXMucHVzaCgnWycgKyBrZXkuc2xpY2Uoc2VnbWVudC5pbmRleCkgKyAnXScpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZU9iamVjdChrZXlzLCB2YWwsIG9wdGlvbnMsIHZhbHVlc1BhcnNlZCk7XG59O1xuXG52YXIgbm9ybWFsaXplUGFyc2VPcHRpb25zID0gZnVuY3Rpb24gbm9ybWFsaXplUGFyc2VPcHRpb25zKG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmRlY29kZXIgIT09IG51bGwgJiYgb3B0cy5kZWNvZGVyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdHMuZGVjb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdEZWNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5jaGFyc2V0ICE9PSAndW5kZWZpbmVkJyAmJiBvcHRzLmNoYXJzZXQgIT09ICd1dGYtOCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGNoYXJzZXQgb3B0aW9uIG11c3QgYmUgZWl0aGVyIHV0Zi04LCBpc28tODg1OS0xLCBvciB1bmRlZmluZWQnKTtcbiAgICB9XG4gICAgdmFyIGNoYXJzZXQgPSB0eXBlb2Ygb3B0cy5jaGFyc2V0ID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmNoYXJzZXQgOiBvcHRzLmNoYXJzZXQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhbGxvd0RvdHM6IHR5cGVvZiBvcHRzLmFsbG93RG90cyA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5hbGxvd0RvdHMgOiAhIW9wdHMuYWxsb3dEb3RzLFxuICAgICAgICBhbGxvd1Byb3RvdHlwZXM6IHR5cGVvZiBvcHRzLmFsbG93UHJvdG90eXBlcyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5hbGxvd1Byb3RvdHlwZXMgOiBkZWZhdWx0cy5hbGxvd1Byb3RvdHlwZXMsXG4gICAgICAgIGFsbG93U3BhcnNlOiB0eXBlb2Ygb3B0cy5hbGxvd1NwYXJzZSA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5hbGxvd1NwYXJzZSA6IGRlZmF1bHRzLmFsbG93U3BhcnNlLFxuICAgICAgICBhcnJheUxpbWl0OiB0eXBlb2Ygb3B0cy5hcnJheUxpbWl0ID09PSAnbnVtYmVyJyA/IG9wdHMuYXJyYXlMaW1pdCA6IGRlZmF1bHRzLmFycmF5TGltaXQsXG4gICAgICAgIGNoYXJzZXQ6IGNoYXJzZXQsXG4gICAgICAgIGNoYXJzZXRTZW50aW5lbDogdHlwZW9mIG9wdHMuY2hhcnNldFNlbnRpbmVsID09PSAnYm9vbGVhbicgPyBvcHRzLmNoYXJzZXRTZW50aW5lbCA6IGRlZmF1bHRzLmNoYXJzZXRTZW50aW5lbCxcbiAgICAgICAgY29tbWE6IHR5cGVvZiBvcHRzLmNvbW1hID09PSAnYm9vbGVhbicgPyBvcHRzLmNvbW1hIDogZGVmYXVsdHMuY29tbWEsXG4gICAgICAgIGRlY29kZXI6IHR5cGVvZiBvcHRzLmRlY29kZXIgPT09ICdmdW5jdGlvbicgPyBvcHRzLmRlY29kZXIgOiBkZWZhdWx0cy5kZWNvZGVyLFxuICAgICAgICBkZWxpbWl0ZXI6IHR5cGVvZiBvcHRzLmRlbGltaXRlciA9PT0gJ3N0cmluZycgfHwgdXRpbHMuaXNSZWdFeHAob3B0cy5kZWxpbWl0ZXIpID8gb3B0cy5kZWxpbWl0ZXIgOiBkZWZhdWx0cy5kZWxpbWl0ZXIsXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbXBsaWNpdC1jb2VyY2lvbiwgbm8tZXh0cmEtcGFyZW5zXG4gICAgICAgIGRlcHRoOiAodHlwZW9mIG9wdHMuZGVwdGggPT09ICdudW1iZXInIHx8IG9wdHMuZGVwdGggPT09IGZhbHNlKSA/ICtvcHRzLmRlcHRoIDogZGVmYXVsdHMuZGVwdGgsXG4gICAgICAgIGlnbm9yZVF1ZXJ5UHJlZml4OiBvcHRzLmlnbm9yZVF1ZXJ5UHJlZml4ID09PSB0cnVlLFxuICAgICAgICBpbnRlcnByZXROdW1lcmljRW50aXRpZXM6IHR5cGVvZiBvcHRzLmludGVycHJldE51bWVyaWNFbnRpdGllcyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMgOiBkZWZhdWx0cy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMsXG4gICAgICAgIHBhcmFtZXRlckxpbWl0OiB0eXBlb2Ygb3B0cy5wYXJhbWV0ZXJMaW1pdCA9PT0gJ251bWJlcicgPyBvcHRzLnBhcmFtZXRlckxpbWl0IDogZGVmYXVsdHMucGFyYW1ldGVyTGltaXQsXG4gICAgICAgIHBhcnNlQXJyYXlzOiBvcHRzLnBhcnNlQXJyYXlzICE9PSBmYWxzZSxcbiAgICAgICAgcGxhaW5PYmplY3RzOiB0eXBlb2Ygb3B0cy5wbGFpbk9iamVjdHMgPT09ICdib29sZWFuJyA/IG9wdHMucGxhaW5PYmplY3RzIDogZGVmYXVsdHMucGxhaW5PYmplY3RzLFxuICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IHR5cGVvZiBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgOiBkZWZhdWx0cy5zdHJpY3ROdWxsSGFuZGxpbmdcbiAgICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyLCBvcHRzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBub3JtYWxpemVQYXJzZU9wdGlvbnMob3B0cyk7XG5cbiAgICBpZiAoc3RyID09PSAnJyB8fCBzdHIgPT09IG51bGwgfHwgdHlwZW9mIHN0ciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgIH1cblxuICAgIHZhciB0ZW1wT2JqID0gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgPyBwYXJzZVZhbHVlcyhzdHIsIG9wdGlvbnMpIDogc3RyO1xuICAgIHZhciBvYmogPSBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUga2V5cyBhbmQgc2V0dXAgdGhlIG5ldyBvYmplY3RcblxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModGVtcE9iaik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICB2YXIgbmV3T2JqID0gcGFyc2VLZXlzKGtleSwgdGVtcE9ialtrZXldLCBvcHRpb25zLCB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyk7XG4gICAgICAgIG9iaiA9IHV0aWxzLm1lcmdlKG9iaiwgbmV3T2JqLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5hbGxvd1NwYXJzZSA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIHJldHVybiB1dGlscy5jb21wYWN0KG9iaik7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vc3RyaW5naWZ5Jyk7XG52YXIgcGFyc2UgPSByZXF1aXJlKCcuL3BhcnNlJyk7XG52YXIgZm9ybWF0cyA9IHJlcXVpcmUoJy4vZm9ybWF0cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBmb3JtYXRzOiBmb3JtYXRzLFxuICAgIHBhcnNlOiBwYXJzZSxcbiAgICBzdHJpbmdpZnk6IHN0cmluZ2lmeVxufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiBmb3Igc29ydGluZyBhcnJheXMgb2YgbnVtYmVycyBvciBzdHJpbmdzLlxuICpcbiAqIEBtb2R1bGUgdXRpbC9hbHBoYW51bWVyaWMtc29ydFxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBhIFRoZSBmaXJzdCBjb21wYXJhdG9yIG9wZXJhbmRcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gYSBUaGUgc2Vjb25kIGNvbXBhcmF0b3Igb3BlcmFuZFxuICogQHJldHVybnMgLTEgaWYgdGhlIHZhbHVlcyBhcmUgYmFja3dhcmRzLCAxIGlmIHRoZXkncmUgb3JkZXJlZCwgYW5kIDAgaWYgdGhleSdyZSB0aGUgc2FtZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9ICggYSwgYiApID0+IHtcblx0aWYgKCBhID4gYiApIHtcblx0XHRyZXR1cm4gMTtcblx0fVxuXHRpZiAoIGEgPCBiICkge1xuXHRcdHJldHVybiAtMTtcblx0fVxuXHRyZXR1cm4gMDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvbnZlcnQgYSAoa2V5LCB2YWx1ZSkgcGFpciB0byBhIHsga2V5OiB2YWx1ZSB9IG9iamVjdFxuICpcbiAqIEBtb2R1bGUgdXRpbC9rZXktdmFsLXRvLW9ialxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAgIFRoZSBrZXkgdG8gdXNlIGluIHRoZSByZXR1cm5lZCBvYmplY3RcbiAqIEBwYXJhbSB7fSAgICAgICB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduIHRvIHRoZSBwcm92aWRlZCBrZXlcbiAqIEByZXR1cm5zIHtvYmplY3R9IEEgZGljdGlvbmFyeSBvYmplY3QgY29udGFpbmluZyB0aGUga2V5LXZhbHVlIHBhaXJcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAoIGtleSwgdmFsdWUgKSA9PiB7XG5cdGNvbnN0IG9iaiA9IHt9O1xuXHRvYmpbIGtleSBdID0gdmFsdWU7XG5cdHJldHVybiBvYmo7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBIZWxwZXIgdG8gY3JlYXRlIGEgc2ltcGxlIHBhcmFtZXRlciBzZXR0ZXIgY29udmVuaWVuY2UgbWV0aG9kXG4gKlxuICogQG1vZHVsZSB1dGlsL3BhcmFtZXRlci1zZXR0ZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXJhbSBUaGUgc3RyaW5nIGtleSBvZiB0aGUgcGFyYW1ldGVyIHRoaXMgbWV0aG9kIHdpbGwgc2V0XG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgc2V0dGVyIG1ldGhvZCB0aGF0IGNhbiBiZSBhc3NpZ25lZCB0byBhIHJlcXVlc3QgaW5zdGFuY2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAoIHBhcmFtICkgPT4ge1xuXHQvKipcblx0ICogQSBzZXR0ZXIgZm9yIGEgc3BlY2lmaWMgcGFyYW1ldGVyXG5cdCAqXG5cdCAqIEBjaGFpbmFibGVcblx0ICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHNldCBmb3IgdGhlIHRoZSBwYXJhbWV0ZXJcblx0ICogQHJldHVybnMgVGhlIHJlcXVlc3QgaW5zdGFuY2Ugb24gd2hpY2ggdGhpcyBtZXRob2Qgd2FzIGNhbGxlZCAoZm9yIGNoYWluaW5nKVxuXHQgKi9cblx0cmV0dXJuIGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0cmV0dXJuIHRoaXMucGFyYW0oIHBhcmFtLCB2YWwgKTtcblx0fTtcbn07XG4iLCAiLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgd2l0aCBhbGwgZHVwbGljYXRlIGl0ZW1zIHJlbW92ZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbmFsaXR5IHdhcyBwcmV2aW91c2x5IHByb3ZpZGVkIGJ5IGxvZGFzaC51bmlxLCBidXQgdGhpc1xuICogbW9kZXJuIEpTIHNvbHV0aW9uIHlpZWxkcyBhIHNtYWxsZXIgYnVuZGxlIHNpemUuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJyIEFuIGFycmF5IHRvIGRlLWR1cGxpY2F0ZVxuICogQHJldHVybnMge0FycmF5fSBBIGRlLWR1cGxpY2F0ZWQgYXJyYXlcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBhcnIgPT4gQXJyYXkuZnJvbSggbmV3IFNldCggYXJyICkgKTtcbiIsICIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHFzID0gcmVxdWlyZSggJ3FzJyApO1xuXG5jb25zdCBhbHBoYU51bWVyaWNTb3J0ID0gcmVxdWlyZSggJy4uL3V0aWwvYWxwaGFudW1lcmljLXNvcnQnICk7XG5jb25zdCBrZXlWYWxUb09iaiA9IHJlcXVpcmUoICcuLi91dGlsL2tleS12YWwtdG8tb2JqJyApO1xuY29uc3QgcGFyYW1TZXR0ZXIgPSByZXF1aXJlKCAnLi4vdXRpbC9wYXJhbWV0ZXItc2V0dGVyJyApO1xuY29uc3Qgb2JqZWN0UmVkdWNlID0gcmVxdWlyZSggJy4uL3V0aWwvb2JqZWN0LXJlZHVjZScgKTtcbmNvbnN0IHVuaXF1ZSA9IHJlcXVpcmUoICcuLi91dGlsL3VuaXF1ZScgKTtcblxuLyoqXG4gKiBXUFJlcXVlc3QgaXMgdGhlIGJhc2UgQVBJIHJlcXVlc3Qgb2JqZWN0IGNvbnN0cnVjdG9yXG4gKlxuICogQGNvbnN0cnVjdG9yIFdQUmVxdWVzdFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQSBoYXNoIG9mIG9wdGlvbnMgZm9yIHRoZSBXUFJlcXVlc3QgaW5zdGFuY2VcbiAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLmVuZHBvaW50IFRoZSBlbmRwb2ludCBVUkkgZm9yIHRoZSBpbnZva2luZyBXUEFQSSBpbnN0YW5jZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMudHJhbnNwb3J0IEFuIG9iamVjdCBvZiBodHRwIHRyYW5zcG9ydCBtZXRob2RzIChnZXQsIHBvc3QsIGV0YylcbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy51c2VybmFtZV0gQSB1c2VybmFtZSBmb3IgYXV0aGVudGljYXRpbmcgQVBJIHJlcXVlc3RzXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucGFzc3dvcmRdIEEgcGFzc3dvcmQgZm9yIGF1dGhlbnRpY2F0aW5nIEFQSSByZXF1ZXN0c1xuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm5vbmNlXSBBIFdQIG5vbmNlIGZvciB1c2Ugd2l0aCBjb29raWUgYXV0aGVudGljYXRpb25cbiAqL1xuZnVuY3Rpb24gV1BSZXF1ZXN0KCBvcHRpb25zICkge1xuXHQvKipcblx0ICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgcmVxdWVzdFxuXHQgKlxuXHQgKiBAcHJvcGVydHkgX29wdGlvbnNcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqIEBwcml2YXRlXG5cdCAqIEBkZWZhdWx0IHt9XG5cdCAqL1xuXHR0aGlzLl9vcHRpb25zID0gW1xuXHRcdC8vIFdoaXRlbGlzdGVkIG9wdGlvbnMga2V5c1xuXHRcdCdhdXRoJyxcblx0XHQnZW5kcG9pbnQnLFxuXHRcdCdoZWFkZXJzJyxcblx0XHQndXNlcm5hbWUnLFxuXHRcdCdwYXNzd29yZCcsXG5cdFx0J25vbmNlJyxcblx0XS5yZWR1Y2UoICggbG9jYWxPcHRpb25zLCBrZXkgKSA9PiB7XG5cdFx0aWYgKCBvcHRpb25zICYmIG9wdGlvbnNbIGtleSBdICkge1xuXHRcdFx0bG9jYWxPcHRpb25zWyBrZXkgXSA9IG9wdGlvbnNbIGtleSBdO1xuXHRcdH1cblx0XHRyZXR1cm4gbG9jYWxPcHRpb25zO1xuXHR9LCB7fSApO1xuXG5cdC8qKlxuXHQgKiBUaGUgSFRUUCB0cmFuc3BvcnQgbWV0aG9kcyAoLmdldCwgLnBvc3QsIC5wdXQsIC5kZWxldGUsIC5oZWFkKSB0byB1c2UgZm9yIHRoaXMgcmVxdWVzdFxuXHQgKlxuXHQgKiBAcHJvcGVydHkgdHJhbnNwb3J0XG5cdCAqIEB0eXBlIHtPYmplY3R9XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHR0aGlzLnRyYW5zcG9ydCA9IG9wdGlvbnMgJiYgb3B0aW9ucy50cmFuc3BvcnQ7XG5cblx0LyoqXG5cdCAqIEEgaGFzaCBvZiBxdWVyeSBwYXJhbWV0ZXJzXG5cdCAqIFRoaXMgaXMgdXNlZCB0byBzdG9yZSB0aGUgdmFsdWVzIGZvciBzdXBwb3J0ZWQgcXVlcnkgcGFyYW1ldGVycyBsaWtlID9fZW1iZWRcblx0ICpcblx0ICogQHByb3BlcnR5IF9wYXJhbXNcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqIEBwcml2YXRlXG5cdCAqIEBkZWZhdWx0IHt9XG5cdCAqL1xuXHR0aGlzLl9wYXJhbXMgPSB7fTtcblxuXHQvKipcblx0ICogTWV0aG9kcyBzdXBwb3J0ZWQgYnkgdGhpcyBBUEkgcmVxdWVzdCBpbnN0YW5jZTpcblx0ICogSW5kaXZpZHVhbCBlbmRwb2ludCBoYW5kbGVycyBzcGVjaWZ5IHRoZWlyIG93biBzdWJzZXQgb2Ygc3VwcG9ydGVkIG1ldGhvZHNcblx0ICpcblx0ICogQHByb3BlcnR5IF9zdXBwb3J0ZWRNZXRob2RzXG5cdCAqIEB0eXBlIEFycmF5XG5cdCAqIEBwcml2YXRlXG5cdCAqIEBkZWZhdWx0IFsgJ2hlYWQnLCAnZ2V0JywgJ3B1dCcsICdwb3N0JywgJ2RlbGV0ZScgXVxuXHQgKi9cblx0dGhpcy5fc3VwcG9ydGVkTWV0aG9kcyA9IFsgJ2hlYWQnLCAnZ2V0JywgJ3B1dCcsICdwb3N0JywgJ2RlbGV0ZScgXTtcblxuXHQvKipcblx0ICogQSBoYXNoIG9mIHZhbHVlcyB0byBhc3NlbWJsZSBpbnRvIHRoZSBBUEkgcmVxdWVzdCBwYXRoXG5cdCAqIChUaGlzIHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgZWFjaCBzcGVjaWZpYyBlbmRwb2ludCBoYW5kbGVyIGNvbnN0cnVjdG9yKVxuXHQgKlxuXHQgKiBAcHJvcGVydHkgX3BhdGhcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqIEBwcml2YXRlXG5cdCAqIEBkZWZhdWx0IHt9XG5cdCAqL1xuXHR0aGlzLl9wYXRoID0ge307XG59XG5cbi8vIFByaXZhdGUgaGVscGVyIG1ldGhvZHNcbi8vID09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBJZGVudGl0eSBmdW5jdGlvbiBmb3IgdXNlIHdpdGhpbiBpbnZva2VBbmRQcm9taXNpZnkoKVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgaWRlbnRpdHkgPSB2YWx1ZSA9PiB2YWx1ZTtcblxuLyoqXG4gKiBQcm9jZXNzIGFycmF5cyBvZiB0YXhvbm9teSB0ZXJtcyBpbnRvIHF1ZXJ5IHBhcmFtZXRlcnMuXG4gKiBBbGwgdGVybXMgbGlzdGVkIGluIHRoZSBhcnJheXMgd2lsbCBiZSByZXF1aXJlZCAoQU5EIGJlaGF2aW9yKS5cbiAqXG4gKiBUaGlzIG1ldGhvZCB3aWxsIG5vdCBiZSBjYWxsZWQgd2l0aCBhbnkgdmFsdWVzIHVubGVzcyB3ZSBhcmUgaGFuZGxpbmdcbiAqIGFuIGVuZHBvaW50IHdpdGggdGhlIGZpbHRlciBtaXhpbjsgaG93ZXZlciwgc2luY2UgcGFyYW1ldGVyIGhhbmRsaW5nXG4gKiAoYW5kIHRoZXJlZm9yZSBgX3JlbmRlclF1ZXJ5KClgKSBhcmUgcGFydCBvZiBXUFJlcXVlc3QgaXRzZWxmLCB0aGlzXG4gKiBoZWxwZXIgbWV0aG9kIGxpdmVzIGhlcmUgYWxvbmdzaWRlIHRoZSBjb2RlIHdoZXJlIGl0IGlzIHVzZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqICAgICBwcmVwYXJlVGF4b25vbWllcyh7XG4gKiAgICAgICAgIHRhZzogWyAndGFnMSAnLCAndGFnMicgXSwgLy8gYnkgdGVybSBzbHVnXG4gKiAgICAgICAgIGNhdDogWyA3IF0gLy8gYnkgdGVybSBJRFxuICogICAgIH0pID09PSB7XG4gKiAgICAgICAgIHRhZzogJ3RhZzErdGFnMicsXG4gKiAgICAgICAgIGNhdDogJzcnXG4gKiAgICAgfVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gdGF4b25vbXlGaWx0ZXJzIEFuIG9iamVjdCBvZiB0YXhvbm9teSB0ZXJtIGFycmF5cywga2V5ZWQgYnkgdGF4b25vbXkgbmFtZVxuICogQHJldHVybnMge09iamVjdH0gQW4gb2JqZWN0IG9mIHByZXBhcmVGaWx0ZXJzLXJlYWR5IHF1ZXJ5IGFyZyBhbmQgcXVlcnkgcGFyYW0gdmFsdWUgcGFpcnNcbiAqL1xuZnVuY3Rpb24gcHJlcGFyZVRheG9ub21pZXMoIHRheG9ub215RmlsdGVycyApIHtcblx0aWYgKCAhIHRheG9ub215RmlsdGVycyApIHtcblx0XHRyZXR1cm4ge307XG5cdH1cblxuXHRyZXR1cm4gb2JqZWN0UmVkdWNlKFxuXHRcdHRheG9ub215RmlsdGVycyxcblx0XHQoIHJlc3VsdCwgdGVybXMsIGtleSApID0+IHtcblx0XHRcdC8vIFRyaW0gd2hpdGVzcGFjZSBhbmQgY29uY2F0ZW5hdGUgbXVsdGlwbGUgdGVybXMgd2l0aCArXG5cdFx0XHRyZXN1bHRbIGtleSBdID0gdGVybXNcblx0XHRcdFx0Ly8gQ29lcmNlIHRlcm0gaW50byBhIHN0cmluZyBzbyB0aGF0IHRyaW0oKSB3b24ndCBmYWlsXG5cdFx0XHRcdC5tYXAoIHRlcm0gPT4gKCB0ZXJtICsgJycgKS50cmltKCkudG9Mb3dlckNhc2UoKSApXG5cdFx0XHRcdC5qb2luKCAnKycgKTtcblxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9LFxuXHRcdHt9XG5cdCk7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIG9iamVjdCB3aXRoIGFueSBwcm9wZXJ0aWVzIHdpdGggdW5kZWZpbmVkLCBudWxsIG9yIGVtcHR5IHN0cmluZ1xuICogdmFsdWVzIHJlbW92ZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAgICAgcG9wdWxhdGVkKHtcbiAqICAgICAgIGE6ICdhJyxcbiAqICAgICAgIGI6ICcnLFxuICogICAgICAgYzogbnVsbFxuICogICAgIH0pOyAvLyB7IGE6ICdhJyB9XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogQW4gb2JqZWN0IG9mIGtleS92YWx1ZSBwYWlyc1xuICogQHJldHVybnMge09iamVjdH0gVGhhdCBvYmplY3Qgd2l0aCBhbGwgZW1wdHkgdmFsdWVzIHJlbW92ZWRcbiAqL1xuY29uc3QgcG9wdWxhdGVkID0gKCBvYmogKSA9PiB7XG5cdGlmICggISBvYmogKSB7XG5cdFx0cmV0dXJuIG9iajtcblx0fVxuXHRyZXR1cm4gb2JqZWN0UmVkdWNlKFxuXHRcdG9iaixcblx0XHQoIHZhbHVlcywgdmFsLCBrZXkgKSA9PiB7XG5cdFx0XHRpZiAoIHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbCAmJiB2YWwgIT09ICcnICkge1xuXHRcdFx0XHR2YWx1ZXNbIGtleSBdID0gdmFsO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHR9LFxuXHRcdHt9XG5cdCk7XG59O1xuXG4vKipcbiAqIEFzc2VydCB3aGV0aGVyIGEgcHJvdmlkZWQgVVJMIGNvbXBvbmVudCBpcyBcInZhbGlkXCIgYnkgY2hlY2tpbmcgaXQgYWdhaW5zdFxuICogYW4gYXJyYXkgb2YgcmVnaXN0ZXJlZCBwYXRoIGNvbXBvbmVudCB2YWxpZGF0b3IgbWV0aG9kcyBmb3IgdGhhdCBsZXZlbCBvZlxuICogdGhlIFVSTCBwYXRoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdFtdfSBsZXZlbERlZmluaXRpb25zIEFuIGFycmF5IG9mIExldmVsIERlZmluaXRpb24gb2JqZWN0c1xuICogQHBhcmFtIHtzdHJpbmd9ICAgbGV2ZWxDb250ZW50cyAgICBUaGUgVVJMIHBhdGggc3RyaW5nIHRoYXQgaGFzIGJlZW4gc3BlY2lmaWVkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciB1c2Ugb24gdGhlIHByb3ZpZGVkIGxldmVsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcHJvdmlkZWQgaW5wdXQgbWF0Y2hlcyBhbnkgb2YgdGhlIHByb3ZpZGVkXG4gKiBsZXZlbCB2YWxpZGF0aW9uIGZ1bmN0aW9uc1xuICovXG5jb25zdCB2YWxpZGF0ZVBhdGhMZXZlbCA9ICggbGV2ZWxEZWZpbml0aW9ucywgbGV2ZWxDb250ZW50cyApID0+IHtcblx0Ly8gT25lIFwibGV2ZWxcIiBtYXkgaGF2ZSBtdWx0aXBsZSBvcHRpb25zLCBhcyBhIHJvdXRlIHRyZWUgaXMgYSBicmFuY2hpbmdcblx0Ly8gc3RydWN0dXJlLiBXZSBjb25zaWRlciBhIGxldmVsIFwidmFsaWRcIiBpZiB0aGUgcHJvdmlkZWQgbGV2ZWxDb250ZW50c1xuXHQvLyBtYXRjaCBhbnkgb2YgdGhlIGF2YWlsYWJsZSB2YWxpZGF0b3JzLlxuXHRjb25zdCB2YWxpZCA9IGxldmVsRGVmaW5pdGlvbnMucmVkdWNlKCAoIGFueU9wdGlvblZhbGlkLCBsZXZlbE9wdGlvbiApID0+IHtcblx0XHRpZiAoICEgbGV2ZWxPcHRpb24udmFsaWRhdGUgKSB7XG5cdFx0XHQvLyBJZiB0aGVyZSBpcyBubyB2YWxpZGF0b3IgZnVuY3Rpb24sIHRoZSBsZXZlbCBpcyBpbXBsaWNpdGx5IHZhbGlkXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIGFueU9wdGlvblZhbGlkIHx8IGxldmVsT3B0aW9uLnZhbGlkYXRlKCBsZXZlbENvbnRlbnRzICk7XG5cdH0sIGZhbHNlICk7XG5cblx0aWYgKCAhIHZhbGlkICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggW1xuXHRcdFx0J0ludmFsaWQgcGF0aCBjb21wb25lbnQ6Jyxcblx0XHRcdGxldmVsQ29udGVudHMsXG5cdFx0XHQvLyBhd2t3YXJkIHBsdXJhbGl6YXRpb24gc3VwcG9ydDpcblx0XHRcdCdkb2VzIG5vdCBtYXRjaCcgKyAoIGxldmVsRGVmaW5pdGlvbnMubGVuZ3RoID4gMSA/ICcgYW55IG9mJyA6ICcnICksXG5cdFx0XHRsZXZlbERlZmluaXRpb25zLnJlZHVjZShcblx0XHRcdFx0KCBjb21wb25lbnRzLCBsZXZlbE9wdGlvbiApID0+IGNvbXBvbmVudHMuY29uY2F0KCBsZXZlbE9wdGlvbi5jb21wb25lbnQgKSxcblx0XHRcdFx0W11cblx0XHRcdCkuam9pbiggJywgJyApLFxuXHRcdF0uam9pbiggJyAnICkgKTtcblx0fVxufTtcblxuLy8gKFNlbWktKVByaXZhdGUgUHJvdG90eXBlIE1ldGhvZHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogUHJvY2VzcyB0aGUgZW5kcG9pbnQgcXVlcnkncyBmaWx0ZXIgb2JqZWN0cyBpbnRvIGEgdmFsaWQgcXVlcnkgc3RyaW5nLlxuICogTmVzdGVkIG9iamVjdHMgYW5kIEFycmF5IHByb3BlcnRpZXMgYXJlIHJlbmRlcmVkIHdpdGggaW5kZXhlZCBhcnJheSBzeW50YXguXG4gKlxuICogQGV4YW1wbGVcbiAqICAgICBfcmVuZGVyUXVlcnkoeyBwMTogJ3ZhbDEnLCBwMjogJ3ZhbDInIH0pOyAgLy8gP3AxPXZhbDEmcDI9dmFsMlxuICogICAgIF9yZW5kZXJRdWVyeSh7IG9iajogeyBwcm9wOiAndmFsJyB9IH0pOyAgICAvLyA/b2JqW3Byb3BdPXZhbFxuICogICAgIF9yZW5kZXJRdWVyeSh7IGFycjogWyAndmFsMScsICd2YWwyJyBdIH0pOyAvLyA/YXJyWzBdPXZhbDEmYXJyWzFdPXZhbDJcbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBtZXRob2QgX3JlbmRlclF1ZXJ5XG4gKiBAcmV0dXJucyB7U3RyaW5nfSBBIHF1ZXJ5IHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHNwZWNpZmllZCBmaWx0ZXIgcGFyYW1ldGVyc1xuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLl9yZW5kZXJRdWVyeSA9IGZ1bmN0aW9uKCkge1xuXHQvLyBCdWlsZCB0aGUgZnVsbCBxdWVyeSBwYXJhbWV0ZXJzIG9iamVjdFxuXHRjb25zdCBxdWVyeVBhcmFtcyA9IHtcblx0XHQuLi5wb3B1bGF0ZWQoIHRoaXMuX3BhcmFtcyApLFxuXHR9O1xuXG5cdC8vIFByZXBhcmUgYW55IHRheG9ub21pZXMgYW5kIG1lcmdlIHdpdGggb3RoZXIgZmlsdGVyIHZhbHVlc1xuXHRjb25zdCB0YXhvbm9taWVzID0gcHJlcGFyZVRheG9ub21pZXMoIHRoaXMuX3RheG9ub215RmlsdGVycyApO1xuXHRxdWVyeVBhcmFtcy5maWx0ZXIgPSB7XG5cdFx0Li4ucG9wdWxhdGVkKCB0aGlzLl9maWx0ZXJzICksXG5cdFx0Li4udGF4b25vbWllcyxcblx0fTtcblxuXHQvLyBQYXJzZSBxdWVyeSBwYXJhbWV0ZXJzIG9iamVjdCBpbnRvIGEgcXVlcnkgc3RyaW5nLCBzb3J0aW5nIHRoZSBvYmplY3Rcblx0Ly8gcHJvcGVydGllcyBieSBhbHBoYWJldGljYWwgb3JkZXIgKGNvbnNpc3RlbnQgcHJvcGVydHkgb3JkZXJpbmcgY2FuIG1ha2Vcblx0Ly8gZm9yIGVhc2llciBjYWNoaW5nIG9mIHJlcXVlc3QgVVJJcylcblx0Y29uc3QgcXVlcnlTdHJpbmcgPSBxcy5zdHJpbmdpZnkoIHF1ZXJ5UGFyYW1zLCB7IGFycmF5Rm9ybWF0OiAnYnJhY2tldHMnIH0gKVxuXHRcdC5zcGxpdCggJyYnIClcblx0XHQuc29ydCgpXG5cdFx0LmpvaW4oICcmJyApO1xuXG5cdC8vIENoZWNrIGlmIHRoZSBlbmRwb2ludCBjb250YWlucyBhIHByZXZpb3VzIHF1ZXJ5IGFuZCBzZXQgdGhlIHF1ZXJ5IGNoYXJhY3RlciBhY2NvcmRpbmdseS5cblx0Y29uc3QgcXVlcnlDaGFyYWN0ZXIgPSAvXFw/Ly50ZXN0KCB0aGlzLl9vcHRpb25zLmVuZHBvaW50ICkgPyAnJicgOiAnPyc7XG5cblx0Ly8gUHJlcGVuZCBhIFwiP1wiIChvciBhIFwiJlwiKSBpZiBhIHF1ZXJ5IGlzIHByZXNlbnQsIGFuZCByZXR1cm4uXG5cdHJldHVybiAoIHF1ZXJ5U3RyaW5nID09PSAnJyApID8gJycgOiBxdWVyeUNoYXJhY3RlciArIHF1ZXJ5U3RyaW5nO1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZSAmIGFzc2VtYmxlIGEgcGF0aCBzdHJpbmcgZnJvbSB0aGUgcmVxdWVzdCBvYmplY3QncyBfcGF0aFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVuZGVyZWQgcGF0aFxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLl9yZW5kZXJQYXRoID0gZnVuY3Rpb24oKSB7XG5cdC8vIENhbGwgdmFsaWRhdGVQYXRoOiBpZiB0aGUgcHJvdmlkZWQgcGF0aCBjb21wb25lbnRzIGFyZSBub3Qgd2VsbC1mb3JtZWQsXG5cdC8vIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duXG5cdHRoaXMudmFsaWRhdGVQYXRoKCk7XG5cblx0Y29uc3QgcGF0aFBhcnRzID0gdGhpcy5fcGF0aDtcblx0Y29uc3Qgb3JkZXJlZFBhdGhQYXJ0cyA9IE9iamVjdC5rZXlzKCBwYXRoUGFydHMgKVxuXHRcdC5zb3J0KCAoIGEsIGIgKSA9PiB7XG5cdFx0XHRjb25zdCBpbnRBID0gcGFyc2VJbnQoIGEsIDEwICk7XG5cdFx0XHRjb25zdCBpbnRCID0gcGFyc2VJbnQoIGIsIDEwICk7XG5cdFx0XHRyZXR1cm4gaW50QSAtIGludEI7XG5cdFx0fSApXG5cdFx0Lm1hcCggcGF0aFBhcnRLZXkgPT4gcGF0aFBhcnRzWyBwYXRoUGFydEtleSBdICk7XG5cblx0Ly8gQ29tYmluZSBhbGwgcGFydHMgb2YgdGhlIHBhdGggdG9nZXRoZXIsIGZpbHRlcmVkIHRvIG9taXQgYW55IGNvbXBvbmVudHNcblx0Ly8gdGhhdCBhcmUgdW5zcGVjaWZpZWQgb3IgZW1wdHkgc3RyaW5ncywgdG8gY3JlYXRlIHRoZSBmdWxsIHBhdGggdGVtcGxhdGVcblx0Y29uc3QgcGF0aCA9IFtcblx0XHR0aGlzLl9uYW1lc3BhY2UsXG5cdF0uY29uY2F0KCBvcmRlcmVkUGF0aFBhcnRzICkuZmlsdGVyKCBpZGVudGl0eSApLmpvaW4oICcvJyApO1xuXG5cdHJldHVybiBwYXRoO1xufTtcblxuLy8gUHVibGljIFByb3RvdHlwZSBNZXRob2RzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBQYXJzZSB0aGUgcmVxdWVzdCBpbnRvIGEgV29yZFByZXNzIEFQSSByZXF1ZXN0IFVSSSBzdHJpbmdcbiAqXG4gKiBAbWV0aG9kXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVVJJIGZvciB0aGUgSFRUUCByZXF1ZXN0IHRvIGJlIHNlbnRcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHQvLyBSZW5kZXIgdGhlIHBhdGggdG8gYSBzdHJpbmdcblx0Y29uc3QgcGF0aCA9IHRoaXMuX3JlbmRlclBhdGgoKTtcblxuXHQvLyBSZW5kZXIgdGhlIHF1ZXJ5IHN0cmluZ1xuXHRjb25zdCBxdWVyeVN0ciA9IHRoaXMuX3JlbmRlclF1ZXJ5KCk7XG5cblx0cmV0dXJuIHRoaXMuX29wdGlvbnMuZW5kcG9pbnQgKyBwYXRoICsgcXVlcnlTdHI7XG59O1xuXG4vKipcbiAqIFNldCBhIGNvbXBvbmVudCBvZiB0aGUgcmVzb3VyY2UgVVJMIGl0c2VsZiAoYXMgb3Bwb3NlZCB0byBhIHF1ZXJ5IHBhcmFtZXRlcilcbiAqXG4gKiBJZiBhIHBhdGggY29tcG9uZW50IGhhcyBhbHJlYWR5IGJlZW4gc2V0IGF0IHRoaXMgbGV2ZWwsIHRocm93IGFuIGVycm9yOlxuICogcmVxdWVzdHMgYXJlIG1lYW50IHRvIGJlIHRyYW5zaWVudCwgc28gYW55IHJlLXdyaXRpbmcgb2YgYSBwcmV2aW91c2x5LXNldFxuICogcGF0aCBwYXJ0IHZhbHVlIGlzIGxpa2VseSB0byBiZSBhIG1pc3Rha2UuXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBsZXZlbCBBIFwibGV2ZWxcIiBvZiB0aGUgcGF0aCB0byBzZXQsIGUuZy4gXCIxXCIgb3IgXCIyXCJcbiAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gdmFsICAgVGhlIHZhbHVlIHRvIHNldCBhdCB0aGF0IHBhdGggcGFydCBsZXZlbFxuICogQHJldHVybnMge1dQUmVxdWVzdH0gVGhlIFdQUmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLnNldFBhdGhQYXJ0ID0gZnVuY3Rpb24oIGxldmVsLCB2YWwgKSB7XG5cdGlmICggdGhpcy5fcGF0aFsgbGV2ZWwgXSApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoICdDYW5ub3Qgb3ZlcndyaXRlIHZhbHVlICcgKyB0aGlzLl9wYXRoWyBsZXZlbCBdICk7XG5cdH1cblx0dGhpcy5fcGF0aFsgbGV2ZWwgXSA9IHZhbDtcblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogVmFsaWRhdGUgd2hldGhlciB0aGUgc3BlY2lmaWVkIHBhdGggcGFydHMgYXJlIHZhbGlkIGZvciB0aGlzIGVuZHBvaW50XG4gKlxuICogXCJQYXRoIHBhcnRzXCIgYXJlIG5vbi1xdWVyeS1zdHJpbmcgVVJMIHNlZ21lbnRzLCBsaWtlIFwic29tZVwiIFwicGF0aFwiIGluIHRoZSBVUkxcbiAqIGBteWRvbWFpbi5jb20vc29tZS9wYXRoP2FuZD1hJnF1ZXJ5PXN0cmluZyZ0b29gLiBCZWNhdXNlIGEgd2VsbC1mb3JtZWQgcGF0aFxuICogaXMgbmVjZXNzYXJ5IHRvIGV4ZWN1dGUgYSBzdWNjZXNzZnVsIEFQSSByZXF1ZXN0LCB3ZSB0aHJvdyBhbiBlcnJvciBpZiB0aGVcbiAqIHVzZXIgaGFzIG9taXR0ZWQgYSB2YWx1ZSAoc3VjaCBhcyBgL3NvbWUvW21pc3NpbmcgY29tcG9uZW50XS91cmxgKSBvciBoYXNcbiAqIHByb3ZpZGVkIGEgcGF0aCBwYXJ0IHZhbHVlIHRoYXQgZG9lcyBub3QgbWF0Y2ggdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGVcbiAqIEFQSSB1c2VzIHRvIGdvdmVuIHRoYXQgc2VnbWVudC5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAY2hhaW5hYmxlXG4gKiBAcmV0dXJucyB7V1BSZXF1ZXN0fSBUaGUgV1BSZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpLCBpZiBubyBlcnJvcnMgd2VyZSBmb3VuZFxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLnZhbGlkYXRlUGF0aCA9IGZ1bmN0aW9uKCkge1xuXHQvLyBJdGVyYXRlIHRocm91Z2ggYWxsIF9zcGVjaWZpZWRfIGxldmVscyBvZiB0aGlzIGVuZHBvaW50XG5cdGNvbnN0IHNwZWNpZmllZExldmVscyA9IE9iamVjdC5rZXlzKCB0aGlzLl9wYXRoIClcblx0XHQubWFwKCBsZXZlbCA9PiBwYXJzZUludCggbGV2ZWwsIDEwICkgKVxuXHRcdC5maWx0ZXIoIHBhdGhQYXJ0S2V5ID0+ICEgaXNOYU4oIHBhdGhQYXJ0S2V5ICkgKTtcblxuXHRjb25zdCBtYXhMZXZlbCA9IE1hdGgubWF4LmFwcGx5KCBudWxsLCBzcGVjaWZpZWRMZXZlbHMgKTtcblxuXHQvLyBFbnN1cmUgdGhhdCBhbGwgbmVjZXNzYXJ5IGxldmVscyBhcmUgc3BlY2lmaWVkXG5cdGNvbnN0IHBhdGggPSBbXTtcblx0bGV0IHZhbGlkID0gdHJ1ZTtcblxuXHRmb3IgKCBsZXQgbGV2ZWwgPSAwOyBsZXZlbCA8PSBtYXhMZXZlbDsgbGV2ZWwrKyApIHtcblxuXHRcdGlmICggISB0aGlzLl9sZXZlbHMgfHwgISB0aGlzLl9sZXZlbHNbIGxldmVsIF0gKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuX3BhdGhbIGxldmVsIF0gKSB7XG5cdFx0XHQvLyBWYWxpZGF0ZSB0aGUgcHJvdmlkZWQgcGF0aCBsZXZlbCBhZ2FpbnN0IGFsbCBhdmFpbGFibGUgcGF0aCB2YWxpZGF0b3JzXG5cdFx0XHR2YWxpZGF0ZVBhdGhMZXZlbCggdGhpcy5fbGV2ZWxzWyBsZXZlbCBdLCB0aGlzLl9wYXRoWyBsZXZlbCBdICk7XG5cblx0XHRcdC8vIEFkZCB0aGUgcGF0aCB2YWx1ZSB0byB0aGUgYXJyYXlcblx0XHRcdHBhdGgucHVzaCggdGhpcy5fcGF0aFsgbGV2ZWwgXSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwYXRoLnB1c2goICcgPz8/ICcgKTtcblx0XHRcdHZhbGlkID0gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCAhIHZhbGlkICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggJ0luY29tcGxldGUgVVJMISBNaXNzaW5nIGNvbXBvbmVudDogLycgKyBwYXRoLmpvaW4oICcvJyApICk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IGEgcGFyYW1ldGVyIHRvIHJlbmRlciBpbnRvIHRoZSBmaW5hbCBxdWVyeSBVUkkuXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBwcm9wcyBUaGUgbmFtZSBvZiB0aGUgcGFyYW1ldGVyIHRvIHNldCwgb3IgYW4gb2JqZWN0IGNvbnRhaW5pbmdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyIGtleXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgdmFsdWVzXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8QXJyYXl9IFt2YWx1ZV0gVGhlIHZhbHVlIG9mIHRoZSBwYXJhbWV0ZXIgYmVpbmcgc2V0XG4gKiBAcmV0dXJucyB7V1BSZXF1ZXN0fSBUaGUgV1BSZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbldQUmVxdWVzdC5wcm90b3R5cGUucGFyYW0gPSBmdW5jdGlvbiggcHJvcHMsIHZhbHVlICkge1xuXHRpZiAoICEgcHJvcHMgfHwgdHlwZW9mIHByb3BzID09PSAnc3RyaW5nJyAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdC8vIFdlIGhhdmUgbm8gcHJvcGVydHkgdG8gc2V0LCBvciBubyB2YWx1ZSB0byBzZXQgZm9yIHRoYXQgcHJvcGVydHlcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8vIFdlIGNhbiB1c2UgdGhlIHNhbWUgaXRlcmF0b3IgZnVuY3Rpb24gYmVsb3cgdG8gaGFuZGxlIGV4cGxpY2l0IGtleS12YWx1ZVxuXHQvLyBwYWlycyBpZiB3ZSBjb252ZXJ0IHRoZW0gaW50byB0byBhbiBvYmplY3Qgd2UgY2FuIGl0ZXJhdGUgb3Zlcjpcblx0aWYgKCB0eXBlb2YgcHJvcHMgPT09ICdzdHJpbmcnICkge1xuXHRcdHByb3BzID0ga2V5VmFsVG9PYmooIHByb3BzLCB2YWx1ZSApO1xuXHR9XG5cblx0Ly8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBwcm9wZXJ0aWVzXG5cdE9iamVjdC5rZXlzKCBwcm9wcyApLmZvckVhY2goICgga2V5ICkgPT4ge1xuXHRcdGxldCB2YWx1ZSA9IHByb3BzWyBrZXkgXTtcblxuXHRcdC8vIEFycmF5cyBzaG91bGQgYmUgZGUtZHVwZWQgYW5kIHNvcnRlZFxuXHRcdGlmICggQXJyYXkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdHZhbHVlID0gdW5pcXVlKCB2YWx1ZSApLnNvcnQoIGFscGhhTnVtZXJpY1NvcnQgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIHZhbHVlXG5cdFx0dGhpcy5fcGFyYW1zWyBrZXkgXSA9IHZhbHVlO1xuXHR9ICk7XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG4vLyBHbG9iYWxseS1hcHBsaWNhYmxlIHBhcmFtZXRlcnMgdGhhdCBpbXBhY3QgdGhlIHNoYXBlIG9mIHRoZSByZXF1ZXN0IG9yIHJlc3BvbnNlXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogU2V0IHRoZSBjb250ZXh0IG9mIHRoZSByZXF1ZXN0LiBVc2VkIHByaW1hcmlseSB0byBleHBvc2UgcHJpdmF0ZSB2YWx1ZXMgb24gYVxuICogcmVxdWVzdCBvYmplY3QgYnkgc2V0dGluZyB0aGUgY29udGV4dCB0byBcImVkaXRcIi5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge1N0cmluZ30gY29udGV4dCBUaGUgY29udGV4dCB0byBzZXQgb24gdGhlIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtXUFJlcXVlc3R9IFRoZSBXUFJlcXVlc3QgaW5zdGFuY2UgKGZvciBjaGFpbmluZylcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS5jb250ZXh0ID0gcGFyYW1TZXR0ZXIoICdjb250ZXh0JyApO1xuXG4vKipcbiAqIENvbnZlbmllbmNlIHdyYXBwZXIgZm9yIGAuY29udGV4dCggJ2VkaXQnIClgXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHJldHVybnMge1dQUmVxdWVzdH0gVGhlIFdQUmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLmVkaXQgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuY29udGV4dCggJ2VkaXQnICk7XG59O1xuXG4vKipcbiAqIFJldHVybiBlbWJlZGRlZCByZXNvdXJjZXMgYXMgcGFydCBvZiB0aGUgcmVzcG9uc2UgcGF5bG9hZC5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAY2hhaW5hYmxlXG4gKiBAcmV0dXJucyB7V1BSZXF1ZXN0fSBUaGUgV1BSZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbldQUmVxdWVzdC5wcm90b3R5cGUuZW1iZWQgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMucGFyYW0oICdfZW1iZWQnLCB0cnVlICk7XG59O1xuXG4vLyBQYXJhbWV0ZXJzIHN1cHBvcnRlZCBieSBhbGwvbmVhcmx5IGFsbCBkZWZhdWx0IGNvbGxlY3Rpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogU2V0IHRoZSBwYWdpbmF0aW9uIG9mIGEgcmVxdWVzdC4gVXNlIGluIGNvbmp1bmN0aW9uIHdpdGggYC5wZXJQYWdlKClgIGZvciBleHBsaWNpdFxuICogcGFnaW5hdGlvbiBoYW5kbGluZy4gKFRoZSBudW1iZXIgb2YgcGFnZXMgaW4gYSByZXNwb25zZSBjYW4gYmUgcmV0cmlldmVkIGZyb20gdGhlXG4gKiByZXNwb25zZSdzIGBfcGFnaW5nLnRvdGFsUGFnZXNgIHByb3BlcnR5LilcbiAqXG4gKiBAbWV0aG9kXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge051bWJlcn0gcGFnZU51bWJlciBUaGUgcGFnZSBudW1iZXIgb2YgcmVzdWx0cyB0byByZXRyaWV2ZVxuICogQHJldHVybnMgVGhlIHJlcXVlc3QgaW5zdGFuY2UgKGZvciBjaGFpbmluZylcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS5wYWdlID0gcGFyYW1TZXR0ZXIoICdwYWdlJyApO1xuXG4vKipcbiAqIFNldCB0aGUgbnVtYmVyIG9mIGl0ZW1zIHRvIGJlIHJldHVybmVkIGluIGEgcGFnZSBvZiByZXNwb25zZXMuXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGl0ZW1zUGVyUGFnZSBUaGUgbnVtYmVyIG9mIGl0ZW1zIHRvIHJldHVybiBpbiBvbmUgcGFnZSBvZiByZXN1bHRzXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLnBlclBhZ2UgPSBwYXJhbVNldHRlciggJ3Blcl9wYWdlJyApO1xuXG4vKipcbiAqIFNldCBhbiBhcmJpdHJhcnkgb2Zmc2V0IHRvIHJldHJpZXZlIGl0ZW1zIGZyb20gYSBzcGVjaWZpYyBwb2ludCBpbiBhIGNvbGxlY3Rpb24uXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldE51bWJlciBUaGUgbnVtYmVyIG9mIGl0ZW1zIGJ5IHdoaWNoIHRvIG9mZnNldCB0aGUgcmVzcG9uc2VcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbldQUmVxdWVzdC5wcm90b3R5cGUub2Zmc2V0ID0gcGFyYW1TZXR0ZXIoICdvZmZzZXQnICk7XG5cbi8qKlxuICogQ2hhbmdlIHRoZSBzb3J0IGRpcmVjdGlvbiBvZiBhIHJldHVybmVkIGNvbGxlY3Rpb25cbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5vcmRlciBjb21tZW50cyBjaHJvbm9sb2dpY2FsbHkgKG9sZGVzdCBmaXJzdCk8L2NhcHRpb24+XG4gKlxuICogICAgIHNpdGUuY29tbWVudHMoKS5vcmRlciggJ2FzYycgKS4uLlxuICpcbiAqIEBtZXRob2RcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBkaXJlY3Rpb24gVGhlIG9yZGVyIHRvIHVzZSB3aGVuIHNvcnRpbmcgdGhlIHJlc3BvbnNlXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLm9yZGVyID0gcGFyYW1TZXR0ZXIoICdvcmRlcicgKTtcblxuLyoqXG4gKiBPcmRlciBhIGNvbGxlY3Rpb24gYnkgYSBzcGVjaWZpYyBmaWVsZFxuICpcbiAqIEBtZXRob2RcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZCBUaGUgZmllbGQgYnkgd2hpY2ggdG8gb3JkZXIgdGhlIHJlc3BvbnNlXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLm9yZGVyYnkgPSBwYXJhbVNldHRlciggJ29yZGVyYnknICk7XG5cbi8qKlxuICogRmlsdGVyIHJlc3VsdHMgdG8gdGhvc2UgbWF0Y2hpbmcgdGhlIHNwZWNpZmllZCBzZWFyY2ggdGVybXMuXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFN0cmluZyBBIHN0cmluZyB0byBzZWFyY2ggZm9yIHdpdGhpbiBwb3N0IGNvbnRlbnRcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbldQUmVxdWVzdC5wcm90b3R5cGUuc2VhcmNoID0gcGFyYW1TZXR0ZXIoICdzZWFyY2gnICk7XG5cbi8qKlxuICogSW5jbHVkZSBzcGVjaWZpYyByZXNvdXJjZSBJRHMgaW4gdGhlIHJlc3BvbnNlIGNvbGxlY3Rpb24uXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtOdW1iZXJ8TnVtYmVyW119IGlkcyBBbiBJRCBvciBhcnJheSBvZiBJRHMgdG8gaW5jbHVkZVxuICogQHJldHVybnMgVGhlIHJlcXVlc3QgaW5zdGFuY2UgKGZvciBjaGFpbmluZylcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS5pbmNsdWRlID0gcGFyYW1TZXR0ZXIoICdpbmNsdWRlJyApO1xuXG4vKipcbiAqIEV4Y2x1ZGUgc3BlY2lmaWMgcmVzb3VyY2UgSURzIGluIHRoZSByZXNwb25zZSBjb2xsZWN0aW9uLlxuICpcbiAqIEBtZXRob2RcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7TnVtYmVyfE51bWJlcltdfSBpZHMgQW4gSUQgb3IgYXJyYXkgb2YgSURzIHRvIGV4Y2x1ZGVcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbldQUmVxdWVzdC5wcm90b3R5cGUuZXhjbHVkZSA9IHBhcmFtU2V0dGVyKCAnZXhjbHVkZScgKTtcblxuLyoqXG4gKiBRdWVyeSBhIGNvbGxlY3Rpb24gZm9yIG1lbWJlcnMgd2l0aCBhIHNwZWNpZmljIHNsdWcuXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtTdHJpbmd9IHNsdWcgQSBwb3N0IHNsdWcgKHNsdWcpLCBlLmcuIFwiaGVsbG8td29ybGRcIlxuICogQHJldHVybnMgVGhlIHJlcXVlc3QgaW5zdGFuY2UgKGZvciBjaGFpbmluZylcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS5zbHVnID0gcGFyYW1TZXR0ZXIoICdzbHVnJyApO1xuXG4vLyBIVFRQIFRyYW5zcG9ydCBQcm90b3R5cGUgTWV0aG9kc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gQ2hhaW5pbmcgbWV0aG9kc1xuLy8gPT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFNldCB0aGUgbmFtZXNwYWNlIG9mIHRoZSByZXF1ZXN0LCBlLmcuIHRvIHNwZWNpZnkgdGhlIEFQSSByb290IGZvciByb3V0ZXNcbiAqIHJlZ2lzdGVyZWQgYnkgd3AgY29yZSB2MiAoXCJ3cC92MlwiKSBvciBieSBhbnkgZ2l2ZW4gcGx1Z2luLiBBbnkgcHJldmlvdXNseS1cbiAqIHNldCBuYW1lc3BhY2Ugd2lsbCBiZSBvdmVyd3JpdHRlbiBieSBzdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSBtZXRob2QuXG4gKlxuICogQG1ldGhvZFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSBBIG5hbWVzcGFjZSBzdHJpbmcsIGUuZy4gXCJ3cC92MlwiXG4gKiBAcmV0dXJucyB7V1BSZXF1ZXN0fSBUaGUgV1BSZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbldQUmVxdWVzdC5wcm90b3R5cGUubmFtZXNwYWNlID0gZnVuY3Rpb24oIG5hbWVzcGFjZSApIHtcblx0dGhpcy5fbmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuXHRyZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IGEgcmVxdWVzdCB0byB1c2UgYXV0aGVudGljYXRpb24sIGFuZCBvcHRpb25hbGx5IHByb3ZpZGUgYXV0aCBjcmVkZW50aWFsc1xuICpcbiAqIElmIGF1dGggY3JlZGVudGlhbHMgd2VyZSBhbHJlYWR5IHNwZWNpZmllZCB3aGVuIHRoZSBXUEFQSSBpbnN0YW5jZSB3YXMgY3JlYXRlZCwgY2FsbGluZ1xuICogYC5hdXRoYCBvbiB0aGUgcmVxdWVzdCBjaGFpbiB3aWxsIHNldCB0aGF0IHJlcXVlc3QgdG8gdXNlIHRoZSBleGlzdGluZyBjcmVkZW50aWFsczpcbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj51c2UgZXhpc3RpbmcgY3JlZGVudGlhbHM8L2NhcHRpb24+XG4gKlxuICogICAgIHJlcXVlc3QuYXV0aCgpLmdldC4uLlxuICpcbiAqIEFsdGVybmF0aXZlbHksIGEgdXNlcm5hbWUgJiBwYXNzd29yZCAob3Igbm9uY2UpIGNhbiBiZSBleHBsaWNpdGx5IHBhc3NlZCBpbnRvIGAuYXV0aGA6XG4gKlxuICogQGV4YW1wbGUgPGNhcHRpb24+dXNlIGV4cGxpY2l0IGJhc2ljIGF1dGhlbnRpY2F0aW9uIGNyZWRlbnRpYWxzPC9jYXB0aW9uPlxuICpcbiAqICAgICByZXF1ZXN0LmF1dGgoe1xuICogICAgICAgdXNlcm5hbWU6ICdhZG1pbicsXG4gKiAgICAgICBwYXNzd29yZDogJ3N1cGVyIHNlY3VyZSdcbiAqICAgICB9KS5nZXQuLi5cbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj51c2UgYSBub25jZSBmb3IgY29va2llIGF1dGhlbnRpY2F0aW9uPC9jYXB0aW9uPlxuICpcbiAqICAgICByZXF1ZXN0LmF1dGgoe1xuICogICAgICAgbm9uY2U6ICdzb21lbm9uY2UnXG4gKiAgICAgfSkuLi5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge09iamVjdH0gY3JlZGVudGlhbHMgICAgICAgICAgICBBbiBvYmplY3Qgd2l0aCAndXNlcm5hbWUnIGFuZCAncGFzc3dvcmQnIHN0cmluZ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcywgb3IgZWxzZSBhICdub25jZScgcHJvcGVydHlcbiAqIEBwYXJhbSB7U3RyaW5nfSBbY3JlZGVudGlhbHMudXNlcm5hbWVdIEEgV1AtQVBJIEJhc2ljIEhUVFAgQXV0aGVudGljYXRpb24gdXNlcm5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfSBbY3JlZGVudGlhbHMucGFzc3dvcmRdIEEgV1AtQVBJIEJhc2ljIEhUVFAgQXV0aGVudGljYXRpb24gcGFzc3dvcmRcbiAqIEBwYXJhbSB7U3RyaW5nfSBbY3JlZGVudGlhbHMubm9uY2VdICAgIEEgV1Agbm9uY2UgZm9yIHVzZSB3aXRoIGNvb2tpZSBhdXRoZW50aWNhdGlvblxuICogQHJldHVybnMge1dQUmVxdWVzdH0gVGhlIFdQUmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLmF1dGggPSBmdW5jdGlvbiggY3JlZGVudGlhbHMgKSB7XG5cdGlmICggdHlwZW9mIGNyZWRlbnRpYWxzID09PSAnb2JqZWN0JyApIHtcblx0XHRpZiAoIHR5cGVvZiBjcmVkZW50aWFscy51c2VybmFtZSA9PT0gJ3N0cmluZycgKSB7XG5cdFx0XHR0aGlzLl9vcHRpb25zLnVzZXJuYW1lID0gY3JlZGVudGlhbHMudXNlcm5hbWU7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlb2YgY3JlZGVudGlhbHMucGFzc3dvcmQgPT09ICdzdHJpbmcnICkge1xuXHRcdFx0dGhpcy5fb3B0aW9ucy5wYXNzd29yZCA9IGNyZWRlbnRpYWxzLnBhc3N3b3JkO1xuXHRcdH1cblxuXHRcdGlmICggY3JlZGVudGlhbHMubm9uY2UgKSB7XG5cdFx0XHR0aGlzLl9vcHRpb25zLm5vbmNlID0gY3JlZGVudGlhbHMubm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0Ly8gU2V0IHRoZSBcImF1dGhcIiBvcHRpb25zIGZsYWcgdGhhdCB3aWxsIGZvcmNlIGF1dGhlbnRpY2F0aW9uIG9uIHRoaXMgcmVxdWVzdFxuXHR0aGlzLl9vcHRpb25zLmF1dGggPSB0cnVlO1xuXG5cdHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTcGVjaWZ5IGEgZmlsZSBvciBhIGZpbGUgYnVmZmVyIHRvIGF0dGFjaCB0byB0aGUgcmVxdWVzdCwgZm9yIHVzZSB3aGVuXG4gKiBjcmVhdGluZyBhIG5ldyBNZWRpYSBpdGVtXG4gKlxuICogQGV4YW1wbGUgPGNhcHRpb24+d2l0aGluIGEgc2VydmVyIGNvbnRleHQ8L2NhcHRpb24+XG4gKlxuICogICAgIHdwLm1lZGlhKClcbiAqICAgICAgIC8vIFBhc3MgLmZpbGUoKSB0aGUgZmlsZSBzeXN0ZW0gcGF0aCB0byBhIGZpbGUgdG8gdXBsb2FkXG4gKiAgICAgICAuZmlsZSggJy9wYXRoL3RvL2ZpbGUuanBnJyApXG4gKiAgICAgICAuY3JlYXRlKHt9KS4uLlxuICpcbiAqICAgICB3cC5tZWRpYSgpXG4gKiAgICAgICAvLyBQYXNzIC5maWxlKCkgYW4gaW1hZ2UgYXMgYSBCdWZmZXIgb2JqZWN0LCBhbmQgYSBmaWxlbmFtZSBzdHJpbmdcbiAqICAgICAgIC5maWxlKCBpbWdCdWZmZXIsICdkZXNpcmVkLXRpdGxlLmpwZycgKVxuICogICAgICAgLmNyZWF0ZSh7fSkuLi5cbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj53aXRoaW4gYSBicm93c2VyIGNvbnRleHQ8L2NhcHRpb24+XG4gKlxuICogICAgIHdwLm1lZGlhKClcbiAqICAgICAgIC8vIFBhc3MgLmZpbGUoKSB0aGUgZmlsZSByZWZlcmVuY2UgZnJvbSBhbiBIVE1MIGZpbGUgaW5wdXRcbiAqICAgICAgIC5maWxlKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnaW5wdXRbdHlwZT1cImZpbGVcIl0nICkuZmlsZXNbMF0gKVxuICogICAgICAgLmNyZWF0ZSh7fSkuLi5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IGZpbGUgICBBIHBhdGggdG8gYSBmaWxlIChpbiBOb2RlKSBvciBhbiBmaWxlIG9iamVjdFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKE5vZGUgb3IgQnJvd3NlcikgdG8gYXR0YWNoIHRvIHRoZSByZXF1ZXN0XG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgIFtuYW1lXSBBIGZpbGVuYW1lIHRvIHVzZSBmb3IgdGhlIGZpbGUsIHJlcXVpcmVkIHdoZW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGluZyBmaWxlIGRhdGEgYXMgYSBCdWZmZXIgb2JqZWN0XG4gKiBAcmV0dXJucyB7V1BSZXF1ZXN0fSBUaGUgV1BSZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbldQUmVxdWVzdC5wcm90b3R5cGUuZmlsZSA9IGZ1bmN0aW9uKCBmaWxlLCBuYW1lICkge1xuXHRpZiAoIGdsb2JhbC5CdWZmZXIgJiYgZmlsZSBpbnN0YW5jZW9mIGdsb2JhbC5CdWZmZXIgJiYgISBuYW1lICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggJy5maWxlKCk6IEZpbGUgbmFtZSBpcyBhIHJlcXVpcmVkIGFyZ3VtZW50IHdoZW4gdXBsb2FkaW5nIGEgQnVmZmVyJyApO1xuXHR9XG5cdHRoaXMuX2F0dGFjaG1lbnQgPSBmaWxlO1xuXHQvLyBFeHBsaWNpdGx5IHNldCB0byB1bmRlZmluZWQgaWYgbm90IHByb3ZpZGVkLCB0byBvdmVycmlkZSBhbnkgcHJldmlvdXNseS1cblx0Ly8gc2V0IGF0dGFjaG1lbnQgbmFtZSBwcm9wZXJ0eSB0aGF0IG1pZ2h0IGV4aXN0IGZyb20gYSBwcmlvciBgLmZpbGUoKWAgY2FsbFxuXHR0aGlzLl9hdHRhY2htZW50TmFtZSA9IG5hbWUgPyBuYW1lIDogdW5kZWZpbmVkO1xuXHRyZXR1cm4gdGhpcztcbn07XG5cbi8vIEhUVFAgTWV0aG9kczogUHVibGljIEludGVyZmFjZVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogU3BlY2lmeSBvbmUgb3IgbW9yZSBoZWFkZXJzIHRvIHNlbmQgd2l0aCB0aGUgZGlzcGF0Y2hlZCBIVFRQIHJlcXVlc3QuXG4gKlxuICogQGV4YW1wbGUgPGNhcHRpb24+U2V0IGEgc2luZ2xlIGhlYWRlciB0byBiZSB1c2VkIG9uIHRoaXMgcmVxdWVzdDwvY2FwdGlvbj5cbiAqXG4gKiAgICAgcmVxdWVzdC5zZXRIZWFkZXJzKCAnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgdHJ1c3RtZScgKS4uLlxuICpcbiAqIEBleGFtcGxlIDxjYXB0aW9uPlNldCBtdWx0aXBsZSBoZWFkZXJzIHRvIGJlIHVzZWQgYnkgdGhpcyByZXF1ZXN0PC9jYXB0aW9uPlxuICpcbiAqICAgICByZXF1ZXN0LnNldEhlYWRlcnMoe1xuICogICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciBjb21lb253ZXJlb2xkZnJpZW5kc3JpZ2h0JyxcbiAqICAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOiAnZW4tQ0EnXG4gKiAgICAgfSkuLi5cbiAqXG4gKiBAc2luY2UgMS4xLjBcbiAqIEBtZXRob2RcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gaGVhZGVycyBUaGUgbmFtZSBvZiB0aGUgaGVhZGVyIHRvIHNldCwgb3IgYW4gb2JqZWN0IG9mXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyIG5hbWVzIGFuZCB0aGVpciBhc3NvY2lhdGVkIHN0cmluZyB2YWx1ZXNcbiAqIEBwYXJhbSB7U3RyaW5nfSAgICAgICAgW3ZhbHVlXSBUaGUgdmFsdWUgb2YgdGhlIGhlYWRlciBiZWluZyBzZXRcbiAqIEByZXR1cm5zIHtXUFJlcXVlc3R9IFRoZSBXUFJlcXVlc3QgaW5zdGFuY2UgKGZvciBjaGFpbmluZylcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS5zZXRIZWFkZXJzID0gZnVuY3Rpb24oIGhlYWRlcnMsIHZhbHVlICkge1xuXHQvLyBXZSBjYW4gdXNlIHRoZSBzYW1lIGl0ZXJhdG9yIGZ1bmN0aW9uIGJlbG93IHRvIGhhbmRsZSBleHBsaWNpdCBrZXktdmFsdWVcblx0Ly8gcGFpcnMgaWYgd2UgY29udmVydCB0aGVtIGludG8gdG8gYW4gb2JqZWN0IHdlIGNhbiBpdGVyYXRlIG92ZXI6XG5cdGlmICggdHlwZW9mIGhlYWRlcnMgPT09ICdzdHJpbmcnICkge1xuXHRcdGhlYWRlcnMgPSBrZXlWYWxUb09iaiggaGVhZGVycywgdmFsdWUgKTtcblx0fVxuXG5cdHRoaXMuX29wdGlvbnMuaGVhZGVycyA9IHtcblx0XHQuLi4oIHRoaXMuX29wdGlvbnMuaGVhZGVycyB8fCB7fSApLFxuXHRcdC4uLmhlYWRlcnMsXG5cdH07XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEdldCAoZG93bmxvYWQgdGhlIGRhdGEgZm9yKSB0aGUgc3BlY2lmaWVkIHJlc291cmNlXG4gKlxuICogQG1ldGhvZFxuICogQGFzeW5jXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgdG8gaW52b2tlIHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIEdFVCByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRvIHRoZSByZXN1bHRzIG9mIHRoZSBIVFRQIHJlcXVlc3RcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdHJldHVybiB0aGlzLnRyYW5zcG9ydC5nZXQoIHRoaXMsIGNhbGxiYWNrICk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgaGVhZGVycyBmb3IgdGhlIHNwZWNpZmllZCByZXNvdXJjZVxuICpcbiAqIEBtZXRob2RcbiAqIEBhc3luY1xuICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBBIGNhbGxiYWNrIHRvIGludm9rZSB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBIRUFEIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgdG8gdGhlIGhlYWRlciByZXN1bHRzIG9mIHRoZSBIVFRQIHJlcXVlc3RcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS5oZWFkZXJzID0gZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRyZXR1cm4gdGhpcy50cmFuc3BvcnQuaGVhZCggdGhpcywgY2FsbGJhY2sgKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIHRoZSBzcGVjaWZpZWQgcmVzb3VyY2Ugd2l0aCB0aGUgcHJvdmlkZWQgZGF0YVxuICpcbiAqIFRoaXMgaXMgdGhlIHB1YmxpYyBpbnRlcmZhY2UgZm9yIGNyZWF0aW5nIFBPU1QgcmVxdWVzdHNcbiAqXG4gKiBAbWV0aG9kXG4gKiBAYXN5bmNcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFRoZSBkYXRhIGZvciB0aGUgUE9TVCByZXF1ZXN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgdG8gaW52b2tlIHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIFBPU1QgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSB0byB0aGUgcmVzdWx0cyBvZiB0aGUgSFRUUCByZXF1ZXN0XG4gKi9cbldQUmVxdWVzdC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oIGRhdGEsIGNhbGxiYWNrICkge1xuXHRyZXR1cm4gdGhpcy50cmFuc3BvcnQucG9zdCggdGhpcywgZGF0YSwgY2FsbGJhY2sgKTtcbn07XG5cbi8qKlxuICogVXBkYXRlIHRoZSBzcGVjaWZpZWQgcmVzb3VyY2Ugd2l0aCB0aGUgcHJvdmlkZWQgZGF0YVxuICpcbiAqIFRoaXMgaXMgdGhlIHB1YmxpYyBpbnRlcmZhY2UgZm9yIGNyZWF0aW5nIFBVVCByZXF1ZXN0c1xuICpcbiAqIEBtZXRob2RcbiAqIEBhc3luY1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFRoZSBkYXRhIGZvciB0aGUgUFVUIHJlcXVlc3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQSBjYWxsYmFjayB0byBpbnZva2Ugd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgUFVUIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgdG8gdGhlIHJlc3VsdHMgb2YgdGhlIEhUVFAgcmVxdWVzdFxuICovXG5XUFJlcXVlc3QucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCBkYXRhLCBjYWxsYmFjayApIHtcblx0cmV0dXJuIHRoaXMudHJhbnNwb3J0LnB1dCggdGhpcywgZGF0YSwgY2FsbGJhY2sgKTtcbn07XG5cbi8qKlxuICogRGVsZXRlIHRoZSBzcGVjaWZpZWQgcmVzb3VyY2VcbiAqXG4gKiBAbWV0aG9kXG4gKiBAYXN5bmNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZGF0YV0gRGF0YSB0byBzZW5kIGFsb25nIHdpdGggdGhlIERFTEVURSByZXF1ZXN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgdG8gaW52b2tlIHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIERFTEVURSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRvIHRoZSByZXN1bHRzIG9mIHRoZSBIVFRQIHJlcXVlc3RcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiggZGF0YSwgY2FsbGJhY2sgKSB7XG5cdHJldHVybiB0aGlzLnRyYW5zcG9ydC5kZWxldGUoIHRoaXMsIGRhdGEsIGNhbGxiYWNrICk7XG59O1xuXG4vKipcbiAqIENhbGxpbmcgLnRoZW4gb24gYSBxdWVyeSBjaGFpbiB3aWxsIGludm9rZSB0aGUgcXVlcnkgYXMgYSBHRVQgYW5kIHJldHVybiBhIHByb21pc2VcbiAqXG4gKiBAbWV0aG9kXG4gKiBAYXN5bmNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzQ2FsbGJhY2tdIEEgY2FsbGJhY2sgdG8gaGFuZGxlIHRoZSBkYXRhIHJldHVybmVkIGZyb20gdGhlIEdFVCByZXF1ZXN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZmFpbHVyZUNhbGxiYWNrXSBBIGNhbGxiYWNrIHRvIGhhbmRsZSBhbnkgZXJyb3JzIGVuY291bnRlcmVkIGJ5IHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRvIHRoZSByZXN1bHRzIG9mIHRoZSBIVFRQIHJlcXVlc3RcbiAqL1xuV1BSZXF1ZXN0LnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24oIHN1Y2Nlc3NDYWxsYmFjaywgZmFpbHVyZUNhbGxiYWNrICkge1xuXHRyZXR1cm4gdGhpcy50cmFuc3BvcnQuZ2V0KCB0aGlzICkudGhlbiggc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2sgKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gV1BSZXF1ZXN0O1xuIiwgIi8qKlxuICogQG1vZHVsZSBtaXhpbnMvZmlsdGVyc1xuICovXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IGFscGhhTnVtZXJpY1NvcnQgPSByZXF1aXJlKCAnLi4vdXRpbC9hbHBoYW51bWVyaWMtc29ydCcgKTtcbmNvbnN0IGtleVZhbFRvT2JqID0gcmVxdWlyZSggJy4uL3V0aWwva2V5LXZhbC10by1vYmonICk7XG5jb25zdCB1bmlxdWUgPSByZXF1aXJlKCAnLi4vdXRpbC91bmlxdWUnICk7XG5cbi8qKlxuICogRmlsdGVyIG1ldGhvZHMgdGhhdCBjYW4gYmUgbWl4ZWQgaW4gdG8gYSByZXF1ZXN0IGNvbnN0cnVjdG9yJ3MgcHJvdG90eXBlIHRvXG4gKiBhbGxvdyB0aGF0IHJlcXVlc3QgdG8gdGFrZSBhZHZhbnRhZ2Ugb2YgdGhlIGA/ZmlsdGVyW109YCBhbGlhc2VzIGZvciBXUF9RdWVyeVxuICogcGFyYW1ldGVycyBmb3IgY29sbGVjdGlvbiBlbmRwb2ludHMsIHdoZW4gYXZhaWxhYmxlLlxuICpcbiAqIEBtaXhpbiBmaWx0ZXJzXG4gKi9cbmNvbnN0IGZpbHRlck1peGlucyA9IHt9O1xuXG4vLyBGaWx0ZXIgTWV0aG9kc1xuLy8gPT09PT09PT09PT09PT1cblxuLyoqXG4gKiBTcGVjaWZ5IGtleS12YWx1ZSBwYWlycyBieSB3aGljaCB0byBmaWx0ZXIgdGhlIEFQSSByZXN1bHRzIChjb21tb25seSB1c2VkXG4gKiB0byByZXRyaWV2ZSBvbmx5IHBvc3RzIG1lZXRpbmcgY2VydGFpbiBjcml0ZXJpYSwgc3VjaCBhcyBwb3N0cyB3aXRoaW4gYVxuICogcGFydGljdWxhciBjYXRlZ29yeSBvciBieSBhIHBhcnRpY3VsYXIgYXV0aG9yKS5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICAvLyBTZXQgYSBzaW5nbGUgcHJvcGVydHk6XG4gKiAgICAgd3AuZmlsdGVyKCAncG9zdF90eXBlJywgJ2NwdF9ldmVudCcgKS4uLlxuICpcbiAqICAgICAvLyBTZXQgbXVsdGlwbGUgcHJvcGVydGllcyBhdCBvbmNlOlxuICogICAgIHdwLmZpbHRlcih7XG4gKiAgICAgICAgIHBvc3Rfc3RhdHVzOiAncHVibGlzaCcsXG4gKiAgICAgICAgIGNhdGVnb3J5X25hbWU6ICduZXdzJ1xuICogICAgIH0pLi4uXG4gKlxuICogICAgIC8vIENoYWluIGNhbGxzIHRvIC5maWx0ZXIoKTpcbiAqICAgICB3cC5maWx0ZXIoICdwb3N0X3N0YXR1cycsICdwdWJsaXNoJyApLmZpbHRlciggJ2NhdGVnb3J5X25hbWUnLCAnbmV3cycgKS4uLlxuICpcbiAqIEBtZXRob2QgZmlsdGVyXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IHByb3BzIEEgZmlsdGVyIHByb3BlcnR5IG5hbWUgc3RyaW5nLCBvciBvYmplY3Qgb2YgbmFtZS92YWx1ZSBwYWlyc1xuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfEFycmF5fSBbdmFsdWVdIFRoZSB2YWx1ZShzKSBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm92aWRlZCBmaWx0ZXIgcHJvcGVydHlcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbmZpbHRlck1peGlucy5maWx0ZXIgPSBmdW5jdGlvbiggcHJvcHMsIHZhbHVlICkge1xuXHRpZiAoICEgcHJvcHMgfHwgdHlwZW9mIHByb3BzID09PSAnc3RyaW5nJyAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdC8vIFdlIGhhdmUgbm8gZmlsdGVyIHRvIHNldCwgb3Igbm8gdmFsdWUgdG8gc2V0IGZvciB0aGF0IGZpbHRlclxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0Ly8gY29udmVydCB0aGUgcHJvcGVydHkgbmFtZSBzdHJpbmcgYHByb3BzYCBhbmQgdmFsdWUgYHZhbHVlYCBpbnRvIGFuIG9iamVjdFxuXHRpZiAoIHR5cGVvZiBwcm9wcyA9PT0gJ3N0cmluZycgKSB7XG5cdFx0cHJvcHMgPSBrZXlWYWxUb09iaiggcHJvcHMsIHZhbHVlICk7XG5cdH1cblxuXHR0aGlzLl9maWx0ZXJzID0ge1xuXHRcdC4uLnRoaXMuX2ZpbHRlcnMsXG5cdFx0Li4ucHJvcHMsXG5cdH07XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlc3RyaWN0IHRoZSBxdWVyeSByZXN1bHRzIHRvIHBvc3RzIG1hdGNoaW5nIG9uZSBvciBtb3JlIHRheG9ub215IHRlcm1zLlxuICpcbiAqIEBtZXRob2QgdGF4b25vbXlcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7U3RyaW5nfSB0YXhvbm9teSBUaGUgbmFtZSBvZiB0aGUgdGF4b25vbXkgdG8gZmlsdGVyIGJ5XG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8QXJyYXl9IHRlcm0gQSBzdHJpbmcgb3IgaW50ZWdlciwgb3IgYXJyYXkgdGhlcmVvZiwgcmVwcmVzZW50aW5nIHRlcm1zXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5maWx0ZXJNaXhpbnMudGF4b25vbXkgPSBmdW5jdGlvbiggdGF4b25vbXksIHRlcm0gKSB7XG5cdGNvbnN0IHRlcm1Jc0FycmF5ID0gQXJyYXkuaXNBcnJheSggdGVybSApO1xuXG5cdGNvbnN0IHRlcm1Jc051bWJlciA9IHRlcm1Jc0FycmF5ID9cblx0XHR0ZXJtLnJlZHVjZShcblx0XHRcdCggYWxsQXJlTnVtYmVycywgdGVybSApID0+IGFsbEFyZU51bWJlcnMgJiYgdHlwZW9mIHRlcm0gPT09ICdudW1iZXInLFxuXHRcdFx0dHJ1ZVxuXHRcdCkgOlxuXHRcdHR5cGVvZiB0ZXJtID09PSAnbnVtYmVyJztcblxuXHRjb25zdCB0ZXJtSXNTdHJpbmcgPSB0ZXJtSXNBcnJheSA/XG5cdFx0dGVybS5yZWR1Y2UoXG5cdFx0XHQoIGFsbEFyZVN0cmluZ3MsIHRlcm0gKSA9PiBhbGxBcmVTdHJpbmdzICYmIHR5cGVvZiB0ZXJtID09PSAnc3RyaW5nJyxcblx0XHRcdHRydWVcblx0XHQpIDpcblx0XHR0eXBlb2YgdGVybSA9PT0gJ3N0cmluZyc7XG5cblx0aWYgKCAhIHRlcm1Jc1N0cmluZyAmJiAhIHRlcm1Jc051bWJlciApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoICd0ZXJtIG11c3QgYmUgYSBudW1iZXIsIHN0cmluZywgb3IgYXJyYXkgb2YgbnVtYmVycyBvciBzdHJpbmdzJyApO1xuXHR9XG5cblx0aWYgKCB0YXhvbm9teSA9PT0gJ2NhdGVnb3J5JyApIHtcblx0XHRpZiAoIHRlcm1Jc1N0cmluZyApIHtcblx0XHRcdC8vIFF1ZXJ5IHBhcmFtIGZvciBmaWx0ZXJpbmcgYnkgY2F0ZWdvcnkgc2x1ZyBpcyBcImNhdGVnb3J5X25hbWVcIlxuXHRcdFx0dGF4b25vbXkgPSAnY2F0ZWdvcnlfbmFtZSc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFRoZSBib29sZWFuIGNoZWNrIGFib3ZlIGVuc3VyZXMgdGhhdCBpZiB0YXhvbm9teSA9PT0gJ2NhdGVnb3J5JyBhbmRcblx0XHRcdC8vIHRlcm0gaXMgbm90IGEgc3RyaW5nLCB0aGVuIHRlcm0gbXVzdCBiZSBhIG51bWJlciBhbmQgdGhlcmVmb3JlIGFuIElEOlxuXHRcdFx0Ly8gUXVlcnkgcGFyYW0gZm9yIGZpbHRlcmluZyBieSBjYXRlZ29yeSBJRCBpcyBcImNhdFwiXG5cdFx0XHR0YXhvbm9teSA9ICdjYXQnO1xuXHRcdH1cblx0fSBlbHNlIGlmICggdGF4b25vbXkgPT09ICdwb3N0X3RhZycgKSB7XG5cdFx0Ly8gdGFnIGlzIHVzZWQgaW4gcGxhY2Ugb2YgcG9zdF90YWcgaW4gdGhlIHB1YmxpYyBxdWVyeSB2YXJpYWJsZXNcblx0XHR0YXhvbm9teSA9ICd0YWcnO1xuXHR9XG5cblx0Ly8gRW5zdXJlIHRoZSB0YXhvbm9teSBmaWx0ZXJzIG9iamVjdCBpcyBhdmFpbGFibGVcblx0dGhpcy5fdGF4b25vbXlGaWx0ZXJzID0gdGhpcy5fdGF4b25vbXlGaWx0ZXJzIHx8IHt9O1xuXG5cdC8vIEVuc3VyZSB0aGVyZSdzIGFuIGFycmF5IG9mIHRlcm1zIGF2YWlsYWJsZSBmb3IgdGhpcyB0YXhvbm9teVxuXHRjb25zdCB0YXhvbm9teVRlcm1zID0gKCB0aGlzLl90YXhvbm9teUZpbHRlcnNbIHRheG9ub215IF0gfHwgW10gKVxuXHRcdC8vIEluc2VydCB0aGUgcHJvdmlkZWQgdGVybXMgaW50byB0aGUgc3BlY2lmaWVkIHRheG9ub215J3MgdGVybXMgYXJyYXlcblx0XHQuY29uY2F0KCB0ZXJtIClcblx0XHQvLyBTb3J0IGFycmF5XG5cdFx0LnNvcnQoIGFscGhhTnVtZXJpY1NvcnQgKTtcblxuXHQvLyBEZS1kdXBlXG5cdHRoaXMuX3RheG9ub215RmlsdGVyc1sgdGF4b25vbXkgXSA9IHVuaXF1ZSggdGF4b25vbXlUZXJtcywgdHJ1ZSApO1xuXG5cdHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBRdWVyeSBmb3IgcG9zdHMgcHVibGlzaGVkIGluIGEgZ2l2ZW4geWVhci5cbiAqXG4gKiBAbWV0aG9kIHllYXJcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7TnVtYmVyfSB5ZWFyIGludGVnZXIgcmVwcmVzZW50YXRpb24gb2YgeWVhciByZXF1ZXN0ZWRcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbmZpbHRlck1peGlucy55ZWFyID0gZnVuY3Rpb24oIHllYXIgKSB7XG5cdHJldHVybiBmaWx0ZXJNaXhpbnMuZmlsdGVyLmNhbGwoIHRoaXMsICd5ZWFyJywgeWVhciApO1xufTtcblxuLyoqXG4gKiBRdWVyeSBmb3IgcG9zdHMgcHVibGlzaGVkIGluIGEgZ2l2ZW4gbW9udGgsIGVpdGhlciBieSBwcm92aWRpbmcgdGhlIG51bWJlclxuICogb2YgdGhlIHJlcXVlc3RlZCBtb250aCAoZS5nLiAzKSwgb3IgdGhlIG1vbnRoJ3MgbmFtZSBhcyBhIHN0cmluZyAoZS5nLiBcIk1hcmNoXCIpXG4gKlxuICogQG1ldGhvZCBtb250aFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBtb250aCBJbnRlZ2VyIGZvciBtb250aCAoMSkgb3IgbW9udGggc3RyaW5nIChcIkphbnVhcnlcIilcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbmZpbHRlck1peGlucy5tb250aCA9IGZ1bmN0aW9uKCBtb250aCApIHtcblx0bGV0IG1vbnRoRGF0ZTtcblx0aWYgKCB0eXBlb2YgbW9udGggPT09ICdzdHJpbmcnICkge1xuXHRcdC8vIEFwcGVuZCBhIGFyYml0cmFyeSBkYXkgYW5kIHllYXIgdG8gdGhlIG1vbnRoIHRvIHBhcnNlIHRoZSBzdHJpbmcgaW50byBhIERhdGVcblx0XHRtb250aERhdGUgPSBuZXcgRGF0ZSggRGF0ZS5wYXJzZSggbW9udGggKyAnIDEsIDIwMTInICkgKTtcblxuXHRcdC8vIElmIHRoZSBnZW5lcmF0ZWQgRGF0ZSBpcyBOYU4sIHRoZW4gdGhlIHBhc3NlZCBzdHJpbmcgaXMgbm90IGEgdmFsaWQgbW9udGhcblx0XHRpZiAoIGlzTmFOKCBtb250aERhdGUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblxuXHRcdC8vIEpTIERhdGVzIGFyZSAwIGluZGV4ZWQsIGJ1dCB0aGUgV1AgQVBJIHJlcXVpcmVzIGEgMS1pbmRleGVkIGludGVnZXJcblx0XHRtb250aCA9IG1vbnRoRGF0ZS5nZXRNb250aCgpICsgMTtcblx0fVxuXG5cdC8vIElmIG1vbnRoIGlzIGEgTnVtYmVyLCBhZGQgdGhlIG1vbnRobnVtIGZpbHRlciB0byB0aGUgcmVxdWVzdFxuXHRpZiAoIHR5cGVvZiBtb250aCA9PT0gJ251bWJlcicgKSB7XG5cdFx0cmV0dXJuIGZpbHRlck1peGlucy5maWx0ZXIuY2FsbCggdGhpcywgJ21vbnRobnVtJywgbW9udGggKTtcblx0fVxuXG5cdHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGQgdGhlIGRheSBmaWx0ZXIgaW50byB0aGUgcmVxdWVzdCB0byByZXRyaWV2ZSBwb3N0cyBmb3IgYSBnaXZlbiBkYXlcbiAqXG4gKiBAbWV0aG9kIGRheVxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGRheSBJbnRlZ2VyIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBkYXkgcmVxdWVzdGVkXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5maWx0ZXJNaXhpbnMuZGF5ID0gZnVuY3Rpb24oIGRheSApIHtcblx0cmV0dXJuIGZpbHRlck1peGlucy5maWx0ZXIuY2FsbCggdGhpcywgJ2RheScsIGRheSApO1xufTtcblxuLyoqXG4gKiBTcGVjaWZ5IHRoYXQgd2UgYXJlIHJlcXVlc3RpbmcgYSBwYWdlIGJ5IGl0cyBwYXRoIChzcGVjaWZpYyB0byBQYWdlIHJlc291cmNlcylcbiAqXG4gKiBAbWV0aG9kIHBhdGhcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIFRoZSByb290LXJlbGF0aXZlIFVSTCBwYXRoIGZvciBhIHBhZ2VcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbmZpbHRlck1peGlucy5wYXRoID0gZnVuY3Rpb24oIHBhdGggKSB7XG5cdHJldHVybiBmaWx0ZXJNaXhpbnMuZmlsdGVyLmNhbGwoIHRoaXMsICdwYWdlbmFtZScsIHBhdGggKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZmlsdGVyTWl4aW5zO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgYXJndW1lbnQgaXMgYSBudW1iZXIsIGEgbnVtZXJpYyBzdHJpbmcsIG9yIGFuXG4gKiBhcnJheSBvZiBudW1iZXJzIG9yIG51bWVyaWMgc3RyaW5nc1xuICpcbiAqIEBtb2R1bGUgdXRpbC9hcmd1bWVudC1pcy1udW1lcmljXG4gKiBAcGFyYW0ge051bWJlcnxTdHJpbmd8TnVtYmVyW118U3RyaW5nW119IHZhbCBUaGUgdmFsdWUgdG8gaW5zcGVjdFxuICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUgcHJvcGVydHkgdG8gd2hpY2ggdGhlIG1peGluIG1ldGhvZCBzaG91bGQgYmUgYXNzaWduZWRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1peGluIFRoZSBtaXhpbiBtZXRob2RcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5jb25zdCBhcmd1bWVudElzTnVtZXJpYyA9ICggdmFsICkgPT4ge1xuXHRpZiAoIHR5cGVvZiB2YWwgPT09ICdudW1iZXInICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0aWYgKCB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyApIHtcblx0XHRyZXR1cm4gL15cXGQrJC8udGVzdCggdmFsICk7XG5cdH1cblxuXHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbCApICkge1xuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkrKyApIHtcblx0XHRcdC8vIEZhaWwgZWFybHkgaWYgYW55IGFyZ3VtZW50IGlzbid0IGRldGVybWluZWQgdG8gYmUgbnVtZXJpY1xuXHRcdFx0aWYgKCAhIGFyZ3VtZW50SXNOdW1lcmljKCB2YWxbIGkgXSApICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gSWYgaXQncyBub3QgYW4gYXJyYXksIGFuZCBub3QgYSBzdHJpbmcsIGFuZCBub3QgYSBudW1iZXIsIHdlIGRvbid0XG5cdC8vIGtub3cgd2hhdCB0byBkbyB3aXRoIGl0XG5cdHJldHVybiBmYWxzZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gYXJndW1lbnRJc051bWVyaWM7XG4iLCAiLyoqXG4gKiBGaWx0ZXIgbWV0aG9kcyB0aGF0IGNhbiBiZSBtaXhlZCBpbiB0byBhIHJlcXVlc3QgY29uc3RydWN0b3IncyBwcm90b3R5cGUgdG9cbiAqIGFsbG93IHRoYXQgcmVxdWVzdCB0byB0YWtlIGFkdmFudGFnZSBvZiB0b3AtbGV2ZWwgcXVlcnkgcGFyYW1ldGVycyBmb3JcbiAqIGNvbGxlY3Rpb24gZW5kcG9pbnRzLiBUaGVzZSBhcmUgbW9zdCByZWxldmFudCB0byBwb3N0cywgcGFnZXMgYW5kIENQVHMsIGJ1dFxuICogcGFnaW5hdGlvbiBoZWxwZXJzIGFyZSBhcHBsaWNhYmxlIHRvIGFueSBjb2xsZWN0aW9uLlxuICpcbiAqIEBtb2R1bGUgbWl4aW5zL3BhcmFtZXRlcnNcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBwYXJhbVNldHRlciA9IHJlcXVpcmUoICcuLi91dGlsL3BhcmFtZXRlci1zZXR0ZXInICk7XG5jb25zdCBhcmd1bWVudElzTnVtZXJpYyA9IHJlcXVpcmUoICcuLi91dGlsL2FyZ3VtZW50LWlzLW51bWVyaWMnICk7XG5cbi8qKlxuICogQG1peGluIHBhcmFtZXRlcnNcbiAqL1xuY29uc3QgcGFyYW1ldGVyTWl4aW5zID0ge307XG5cbmNvbnN0IGZpbHRlcnMgPSByZXF1aXJlKCAnLi9maWx0ZXJzJyApO1xuLy8gTmVlZGVkIGZvciAuYXV0aG9yIG1peGluLCBhcyBhdXRob3IgYnkgSUQgaXMgYSBwYXJhbWV0ZXIgYW5kIGJ5IE5hbWUgaXMgYSBmaWx0ZXJcbmNvbnN0IGZpbHRlciA9IGZpbHRlcnMuZmlsdGVyO1xuLy8gTmVlZGVkIGZvciAudGFnIGFuZCAuY2F0ZWdvcnkgbWl4aW4sIGZvciBkZXByZWNhdGVkIHF1ZXJ5LWJ5LXNsdWcgc3VwcG9ydFxuY29uc3QgdGF4b25vbXkgPSBmaWx0ZXJzLnRheG9ub215O1xuXG4vLyBQYXJhbWV0ZXIgTWV0aG9kc1xuLy8gPT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBRdWVyeSBmb3IgcG9zdHMgYnkgYSBzcGVjaWZpYyBhdXRob3IuXG4gKiBUaGlzIG1ldGhvZCB3aWxsIHJlcGxhY2UgYW55IHByZXZpb3VzICdhdXRob3InIHF1ZXJ5IHBhcmFtZXRlcnMgdGhhdCBoYWQgYmVlbiBzZXQuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgbWV0aG9kIHdpbGwgZWl0aGVyIHNldCB0aGUgXCJhdXRob3JcIiB0b3AtbGV2ZWwgcXVlcnkgcGFyYW1ldGVyLFxuICogb3IgZWxzZSB0aGUgXCJhdXRob3JfbmFtZVwiIGZpbHRlciBwYXJhbWV0ZXIgKHdoZW4gcXVlcnlpbmcgYnkgbmljZW5hbWUpOiB0aGlzIGlzXG4gKiBpcnJlZ3VsYXIgYXMgbW9zdCBwYXJhbWV0ZXIgaGVscGVyIG1ldGhvZHMgZWl0aGVyIHNldCBhIHRvcCBsZXZlbCBwYXJhbWV0ZXIgb3IgYVxuICogZmlsdGVyLCBub3QgYm90aC5cbiAqXG4gKiBfVXNhZ2Ugd2l0aCB0aGUgYXV0aG9yIG5pY2VuYW1lIHN0cmluZyBpcyBkZXByZWNhdGVkLl8gUXVlcnkgYnkgYXV0aG9yIElEIGluc3RlYWQuXG4gKiBJZiB0aGUgXCJyZXN0LWZpbHRlclwiIHBsdWdpbiBpcyBub3QgaW5zdGFsbGVkLCB0aGUgbmFtZSBxdWVyeSB3aWxsIGhhdmUgbm8gZWZmZWN0LlxuICpcbiAqIEBtZXRob2QgYXV0aG9yXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGF1dGhvciBUaGUgbmljZW5hbWUgb3IgSUQgZm9yIGEgcGFydGljdWxhciBhdXRob3JcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbnBhcmFtZXRlck1peGlucy5hdXRob3IgPSBmdW5jdGlvbiggYXV0aG9yICkge1xuXHRpZiAoIGF1dGhvciA9PT0gdW5kZWZpbmVkICkge1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cdGlmICggdHlwZW9mIGF1dGhvciA9PT0gJ3N0cmluZycgKSB7XG5cdFx0dGhpcy5wYXJhbSggJ2F1dGhvcicsIG51bGwgKTtcblx0XHRyZXR1cm4gZmlsdGVyLmNhbGwoIHRoaXMsICdhdXRob3JfbmFtZScsIGF1dGhvciApO1xuXHR9XG5cdGlmICggdHlwZW9mIGF1dGhvciA9PT0gJ251bWJlcicgKSB7XG5cdFx0ZmlsdGVyLmNhbGwoIHRoaXMsICdhdXRob3JfbmFtZScsIG51bGwgKTtcblx0XHRyZXR1cm4gdGhpcy5wYXJhbSggJ2F1dGhvcicsIGF1dGhvciApO1xuXHR9XG5cdGlmICggYXV0aG9yID09PSBudWxsICkge1xuXHRcdGZpbHRlci5jYWxsKCB0aGlzLCAnYXV0aG9yX25hbWUnLCBudWxsICk7XG5cdFx0cmV0dXJuIHRoaXMucGFyYW0oICdhdXRob3InLCBudWxsICk7XG5cdH1cblx0dGhyb3cgbmV3IEVycm9yKCAnYXV0aG9yIG11c3QgYmUgZWl0aGVyIGEgbmljZW5hbWUgc3RyaW5nIG9yIG51bWVyaWMgSUQnICk7XG59O1xuXG4vKipcbiAqIFNlYXJjaCBmb3IgaGllcmFyY2hpY2FsIHRheG9ub215IHRlcm1zIHRoYXQgYXJlIGNoaWxkcmVuIG9mIHRoZSBwYXJlbnQgdGVybVxuICogaW5kaWNhdGVkIGJ5IHRoZSBwcm92aWRlZCB0ZXJtIElEXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAgICAgd3AucGFnZXMoKS5wYXJlbnQoIDMgKS50aGVuKGZ1bmN0aW9uKCBwYWdlcyApIHtcbiAqICAgICAgIC8vIGNvbnNvbGUubG9nKCAnYWxsIG9mIHRoZXNlIHBhZ2VzIGFyZSBuZXN0ZWQgYmVsb3cgcGFnZSBJRCMzOicgKTtcbiAqICAgICAgIC8vIGNvbnNvbGUubG9nKCBwYWdlcyApO1xuICogICAgIH0pO1xuICpcbiAqICAgICB3cC5jYXRlZ29yaWVzKCkucGFyZW50KCA0MiApLnRoZW4oZnVuY3Rpb24oIGNhdGVnb3JpZXMgKSB7XG4gKiAgICAgICBjb25zb2xlLmxvZyggJ2FsbCBvZiB0aGVzZSBjYXRlZ29yaWVzIGFyZSBzdWItaXRlbXMgb2YgY2F0IElEIzQyOicgKTtcbiAqICAgICAgIGNvbnNvbGUubG9nKCBjYXRlZ29yaWVzICk7XG4gKiAgICAgfSk7XG4gKlxuICogQG1ldGhvZCBwYXJlbnRcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBwYXJlbnRJZCBUaGUgSUQgb2YgYSAoaGllcmFyY2hpY2FsKSB0YXhvbm9teSB0ZXJtXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMucGFyZW50ID0gcGFyYW1TZXR0ZXIoICdwYXJlbnQnICk7XG5cbi8qKlxuICogU3BlY2lmeSB0aGUgcG9zdCBmb3Igd2hpY2ggdG8gcmV0cmlldmUgdGVybXMgKHJlbGV2YW50IGZvciAqZS5nLiogdGF4b25vbXlcbiAqIGFuZCBjb21tZW50IGNvbGxlY3Rpb24gZW5kcG9pbnRzKS5cbiAqXG4gKiBAbWV0aG9kIHBvc3RcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gcG9zdCBUaGUgSUQgb2YgdGhlIHBvc3QgZm9yIHdoaWNoIHRvIHJldHJpZXZlIHRlcm1zXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMucG9zdCA9IHBhcmFtU2V0dGVyKCAncG9zdCcgKTtcblxuLyoqXG4gKiBTcGVjaWZ5IHRoZSBwYXNzd29yZCB0byB1c2UgdG8gYWNjZXNzIHRoZSBjb250ZW50IG9mIGEgcGFzc3dvcmQtcHJvdGVjdGVkIHBvc3RcbiAqXG4gKiBAbWV0aG9kIHBhc3N3b3JkXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgQSBzdHJpbmcgcGFzc3dvcmQgdG8gYWNjZXNzIHByb3RlY3RlZCBjb250ZW50IHdpdGhpbiBhIHBvc3RcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbnBhcmFtZXRlck1peGlucy5wYXNzd29yZCA9IHBhcmFtU2V0dGVyKCAncGFzc3dvcmQnICk7XG5cbi8qKlxuICogU3BlY2lmeSBmb3Igd2hpY2ggcG9zdCBzdGF0dXNlcyB0byByZXR1cm4gcG9zdHMgaW4gYSByZXNwb25zZSBjb2xsZWN0aW9uXG4gKlxuICogU2VlIGh0dHBzOi8vY29kZXgud29yZHByZXNzLm9yZy9Qb3N0X1N0YXR1cyAtLSB0aGUgZGVmYXVsdCBwb3N0IHN0YXR1c1xuICogdmFsdWVzIGluIFdvcmRQcmVzcyB3aGljaCBhcmUgbW9zdCByZWxldmFudCB0byB0aGUgQVBJIGFyZSAncHVibGlzaCcsXG4gKiAnZnV0dXJlJywgJ2RyYWZ0JywgJ3BlbmRpbmcnLCAncHJpdmF0ZScsIGFuZCAndHJhc2gnLiBUaGlzIHBhcmFtZXRlciBhbHNvXG4gKiBzdXBwb3J0cyBwYXNzaW5nIHRoZSBzcGVjaWFsIHZhbHVlIFwiYW55XCIgdG8gcmV0dXJuIGFsbCBzdGF0dXNlcy5cbiAqXG4gKiBAbWV0aG9kIHN0YXR1c1xuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHN0YXR1cyBBIHN0YXR1cyBuYW1lIHN0cmluZyBvciBhcnJheSBvZiBzdHJpbmdzXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMuc3RhdHVzID0gcGFyYW1TZXR0ZXIoICdzdGF0dXMnICk7XG5cbi8qKlxuICogU3BlY2lmeSB3aGV0aGVyIHRvIHJldHVybiBvbmx5LCBvciB0byBjb21wbGV0ZWx5IGV4Y2x1ZGUsIHN0aWNreSBwb3N0c1xuICpcbiAqIEBtZXRob2Qgc3RpY2t5XG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHN0aWNreSBBIGJvb2xlYW4gdmFsdWUgZm9yIHdoZXRoZXIgT05MWSBzdGlja3kgcG9zdHMgKHRydWUpIG9yXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBOTyBzdGlja3kgcG9zdHMgKGZhbHNlKSBzaG91bGQgYmUgcmV0dXJuZWQgaW4gdGhlIHF1ZXJ5XG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMuc3RpY2t5ID0gcGFyYW1TZXR0ZXIoICdzdGlja3knICk7XG5cbi8vIFRheG9ub215IFRlcm0gRmlsdGVyIE1ldGhvZHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBSZXRyaWV2ZSBvbmx5IHJlY29yZHMgYXNzb2NpYXRlZCB3aXRoIG9uZSBvZiB0aGUgcHJvdmlkZWQgY2F0ZWdvcmllc1xuICpcbiAqIEBtZXRob2QgY2F0ZWdvcmllc1xuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfEFycmF5fSBjYXRlZ29yaWVzIEEgdGVybSBJRCBpbnRlZ2VyIG9yIG51bWVyaWMgc3RyaW5nLCBvciBhcnJheSB0aGVyZW9mXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMuY2F0ZWdvcmllcyA9IHBhcmFtU2V0dGVyKCAnY2F0ZWdvcmllcycgKTtcblxuLyoqXG4gKiBMZWdhY3kgd3JhcHBlciBmb3IgYC5jYXRlZ29yaWVzKClgIHRoYXQgdXNlcyBgP2ZpbHRlcmAgdG8gcXVlcnkgYnkgc2x1ZyBpZiBhdmFpbGFibGVcbiAqXG4gKiBAbWV0aG9kIHRhZ1xuICogQGRlcHJlY2F0ZWQgVXNlIGAuY2F0ZWdvcmllcygpYCBhbmQgcXVlcnkgYnkgY2F0ZWdvcnkgSURzXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8QXJyYXl9IHRhZyBBIGNhdGVnb3J5IHRlcm0gc2x1ZyBzdHJpbmcsIG51bWVyaWMgSUQsIG9yIGFycmF5IG9mIG51bWVyaWMgSURzXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMuY2F0ZWdvcnkgPSBmdW5jdGlvbiggY2F0ZWdvcnkgKSB7XG5cdGlmICggYXJndW1lbnRJc051bWVyaWMoIGNhdGVnb3J5ICkgKSB7XG5cdFx0cmV0dXJuIHBhcmFtZXRlck1peGlucy5jYXRlZ29yaWVzLmNhbGwoIHRoaXMsIGNhdGVnb3J5ICk7XG5cdH1cblx0cmV0dXJuIHRheG9ub215LmNhbGwoIHRoaXMsICdjYXRlZ29yeScsIGNhdGVnb3J5ICk7XG59O1xuXG4vKipcbiAqIEV4Y2x1ZGUgcmVjb3JkcyBhc3NvY2lhdGVkIHdpdGggYW55IG9mIHRoZSBwcm92aWRlZCBjYXRlZ29yeSBJRHNcbiAqXG4gKiBAbWV0aG9kIGV4Y2x1ZGVDYXRlZ29yaWVzXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8QXJyYXl9IGNhdGVnb3J5IEEgdGVybSBJRCBpbnRlZ2VyIG9yIG51bWVyaWMgc3RyaW5nLCBvciBhcnJheSB0aGVyZW9mXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMuZXhjbHVkZUNhdGVnb3JpZXMgPSBwYXJhbVNldHRlciggJ2NhdGVnb3JpZXNfZXhjbHVkZScgKTtcblxuLyoqXG4gKiBSZXRyaWV2ZSBvbmx5IHJlY29yZHMgYXNzb2NpYXRlZCB3aXRoIG9uZSBvZiB0aGUgcHJvdmlkZWQgdGFnIElEc1xuICpcbiAqIEBtZXRob2QgdGFnc1xuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfEFycmF5fSB0YWdzIEEgdGVybSBJRCBpbnRlZ2VyIG9yIG51bWVyaWMgc3RyaW5nLCBvciBhcnJheSB0aGVyZW9mXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMudGFncyA9IHBhcmFtU2V0dGVyKCAndGFncycgKTtcblxuLyoqXG4gKiBMZWdhY3kgd3JhcHBlciBmb3IgYC50YWdzKClgIHRoYXQgdXNlcyBgP2ZpbHRlcmAgdG8gcXVlcnkgYnkgc2x1ZyBpZiBhdmFpbGFibGVcbiAqXG4gKiBAbWV0aG9kIHRhZ1xuICogQGRlcHJlY2F0ZWQgVXNlIGAudGFncygpYCBhbmQgcXVlcnkgYnkgdGVybSBJRHNcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcnxBcnJheX0gdGFnIEEgdGFnIHRlcm0gc2x1ZyBzdHJpbmcsIG51bWVyaWMgSUQsIG9yIGFycmF5IG9mIG51bWVyaWMgSURzXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCBpbnN0YW5jZSAoZm9yIGNoYWluaW5nKVxuICovXG5wYXJhbWV0ZXJNaXhpbnMudGFnID0gZnVuY3Rpb24oIHRhZyApIHtcblx0aWYgKCBhcmd1bWVudElzTnVtZXJpYyggdGFnICkgKSB7XG5cdFx0cmV0dXJuIHBhcmFtZXRlck1peGlucy50YWdzLmNhbGwoIHRoaXMsIHRhZyApO1xuXHR9XG5cdHJldHVybiB0YXhvbm9teS5jYWxsKCB0aGlzLCAndGFnJywgdGFnICk7XG59O1xuXG4vKipcbiAqIEV4Y2x1ZGUgcmVjb3JkcyBhc3NvY2lhdGVkIHdpdGggYW55IG9mIHRoZSBwcm92aWRlZCB0YWcgSURzXG4gKlxuICogQG1ldGhvZCBleGNsdWRlVGFnc1xuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfEFycmF5fSBjYXRlZ29yeSBBIHRlcm0gSUQgaW50ZWdlciBvciBudW1lcmljIHN0cmluZywgb3IgYXJyYXkgdGhlcmVvZlxuICogQHJldHVybnMgVGhlIHJlcXVlc3QgaW5zdGFuY2UgKGZvciBjaGFpbmluZylcbiAqL1xucGFyYW1ldGVyTWl4aW5zLmV4Y2x1ZGVUYWdzID0gcGFyYW1TZXR0ZXIoICd0YWdzX2V4Y2x1ZGUnICk7XG5cbi8vIERhdGUgTWV0aG9kc1xuLy8gPT09PT09PT09PT09XG5cbi8qKlxuICogUmV0cmlldmUgb25seSByZWNvcmRzIHB1Ymxpc2hlZCBiZWZvcmUgYSBzcGVjaWZpZWQgZGF0ZVxuICpcbiAqIEBleGFtcGxlIDxjYXB0aW9uPlByb3ZpZGUgYW4gSVNPIDg2MDEtY29tcGxpYW50IGRhdGUgc3RyaW5nPC9jYXB0aW9uPlxuICpcbiAqICAgICB3cC5wb3N0cygpLmJlZm9yZSgnMjAxNi0wMy0yMicpLi4uXG4gKlxuICogQGV4YW1wbGUgPGNhcHRpb24+UHJvdmlkZSBhIEphdmFTY3JpcHQgRGF0ZSBvYmplY3Q8L2NhcHRpb24+XG4gKlxuICogICAgIHdwLnBvc3RzKCkuYmVmb3JlKCBuZXcgRGF0ZSggMjAxNiwgMDMsIDIyICkgKS4uLlxuICpcbiAqIEBtZXRob2QgYmVmb3JlXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge1N0cmluZ3xEYXRlfSBkYXRlIEFuIElTTyA4NjAxLWNvbXBsaWFudCBkYXRlIHN0cmluZywgb3IgRGF0ZSBvYmplY3RcbiAqIEByZXR1cm5zIFRoZSByZXF1ZXN0IGluc3RhbmNlIChmb3IgY2hhaW5pbmcpXG4gKi9cbnBhcmFtZXRlck1peGlucy5iZWZvcmUgPSBmdW5jdGlvbiggZGF0ZSApIHtcblx0cmV0dXJuIHRoaXMucGFyYW0oICdiZWZvcmUnLCBuZXcgRGF0ZSggZGF0ZSApLnRvSVNPU3RyaW5nKCkgKTtcbn07XG5cbi8qKlxuICogUmV0cmlldmUgb25seSByZWNvcmRzIHB1Ymxpc2hlZCBhZnRlciBhIHNwZWNpZmllZCBkYXRlXG4gKlxuICogQGV4YW1wbGUgPGNhcHRpb24+UHJvdmlkZSBhbiBJU08gODYwMS1jb21wbGlhbnQgZGF0ZSBzdHJpbmc8L2NhcHRpb24+XG4gKlxuICogICAgIHdwLnBvc3RzKCkuYWZ0ZXIoJzE5ODYtMDMtMjInKS4uLlxuICpcbiAqIEBleGFtcGxlIDxjYXB0aW9uPlByb3ZpZGUgYSBKYXZhU2NyaXB0IERhdGUgb2JqZWN0PC9jYXB0aW9uPlxuICpcbiAqICAgICB3cC5wb3N0cygpLmFmdGVyKCBuZXcgRGF0ZSggMTk4NiwgMDMsIDIyICkgKS4uLlxuICpcbiAqIEBtZXRob2QgYWZ0ZXJcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7U3RyaW5nfERhdGV9IGRhdGUgQW4gSVNPIDg2MDEtY29tcGxpYW50IGRhdGUgc3RyaW5nLCBvciBEYXRlIG9iamVjdFxuICogQHJldHVybnMgVGhlIHJlcXVlc3QgaW5zdGFuY2UgKGZvciBjaGFpbmluZylcbiAqL1xucGFyYW1ldGVyTWl4aW5zLmFmdGVyID0gZnVuY3Rpb24oIGRhdGUgKSB7XG5cdHJldHVybiB0aGlzLnBhcmFtKCAnYWZ0ZXInLCBuZXcgRGF0ZSggZGF0ZSApLnRvSVNPU3RyaW5nKCkgKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyYW1ldGVyTWl4aW5zO1xuIiwgIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIG1hcHBpbmcgYmV0d2VlbiBzdXBwb3J0ZWQgR0VUIHJlcXVlc3QgcXVlcnkgcGFyYW1ldGVyXG4gKiBhcmd1bWVudHMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgbWl4aW4sIGlmIGF2YWlsYWJsZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBmaWx0ZXJNaXhpbnMgPSByZXF1aXJlKCAnLi9maWx0ZXJzJyApO1xuY29uc3QgcGFyYW1ldGVyTWl4aW5zID0gcmVxdWlyZSggJy4vcGFyYW1ldGVycycgKTtcblxuLy8gYC5jb250ZXh0YCwgYC5lbWJlZGAsIGFuZCBgLmVkaXRgIChhIHNob3J0Y3V0IGZvciBgY29udGV4dChlZGl0LCB0cnVlKWApIGFyZVxuLy8gc3VwcG9ydGVkIGJ5IGRlZmF1bHQgaW4gV1BSZXF1ZXN0LCBhcyBpcyB0aGUgYmFzZSBgLnBhcmFtYCBtZXRob2QuIEFueSBHRVRcbi8vIGFyZ3VtZW50IHBhcmFtZXRlcnMgbm90IGNvdmVyZWQgaGVyZSBtdXN0IGJlIHNldCBkaXJlY3RseSBieSB1c2luZyBgLnBhcmFtYC5cblxuLy8gVGhlIGluaXRpYWwgbWl4aW5zIHdlIGRlZmluZSBhcmUgdGhlIG9uZXMgd2hlcmUgZWl0aGVyIGEgc2luZ2xlIHByb3BlcnR5XG4vLyBhY2NlcHRlZCBieSB0aGUgQVBJIGVuZHBvaW50IGNvcnJlc3BvbmRzIHRvIG11bHRpcGxlIGluZGl2aWR1YWwgbWl4aW5cbi8vIGZ1bmN0aW9ucywgb3Igd2hlcmUgdGhlIG5hbWUgd2UgdXNlIGZvciB0aGUgZnVuY3Rpb24gZGl2ZXJnZXMgZnJvbSB0aGF0XG4vLyBvZiB0aGUgcXVlcnkgcGFyYW1ldGVyIHRoYXQgdGhlIG1peGluIHNldHMuXG5jb25zdCBtaXhpbnMgPSB7XG5cdGNhdGVnb3JpZXM6IHtcblx0XHRjYXRlZ29yaWVzOiBwYXJhbWV0ZXJNaXhpbnMuY2F0ZWdvcmllcyxcblx0XHQvKiogQGRlcHJlY2F0ZWQgdXNlIC5jYXRlZ29yaWVzKCkgKi9cblx0XHRjYXRlZ29yeTogcGFyYW1ldGVyTWl4aW5zLmNhdGVnb3J5LFxuXHR9LFxuXHRjYXRlZ29yaWVzX2V4Y2x1ZGU6IHtcblx0XHRleGNsdWRlQ2F0ZWdvcmllczogcGFyYW1ldGVyTWl4aW5zLmV4Y2x1ZGVDYXRlZ29yaWVzLFxuXHR9LFxuXHR0YWdzOiB7XG5cdFx0dGFnczogcGFyYW1ldGVyTWl4aW5zLnRhZ3MsXG5cdFx0LyoqIEBkZXByZWNhdGVkIHVzZSAudGFncygpICovXG5cdFx0dGFnOiBwYXJhbWV0ZXJNaXhpbnMudGFnLFxuXHR9LFxuXHR0YWdzX2V4Y2x1ZGU6IHtcblx0XHRleGNsdWRlVGFnczogcGFyYW1ldGVyTWl4aW5zLmV4Y2x1ZGVUYWdzLFxuXHR9LFxuXHRmaWx0ZXI6IGZpbHRlck1peGlucyxcblx0cG9zdDoge1xuXHRcdHBvc3Q6IHBhcmFtZXRlck1peGlucy5wb3N0LFxuXHRcdC8qKiBAZGVwcmVjYXRlZCB1c2UgLnBvc3QoKSAqL1xuXHRcdGZvclBvc3Q6IHBhcmFtZXRlck1peGlucy5wb3N0LFxuXHR9LFxufTtcblxuLy8gQWxsIG9mIHRoZXNlIHBhcmFtZXRlciBtaXhpbnMgdXNlIGEgc2V0dGVyIGZ1bmN0aW9uIG5hbWVkIGlkZW50aWNhbGx5IHRvIHRoZVxuLy8gcHJvcGVydHkgdGhhdCB0aGUgZnVuY3Rpb24gc2V0cywgYnV0IHRoZXkgbXVzdCBzdGlsbCBiZSBwcm92aWRlZCBpbiB3cmFwcGVyXG4vLyBvYmplY3RzIHNvIHRoYXQgdGhlIG1peGluIGNhbiBiZSBgLmFzc2lnbmBlZCBjb3JyZWN0bHk6IHdyYXAgJiBhc3NpZ24gZWFjaFxuLy8gc2V0dGVyIHRvIHRoZSBtaXhpbnMgZGljdGlvbmFyeSBvYmplY3QuXG5bXG5cdCdhZnRlcicsXG5cdCdhdXRob3InLFxuXHQnYmVmb3JlJyxcblx0J3BhcmVudCcsXG5cdCdwYXNzd29yZCcsXG5cdCdzdGF0dXMnLFxuXHQnc3RpY2t5Jyxcbl0uZm9yRWFjaCggKCBtaXhpbk5hbWUgKSA9PiB7XG5cdG1peGluc1sgbWl4aW5OYW1lIF0gPSB7fTtcblx0bWl4aW5zWyBtaXhpbk5hbWUgXVsgbWl4aW5OYW1lIF0gPSBwYXJhbWV0ZXJNaXhpbnNbIG1peGluTmFtZSBdO1xufSApO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1peGlucztcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQXVnbWVudCBhbiBvYmplY3QgKHNwZWNpZmljYWxseSBhIHByb3RvdHlwZSkgd2l0aCBhIG1peGluIG1ldGhvZFxuICogKHRoZSBwcm92aWRlZCBvYmplY3QgaXMgbXV0YXRlZCBieSByZWZlcmVuY2UpXG4gKlxuICogQG1vZHVsZSB1dGlsL2FwcGx5LW1peGluXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgKHVzdWFsbHkgYSBwcm90b3R5cGUpIHRvIGF1Z21lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIHByb3BlcnR5IHRvIHdoaWNoIHRoZSBtaXhpbiBtZXRob2Qgc2hvdWxkIGJlIGFzc2lnbmVkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtaXhpbiBUaGUgbWl4aW4gbWV0aG9kXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAoIG9iaiwga2V5LCBtaXhpbiApID0+IHtcblx0Ly8gV2lsbCBub3Qgb3ZlcndyaXRlIGV4aXN0aW5nIG1ldGhvZHNcblx0aWYgKCB0eXBlb2YgbWl4aW4gPT09ICdmdW5jdGlvbicgJiYgISBvYmpbIGtleSBdICkge1xuXHRcdG9ialsga2V5IF0gPSBtaXhpbjtcblx0fVxufTtcbiIsICIvKipcbiAqIEBtb2R1bGUgZW5kcG9pbnQtcmVxdWVzdFxuICovXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IFdQUmVxdWVzdCA9IHJlcXVpcmUoICcuL2NvbnN0cnVjdG9ycy93cC1yZXF1ZXN0JyApO1xuY29uc3QgbWl4aW5zID0gcmVxdWlyZSggJy4vbWl4aW5zJyApO1xuXG5jb25zdCBhcHBseU1peGluID0gcmVxdWlyZSggJy4vdXRpbC9hcHBseS1taXhpbicgKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gZW5kcG9pbnQgcmVxdWVzdCBoYW5kbGVyIGNvbnN0cnVjdG9yIGZvciBhIHNwZWNpZmljIHJlc291cmNlIHRyZWVcbiAqXG4gKiBAbWV0aG9kIGNyZWF0ZVxuICogQHBhcmFtIHtPYmplY3R9IGhhbmRsZXJTcGVjIEEgcmVzb3VyY2UgaGFuZGxlciBzcGVjaWZpY2F0aW9uIG9iamVjdFxuICogQHBhcmFtIHtTdHJpbmd9IHJlc291cmNlICAgIFRoZSByb290IHJlc291cmNlIG9mIHJlcXVlc3RzIGNyZWF0ZWQgZnJvbSB0aGUgcmV0dXJuZWQgZmFjdG9yeVxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSAgIFRoZSBuYW1lc3BhY2Ugc3RyaW5nIGZvciB0aGUgcmV0dXJuZWQgZmFjdG9yeSdzIGhhbmRsZXJzXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgY29uc3RydWN0b3IgaW5oZXJpdGluZyBmcm9tIHtAbGluayBXUFJlcXVlc3R9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVuZHBvaW50UmVxdWVzdCggaGFuZGxlclNwZWMsIHJlc291cmNlLCBuYW1lc3BhY2UgKSB7XG5cblx0Ly8gQ3JlYXRlIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgdGhpcyBlbmRwb2ludFxuXHRjbGFzcyBFbmRwb2ludFJlcXVlc3QgZXh0ZW5kcyBXUFJlcXVlc3Qge1xuXHRcdGNvbnN0cnVjdG9yKCBvcHRpb25zICkge1xuXHRcdFx0c3VwZXIoIG9wdGlvbnMgKTtcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBTZW1pLXByaXZhdGUgaW5zdGFuY2UgcHJvcGVydHkgc3BlY2lmeWluZyB0aGUgYXZhaWxhYmxlIFVSTCBwYXRoIG9wdGlvbnNcblx0XHRcdCAqIGZvciB0aGlzIGVuZHBvaW50IHJlcXVlc3QgaGFuZGxlciwga2V5ZWQgYnkgYXNjZW5kaW5nIHdob2xlIG51bWJlcnMuXG5cdFx0XHQgKlxuXHRcdFx0ICogQHByb3BlcnR5IF9sZXZlbHNcblx0XHRcdCAqIEB0eXBlIHtvYmplY3R9XG5cdFx0XHQgKiBAcHJpdmF0ZVxuXHRcdFx0ICovXG5cdFx0XHR0aGlzLl9sZXZlbHMgPSBoYW5kbGVyU3BlYy5fbGV2ZWxzO1xuXG5cdFx0XHQvLyBDb25maWd1cmUgaGFuZGxlciBmb3IgdGhpcyBlbmRwb2ludCdzIHJvb3QgVVJMIHBhdGggJiBzZXQgbmFtZXNwYWNlXG5cdFx0XHR0aGlzXG5cdFx0XHRcdC5zZXRQYXRoUGFydCggMCwgcmVzb3VyY2UgKVxuXHRcdFx0XHQubmFtZXNwYWNlKCBuYW1lc3BhY2UgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBNaXggaW4gYWxsIGF2YWlsYWJsZSBzaG9ydGN1dCBtZXRob2RzIGZvciBHRVQgcmVxdWVzdCBxdWVyeSBwYXJhbWV0ZXJzIHRoYXRcblx0Ly8gYXJlIHZhbGlkIHdpdGhpbiB0aGlzIGVuZHBvaW50IHRyZWVcblx0aWYgKCB0eXBlb2YgaGFuZGxlclNwZWMuX2dldEFyZ3MgPT09ICdvYmplY3QnICkge1xuXHRcdE9iamVjdC5rZXlzKCBoYW5kbGVyU3BlYy5fZ2V0QXJncyApLmZvckVhY2goICggc3VwcG9ydGVkUXVlcnlQYXJhbSApID0+IHtcblx0XHRcdGNvbnN0IG1peGluc0ZvclBhcmFtID0gbWl4aW5zWyBzdXBwb3J0ZWRRdWVyeVBhcmFtIF07XG5cblx0XHRcdC8vIE9ubHkgcHJvY2VlZCBpZiB0aGVyZSBpcyBhIG1peGluIGF2YWlsYWJsZSBBTkQgdGhlIHNwZWNpZmllZCBtaXhpbnMgd2lsbFxuXHRcdFx0Ly8gbm90IG92ZXJ3cml0ZSBhbnkgcHJldmlvdXNseS1zZXQgcHJvdG90eXBlIG1ldGhvZFxuXHRcdFx0aWYgKCB0eXBlb2YgbWl4aW5zRm9yUGFyYW0gPT09ICdvYmplY3QnICkge1xuXHRcdFx0XHRPYmplY3Qua2V5cyggbWl4aW5zRm9yUGFyYW0gKS5mb3JFYWNoKCAoIG1ldGhvZE5hbWUgKSA9PiB7XG5cdFx0XHRcdFx0YXBwbHlNaXhpbiggRW5kcG9pbnRSZXF1ZXN0LnByb3RvdHlwZSwgbWV0aG9kTmFtZSwgbWl4aW5zRm9yUGFyYW1bIG1ldGhvZE5hbWUgXSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG5cblx0T2JqZWN0LmtleXMoIGhhbmRsZXJTcGVjLl9zZXR0ZXJzICkuZm9yRWFjaCggKCBzZXR0ZXJGbk5hbWUgKSA9PiB7XG5cdFx0Ly8gT25seSBhc3NpZ24gc2V0dGVyIGZ1bmN0aW9ucyBpZiB0aGV5IGRvIG5vdCBvdmVyd3JpdGUgcHJlZXhpc3RpbmcgbWV0aG9kc1xuXHRcdGlmICggISBFbmRwb2ludFJlcXVlc3QucHJvdG90eXBlWyBzZXR0ZXJGbk5hbWUgXSApIHtcblx0XHRcdEVuZHBvaW50UmVxdWVzdC5wcm90b3R5cGVbIHNldHRlckZuTmFtZSBdID0gaGFuZGxlclNwZWMuX3NldHRlcnNbIHNldHRlckZuTmFtZSBdO1xuXHRcdH1cblx0fSApO1xuXG5cdHJldHVybiBFbmRwb2ludFJlcXVlc3Q7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRjcmVhdGU6IGNyZWF0ZUVuZHBvaW50UmVxdWVzdCxcbn07XG4iLCAiLyoqXG4gKiBUYWtlIGEgV1Agcm91dGUgc3RyaW5nICh3aXRoIFBDUkUgbmFtZWQgY2FwdHVyZSBncm91cHMpLCBgc3VjaCBhcyAvYXV0aG9yLyg/UDxpZD5cXGQrKWAsXG4gKiBhbmQgZ2VuZXJhdGUgcmVxdWVzdCBoYW5kbGVyIGZhY3RvcnkgbWV0aG9kcyBmb3IgZWFjaCByZXByZXNlbnRlZCBlbmRwb2ludC5cbiAqXG4gKiBAbW9kdWxlIGVuZHBvaW50LWZhY3Rvcmllc1xuICovXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IGNyZWF0ZVJlc291cmNlSGFuZGxlclNwZWMgPSByZXF1aXJlKCAnLi9yZXNvdXJjZS1oYW5kbGVyLXNwZWMnICkuY3JlYXRlO1xuY29uc3QgY3JlYXRlRW5kcG9pbnRSZXF1ZXN0ID0gcmVxdWlyZSggJy4vZW5kcG9pbnQtcmVxdWVzdCcgKS5jcmVhdGU7XG5jb25zdCBvYmplY3RSZWR1Y2UgPSByZXF1aXJlKCAnLi91dGlsL29iamVjdC1yZWR1Y2UnICk7XG5cbi8qKlxuICogR2l2ZW4gYW4gYXJyYXkgb2Ygcm91dGUgZGVmaW5pdGlvbnMgYW5kIGEgc3BlY2lmaWMgbmFtZXNwYWNlIGZvciB0aG9zZSByb3V0ZXMsXG4gKiByZWN1cnNlIHRocm91Z2ggdGhlIG5vZGUgdHJlZSByZXByZXNlbnRpbmcgYWxsIHBvc3NpYmxlIHJvdXRlcyB3aXRoaW4gdGhlXG4gKiBwcm92aWRlZCBuYW1lc3BhY2UgdG8gZGVmaW5lIHBhdGggdmFsdWUgc2V0dGVycyAoYW5kIGNvcnJlc3BvbmRpbmcgcHJvcGVydHlcbiAqIHZhbGlkYXRvcnMpIGZvciBhbGwgcG9zc2libGUgdmFyaWFudHMgb2YgZWFjaCByZXNvdXJjZSdzIEFQSSBlbmRwb2ludHMuXG4gKlxuICogQG1ldGhvZCBnZW5lcmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVzcGFjZSAgICAgICAgIFRoZSBuYW1lc3BhY2Ugc3RyaW5nIGZvciB0aGVzZSByb3V0ZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSByb3V0ZXNCeU5hbWVzcGFjZSBBIGRpY3Rpb25hcnkgb2YgbmFtZXNwYWNlIC0gcm91dGUgZGVmaW5pdGlvblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdCBwYWlycyBhcyBnZW5lcmF0ZWQgZnJvbSBidWlsZFJvdXRlVHJlZSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBlYWNoIHJvdXRlIGRlZmluaXRpb24gb2JqZWN0IGlzIGEgZGljdGlvbmFyeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWVkIGJ5IHJvdXRlIGRlZmluaXRpb24gc3RyaW5nc1xuICogQHJldHVybnMge29iamVjdH0gQSBkaWN0aW9uYXJ5IG9mIGVuZHBvaW50IHJlcXVlc3QgaGFuZGxlciBmYWN0b3JpZXNcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVFbmRwb2ludEZhY3Rvcmllcyggcm91dGVzQnlOYW1lc3BhY2UgKSB7XG5cblx0cmV0dXJuIG9iamVjdFJlZHVjZSggcm91dGVzQnlOYW1lc3BhY2UsICggbmFtZXNwYWNlcywgcm91dGVEZWZpbml0aW9ucywgbmFtZXNwYWNlICkgPT4ge1xuXG5cdFx0Ly8gQ3JlYXRlXG5cdFx0bmFtZXNwYWNlc1sgbmFtZXNwYWNlIF0gPSBvYmplY3RSZWR1Y2UoIHJvdXRlRGVmaW5pdGlvbnMsICggaGFuZGxlcnMsIHJvdXRlRGVmLCByZXNvdXJjZSApID0+IHtcblxuXHRcdFx0Y29uc3QgaGFuZGxlclNwZWMgPSBjcmVhdGVSZXNvdXJjZUhhbmRsZXJTcGVjKCByb3V0ZURlZiwgcmVzb3VyY2UgKTtcblxuXHRcdFx0Y29uc3QgRW5kcG9pbnRSZXF1ZXN0ID0gY3JlYXRlRW5kcG9pbnRSZXF1ZXN0KCBoYW5kbGVyU3BlYywgcmVzb3VyY2UsIG5hbWVzcGFjZSApO1xuXG5cdFx0XHQvLyBcImhhbmRsZXJcIiBvYmplY3QgaXMgbm93IGZ1bGx5IHByZXBhcmVkOyBjcmVhdGUgdGhlIGZhY3RvcnkgbWV0aG9kIHRoYXRcblx0XHRcdC8vIHdpbGwgaW5zdGFudGlhdGUgYW5kIHJldHVybiBhIGhhbmRsZXIgaW5zdGFuY2Vcblx0XHRcdGhhbmRsZXJzWyByZXNvdXJjZSBdID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0XHRcdHJldHVybiBuZXcgRW5kcG9pbnRSZXF1ZXN0KCB7XG5cdFx0XHRcdFx0Li4udGhpcy5fb3B0aW9ucyxcblx0XHRcdFx0XHQuLi5vcHRpb25zLFxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBFeHBvc2UgdGhlIGNvbnN0cnVjdG9yIGFzIGEgcHJvcGVydHkgb24gdGhlIGZhY3RvcnkgZnVuY3Rpb24sIHNvIHRoYXRcblx0XHRcdC8vIGF1dG8tZ2VuZXJhdGVkIGVuZHBvaW50IHJlcXVlc3QgY29uc3RydWN0b3JzIG1heSBiZSBmdXJ0aGVyIGN1c3RvbWl6ZWRcblx0XHRcdC8vIHdoZW4gbmVlZGVkXG5cdFx0XHRoYW5kbGVyc1sgcmVzb3VyY2UgXS5DdG9yID0gRW5kcG9pbnRSZXF1ZXN0O1xuXG5cdFx0XHRyZXR1cm4gaGFuZGxlcnM7XG5cdFx0fSwge30gKTtcblxuXHRcdHJldHVybiBuYW1lc3BhY2VzO1xuXHR9LCB7fSApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0Z2VuZXJhdGU6IGdlbmVyYXRlRW5kcG9pbnRGYWN0b3JpZXMsXG59O1xuIiwgIihmdW5jdGlvbiAobmFtZSwgZGVmaW5pdGlvbiwgY29udGV4dCkge1xuXG4gIC8vdHJ5IENvbW1vbkpTLCB0aGVuIEFNRCAocmVxdWlyZS5qcyksIHRoZW4gdXNlIGdsb2JhbC5cblxuICBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykgbW9kdWxlLmV4cG9ydHMgPSBkZWZpbml0aW9uKCk7XG4gIGVsc2UgaWYgKHR5cGVvZiBjb250ZXh0WydkZWZpbmUnXSA9PSAnZnVuY3Rpb24nICYmIGNvbnRleHRbJ2RlZmluZSddWydhbWQnXSkgZGVmaW5lKGRlZmluaXRpb24pO1xuICBlbHNlIGNvbnRleHRbbmFtZV0gPSBkZWZpbml0aW9uKCk7XG5cbn0pKCdsaScsIGZ1bmN0aW9uICgpIHtcbiAgLy8gY29tcGlsZSByZWd1bGFyIGV4cHJlc3Npb25zIGFoZWFkIG9mIHRpbWUgZm9yIGVmZmljaWVuY3lcbiAgdmFyIHJlbHNSZWdFeHAgPSAvXjtcXHMqKFteXCI9XSspPSg/OlwiKFteXCJdKylcInwoW15cIjssXSspKD86WzssXXwkKSkvO1xuICB2YXIgc291cmNlUmVnRXhwID0gL148KFtePl0qKT4vO1xuICB2YXIgZGVsaW1pdGVyUmVnRXhwID0gL15cXHMqLFxccyovO1xuXG4gIHJldHVybiB7XG4gICAgcGFyc2U6IGZ1bmN0aW9uIChsaW5rc0hlYWRlciwgb3B0aW9ucykge1xuICAgICAgdmFyIG1hdGNoO1xuICAgICAgdmFyIHNvdXJjZTtcbiAgICAgIHZhciByZWxzO1xuICAgICAgdmFyIGV4dGVuZGVkID0gb3B0aW9ucyAmJiBvcHRpb25zLmV4dGVuZGVkIHx8IGZhbHNlO1xuICAgICAgdmFyIGxpbmtzID0gW107XG5cbiAgICAgIHdoaWxlIChsaW5rc0hlYWRlcikge1xuICAgICAgICBsaW5rc0hlYWRlciA9IGxpbmtzSGVhZGVyLnRyaW0oKTtcblxuICAgICAgICAvLyBQYXJzZSBgPGxpbms+YFxuICAgICAgICBzb3VyY2UgPSBzb3VyY2VSZWdFeHAuZXhlYyhsaW5rc0hlYWRlcik7XG4gICAgICAgIGlmICghc291cmNlKSBicmVhaztcblxuICAgICAgICB2YXIgY3VycmVudCA9IHtcbiAgICAgICAgICBsaW5rOiBzb3VyY2VbMV1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBNb3ZlIGN1cnNvclxuICAgICAgICBsaW5rc0hlYWRlciA9IGxpbmtzSGVhZGVyLnNsaWNlKHNvdXJjZVswXS5sZW5ndGgpO1xuXG4gICAgICAgIC8vIFBhcnNlIGA7IGF0dHI9cmVsYXRpb25gIGFuZCBgOyBhdHRyPVwicmVsYXRpb25cImBcblxuICAgICAgICB2YXIgbmV4dERlbGltaXRlciA9IGxpbmtzSGVhZGVyLm1hdGNoKGRlbGltaXRlclJlZ0V4cCk7XG4gICAgICAgIHdoaWxlKGxpbmtzSGVhZGVyICYmICghbmV4dERlbGltaXRlciB8fCBuZXh0RGVsaW1pdGVyLmluZGV4ID4gMCkpIHtcbiAgICAgICAgICBtYXRjaCA9IHJlbHNSZWdFeHAuZXhlYyhsaW5rc0hlYWRlcik7XG4gICAgICAgICAgaWYgKCFtYXRjaCkgYnJlYWs7XG5cbiAgICAgICAgICAvLyBNb3ZlIGN1cnNvclxuICAgICAgICAgIGxpbmtzSGVhZGVyID0gbGlua3NIZWFkZXIuc2xpY2UobWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgICAgICBuZXh0RGVsaW1pdGVyID0gbGlua3NIZWFkZXIubWF0Y2goZGVsaW1pdGVyUmVnRXhwKTtcblxuXG4gICAgICAgICAgaWYgKG1hdGNoWzFdID09PSAncmVsJyB8fCBtYXRjaFsxXSA9PT0gJ3JldicpIHtcbiAgICAgICAgICAgIC8vIEFkZCBlaXRoZXIgcXVvdGVkIHJlbCBvciB1bnF1b3RlZCByZWxcbiAgICAgICAgICAgIHJlbHMgPSAobWF0Y2hbMl0gfHwgbWF0Y2hbM10pLnNwbGl0KC9cXHMrLyk7XG4gICAgICAgICAgICBjdXJyZW50W21hdGNoWzFdXSA9IHJlbHM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRbbWF0Y2hbMV1dID0gbWF0Y2hbMl0gfHwgbWF0Y2hbM107XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGlua3MucHVzaChjdXJyZW50KTtcbiAgICAgICAgLy8gTW92ZSBjdXJzb3JcbiAgICAgICAgbGlua3NIZWFkZXIgPSBsaW5rc0hlYWRlci5yZXBsYWNlKGRlbGltaXRlclJlZ0V4cCwgJycpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWV4dGVuZGVkKSB7XG4gICAgICAgIHJldHVybiBsaW5rcy5yZWR1Y2UoZnVuY3Rpb24ocmVzdWx0LCBjdXJyZW50TGluaykge1xuICAgICAgICAgIGlmIChjdXJyZW50TGluay5yZWwpIHtcbiAgICAgICAgICAgIGN1cnJlbnRMaW5rLnJlbC5mb3JFYWNoKGZ1bmN0aW9uKHJlbCkge1xuICAgICAgICAgICAgICByZXN1bHRbcmVsXSA9IGN1cnJlbnRMaW5rLmxpbms7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSwge30pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGlua3M7XG4gICAgfSxcbiAgICBzdHJpbmdpZnk6IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgIHZhciBncm91cGVkID0gT2JqZWN0LmtleXMocGFyYW1zKS5yZWR1Y2UoZnVuY3Rpb24oZ3JvdXBlZCwga2V5KSB7XG4gICAgICAgIGdyb3VwZWRbcGFyYW1zW2tleV1dID0gZ3JvdXBlZFtwYXJhbXNba2V5XV0gfHwgW107XG4gICAgICAgIGdyb3VwZWRbcGFyYW1zW2tleV1dLnB1c2goa2V5KTtcbiAgICAgICAgcmV0dXJuIGdyb3VwZWQ7XG4gICAgICB9LCB7fSk7XG5cbiAgICAgIHZhciBlbnRyaWVzID0gT2JqZWN0LmtleXMoZ3JvdXBlZCkucmVkdWNlKGZ1bmN0aW9uKHJlc3VsdCwgbGluaykge1xuICAgICAgICByZXR1cm4gcmVzdWx0LmNvbmNhdCgnPCcgKyBsaW5rICsgJz47IHJlbD1cIicgKyBncm91cGVkW2xpbmtdLmpvaW4oJyAnKSArICdcIicpO1xuICAgICAgfSwgW10pO1xuXG4gICAgICByZXR1cm4gZW50cmllcy5qb2luKCcsICcpO1xuICAgIH1cbiAgfTtcblxufSwgdGhpcyk7XG4iLCAiLyoqXG4gKiBVdGlsaXR5IG1ldGhvZHMgdXNlZCB3aGVuIHF1ZXJ5aW5nIGEgc2l0ZSBpbiBvcmRlciB0byBkaXNjb3ZlciBpdHMgYXZhaWxhYmxlXG4gKiBBUEkgZW5kcG9pbnRzXG4gKlxuICogQG1vZHVsZSBhdXRvZGlzY292ZXJ5XG4gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgcGFyc2VMaW5rSGVhZGVyID0gcmVxdWlyZSggJ2xpJyApLnBhcnNlO1xuXG4vKipcbiAqIEF0dGVtcHQgdG8gbG9jYXRlIGEgYHJlbD1cImh0dHBzOi8vYXBpLncub3JnXCJgIGxpbmsgcmVsYXRpb24gaGVhZGVyXG4gKlxuICogQG1ldGhvZCBsb2NhdGVBUElSb290SGVhZGVyXG4gKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2UgQSByZXNwb25zZSBvYmplY3Qgd2l0aCBhIGxpbmsgb3IgaGVhZGVycyBwcm9wZXJ0eVxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFVSTCBvZiB0aGUgbG9jYXRlZCBBUEkgcm9vdFxuICovXG5mdW5jdGlvbiBsb2NhdGVBUElSb290SGVhZGVyKCByZXNwb25zZSApIHtcblx0Ly8gU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLndvcmRwcmVzcy5vcmcvcmVzdC1hcGkvdXNpbmctdGhlLXJlc3QtYXBpL2Rpc2NvdmVyeS9cblx0Y29uc3QgcmVsID0gJ2h0dHBzOi8vYXBpLncub3JnLyc7XG5cblx0Ly8gRXh0cmFjdCAmIHBhcnNlIHRoZSByZXNwb25zZSBsaW5rIGhlYWRlcnNcblx0Y29uc3QgbGluayA9IHJlc3BvbnNlLmxpbmsgfHwgKCByZXNwb25zZS5oZWFkZXJzICYmIHJlc3BvbnNlLmhlYWRlcnMubGluayApO1xuXHRjb25zdCBoZWFkZXJzID0gcGFyc2VMaW5rSGVhZGVyKCBsaW5rICk7XG5cblx0Y29uc3QgYXBpSGVhZGVyID0gaGVhZGVycyAmJiBoZWFkZXJzWyByZWwgXTtcblxuXHRpZiAoIGFwaUhlYWRlciApIHtcblx0XHRyZXR1cm4gYXBpSGVhZGVyO1xuXHR9XG5cblx0dGhyb3cgbmV3IEVycm9yKCBgTm8gaGVhZGVyIGxpbmsgZm91bmQgd2l0aCByZWw9XCIkeyByZWwgfVwiYCApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0bG9jYXRlQVBJUm9vdEhlYWRlcjogbG9jYXRlQVBJUm9vdEhlYWRlcixcbn07XG4iLCAiXHJcbi8qKlxyXG4gKiBFeHBvc2UgYEVtaXR0ZXJgLlxyXG4gKi9cclxuXHJcbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xyXG4gIG1vZHVsZS5leHBvcnRzID0gRW1pdHRlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemUgYSBuZXcgYEVtaXR0ZXJgLlxyXG4gKlxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIEVtaXR0ZXIob2JqKSB7XHJcbiAgaWYgKG9iaikgcmV0dXJuIG1peGluKG9iaik7XHJcbn07XHJcblxyXG4vKipcclxuICogTWl4aW4gdGhlIGVtaXR0ZXIgcHJvcGVydGllcy5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IG9ialxyXG4gKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAqIEBhcGkgcHJpdmF0ZVxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIG1peGluKG9iaikge1xyXG4gIGZvciAodmFyIGtleSBpbiBFbWl0dGVyLnByb3RvdHlwZSkge1xyXG4gICAgb2JqW2tleV0gPSBFbWl0dGVyLnByb3RvdHlwZVtrZXldO1xyXG4gIH1cclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG4vKipcclxuICogTGlzdGVuIG9uIHRoZSBnaXZlbiBgZXZlbnRgIHdpdGggYGZuYC5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUub24gPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcbiAgKHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdKVxyXG4gICAgLnB1c2goZm4pO1xyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEFkZHMgYW4gYGV2ZW50YCBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgaW52b2tlZCBhIHNpbmdsZVxyXG4gKiB0aW1lIHRoZW4gYXV0b21hdGljYWxseSByZW1vdmVkLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcclxuICBmdW5jdGlvbiBvbigpIHtcclxuICAgIHRoaXMub2ZmKGV2ZW50LCBvbik7XHJcbiAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgb24uZm4gPSBmbjtcclxuICB0aGlzLm9uKGV2ZW50LCBvbik7XHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogUmVtb3ZlIHRoZSBnaXZlbiBjYWxsYmFjayBmb3IgYGV2ZW50YCBvciBhbGxcclxuICogcmVnaXN0ZXJlZCBjYWxsYmFja3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxyXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLm9mZiA9XHJcbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cclxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cclxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XHJcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xyXG5cclxuICAvLyBhbGxcclxuICBpZiAoMCA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLy8gc3BlY2lmaWMgZXZlbnRcclxuICB2YXIgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuICBpZiAoIWNhbGxiYWNrcykgcmV0dXJuIHRoaXM7XHJcblxyXG4gIC8vIHJlbW92ZSBhbGwgaGFuZGxlcnNcclxuICBpZiAoMSA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLy8gcmVtb3ZlIHNwZWNpZmljIGhhbmRsZXJcclxuICB2YXIgY2I7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuICAgIGNiID0gY2FsbGJhY2tzW2ldO1xyXG4gICAgaWYgKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pIHtcclxuICAgICAgY2FsbGJhY2tzLnNwbGljZShpLCAxKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgZXZlbnQgc3BlY2lmaWMgYXJyYXlzIGZvciBldmVudCB0eXBlcyB0aGF0IG5vXHJcbiAgLy8gb25lIGlzIHN1YnNjcmliZWQgZm9yIHRvIGF2b2lkIG1lbW9yeSBsZWFrLlxyXG4gIGlmIChjYWxsYmFja3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuICB9XHJcblxyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEVtaXQgYGV2ZW50YCB3aXRoIHRoZSBnaXZlbiBhcmdzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtNaXhlZH0gLi4uXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKGV2ZW50KXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcblxyXG4gIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKVxyXG4gICAgLCBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG5cclxuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XHJcbiAgfVxyXG5cclxuICBpZiAoY2FsbGJhY2tzKSB7XHJcbiAgICBjYWxsYmFja3MgPSBjYWxsYmFja3Muc2xpY2UoMCk7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XHJcbiAgICAgIGNhbGxiYWNrc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybiBhcnJheSBvZiBjYWxsYmFja3MgZm9yIGBldmVudGAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcmV0dXJuIHtBcnJheX1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XHJcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xyXG4gIHJldHVybiB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIHRoaXMgZW1pdHRlciBoYXMgYGV2ZW50YCBoYW5kbGVycy5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUuaGFzTGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnQpe1xyXG4gIHJldHVybiAhISB0aGlzLmxpc3RlbmVycyhldmVudCkubGVuZ3RoO1xyXG59O1xyXG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENoZWNrIGlmIGBvYmpgIGlzIGFuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gIHJldHVybiBudWxsICE9PSBvYmogJiYgJ29iamVjdCcgPT09IHR5cGVvZiBvYmo7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3Q7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIE1vZHVsZSBvZiBtaXhlZC1pbiBmdW5jdGlvbnMgc2hhcmVkIGJldHdlZW4gbm9kZSBhbmQgY2xpZW50IGNvZGVcbiAqL1xuY29uc3QgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzLW9iamVjdCcpO1xuXG4vKipcbiAqIEV4cG9zZSBgUmVxdWVzdEJhc2VgLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVxdWVzdEJhc2U7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBhIG5ldyBgUmVxdWVzdEJhc2VgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gUmVxdWVzdEJhc2Uob2JqKSB7XG4gIGlmIChvYmopIHJldHVybiBtaXhpbihvYmopO1xufVxuXG4vKipcbiAqIE1peGluIHRoZSBwcm90b3R5cGUgcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBtaXhpbihvYmopIHtcbiAgZm9yIChjb25zdCBrZXkgaW4gUmVxdWVzdEJhc2UucHJvdG90eXBlKSB7XG4gICAgb2JqW2tleV0gPSBSZXF1ZXN0QmFzZS5wcm90b3R5cGVba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIENsZWFyIHByZXZpb3VzIHRpbWVvdXQuXG4gKlxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5jbGVhclRpbWVvdXQgPSBmdW5jdGlvbiBfY2xlYXJUaW1lb3V0KCl7XG4gIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gIGNsZWFyVGltZW91dCh0aGlzLl9yZXNwb25zZVRpbWVvdXRUaW1lcik7XG4gIGRlbGV0ZSB0aGlzLl90aW1lcjtcbiAgZGVsZXRlIHRoaXMuX3Jlc3BvbnNlVGltZW91dFRpbWVyO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogT3ZlcnJpZGUgZGVmYXVsdCByZXNwb25zZSBib2R5IHBhcnNlclxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgdG8gY29udmVydCBpbmNvbWluZyBkYXRhIGludG8gcmVxdWVzdC5ib2R5XG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UoZm4pe1xuICB0aGlzLl9wYXJzZXIgPSBmbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCBmb3JtYXQgb2YgYmluYXJ5IHJlc3BvbnNlIGJvZHkuXG4gKiBJbiBicm93c2VyIHZhbGlkIGZvcm1hdHMgYXJlICdibG9iJyBhbmQgJ2FycmF5YnVmZmVyJyxcbiAqIHdoaWNoIHJldHVybiBCbG9iIGFuZCBBcnJheUJ1ZmZlciwgcmVzcGVjdGl2ZWx5LlxuICpcbiAqIEluIE5vZGUgYWxsIHZhbHVlcyByZXN1bHQgaW4gQnVmZmVyLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgcmVxLmdldCgnLycpXG4gKiAgICAgICAgLnJlc3BvbnNlVHlwZSgnYmxvYicpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHZhbFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5yZXNwb25zZVR5cGUgPSBmdW5jdGlvbih2YWwpe1xuICB0aGlzLl9yZXNwb25zZVR5cGUgPSB2YWw7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBPdmVycmlkZSBkZWZhdWx0IHJlcXVlc3QgYm9keSBzZXJpYWxpemVyXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB0byBjb252ZXJ0IGRhdGEgc2V0IHZpYSAuc2VuZCBvciAuYXR0YWNoIGludG8gcGF5bG9hZCB0byBzZW5kXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uIHNlcmlhbGl6ZShmbil7XG4gIHRoaXMuX3NlcmlhbGl6ZXIgPSBmbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCB0aW1lb3V0cy5cbiAqXG4gKiAtIHJlc3BvbnNlIHRpbWVvdXQgaXMgdGltZSBiZXR3ZWVuIHNlbmRpbmcgcmVxdWVzdCBhbmQgcmVjZWl2aW5nIHRoZSBmaXJzdCBieXRlIG9mIHRoZSByZXNwb25zZS4gSW5jbHVkZXMgRE5TIGFuZCBjb25uZWN0aW9uIHRpbWUuXG4gKiAtIGRlYWRsaW5lIGlzIHRoZSB0aW1lIGZyb20gc3RhcnQgb2YgdGhlIHJlcXVlc3QgdG8gcmVjZWl2aW5nIHJlc3BvbnNlIGJvZHkgaW4gZnVsbC4gSWYgdGhlIGRlYWRsaW5lIGlzIHRvbyBzaG9ydCBsYXJnZSBmaWxlcyBtYXkgbm90IGxvYWQgYXQgYWxsIG9uIHNsb3cgY29ubmVjdGlvbnMuXG4gKlxuICogVmFsdWUgb2YgMCBvciBmYWxzZSBtZWFucyBubyB0aW1lb3V0LlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfE9iamVjdH0gbXMgb3Ige3Jlc3BvbnNlLCBkZWFkbGluZX1cbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUudGltZW91dCA9IGZ1bmN0aW9uIHRpbWVvdXQob3B0aW9ucyl7XG4gIGlmICghb3B0aW9ucyB8fCAnb2JqZWN0JyAhPT0gdHlwZW9mIG9wdGlvbnMpIHtcbiAgICB0aGlzLl90aW1lb3V0ID0gb3B0aW9ucztcbiAgICB0aGlzLl9yZXNwb25zZVRpbWVvdXQgPSAwO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZm9yKGNvbnN0IG9wdGlvbiBpbiBvcHRpb25zKSB7XG4gICAgc3dpdGNoKG9wdGlvbikge1xuICAgICAgY2FzZSAnZGVhZGxpbmUnOlxuICAgICAgICB0aGlzLl90aW1lb3V0ID0gb3B0aW9ucy5kZWFkbGluZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZXNwb25zZSc6XG4gICAgICAgIHRoaXMuX3Jlc3BvbnNlVGltZW91dCA9IG9wdGlvbnMucmVzcG9uc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS53YXJuKFwiVW5rbm93biB0aW1lb3V0IG9wdGlvblwiLCBvcHRpb24pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IG51bWJlciBvZiByZXRyeSBhdHRlbXB0cyBvbiBlcnJvci5cbiAqXG4gKiBGYWlsZWQgcmVxdWVzdHMgd2lsbCBiZSByZXRyaWVkICdjb3VudCcgdGltZXMgaWYgdGltZW91dCBvciBlcnIuY29kZSA+PSA1MDAuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnJldHJ5ID0gZnVuY3Rpb24gcmV0cnkoY291bnQsIGZuKXtcbiAgLy8gRGVmYXVsdCB0byAxIGlmIG5vIGNvdW50IHBhc3NlZCBvciB0cnVlXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwIHx8IGNvdW50ID09PSB0cnVlKSBjb3VudCA9IDE7XG4gIGlmIChjb3VudCA8PSAwKSBjb3VudCA9IDA7XG4gIHRoaXMuX21heFJldHJpZXMgPSBjb3VudDtcbiAgdGhpcy5fcmV0cmllcyA9IDA7XG4gIHRoaXMuX3JldHJ5Q2FsbGJhY2sgPSBmbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5jb25zdCBFUlJPUl9DT0RFUyA9IFtcbiAgJ0VDT05OUkVTRVQnLFxuICAnRVRJTUVET1VUJyxcbiAgJ0VBRERSSU5GTycsXG4gICdFU09DS0VUVElNRURPVVQnXG5dO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHJlcXVlc3Qgc2hvdWxkIGJlIHJldHJpZWQuXG4gKiAoQm9ycm93ZWQgZnJvbSBzZWdtZW50aW8vc3VwZXJhZ2VudC1yZXRyeSlcbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJcbiAqIEBwYXJhbSB7UmVzcG9uc2V9IFtyZXNdXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuUmVxdWVzdEJhc2UucHJvdG90eXBlLl9zaG91bGRSZXRyeSA9IGZ1bmN0aW9uKGVyciwgcmVzKSB7XG4gIGlmICghdGhpcy5fbWF4UmV0cmllcyB8fCB0aGlzLl9yZXRyaWVzKysgPj0gdGhpcy5fbWF4UmV0cmllcykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodGhpcy5fcmV0cnlDYWxsYmFjaykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBvdmVycmlkZSA9IHRoaXMuX3JldHJ5Q2FsbGJhY2soZXJyLCByZXMpO1xuICAgICAgaWYgKG92ZXJyaWRlID09PSB0cnVlKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmIChvdmVycmlkZSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAgIC8vIHVuZGVmaW5lZCBmYWxscyBiYWNrIHRvIGRlZmF1bHRzXG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbiAgfVxuICBpZiAocmVzICYmIHJlcy5zdGF0dXMgJiYgcmVzLnN0YXR1cyA+PSA1MDAgJiYgcmVzLnN0YXR1cyAhPSA1MDEpIHJldHVybiB0cnVlO1xuICBpZiAoZXJyKSB7XG4gICAgaWYgKGVyci5jb2RlICYmIH5FUlJPUl9DT0RFUy5pbmRleE9mKGVyci5jb2RlKSkgcmV0dXJuIHRydWU7XG4gICAgLy8gU3VwZXJhZ2VudCB0aW1lb3V0XG4gICAgaWYgKGVyci50aW1lb3V0ICYmIGVyci5jb2RlID09ICdFQ09OTkFCT1JURUQnKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoZXJyLmNyb3NzRG9tYWluKSByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIFJldHJ5IHJlcXVlc3RcbiAqXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5fcmV0cnkgPSBmdW5jdGlvbigpIHtcblxuICB0aGlzLmNsZWFyVGltZW91dCgpO1xuXG4gIC8vIG5vZGVcbiAgaWYgKHRoaXMucmVxKSB7XG4gICAgdGhpcy5yZXEgPSBudWxsO1xuICAgIHRoaXMucmVxID0gdGhpcy5yZXF1ZXN0KCk7XG4gIH1cblxuICB0aGlzLl9hYm9ydGVkID0gZmFsc2U7XG4gIHRoaXMudGltZWRvdXQgPSBmYWxzZTtcblxuICByZXR1cm4gdGhpcy5fZW5kKCk7XG59O1xuXG4vKipcbiAqIFByb21pc2Ugc3VwcG9ydFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZWplY3RdXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gdGhlbihyZXNvbHZlLCByZWplY3QpIHtcbiAgaWYgKCF0aGlzLl9mdWxsZmlsbGVkUHJvbWlzZSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmICh0aGlzLl9lbmRDYWxsZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIldhcm5pbmc6IHN1cGVyYWdlbnQgcmVxdWVzdCB3YXMgc2VudCB0d2ljZSwgYmVjYXVzZSBib3RoIC5lbmQoKSBhbmQgLnRoZW4oKSB3ZXJlIGNhbGxlZC4gTmV2ZXIgY2FsbCAuZW5kKCkgaWYgeW91IHVzZSBwcm9taXNlc1wiKTtcbiAgICB9XG4gICAgdGhpcy5fZnVsbGZpbGxlZFByb21pc2UgPSBuZXcgUHJvbWlzZSgoaW5uZXJSZXNvbHZlLCBpbm5lclJlamVjdCkgPT4ge1xuICAgICAgc2VsZi5vbignZXJyb3InLCBpbm5lclJlamVjdCk7XG4gICAgICBzZWxmLm9uKCdhYm9ydCcsICgpID0+IHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKCdBYm9ydGVkJyk7XG4gICAgICAgIGVyci5jb2RlID0gXCJBQk9SVEVEXCI7XG4gICAgICAgIGVyci5zdGF0dXMgPSB0aGlzLnN0YXR1cztcbiAgICAgICAgZXJyLm1ldGhvZCA9IHRoaXMubWV0aG9kO1xuICAgICAgICBlcnIudXJsID0gdGhpcy51cmw7XG4gICAgICAgIGlubmVyUmVqZWN0KGVycik7XG4gICAgICB9KTtcbiAgICAgIHNlbGYuZW5kKChlcnIsIHJlcykgPT4ge1xuICAgICAgICBpZiAoZXJyKSBpbm5lclJlamVjdChlcnIpO1xuICAgICAgICBlbHNlIGlubmVyUmVzb2x2ZShyZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHRoaXMuX2Z1bGxmaWxsZWRQcm9taXNlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbn07XG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZVsnY2F0Y2gnXSA9IGZ1bmN0aW9uKGNiKSB7XG4gIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBjYik7XG59O1xuXG4vKipcbiAqIEFsbG93IGZvciBleHRlbnNpb25cbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gdXNlKGZuKSB7XG4gIGZuKHRoaXMpO1xuICByZXR1cm4gdGhpcztcbn07XG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5vayA9IGZ1bmN0aW9uKGNiKSB7XG4gIGlmICgnZnVuY3Rpb24nICE9PSB0eXBlb2YgY2IpIHRocm93IEVycm9yKFwiQ2FsbGJhY2sgcmVxdWlyZWRcIik7XG4gIHRoaXMuX29rQ2FsbGJhY2sgPSBjYjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuX2lzUmVzcG9uc2VPSyA9IGZ1bmN0aW9uKHJlcykge1xuICBpZiAoIXJlcykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0aGlzLl9va0NhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuX29rQ2FsbGJhY2socmVzKTtcbiAgfVxuXG4gIHJldHVybiByZXMuc3RhdHVzID49IDIwMCAmJiByZXMuc3RhdHVzIDwgMzAwO1xufTtcblxuLyoqXG4gKiBHZXQgcmVxdWVzdCBoZWFkZXIgYGZpZWxkYC5cbiAqIENhc2UtaW5zZW5zaXRpdmUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihmaWVsZCl7XG4gIHJldHVybiB0aGlzLl9oZWFkZXJbZmllbGQudG9Mb3dlckNhc2UoKV07XG59O1xuXG4vKipcbiAqIEdldCBjYXNlLWluc2Vuc2l0aXZlIGhlYWRlciBgZmllbGRgIHZhbHVlLlxuICogVGhpcyBpcyBhIGRlcHJlY2F0ZWQgaW50ZXJuYWwgQVBJLiBVc2UgYC5nZXQoZmllbGQpYCBpbnN0ZWFkLlxuICpcbiAqIChnZXRIZWFkZXIgaXMgbm8gbG9uZ2VyIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgc3VwZXJhZ2VudCBjb2RlIGJhc2UpXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqIEBkZXByZWNhdGVkXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLmdldEhlYWRlciA9IFJlcXVlc3RCYXNlLnByb3RvdHlwZS5nZXQ7XG5cbi8qKlxuICogU2V0IGhlYWRlciBgZmllbGRgIHRvIGB2YWxgLCBvciBtdWx0aXBsZSBmaWVsZHMgd2l0aCBvbmUgb2JqZWN0LlxuICogQ2FzZS1pbnNlbnNpdGl2ZS5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC5zZXQoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJylcbiAqICAgICAgICAuc2V0KCdYLUFQSS1LZXknLCAnZm9vYmFyJylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC5zZXQoeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJywgJ1gtQVBJLUtleSc6ICdmb29iYXInIH0pXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBmaWVsZFxuICogQHBhcmFtIHtTdHJpbmd9IHZhbFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihmaWVsZCwgdmFsKXtcbiAgaWYgKGlzT2JqZWN0KGZpZWxkKSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGZpZWxkKSB7XG4gICAgICB0aGlzLnNldChrZXksIGZpZWxkW2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB0aGlzLl9oZWFkZXJbZmllbGQudG9Mb3dlckNhc2UoKV0gPSB2YWw7XG4gIHRoaXMuaGVhZGVyW2ZpZWxkXSA9IHZhbDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBoZWFkZXIgYGZpZWxkYC5cbiAqIENhc2UtaW5zZW5zaXRpdmUuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC51bnNldCgnVXNlci1BZ2VudCcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKi9cblJlcXVlc3RCYXNlLnByb3RvdHlwZS51bnNldCA9IGZ1bmN0aW9uKGZpZWxkKXtcbiAgZGVsZXRlIHRoaXMuX2hlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXTtcbiAgZGVsZXRlIHRoaXMuaGVhZGVyW2ZpZWxkXTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFdyaXRlIHRoZSBmaWVsZCBgbmFtZWAgYW5kIGB2YWxgLCBvciBtdWx0aXBsZSBmaWVsZHMgd2l0aCBvbmUgb2JqZWN0XG4gKiBmb3IgXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIgcmVxdWVzdCBib2RpZXMuXG4gKlxuICogYGBgIGpzXG4gKiByZXF1ZXN0LnBvc3QoJy91cGxvYWQnKVxuICogICAuZmllbGQoJ2ZvbycsICdiYXInKVxuICogICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiByZXF1ZXN0LnBvc3QoJy91cGxvYWQnKVxuICogICAuZmllbGQoeyBmb286ICdiYXInLCBiYXo6ICdxdXgnIH0pXG4gKiAgIC5lbmQoY2FsbGJhY2spO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ3xCbG9ifEZpbGV8QnVmZmVyfGZzLlJlYWRTdHJlYW19IHZhbFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuZmllbGQgPSBmdW5jdGlvbihuYW1lLCB2YWwpIHtcbiAgLy8gbmFtZSBzaG91bGQgYmUgZWl0aGVyIGEgc3RyaW5nIG9yIGFuIG9iamVjdC5cbiAgaWYgKG51bGwgPT09IG5hbWUgfHwgdW5kZWZpbmVkID09PSBuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCcuZmllbGQobmFtZSwgdmFsKSBuYW1lIGNhbiBub3QgYmUgZW1wdHknKTtcbiAgfVxuXG4gIGlmICh0aGlzLl9kYXRhKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiLmZpZWxkKCkgY2FuJ3QgYmUgdXNlZCBpZiAuc2VuZCgpIGlzIHVzZWQuIFBsZWFzZSB1c2Ugb25seSAuc2VuZCgpIG9yIG9ubHkgLmZpZWxkKCkgJiAuYXR0YWNoKClcIik7XG4gIH1cblxuICBpZiAoaXNPYmplY3QobmFtZSkpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBuYW1lKSB7XG4gICAgICB0aGlzLmZpZWxkKGtleSwgbmFtZVtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgZm9yIChjb25zdCBpIGluIHZhbCkge1xuICAgICAgdGhpcy5maWVsZChuYW1lLCB2YWxbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHZhbCBzaG91bGQgYmUgZGVmaW5lZCBub3dcbiAgaWYgKG51bGwgPT09IHZhbCB8fCB1bmRlZmluZWQgPT09IHZhbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignLmZpZWxkKG5hbWUsIHZhbCkgdmFsIGNhbiBub3QgYmUgZW1wdHknKTtcbiAgfVxuICBpZiAoJ2Jvb2xlYW4nID09PSB0eXBlb2YgdmFsKSB7XG4gICAgdmFsID0gJycgKyB2YWw7XG4gIH1cbiAgdGhpcy5fZ2V0Rm9ybURhdGEoKS5hcHBlbmQobmFtZSwgdmFsKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFib3J0IHRoZSByZXF1ZXN0LCBhbmQgY2xlYXIgcG90ZW50aWFsIHRpbWVvdXQuXG4gKlxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKCl7XG4gIGlmICh0aGlzLl9hYm9ydGVkKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdGhpcy5fYWJvcnRlZCA9IHRydWU7XG4gIHRoaXMueGhyICYmIHRoaXMueGhyLmFib3J0KCk7IC8vIGJyb3dzZXJcbiAgdGhpcy5yZXEgJiYgdGhpcy5yZXEuYWJvcnQoKTsgLy8gbm9kZVxuICB0aGlzLmNsZWFyVGltZW91dCgpO1xuICB0aGlzLmVtaXQoJ2Fib3J0Jyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLl9hdXRoID0gZnVuY3Rpb24odXNlciwgcGFzcywgb3B0aW9ucywgYmFzZTY0RW5jb2Rlcikge1xuICBzd2l0Y2ggKG9wdGlvbnMudHlwZSkge1xuICAgIGNhc2UgJ2Jhc2ljJzpcbiAgICAgIHRoaXMuc2V0KCdBdXRob3JpemF0aW9uJywgYEJhc2ljICR7YmFzZTY0RW5jb2RlcihgJHt1c2VyfToke3Bhc3N9YCl9YCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgdGhpcy51c2VybmFtZSA9IHVzZXI7XG4gICAgICB0aGlzLnBhc3N3b3JkID0gcGFzcztcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnYmVhcmVyJzogLy8gdXNhZ2Ugd291bGQgYmUgLmF1dGgoYWNjZXNzVG9rZW4sIHsgdHlwZTogJ2JlYXJlcicgfSlcbiAgICAgIHRoaXMuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3VzZXJ9YCk7XG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRW5hYmxlIHRyYW5zbWlzc2lvbiBvZiBjb29raWVzIHdpdGggeC1kb21haW4gcmVxdWVzdHMuXG4gKlxuICogTm90ZSB0aGF0IGZvciB0aGlzIHRvIHdvcmsgdGhlIG9yaWdpbiBtdXN0IG5vdCBiZVxuICogdXNpbmcgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiB3aXRoIGEgd2lsZGNhcmQsXG4gKiBhbmQgYWxzbyBtdXN0IHNldCBcIkFjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzXCJcbiAqIHRvIFwidHJ1ZVwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLndpdGhDcmVkZW50aWFscyA9IGZ1bmN0aW9uKG9uKSB7XG4gIC8vIFRoaXMgaXMgYnJvd3Nlci1vbmx5IGZ1bmN0aW9uYWxpdHkuIE5vZGUgc2lkZSBpcyBuby1vcC5cbiAgaWYgKG9uID09IHVuZGVmaW5lZCkgb24gPSB0cnVlO1xuICB0aGlzLl93aXRoQ3JlZGVudGlhbHMgPSBvbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgbWF4IHJlZGlyZWN0cyB0byBgbmAuIERvZXMgbm90aW5nIGluIGJyb3dzZXIgWEhSIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnJlZGlyZWN0cyA9IGZ1bmN0aW9uKG4pe1xuICB0aGlzLl9tYXhSZWRpcmVjdHMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogTWF4aW11bSBzaXplIG9mIGJ1ZmZlcmVkIHJlc3BvbnNlIGJvZHksIGluIGJ5dGVzLiBDb3VudHMgdW5jb21wcmVzc2VkIHNpemUuXG4gKiBEZWZhdWx0IDIwME1CLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqL1xuUmVxdWVzdEJhc2UucHJvdG90eXBlLm1heFJlc3BvbnNlU2l6ZSA9IGZ1bmN0aW9uKG4pe1xuICBpZiAoJ251bWJlcicgIT09IHR5cGVvZiBuKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKFwiSW52YWxpZCBhcmd1bWVudFwiKTtcbiAgfVxuICB0aGlzLl9tYXhSZXNwb25zZVNpemUgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ29udmVydCB0byBhIHBsYWluIGphdmFzY3JpcHQgb2JqZWN0IChub3QgSlNPTiBzdHJpbmcpIG9mIHNjYWxhciBwcm9wZXJ0aWVzLlxuICogTm90ZSBhcyB0aGlzIG1ldGhvZCBpcyBkZXNpZ25lZCB0byByZXR1cm4gYSB1c2VmdWwgbm9uLXRoaXMgdmFsdWUsXG4gKiBpdCBjYW5ub3QgYmUgY2hhaW5lZC5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IGRlc2NyaWJpbmcgbWV0aG9kLCB1cmwsIGFuZCBkYXRhIG9mIHRoaXMgcmVxdWVzdFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgbWV0aG9kOiB0aGlzLm1ldGhvZCxcbiAgICB1cmw6IHRoaXMudXJsLFxuICAgIGRhdGE6IHRoaXMuX2RhdGEsXG4gICAgaGVhZGVyczogdGhpcy5faGVhZGVyLFxuICB9O1xufTtcblxuLyoqXG4gKiBTZW5kIGBkYXRhYCBhcyB0aGUgcmVxdWVzdCBib2R5LCBkZWZhdWx0aW5nIHRoZSBgLnR5cGUoKWAgdG8gXCJqc29uXCIgd2hlblxuICogYW4gb2JqZWN0IGlzIGdpdmVuLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgIC8vIG1hbnVhbCBqc29uXG4gKiAgICAgICByZXF1ZXN0LnBvc3QoJy91c2VyJylcbiAqICAgICAgICAgLnR5cGUoJ2pzb24nKVxuICogICAgICAgICAuc2VuZCgne1wibmFtZVwiOlwidGpcIn0nKVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIGF1dG8ganNvblxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC5zZW5kKHsgbmFtZTogJ3RqJyB9KVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIG1hbnVhbCB4LXd3dy1mb3JtLXVybGVuY29kZWRcbiAqICAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgICAudHlwZSgnZm9ybScpXG4gKiAgICAgICAgIC5zZW5kKCduYW1lPXRqJylcbiAqICAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiAgICAgICAvLyBhdXRvIHgtd3d3LWZvcm0tdXJsZW5jb2RlZFxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC50eXBlKCdmb3JtJylcbiAqICAgICAgICAgLnNlbmQoeyBuYW1lOiAndGonIH0pXG4gKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICogICAgICAgLy8gZGVmYXVsdHMgdG8geC13d3ctZm9ybS11cmxlbmNvZGVkXG4gKiAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgIC5zZW5kKCduYW1lPXRvYmknKVxuICogICAgICAgIC5zZW5kKCdzcGVjaWVzPWZlcnJldCcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGRhdGFcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKGRhdGEpe1xuICBjb25zdCBpc09iaiA9IGlzT2JqZWN0KGRhdGEpO1xuICBsZXQgdHlwZSA9IHRoaXMuX2hlYWRlclsnY29udGVudC10eXBlJ107XG5cbiAgaWYgKHRoaXMuX2Zvcm1EYXRhKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiLnNlbmQoKSBjYW4ndCBiZSB1c2VkIGlmIC5hdHRhY2goKSBvciAuZmllbGQoKSBpcyB1c2VkLiBQbGVhc2UgdXNlIG9ubHkgLnNlbmQoKSBvciBvbmx5IC5maWVsZCgpICYgLmF0dGFjaCgpXCIpO1xuICB9XG5cbiAgaWYgKGlzT2JqICYmICF0aGlzLl9kYXRhKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIHRoaXMuX2RhdGEgPSBbXTtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLl9pc0hvc3QoZGF0YSkpIHtcbiAgICAgIHRoaXMuX2RhdGEgPSB7fTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGF0YSAmJiB0aGlzLl9kYXRhICYmIHRoaXMuX2lzSG9zdCh0aGlzLl9kYXRhKSkge1xuICAgIHRocm93IEVycm9yKFwiQ2FuJ3QgbWVyZ2UgdGhlc2Ugc2VuZCBjYWxsc1wiKTtcbiAgfVxuXG4gIC8vIG1lcmdlXG4gIGlmIChpc09iaiAmJiBpc09iamVjdCh0aGlzLl9kYXRhKSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgIHRoaXMuX2RhdGFba2V5XSA9IGRhdGFba2V5XTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoJ3N0cmluZycgPT0gdHlwZW9mIGRhdGEpIHtcbiAgICAvLyBkZWZhdWx0IHRvIHgtd3d3LWZvcm0tdXJsZW5jb2RlZFxuICAgIGlmICghdHlwZSkgdGhpcy50eXBlKCdmb3JtJyk7XG4gICAgdHlwZSA9IHRoaXMuX2hlYWRlclsnY29udGVudC10eXBlJ107XG4gICAgaWYgKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnID09IHR5cGUpIHtcbiAgICAgIHRoaXMuX2RhdGEgPSB0aGlzLl9kYXRhXG4gICAgICAgID8gYCR7dGhpcy5fZGF0YX0mJHtkYXRhfWBcbiAgICAgICAgOiBkYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kYXRhID0gKHRoaXMuX2RhdGEgfHwgJycpICsgZGF0YTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gIH1cblxuICBpZiAoIWlzT2JqIHx8IHRoaXMuX2lzSG9zdChkYXRhKSkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZGVmYXVsdCB0byBqc29uXG4gIGlmICghdHlwZSkgdGhpcy50eXBlKCdqc29uJyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTb3J0IGBxdWVyeXN0cmluZ2AgYnkgdGhlIHNvcnQgZnVuY3Rpb25cbiAqXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgICAgLy8gZGVmYXVsdCBvcmRlclxuICogICAgICAgcmVxdWVzdC5nZXQoJy91c2VyJylcbiAqICAgICAgICAgLnF1ZXJ5KCduYW1lPU5pY2snKVxuICogICAgICAgICAucXVlcnkoJ3NlYXJjaD1NYW5ueScpXG4gKiAgICAgICAgIC5zb3J0UXVlcnkoKVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIGN1c3RvbWl6ZWQgc29ydCBmdW5jdGlvblxuICogICAgICAgcmVxdWVzdC5nZXQoJy91c2VyJylcbiAqICAgICAgICAgLnF1ZXJ5KCduYW1lPU5pY2snKVxuICogICAgICAgICAucXVlcnkoJ3NlYXJjaD1NYW5ueScpXG4gKiAgICAgICAgIC5zb3J0UXVlcnkoZnVuY3Rpb24oYSwgYil7XG4gKiAgICAgICAgICAgcmV0dXJuIGEubGVuZ3RoIC0gYi5sZW5ndGg7XG4gKiAgICAgICAgIH0pXG4gKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHNvcnRcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuc29ydFF1ZXJ5ID0gZnVuY3Rpb24oc29ydCkge1xuICAvLyBfc29ydCBkZWZhdWx0IHRvIHRydWUgYnV0IG90aGVyd2lzZSBjYW4gYmUgYSBmdW5jdGlvbiBvciBib29sZWFuXG4gIHRoaXMuX3NvcnQgPSB0eXBlb2Ygc29ydCA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogc29ydDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIENvbXBvc2UgcXVlcnlzdHJpbmcgdG8gYXBwZW5kIHRvIHJlcS51cmxcbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuUmVxdWVzdEJhc2UucHJvdG90eXBlLl9maW5hbGl6ZVF1ZXJ5U3RyaW5nID0gZnVuY3Rpb24oKXtcbiAgY29uc3QgcXVlcnkgPSB0aGlzLl9xdWVyeS5qb2luKCcmJyk7XG4gIGlmIChxdWVyeSkge1xuICAgIHRoaXMudXJsICs9ICh0aGlzLnVybC5pbmRleE9mKCc/JykgPj0gMCA/ICcmJyA6ICc/JykgKyBxdWVyeTtcbiAgfVxuICB0aGlzLl9xdWVyeS5sZW5ndGggPSAwOyAvLyBNYWtlcyB0aGUgY2FsbCBpZGVtcG90ZW50XG5cbiAgaWYgKHRoaXMuX3NvcnQpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMudXJsLmluZGV4T2YoJz8nKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgY29uc3QgcXVlcnlBcnIgPSB0aGlzLnVybC5zdWJzdHJpbmcoaW5kZXggKyAxKS5zcGxpdCgnJicpO1xuICAgICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiB0aGlzLl9zb3J0KSB7XG4gICAgICAgIHF1ZXJ5QXJyLnNvcnQodGhpcy5fc29ydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWVyeUFyci5zb3J0KCk7XG4gICAgICB9XG4gICAgICB0aGlzLnVybCA9IHRoaXMudXJsLnN1YnN0cmluZygwLCBpbmRleCkgKyAnPycgKyBxdWVyeUFyci5qb2luKCcmJyk7XG4gICAgfVxuICB9XG59O1xuXG4vLyBGb3IgYmFja3dhcmRzIGNvbXBhdCBvbmx5XG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuX2FwcGVuZFF1ZXJ5U3RyaW5nID0gKCkgPT4ge2NvbnNvbGUudHJhY2UoXCJVbnN1cHBvcnRlZFwiKTt9XG5cbi8qKlxuICogSW52b2tlIGNhbGxiYWNrIHdpdGggdGltZW91dCBlcnJvci5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuX3RpbWVvdXRFcnJvciA9IGZ1bmN0aW9uKHJlYXNvbiwgdGltZW91dCwgZXJybm8pe1xuICBpZiAodGhpcy5fYWJvcnRlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoYCR7cmVhc29uICsgdGltZW91dH1tcyBleGNlZWRlZGApO1xuICBlcnIudGltZW91dCA9IHRpbWVvdXQ7XG4gIGVyci5jb2RlID0gJ0VDT05OQUJPUlRFRCc7XG4gIGVyci5lcnJubyA9IGVycm5vO1xuICB0aGlzLnRpbWVkb3V0ID0gdHJ1ZTtcbiAgdGhpcy5hYm9ydCgpO1xuICB0aGlzLmNhbGxiYWNrKGVycik7XG59O1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuX3NldFRpbWVvdXRzID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gIC8vIGRlYWRsaW5lXG4gIGlmICh0aGlzLl90aW1lb3V0ICYmICF0aGlzLl90aW1lcikge1xuICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZWxmLl90aW1lb3V0RXJyb3IoJ1RpbWVvdXQgb2YgJywgc2VsZi5fdGltZW91dCwgJ0VUSU1FJyk7XG4gICAgfSwgdGhpcy5fdGltZW91dCk7XG4gIH1cbiAgLy8gcmVzcG9uc2UgdGltZW91dFxuICBpZiAodGhpcy5fcmVzcG9uc2VUaW1lb3V0ICYmICF0aGlzLl9yZXNwb25zZVRpbWVvdXRUaW1lcikge1xuICAgIHRoaXMuX3Jlc3BvbnNlVGltZW91dFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZWxmLl90aW1lb3V0RXJyb3IoJ1Jlc3BvbnNlIHRpbWVvdXQgb2YgJywgc2VsZi5fcmVzcG9uc2VUaW1lb3V0LCAnRVRJTUVET1VUJyk7XG4gICAgfSwgdGhpcy5fcmVzcG9uc2VUaW1lb3V0KTtcbiAgfVxufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogUmV0dXJuIHRoZSBtaW1lIHR5cGUgZm9yIHRoZSBnaXZlbiBgc3RyYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLnR5cGUgPSBzdHIgPT4gc3RyLnNwbGl0KC8gKjsgKi8pLnNoaWZ0KCk7XG5cbi8qKlxuICogUmV0dXJuIGhlYWRlciBmaWVsZCBwYXJhbWV0ZXJzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMucGFyYW1zID0gc3RyID0+IHN0ci5zcGxpdCgvICo7ICovKS5yZWR1Y2UoKG9iaiwgc3RyKSA9PiB7XG4gIGNvbnN0IHBhcnRzID0gc3RyLnNwbGl0KC8gKj0gKi8pO1xuICBjb25zdCBrZXkgPSBwYXJ0cy5zaGlmdCgpO1xuICBjb25zdCB2YWwgPSBwYXJ0cy5zaGlmdCgpO1xuXG4gIGlmIChrZXkgJiYgdmFsKSBvYmpba2V5XSA9IHZhbDtcbiAgcmV0dXJuIG9iajtcbn0sIHt9KTtcblxuLyoqXG4gKiBQYXJzZSBMaW5rIGhlYWRlciBmaWVsZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5wYXJzZUxpbmtzID0gc3RyID0+IHN0ci5zcGxpdCgvICosICovKS5yZWR1Y2UoKG9iaiwgc3RyKSA9PiB7XG4gIGNvbnN0IHBhcnRzID0gc3RyLnNwbGl0KC8gKjsgKi8pO1xuICBjb25zdCB1cmwgPSBwYXJ0c1swXS5zbGljZSgxLCAtMSk7XG4gIGNvbnN0IHJlbCA9IHBhcnRzWzFdLnNwbGl0KC8gKj0gKi8pWzFdLnNsaWNlKDEsIC0xKTtcbiAgb2JqW3JlbF0gPSB1cmw7XG4gIHJldHVybiBvYmo7XG59LCB7fSk7XG5cbi8qKlxuICogU3RyaXAgY29udGVudCByZWxhdGVkIGZpZWxkcyBmcm9tIGBoZWFkZXJgLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBoZWFkZXJcbiAqIEByZXR1cm4ge09iamVjdH0gaGVhZGVyXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLmNsZWFuSGVhZGVyID0gKGhlYWRlciwgY2hhbmdlc09yaWdpbikgPT4ge1xuICBkZWxldGUgaGVhZGVyWydjb250ZW50LXR5cGUnXTtcbiAgZGVsZXRlIGhlYWRlclsnY29udGVudC1sZW5ndGgnXTtcbiAgZGVsZXRlIGhlYWRlclsndHJhbnNmZXItZW5jb2RpbmcnXTtcbiAgZGVsZXRlIGhlYWRlclsnaG9zdCddO1xuICAvLyBzZWN1aXJ0eVxuICBpZiAoY2hhbmdlc09yaWdpbikge1xuICAgIGRlbGV0ZSBoZWFkZXJbJ2F1dGhvcml6YXRpb24nXTtcbiAgICBkZWxldGUgaGVhZGVyWydjb29raWUnXTtcbiAgfVxuICByZXR1cm4gaGVhZGVyO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG5jb25zdCB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxuLyoqXG4gKiBFeHBvc2UgYFJlc3BvbnNlQmFzZWAuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZXNwb25zZUJhc2U7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBhIG5ldyBgUmVzcG9uc2VCYXNlYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFJlc3BvbnNlQmFzZShvYmopIHtcbiAgaWYgKG9iaikgcmV0dXJuIG1peGluKG9iaik7XG59XG5cbi8qKlxuICogTWl4aW4gdGhlIHByb3RvdHlwZSBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIG1peGluKG9iaikge1xuICBmb3IgKGNvbnN0IGtleSBpbiBSZXNwb25zZUJhc2UucHJvdG90eXBlKSB7XG4gICAgb2JqW2tleV0gPSBSZXNwb25zZUJhc2UucHJvdG90eXBlW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBHZXQgY2FzZS1pbnNlbnNpdGl2ZSBgZmllbGRgIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXNwb25zZUJhc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGZpZWxkKSB7XG4gIHJldHVybiB0aGlzLmhlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXTtcbn07XG5cbi8qKlxuICogU2V0IGhlYWRlciByZWxhdGVkIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGAudHlwZWAgdGhlIGNvbnRlbnQgdHlwZSB3aXRob3V0IHBhcmFtc1xuICpcbiAqIEEgcmVzcG9uc2Ugb2YgXCJDb250ZW50LVR5cGU6IHRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLThcIlxuICogd2lsbCBwcm92aWRlIHlvdSB3aXRoIGEgYC50eXBlYCBvZiBcInRleHQvcGxhaW5cIi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaGVhZGVyXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXNwb25zZUJhc2UucHJvdG90eXBlLl9zZXRIZWFkZXJQcm9wZXJ0aWVzID0gZnVuY3Rpb24oaGVhZGVyKXtcbiAgICAvLyBUT0RPOiBtb2FyIVxuICAgIC8vIFRPRE86IG1ha2UgdGhpcyBhIHV0aWxcblxuICAgIC8vIGNvbnRlbnQtdHlwZVxuICAgIGNvbnN0IGN0ID0gaGVhZGVyWydjb250ZW50LXR5cGUnXSB8fCAnJztcbiAgICB0aGlzLnR5cGUgPSB1dGlscy50eXBlKGN0KTtcblxuICAgIC8vIHBhcmFtc1xuICAgIGNvbnN0IHBhcmFtcyA9IHV0aWxzLnBhcmFtcyhjdCk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcGFyYW1zKSB0aGlzW2tleV0gPSBwYXJhbXNba2V5XTtcblxuICAgIHRoaXMubGlua3MgPSB7fTtcblxuICAgIC8vIGxpbmtzXG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKGhlYWRlci5saW5rKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmtzID0gdXRpbHMucGFyc2VMaW5rcyhoZWFkZXIubGluayk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gaWdub3JlXG4gICAgfVxufTtcblxuLyoqXG4gKiBTZXQgZmxhZ3Mgc3VjaCBhcyBgLm9rYCBiYXNlZCBvbiBgc3RhdHVzYC5cbiAqXG4gKiBGb3IgZXhhbXBsZSBhIDJ4eCByZXNwb25zZSB3aWxsIGdpdmUgeW91IGEgYC5va2Agb2YgX190cnVlX19cbiAqIHdoZXJlYXMgNXh4IHdpbGwgYmUgX19mYWxzZV9fIGFuZCBgLmVycm9yYCB3aWxsIGJlIF9fdHJ1ZV9fLiBUaGVcbiAqIGAuY2xpZW50RXJyb3JgIGFuZCBgLnNlcnZlckVycm9yYCBhcmUgYWxzbyBhdmFpbGFibGUgdG8gYmUgbW9yZVxuICogc3BlY2lmaWMsIGFuZCBgLnN0YXR1c1R5cGVgIGlzIHRoZSBjbGFzcyBvZiBlcnJvciByYW5naW5nIGZyb20gMS4uNVxuICogc29tZXRpbWVzIHVzZWZ1bCBmb3IgbWFwcGluZyByZXNwb25kIGNvbG9ycyBldGMuXG4gKlxuICogXCJzdWdhclwiIHByb3BlcnRpZXMgYXJlIGFsc28gZGVmaW5lZCBmb3IgY29tbW9uIGNhc2VzLiBDdXJyZW50bHkgcHJvdmlkaW5nOlxuICpcbiAqICAgLSAubm9Db250ZW50XG4gKiAgIC0gLmJhZFJlcXVlc3RcbiAqICAgLSAudW5hdXRob3JpemVkXG4gKiAgIC0gLm5vdEFjY2VwdGFibGVcbiAqICAgLSAubm90Rm91bmRcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gc3RhdHVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXNwb25zZUJhc2UucHJvdG90eXBlLl9zZXRTdGF0dXNQcm9wZXJ0aWVzID0gZnVuY3Rpb24oc3RhdHVzKXtcbiAgICBjb25zdCB0eXBlID0gc3RhdHVzIC8gMTAwIHwgMDtcblxuICAgIC8vIHN0YXR1cyAvIGNsYXNzXG4gICAgdGhpcy5zdGF0dXMgPSB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXM7XG4gICAgdGhpcy5zdGF0dXNUeXBlID0gdHlwZTtcblxuICAgIC8vIGJhc2ljc1xuICAgIHRoaXMuaW5mbyA9IDEgPT0gdHlwZTtcbiAgICB0aGlzLm9rID0gMiA9PSB0eXBlO1xuICAgIHRoaXMucmVkaXJlY3QgPSAzID09IHR5cGU7XG4gICAgdGhpcy5jbGllbnRFcnJvciA9IDQgPT0gdHlwZTtcbiAgICB0aGlzLnNlcnZlckVycm9yID0gNSA9PSB0eXBlO1xuICAgIHRoaXMuZXJyb3IgPSAoNCA9PSB0eXBlIHx8IDUgPT0gdHlwZSlcbiAgICAgICAgPyB0aGlzLnRvRXJyb3IoKVxuICAgICAgICA6IGZhbHNlO1xuXG4gICAgLy8gc3VnYXJcbiAgICB0aGlzLmNyZWF0ZWQgPSAyMDEgPT0gc3RhdHVzO1xuICAgIHRoaXMuYWNjZXB0ZWQgPSAyMDIgPT0gc3RhdHVzO1xuICAgIHRoaXMubm9Db250ZW50ID0gMjA0ID09IHN0YXR1cztcbiAgICB0aGlzLmJhZFJlcXVlc3QgPSA0MDAgPT0gc3RhdHVzO1xuICAgIHRoaXMudW5hdXRob3JpemVkID0gNDAxID09IHN0YXR1cztcbiAgICB0aGlzLm5vdEFjY2VwdGFibGUgPSA0MDYgPT0gc3RhdHVzO1xuICAgIHRoaXMuZm9yYmlkZGVuID0gNDAzID09IHN0YXR1cztcbiAgICB0aGlzLm5vdEZvdW5kID0gNDA0ID09IHN0YXR1cztcbiAgICB0aGlzLnVucHJvY2Vzc2FibGVFbnRpdHkgPSA0MjIgPT0gc3RhdHVzO1xufTtcbiIsICJmdW5jdGlvbiBBZ2VudCgpIHtcbiAgdGhpcy5fZGVmYXVsdHMgPSBbXTtcbn1cblxuW1widXNlXCIsIFwib25cIiwgXCJvbmNlXCIsIFwic2V0XCIsIFwicXVlcnlcIiwgXCJ0eXBlXCIsIFwiYWNjZXB0XCIsIFwiYXV0aFwiLCBcIndpdGhDcmVkZW50aWFsc1wiLCBcInNvcnRRdWVyeVwiLCBcInJldHJ5XCIsIFwib2tcIiwgXCJyZWRpcmVjdHNcIixcbiBcInRpbWVvdXRcIiwgXCJidWZmZXJcIiwgXCJzZXJpYWxpemVcIiwgXCJwYXJzZVwiLCBcImNhXCIsIFwia2V5XCIsIFwicGZ4XCIsIFwiY2VydFwiXS5mb3JFYWNoKGZuID0+IHtcbiAgLyoqIERlZmF1bHQgc2V0dGluZyBmb3IgYWxsIHJlcXVlc3RzIGZyb20gdGhpcyBhZ2VudCAqL1xuICBBZ2VudC5wcm90b3R5cGVbZm5dID0gZnVuY3Rpb24oLi4uYXJncykge1xuICAgIHRoaXMuX2RlZmF1bHRzLnB1c2goe2ZuLCBhcmdzfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn0pO1xuXG5BZ2VudC5wcm90b3R5cGUuX3NldERlZmF1bHRzID0gZnVuY3Rpb24ocmVxKSB7XG4gICAgdGhpcy5fZGVmYXVsdHMuZm9yRWFjaChkZWYgPT4ge1xuICAgICAgcmVxW2RlZi5mbl0uYXBwbHkocmVxLCBkZWYuYXJncyk7XG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFnZW50O1xuIiwgIi8qKlxuICogUm9vdCByZWZlcmVuY2UgZm9yIGlmcmFtZXMuXG4gKi9cblxubGV0IHJvb3Q7XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsgLy8gQnJvd3NlciB3aW5kb3dcbiAgcm9vdCA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7IC8vIFdlYiBXb3JrZXJcbiAgcm9vdCA9IHNlbGY7XG59IGVsc2UgeyAvLyBPdGhlciBlbnZpcm9ubWVudHNcbiAgY29uc29sZS53YXJuKFwiVXNpbmcgYnJvd3Nlci1vbmx5IHZlcnNpb24gb2Ygc3VwZXJhZ2VudCBpbiBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcbiAgcm9vdCA9IHRoaXM7XG59XG5cbmNvbnN0IEVtaXR0ZXIgPSByZXF1aXJlKCdjb21wb25lbnQtZW1pdHRlcicpO1xuY29uc3QgUmVxdWVzdEJhc2UgPSByZXF1aXJlKCcuL3JlcXVlc3QtYmFzZScpO1xuY29uc3QgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzLW9iamVjdCcpO1xuY29uc3QgUmVzcG9uc2VCYXNlID0gcmVxdWlyZSgnLi9yZXNwb25zZS1iYXNlJyk7XG5jb25zdCBBZ2VudCA9IHJlcXVpcmUoJy4vYWdlbnQtYmFzZScpO1xuXG4vKipcbiAqIE5vb3AuXG4gKi9cblxuZnVuY3Rpb24gbm9vcCgpe307XG5cbi8qKlxuICogRXhwb3NlIGByZXF1ZXN0YC5cbiAqL1xuXG5jb25zdCByZXF1ZXN0ID0gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obWV0aG9kLCB1cmwpIHtcbiAgLy8gY2FsbGJhY2tcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIHVybCkge1xuICAgIHJldHVybiBuZXcgZXhwb3J0cy5SZXF1ZXN0KCdHRVQnLCBtZXRob2QpLmVuZCh1cmwpO1xuICB9XG5cbiAgLy8gdXJsIGZpcnN0XG4gIGlmICgxID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gbmV3IGV4cG9ydHMuUmVxdWVzdCgnR0VUJywgbWV0aG9kKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgZXhwb3J0cy5SZXF1ZXN0KG1ldGhvZCwgdXJsKTtcbn07XG5cbmV4cG9ydHMuUmVxdWVzdCA9IFJlcXVlc3Q7XG5cbi8qKlxuICogRGV0ZXJtaW5lIFhIUi5cbiAqL1xuXG5yZXF1ZXN0LmdldFhIUiA9ICgpID0+IHtcbiAgaWYgKHJvb3QuWE1MSHR0cFJlcXVlc3RcbiAgICAgICYmICghcm9vdC5sb2NhdGlvbiB8fCAnZmlsZTonICE9IHJvb3QubG9jYXRpb24ucHJvdG9jb2xcbiAgICAgICAgICB8fCAhcm9vdC5BY3RpdmVYT2JqZWN0KSkge1xuICAgIHJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3Q7XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHsgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNaWNyb3NvZnQuWE1MSFRUUCcpOyB9IGNhdGNoKGUpIHt9XG4gICAgdHJ5IHsgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNc3htbDIuWE1MSFRUUC42LjAnKTsgfSBjYXRjaChlKSB7fVxuICAgIHRyeSB7IHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTXN4bWwyLlhNTEhUVFAuMy4wJyk7IH0gY2F0Y2goZSkge31cbiAgICB0cnkgeyByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01zeG1sMi5YTUxIVFRQJyk7IH0gY2F0Y2goZSkge31cbiAgfVxuICB0aHJvdyBFcnJvcihcIkJyb3dzZXItb25seSB2ZXJzaW9uIG9mIHN1cGVyYWdlbnQgY291bGQgbm90IGZpbmQgWEhSXCIpO1xufTtcblxuLyoqXG4gKiBSZW1vdmVzIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UsIGFkZGVkIHRvIHN1cHBvcnQgSUUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmNvbnN0IHRyaW0gPSAnJy50cmltXG4gID8gcyA9PiBzLnRyaW0oKVxuICA6IHMgPT4gcy5yZXBsYWNlKC8oXlxccyp8XFxzKiQpL2csICcnKTtcblxuLyoqXG4gKiBTZXJpYWxpemUgdGhlIGdpdmVuIGBvYmpgLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZShvYmopIHtcbiAgaWYgKCFpc09iamVjdChvYmopKSByZXR1cm4gb2JqO1xuICBjb25zdCBwYWlycyA9IFtdO1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycywga2V5LCBvYmpba2V5XSk7XG4gIH1cbiAgcmV0dXJuIHBhaXJzLmpvaW4oJyYnKTtcbn1cblxuLyoqXG4gKiBIZWxwcyAnc2VyaWFsaXplJyB3aXRoIHNlcmlhbGl6aW5nIGFycmF5cy5cbiAqIE11dGF0ZXMgdGhlIHBhaXJzIGFycmF5LlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gKiBAcGFyYW0ge01peGVkfSB2YWxcbiAqL1xuXG5mdW5jdGlvbiBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycywga2V5LCB2YWwpIHtcbiAgaWYgKHZhbCAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgdmFsLmZvckVhY2godiA9PiB7XG4gICAgICAgIHB1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLCBrZXksIHYpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChpc09iamVjdCh2YWwpKSB7XG4gICAgICBmb3IoY29uc3Qgc3Via2V5IGluIHZhbCkge1xuICAgICAgICBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycywgYCR7a2V5fVske3N1YmtleX1dYCwgdmFsW3N1YmtleV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwYWlycy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpXG4gICAgICAgICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICBwYWlycy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpKTtcbiAgfVxufVxuXG4vKipcbiAqIEV4cG9zZSBzZXJpYWxpemF0aW9uIG1ldGhvZC5cbiAqL1xuXG5yZXF1ZXN0LnNlcmlhbGl6ZU9iamVjdCA9IHNlcmlhbGl6ZTtcblxuLyoqXG4gICogUGFyc2UgdGhlIGdpdmVuIHgtd3d3LWZvcm0tdXJsZW5jb2RlZCBgc3RyYC5cbiAgKlxuICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICogQGFwaSBwcml2YXRlXG4gICovXG5cbmZ1bmN0aW9uIHBhcnNlU3RyaW5nKHN0cikge1xuICBjb25zdCBvYmogPSB7fTtcbiAgY29uc3QgcGFpcnMgPSBzdHIuc3BsaXQoJyYnKTtcbiAgbGV0IHBhaXI7XG4gIGxldCBwb3M7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhaXJzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgcGFpciA9IHBhaXJzW2ldO1xuICAgIHBvcyA9IHBhaXIuaW5kZXhPZignPScpO1xuICAgIGlmIChwb3MgPT0gLTEpIHtcbiAgICAgIG9ialtkZWNvZGVVUklDb21wb25lbnQocGFpcildID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtkZWNvZGVVUklDb21wb25lbnQocGFpci5zbGljZSgwLCBwb3MpKV0gPVxuICAgICAgICBkZWNvZGVVUklDb21wb25lbnQocGFpci5zbGljZShwb3MgKyAxKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBFeHBvc2UgcGFyc2VyLlxuICovXG5cbnJlcXVlc3QucGFyc2VTdHJpbmcgPSBwYXJzZVN0cmluZztcblxuLyoqXG4gKiBEZWZhdWx0IE1JTUUgdHlwZSBtYXAuXG4gKlxuICogICAgIHN1cGVyYWdlbnQudHlwZXMueG1sID0gJ2FwcGxpY2F0aW9uL3htbCc7XG4gKlxuICovXG5cbnJlcXVlc3QudHlwZXMgPSB7XG4gIGh0bWw6ICd0ZXh0L2h0bWwnLFxuICBqc29uOiAnYXBwbGljYXRpb24vanNvbicsXG4gIHhtbDogJ3RleHQveG1sJyxcbiAgdXJsZW5jb2RlZDogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICdmb3JtJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICdmb3JtLWRhdGEnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xufTtcblxuLyoqXG4gKiBEZWZhdWx0IHNlcmlhbGl6YXRpb24gbWFwLlxuICpcbiAqICAgICBzdXBlcmFnZW50LnNlcmlhbGl6ZVsnYXBwbGljYXRpb24veG1sJ10gPSBmdW5jdGlvbihvYmope1xuICogICAgICAgcmV0dXJuICdnZW5lcmF0ZWQgeG1sIGhlcmUnO1xuICogICAgIH07XG4gKlxuICovXG5cbnJlcXVlc3Quc2VyaWFsaXplID0ge1xuICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzogc2VyaWFsaXplLFxuICAnYXBwbGljYXRpb24vanNvbic6IEpTT04uc3RyaW5naWZ5XG59O1xuXG4vKipcbiAgKiBEZWZhdWx0IHBhcnNlcnMuXG4gICpcbiAgKiAgICAgc3VwZXJhZ2VudC5wYXJzZVsnYXBwbGljYXRpb24veG1sJ10gPSBmdW5jdGlvbihzdHIpe1xuICAqICAgICAgIHJldHVybiB7IG9iamVjdCBwYXJzZWQgZnJvbSBzdHIgfTtcbiAgKiAgICAgfTtcbiAgKlxuICAqL1xuXG5yZXF1ZXN0LnBhcnNlID0ge1xuICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzogcGFyc2VTdHJpbmcsXG4gICdhcHBsaWNhdGlvbi9qc29uJzogSlNPTi5wYXJzZVxufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gaGVhZGVyIGBzdHJgIGludG9cbiAqIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBtYXBwZWQgZmllbGRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlSGVhZGVyKHN0cikge1xuICBjb25zdCBsaW5lcyA9IHN0ci5zcGxpdCgvXFxyP1xcbi8pO1xuICBjb25zdCBmaWVsZHMgPSB7fTtcbiAgbGV0IGluZGV4O1xuICBsZXQgbGluZTtcbiAgbGV0IGZpZWxkO1xuICBsZXQgdmFsO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSBsaW5lcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgIGxpbmUgPSBsaW5lc1tpXTtcbiAgICBpbmRleCA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHsgLy8gY291bGQgYmUgZW1wdHkgbGluZSwganVzdCBza2lwIGl0XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgZmllbGQgPSBsaW5lLnNsaWNlKDAsIGluZGV4KS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHRyaW0obGluZS5zbGljZShpbmRleCArIDEpKTtcbiAgICBmaWVsZHNbZmllbGRdID0gdmFsO1xuICB9XG5cbiAgcmV0dXJuIGZpZWxkcztcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBgbWltZWAgaXMganNvbiBvciBoYXMgK2pzb24gc3RydWN0dXJlZCBzeW50YXggc3VmZml4LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtaW1lXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gaXNKU09OKG1pbWUpIHtcbiAgLy8gc2hvdWxkIG1hdGNoIC9qc29uIG9yICtqc29uXG4gIC8vIGJ1dCBub3QgL2pzb24tc2VxXG4gIHJldHVybiAvW1xcLytdanNvbigkfFteLVxcd10pLy50ZXN0KG1pbWUpO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFJlc3BvbnNlYCB3aXRoIHRoZSBnaXZlbiBgeGhyYC5cbiAqXG4gKiAgLSBzZXQgZmxhZ3MgKC5vaywgLmVycm9yLCBldGMpXG4gKiAgLSBwYXJzZSBoZWFkZXJcbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgQWxpYXNpbmcgYHN1cGVyYWdlbnRgIGFzIGByZXF1ZXN0YCBpcyBuaWNlOlxuICpcbiAqICAgICAgcmVxdWVzdCA9IHN1cGVyYWdlbnQ7XG4gKlxuICogIFdlIGNhbiB1c2UgdGhlIHByb21pc2UtbGlrZSBBUEksIG9yIHBhc3MgY2FsbGJhY2tzOlxuICpcbiAqICAgICAgcmVxdWVzdC5nZXQoJy8nKS5lbmQoZnVuY3Rpb24ocmVzKXt9KTtcbiAqICAgICAgcmVxdWVzdC5nZXQoJy8nLCBmdW5jdGlvbihyZXMpe30pO1xuICpcbiAqICBTZW5kaW5nIGRhdGEgY2FuIGJlIGNoYWluZWQ6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJylcbiAqICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSlcbiAqICAgICAgICAuZW5kKGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogIE9yIHBhc3NlZCB0byBgLnNlbmQoKWA6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJylcbiAqICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSwgZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiAgT3IgcGFzc2VkIHRvIGAucG9zdCgpYDpcbiAqXG4gKiAgICAgIHJlcXVlc3RcbiAqICAgICAgICAucG9zdCgnL3VzZXInLCB7IG5hbWU6ICd0aicgfSlcbiAqICAgICAgICAuZW5kKGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogT3IgZnVydGhlciByZWR1Y2VkIHRvIGEgc2luZ2xlIGNhbGwgZm9yIHNpbXBsZSBjYXNlczpcbiAqXG4gKiAgICAgIHJlcXVlc3RcbiAqICAgICAgICAucG9zdCgnL3VzZXInLCB7IG5hbWU6ICd0aicgfSwgZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiBAcGFyYW0ge1hNTEhUVFBSZXF1ZXN0fSB4aHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBSZXNwb25zZShyZXEpIHtcbiAgdGhpcy5yZXEgPSByZXE7XG4gIHRoaXMueGhyID0gdGhpcy5yZXEueGhyO1xuICAvLyByZXNwb25zZVRleHQgaXMgYWNjZXNzaWJsZSBvbmx5IGlmIHJlc3BvbnNlVHlwZSBpcyAnJyBvciAndGV4dCcgYW5kIG9uIG9sZGVyIGJyb3dzZXJzXG4gIHRoaXMudGV4dCA9ICgodGhpcy5yZXEubWV0aG9kICE9J0hFQUQnICYmICh0aGlzLnhoci5yZXNwb25zZVR5cGUgPT09ICcnIHx8IHRoaXMueGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnKSkgfHwgdHlwZW9mIHRoaXMueGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgID8gdGhpcy54aHIucmVzcG9uc2VUZXh0XG4gICAgIDogbnVsbDtcbiAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5yZXEueGhyLnN0YXR1c1RleHQ7XG4gIGxldCBzdGF0dXMgPSB0aGlzLnhoci5zdGF0dXM7XG4gIC8vIGhhbmRsZSBJRTkgYnVnOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwMDQ2OTcyL21zaWUtcmV0dXJucy1zdGF0dXMtY29kZS1vZi0xMjIzLWZvci1hamF4LXJlcXVlc3RcbiAgaWYgKHN0YXR1cyA9PT0gMTIyMykge1xuICAgIHN0YXR1cyA9IDIwNDtcbiAgfVxuICB0aGlzLl9zZXRTdGF0dXNQcm9wZXJ0aWVzKHN0YXR1cyk7XG4gIHRoaXMuaGVhZGVyID0gdGhpcy5oZWFkZXJzID0gcGFyc2VIZWFkZXIodGhpcy54aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpO1xuICAvLyBnZXRBbGxSZXNwb25zZUhlYWRlcnMgc29tZXRpbWVzIGZhbHNlbHkgcmV0dXJucyBcIlwiIGZvciBDT1JTIHJlcXVlc3RzLCBidXRcbiAgLy8gZ2V0UmVzcG9uc2VIZWFkZXIgc3RpbGwgd29ya3MuIHNvIHdlIGdldCBjb250ZW50LXR5cGUgZXZlbiBpZiBnZXR0aW5nXG4gIC8vIG90aGVyIGhlYWRlcnMgZmFpbHMuXG4gIHRoaXMuaGVhZGVyWydjb250ZW50LXR5cGUnXSA9IHRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTtcbiAgdGhpcy5fc2V0SGVhZGVyUHJvcGVydGllcyh0aGlzLmhlYWRlcik7XG5cbiAgaWYgKG51bGwgPT09IHRoaXMudGV4dCAmJiByZXEuX3Jlc3BvbnNlVHlwZSkge1xuICAgIHRoaXMuYm9keSA9IHRoaXMueGhyLnJlc3BvbnNlO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuYm9keSA9IHRoaXMucmVxLm1ldGhvZCAhPSAnSEVBRCdcbiAgICAgID8gdGhpcy5fcGFyc2VCb2R5KHRoaXMudGV4dCA/IHRoaXMudGV4dCA6IHRoaXMueGhyLnJlc3BvbnNlKVxuICAgICAgOiBudWxsO1xuICB9XG59XG5cblJlc3BvbnNlQmFzZShSZXNwb25zZS5wcm90b3R5cGUpO1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBib2R5IGBzdHJgLlxuICpcbiAqIFVzZWQgZm9yIGF1dG8tcGFyc2luZyBvZiBib2RpZXMuIFBhcnNlcnNcbiAqIGFyZSBkZWZpbmVkIG9uIHRoZSBgc3VwZXJhZ2VudC5wYXJzZWAgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge01peGVkfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVzcG9uc2UucHJvdG90eXBlLl9wYXJzZUJvZHkgPSBmdW5jdGlvbihzdHIpIHtcbiAgbGV0IHBhcnNlID0gcmVxdWVzdC5wYXJzZVt0aGlzLnR5cGVdO1xuICBpZiAodGhpcy5yZXEuX3BhcnNlcikge1xuICAgIHJldHVybiB0aGlzLnJlcS5fcGFyc2VyKHRoaXMsIHN0cik7XG4gIH1cbiAgaWYgKCFwYXJzZSAmJiBpc0pTT04odGhpcy50eXBlKSkge1xuICAgIHBhcnNlID0gcmVxdWVzdC5wYXJzZVsnYXBwbGljYXRpb24vanNvbiddO1xuICB9XG4gIHJldHVybiBwYXJzZSAmJiBzdHIgJiYgKHN0ci5sZW5ndGggfHwgc3RyIGluc3RhbmNlb2YgT2JqZWN0KVxuICAgID8gcGFyc2Uoc3RyKVxuICAgIDogbnVsbDtcbn07XG5cbi8qKlxuICogUmV0dXJuIGFuIGBFcnJvcmAgcmVwcmVzZW50YXRpdmUgb2YgdGhpcyByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJuIHtFcnJvcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVzcG9uc2UucHJvdG90eXBlLnRvRXJyb3IgPSBmdW5jdGlvbigpe1xuICBjb25zdCByZXEgPSB0aGlzLnJlcTtcbiAgY29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZDtcbiAgY29uc3QgdXJsID0gcmVxLnVybDtcblxuICBjb25zdCBtc2cgPSBgY2Fubm90ICR7bWV0aG9kfSAke3VybH0gKCR7dGhpcy5zdGF0dXN9KWA7XG4gIGNvbnN0IGVyciA9IG5ldyBFcnJvcihtc2cpO1xuICBlcnIuc3RhdHVzID0gdGhpcy5zdGF0dXM7XG4gIGVyci5tZXRob2QgPSBtZXRob2Q7XG4gIGVyci51cmwgPSB1cmw7XG5cbiAgcmV0dXJuIGVycjtcbn07XG5cbi8qKlxuICogRXhwb3NlIGBSZXNwb25zZWAuXG4gKi9cblxucmVxdWVzdC5SZXNwb25zZSA9IFJlc3BvbnNlO1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFJlcXVlc3RgIHdpdGggdGhlIGdpdmVuIGBtZXRob2RgIGFuZCBgdXJsYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFJlcXVlc3QobWV0aG9kLCB1cmwpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHRoaXMuX3F1ZXJ5ID0gdGhpcy5fcXVlcnkgfHwgW107XG4gIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICB0aGlzLnVybCA9IHVybDtcbiAgdGhpcy5oZWFkZXIgPSB7fTsgLy8gcHJlc2VydmVzIGhlYWRlciBuYW1lIGNhc2VcbiAgdGhpcy5faGVhZGVyID0ge307IC8vIGNvZXJjZXMgaGVhZGVyIG5hbWVzIHRvIGxvd2VyY2FzZVxuICB0aGlzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgbGV0IGVyciA9IG51bGw7XG4gICAgbGV0IHJlcyA9IG51bGw7XG5cbiAgICB0cnkge1xuICAgICAgcmVzID0gbmV3IFJlc3BvbnNlKHNlbGYpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgZXJyID0gbmV3IEVycm9yKCdQYXJzZXIgaXMgdW5hYmxlIHRvIHBhcnNlIHRoZSByZXNwb25zZScpO1xuICAgICAgZXJyLnBhcnNlID0gdHJ1ZTtcbiAgICAgIGVyci5vcmlnaW5hbCA9IGU7XG4gICAgICAvLyBpc3N1ZSAjNjc1OiByZXR1cm4gdGhlIHJhdyByZXNwb25zZSBpZiB0aGUgcmVzcG9uc2UgcGFyc2luZyBmYWlsc1xuICAgICAgaWYgKHNlbGYueGhyKSB7XG4gICAgICAgIC8vIGllOSBkb2Vzbid0IGhhdmUgJ3Jlc3BvbnNlJyBwcm9wZXJ0eVxuICAgICAgICBlcnIucmF3UmVzcG9uc2UgPSB0eXBlb2Ygc2VsZi54aHIucmVzcG9uc2VUeXBlID09ICd1bmRlZmluZWQnID8gc2VsZi54aHIucmVzcG9uc2VUZXh0IDogc2VsZi54aHIucmVzcG9uc2U7XG4gICAgICAgIC8vIGlzc3VlICM4NzY6IHJldHVybiB0aGUgaHR0cCBzdGF0dXMgY29kZSBpZiB0aGUgcmVzcG9uc2UgcGFyc2luZyBmYWlsc1xuICAgICAgICBlcnIuc3RhdHVzID0gc2VsZi54aHIuc3RhdHVzID8gc2VsZi54aHIuc3RhdHVzIDogbnVsbDtcbiAgICAgICAgZXJyLnN0YXR1c0NvZGUgPSBlcnIuc3RhdHVzOyAvLyBiYWNrd2FyZHMtY29tcGF0IG9ubHlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVyci5yYXdSZXNwb25zZSA9IG51bGw7XG4gICAgICAgIGVyci5zdGF0dXMgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZi5jYWxsYmFjayhlcnIpO1xuICAgIH1cblxuICAgIHNlbGYuZW1pdCgncmVzcG9uc2UnLCByZXMpO1xuXG4gICAgbGV0IG5ld19lcnI7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghc2VsZi5faXNSZXNwb25zZU9LKHJlcykpIHtcbiAgICAgICAgbmV3X2VyciA9IG5ldyBFcnJvcihyZXMuc3RhdHVzVGV4dCB8fCAnVW5zdWNjZXNzZnVsIEhUVFAgcmVzcG9uc2UnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoKGN1c3RvbV9lcnIpIHtcbiAgICAgIG5ld19lcnIgPSBjdXN0b21fZXJyOyAvLyBvaygpIGNhbGxiYWNrIGNhbiB0aHJvd1xuICAgIH1cblxuICAgIC8vICMxMDAwIGRvbid0IGNhdGNoIGVycm9ycyBmcm9tIHRoZSBjYWxsYmFjayB0byBhdm9pZCBkb3VibGUgY2FsbGluZyBpdFxuICAgIGlmIChuZXdfZXJyKSB7XG4gICAgICBuZXdfZXJyLm9yaWdpbmFsID0gZXJyO1xuICAgICAgbmV3X2Vyci5yZXNwb25zZSA9IHJlcztcbiAgICAgIG5ld19lcnIuc3RhdHVzID0gcmVzLnN0YXR1cztcbiAgICAgIHNlbGYuY2FsbGJhY2sobmV3X2VyciwgcmVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5jYWxsYmFjayhudWxsLCByZXMpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogTWl4aW4gYEVtaXR0ZXJgIGFuZCBgUmVxdWVzdEJhc2VgLlxuICovXG5cbkVtaXR0ZXIoUmVxdWVzdC5wcm90b3R5cGUpO1xuUmVxdWVzdEJhc2UoUmVxdWVzdC5wcm90b3R5cGUpO1xuXG4vKipcbiAqIFNldCBDb250ZW50LVR5cGUgdG8gYHR5cGVgLCBtYXBwaW5nIHZhbHVlcyBmcm9tIGByZXF1ZXN0LnR5cGVzYC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHN1cGVyYWdlbnQudHlwZXMueG1sID0gJ2FwcGxpY2F0aW9uL3htbCc7XG4gKlxuICogICAgICByZXF1ZXN0LnBvc3QoJy8nKVxuICogICAgICAgIC50eXBlKCd4bWwnKVxuICogICAgICAgIC5zZW5kKHhtbHN0cmluZylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiAgICAgIHJlcXVlc3QucG9zdCgnLycpXG4gKiAgICAgICAgLnR5cGUoJ2FwcGxpY2F0aW9uL3htbCcpXG4gKiAgICAgICAgLnNlbmQoeG1sc3RyaW5nKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUudHlwZSA9IGZ1bmN0aW9uKHR5cGUpe1xuICB0aGlzLnNldCgnQ29udGVudC1UeXBlJywgcmVxdWVzdC50eXBlc1t0eXBlXSB8fCB0eXBlKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCBBY2NlcHQgdG8gYHR5cGVgLCBtYXBwaW5nIHZhbHVlcyBmcm9tIGByZXF1ZXN0LnR5cGVzYC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHN1cGVyYWdlbnQudHlwZXMuanNvbiA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAqXG4gKiAgICAgIHJlcXVlc3QuZ2V0KCcvYWdlbnQnKVxuICogICAgICAgIC5hY2NlcHQoJ2pzb24nKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqICAgICAgcmVxdWVzdC5nZXQoJy9hZ2VudCcpXG4gKiAgICAgICAgLmFjY2VwdCgnYXBwbGljYXRpb24vanNvbicpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFjY2VwdFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uKHR5cGUpe1xuICB0aGlzLnNldCgnQWNjZXB0JywgcmVxdWVzdC50eXBlc1t0eXBlXSB8fCB0eXBlKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCBBdXRob3JpemF0aW9uIGZpZWxkIHZhbHVlIHdpdGggYHVzZXJgIGFuZCBgcGFzc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVzZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbcGFzc10gb3B0aW9uYWwgaW4gY2FzZSBvZiB1c2luZyAnYmVhcmVyJyBhcyB0eXBlXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyB3aXRoICd0eXBlJyBwcm9wZXJ0eSAnYXV0bycsICdiYXNpYycgb3IgJ2JlYXJlcicgKGRlZmF1bHQgJ2Jhc2ljJylcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5hdXRoID0gZnVuY3Rpb24odXNlciwgcGFzcywgb3B0aW9ucyl7XG4gIGlmICgxID09PSBhcmd1bWVudHMubGVuZ3RoKSBwYXNzID0gJyc7XG4gIGlmICh0eXBlb2YgcGFzcyA9PT0gJ29iamVjdCcgJiYgcGFzcyAhPT0gbnVsbCkgeyAvLyBwYXNzIGlzIG9wdGlvbmFsIGFuZCBjYW4gYmUgcmVwbGFjZWQgd2l0aCBvcHRpb25zXG4gICAgb3B0aW9ucyA9IHBhc3M7XG4gICAgcGFzcyA9ICcnO1xuICB9XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICB0eXBlOiAnZnVuY3Rpb24nID09PSB0eXBlb2YgYnRvYSA/ICdiYXNpYycgOiAnYXV0bycsXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IGVuY29kZXIgPSBzdHJpbmcgPT4ge1xuICAgIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgYnRvYSkge1xuICAgICAgcmV0dXJuIGJ0b2Eoc3RyaW5nKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgdXNlIGJhc2ljIGF1dGgsIGJ0b2EgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgfTtcblxuICByZXR1cm4gdGhpcy5fYXV0aCh1c2VyLCBwYXNzLCBvcHRpb25zLCBlbmNvZGVyKTtcbn07XG5cbi8qKlxuICogQWRkIHF1ZXJ5LXN0cmluZyBgdmFsYC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgIHJlcXVlc3QuZ2V0KCcvc2hvZXMnKVxuICogICAgIC5xdWVyeSgnc2l6ZT0xMCcpXG4gKiAgICAgLnF1ZXJ5KHsgY29sb3I6ICdibHVlJyB9KVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gdmFsXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUucXVlcnkgPSBmdW5jdGlvbih2YWwpe1xuICBpZiAoJ3N0cmluZycgIT0gdHlwZW9mIHZhbCkgdmFsID0gc2VyaWFsaXplKHZhbCk7XG4gIGlmICh2YWwpIHRoaXMuX3F1ZXJ5LnB1c2godmFsKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFF1ZXVlIHRoZSBnaXZlbiBgZmlsZWAgYXMgYW4gYXR0YWNobWVudCB0byB0aGUgc3BlY2lmaWVkIGBmaWVsZGAsXG4gKiB3aXRoIG9wdGlvbmFsIGBvcHRpb25zYCAob3IgZmlsZW5hbWUpLlxuICpcbiAqIGBgYCBqc1xuICogcmVxdWVzdC5wb3N0KCcvdXBsb2FkJylcbiAqICAgLmF0dGFjaCgnY29udGVudCcsIG5ldyBCbG9iKFsnPGEgaWQ9XCJhXCI+PGIgaWQ9XCJiXCI+aGV5ITwvYj48L2E+J10sIHsgdHlwZTogXCJ0ZXh0L2h0bWxcIn0pKVxuICogICAuZW5kKGNhbGxiYWNrKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICogQHBhcmFtIHtCbG9ifEZpbGV9IGZpbGVcbiAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmF0dGFjaCA9IGZ1bmN0aW9uKGZpZWxkLCBmaWxlLCBvcHRpb25zKXtcbiAgaWYgKGZpbGUpIHtcbiAgICBpZiAodGhpcy5fZGF0YSkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJzdXBlcmFnZW50IGNhbid0IG1peCAuc2VuZCgpIGFuZCAuYXR0YWNoKClcIik7XG4gICAgfVxuXG4gICAgdGhpcy5fZ2V0Rm9ybURhdGEoKS5hcHBlbmQoZmllbGQsIGZpbGUsIG9wdGlvbnMgfHwgZmlsZS5uYW1lKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cblJlcXVlc3QucHJvdG90eXBlLl9nZXRGb3JtRGF0YSA9IGZ1bmN0aW9uKCl7XG4gIGlmICghdGhpcy5fZm9ybURhdGEpIHtcbiAgICB0aGlzLl9mb3JtRGF0YSA9IG5ldyByb290LkZvcm1EYXRhKCk7XG4gIH1cbiAgcmV0dXJuIHRoaXMuX2Zvcm1EYXRhO1xufTtcblxuLyoqXG4gKiBJbnZva2UgdGhlIGNhbGxiYWNrIHdpdGggYGVycmAgYW5kIGByZXNgXG4gKiBhbmQgaGFuZGxlIGFyaXR5IGNoZWNrLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVyclxuICogQHBhcmFtIHtSZXNwb25zZX0gcmVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5jYWxsYmFjayA9IGZ1bmN0aW9uKGVyciwgcmVzKXtcbiAgaWYgKHRoaXMuX3Nob3VsZFJldHJ5KGVyciwgcmVzKSkge1xuICAgIHJldHVybiB0aGlzLl9yZXRyeSgpO1xuICB9XG5cbiAgY29uc3QgZm4gPSB0aGlzLl9jYWxsYmFjaztcbiAgdGhpcy5jbGVhclRpbWVvdXQoKTtcblxuICBpZiAoZXJyKSB7XG4gICAgaWYgKHRoaXMuX21heFJldHJpZXMpIGVyci5yZXRyaWVzID0gdGhpcy5fcmV0cmllcyAtIDE7XG4gICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gIH1cblxuICBmbihlcnIsIHJlcyk7XG59O1xuXG4vKipcbiAqIEludm9rZSBjYWxsYmFjayB3aXRoIHgtZG9tYWluIGVycm9yLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmNyb3NzRG9tYWluRXJyb3IgPSBmdW5jdGlvbigpe1xuICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoJ1JlcXVlc3QgaGFzIGJlZW4gdGVybWluYXRlZFxcblBvc3NpYmxlIGNhdXNlczogdGhlIG5ldHdvcmsgaXMgb2ZmbGluZSwgT3JpZ2luIGlzIG5vdCBhbGxvd2VkIGJ5IEFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiwgdGhlIHBhZ2UgaXMgYmVpbmcgdW5sb2FkZWQsIGV0Yy4nKTtcbiAgZXJyLmNyb3NzRG9tYWluID0gdHJ1ZTtcblxuICBlcnIuc3RhdHVzID0gdGhpcy5zdGF0dXM7XG4gIGVyci5tZXRob2QgPSB0aGlzLm1ldGhvZDtcbiAgZXJyLnVybCA9IHRoaXMudXJsO1xuXG4gIHRoaXMuY2FsbGJhY2soZXJyKTtcbn07XG5cbi8vIFRoaXMgb25seSB3YXJucywgYmVjYXVzZSB0aGUgcmVxdWVzdCBpcyBzdGlsbCBsaWtlbHkgdG8gd29ya1xuUmVxdWVzdC5wcm90b3R5cGUuYnVmZmVyID0gUmVxdWVzdC5wcm90b3R5cGUuY2EgPSBSZXF1ZXN0LnByb3RvdHlwZS5hZ2VudCA9IGZ1bmN0aW9uKCl7XG4gIGNvbnNvbGUud2FybihcIlRoaXMgaXMgbm90IHN1cHBvcnRlZCBpbiBicm93c2VyIHZlcnNpb24gb2Ygc3VwZXJhZ2VudFwiKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBUaGlzIHRocm93cywgYmVjYXVzZSBpdCBjYW4ndCBzZW5kL3JlY2VpdmUgZGF0YSBhcyBleHBlY3RlZFxuUmVxdWVzdC5wcm90b3R5cGUucGlwZSA9IFJlcXVlc3QucHJvdG90eXBlLndyaXRlID0gKCkgPT4ge1xuICB0aHJvdyBFcnJvcihcIlN0cmVhbWluZyBpcyBub3Qgc3VwcG9ydGVkIGluIGJyb3dzZXIgdmVyc2lvbiBvZiBzdXBlcmFnZW50XCIpO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBgb2JqYCBpcyBhIGhvc3Qgb2JqZWN0LFxuICogd2UgZG9uJ3Qgd2FudCB0byBzZXJpYWxpemUgdGhlc2UgOilcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblJlcXVlc3QucHJvdG90eXBlLl9pc0hvc3QgPSBmdW5jdGlvbiBfaXNIb3N0KG9iaikge1xuICAvLyBOYXRpdmUgb2JqZWN0cyBzdHJpbmdpZnkgdG8gW29iamVjdCBGaWxlXSwgW29iamVjdCBCbG9iXSwgW29iamVjdCBGb3JtRGF0YV0sIGV0Yy5cbiAgcmV0dXJuIG9iaiAmJiAnb2JqZWN0JyA9PT0gdHlwZW9mIG9iaiAmJiAhQXJyYXkuaXNBcnJheShvYmopICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopICE9PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuLyoqXG4gKiBJbml0aWF0ZSByZXF1ZXN0LCBpbnZva2luZyBjYWxsYmFjayBgZm4ocmVzKWBcbiAqIHdpdGggYW4gaW5zdGFuY2VvZiBgUmVzcG9uc2VgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24oZm4pe1xuICBpZiAodGhpcy5fZW5kQ2FsbGVkKSB7XG4gICAgY29uc29sZS53YXJuKFwiV2FybmluZzogLmVuZCgpIHdhcyBjYWxsZWQgdHdpY2UuIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBpbiBzdXBlcmFnZW50XCIpO1xuICB9XG4gIHRoaXMuX2VuZENhbGxlZCA9IHRydWU7XG5cbiAgLy8gc3RvcmUgY2FsbGJhY2tcbiAgdGhpcy5fY2FsbGJhY2sgPSBmbiB8fCBub29wO1xuXG4gIC8vIHF1ZXJ5c3RyaW5nXG4gIHRoaXMuX2ZpbmFsaXplUXVlcnlTdHJpbmcoKTtcblxuICB0aGlzLl9lbmQoKTtcbn07XG5cblJlcXVlc3QucHJvdG90eXBlLl9lbmQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuX2Fib3J0ZWQpIHJldHVybiB0aGlzLmNhbGxiYWNrKEVycm9yKFwiVGhlIHJlcXVlc3QgaGFzIGJlZW4gYWJvcnRlZCBldmVuIGJlZm9yZSAuZW5kKCkgd2FzIGNhbGxlZFwiKSk7XG5cbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIGNvbnN0IHhociA9ICh0aGlzLnhociA9IHJlcXVlc3QuZ2V0WEhSKCkpO1xuICBsZXQgZGF0YSA9IHRoaXMuX2Zvcm1EYXRhIHx8IHRoaXMuX2RhdGE7XG5cbiAgdGhpcy5fc2V0VGltZW91dHMoKTtcblxuICAvLyBzdGF0ZSBjaGFuZ2VcbiAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICBjb25zdCByZWFkeVN0YXRlID0geGhyLnJlYWR5U3RhdGU7XG4gICAgaWYgKHJlYWR5U3RhdGUgPj0gMiAmJiBzZWxmLl9yZXNwb25zZVRpbWVvdXRUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3Jlc3BvbnNlVGltZW91dFRpbWVyKTtcbiAgICB9XG4gICAgaWYgKDQgIT0gcmVhZHlTdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEluIElFOSwgcmVhZHMgdG8gYW55IHByb3BlcnR5IChlLmcuIHN0YXR1cykgb2ZmIG9mIGFuIGFib3J0ZWQgWEhSIHdpbGxcbiAgICAvLyByZXN1bHQgaW4gdGhlIGVycm9yIFwiQ291bGQgbm90IGNvbXBsZXRlIHRoZSBvcGVyYXRpb24gZHVlIHRvIGVycm9yIGMwMGMwMjNmXCJcbiAgICBsZXQgc3RhdHVzO1xuICAgIHRyeSB7IHN0YXR1cyA9IHhoci5zdGF0dXMgfSBjYXRjaChlKSB7IHN0YXR1cyA9IDA7IH1cblxuICAgIGlmICghc3RhdHVzKSB7XG4gICAgICBpZiAoc2VsZi50aW1lZG91dCB8fCBzZWxmLl9hYm9ydGVkKSByZXR1cm47XG4gICAgICByZXR1cm4gc2VsZi5jcm9zc0RvbWFpbkVycm9yKCk7XG4gICAgfVxuICAgIHNlbGYuZW1pdCgnZW5kJyk7XG4gIH07XG5cbiAgLy8gcHJvZ3Jlc3NcbiAgY29uc3QgaGFuZGxlUHJvZ3Jlc3MgPSAoZGlyZWN0aW9uLCBlKSA9PiB7XG4gICAgaWYgKGUudG90YWwgPiAwKSB7XG4gICAgICBlLnBlcmNlbnQgPSBlLmxvYWRlZCAvIGUudG90YWwgKiAxMDA7XG4gICAgfVxuICAgIGUuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgIHNlbGYuZW1pdCgncHJvZ3Jlc3MnLCBlKTtcbiAgfTtcbiAgaWYgKHRoaXMuaGFzTGlzdGVuZXJzKCdwcm9ncmVzcycpKSB7XG4gICAgdHJ5IHtcbiAgICAgIHhoci5vbnByb2dyZXNzID0gaGFuZGxlUHJvZ3Jlc3MuYmluZChudWxsLCAnZG93bmxvYWQnKTtcbiAgICAgIGlmICh4aHIudXBsb2FkKSB7XG4gICAgICAgIHhoci51cGxvYWQub25wcm9ncmVzcyA9IGhhbmRsZVByb2dyZXNzLmJpbmQobnVsbCwgJ3VwbG9hZCcpO1xuICAgICAgfVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgLy8gQWNjZXNzaW5nIHhoci51cGxvYWQgZmFpbHMgaW4gSUUgZnJvbSBhIHdlYiB3b3JrZXIsIHNvIGp1c3QgcHJldGVuZCBpdCBkb2Vzbid0IGV4aXN0LlxuICAgICAgLy8gUmVwb3J0ZWQgaGVyZTpcbiAgICAgIC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvODM3MjQ1L3htbGh0dHByZXF1ZXN0LXVwbG9hZC10aHJvd3MtaW52YWxpZC1hcmd1bWVudC13aGVuLXVzZWQtZnJvbS13ZWItd29ya2VyLWNvbnRleHRcbiAgICB9XG4gIH1cblxuICAvLyBpbml0aWF0ZSByZXF1ZXN0XG4gIHRyeSB7XG4gICAgaWYgKHRoaXMudXNlcm5hbWUgJiYgdGhpcy5wYXNzd29yZCkge1xuICAgICAgeGhyLm9wZW4odGhpcy5tZXRob2QsIHRoaXMudXJsLCB0cnVlLCB0aGlzLnVzZXJuYW1lLCB0aGlzLnBhc3N3b3JkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgeGhyLm9wZW4odGhpcy5tZXRob2QsIHRoaXMudXJsLCB0cnVlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIHNlZSAjMTE0OVxuICAgIHJldHVybiB0aGlzLmNhbGxiYWNrKGVycik7XG4gIH1cblxuICAvLyBDT1JTXG4gIGlmICh0aGlzLl93aXRoQ3JlZGVudGlhbHMpIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuXG4gIC8vIGJvZHlcbiAgaWYgKCF0aGlzLl9mb3JtRGF0YSAmJiAnR0VUJyAhPSB0aGlzLm1ldGhvZCAmJiAnSEVBRCcgIT0gdGhpcy5tZXRob2QgJiYgJ3N0cmluZycgIT0gdHlwZW9mIGRhdGEgJiYgIXRoaXMuX2lzSG9zdChkYXRhKSkge1xuICAgIC8vIHNlcmlhbGl6ZSBzdHVmZlxuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gdGhpcy5faGVhZGVyWydjb250ZW50LXR5cGUnXTtcbiAgICBsZXQgc2VyaWFsaXplID0gdGhpcy5fc2VyaWFsaXplciB8fCByZXF1ZXN0LnNlcmlhbGl6ZVtjb250ZW50VHlwZSA/IGNvbnRlbnRUeXBlLnNwbGl0KCc7JylbMF0gOiAnJ107XG4gICAgaWYgKCFzZXJpYWxpemUgJiYgaXNKU09OKGNvbnRlbnRUeXBlKSkge1xuICAgICAgc2VyaWFsaXplID0gcmVxdWVzdC5zZXJpYWxpemVbJ2FwcGxpY2F0aW9uL2pzb24nXTtcbiAgICB9XG4gICAgaWYgKHNlcmlhbGl6ZSkgZGF0YSA9IHNlcmlhbGl6ZShkYXRhKTtcbiAgfVxuXG4gIC8vIHNldCBoZWFkZXIgZmllbGRzXG4gIGZvciAoY29uc3QgZmllbGQgaW4gdGhpcy5oZWFkZXIpIHtcbiAgICBpZiAobnVsbCA9PSB0aGlzLmhlYWRlcltmaWVsZF0pIGNvbnRpbnVlO1xuXG4gICAgaWYgKHRoaXMuaGVhZGVyLmhhc093blByb3BlcnR5KGZpZWxkKSlcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGZpZWxkLCB0aGlzLmhlYWRlcltmaWVsZF0pO1xuICB9XG5cbiAgaWYgKHRoaXMuX3Jlc3BvbnNlVHlwZSkge1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLl9yZXNwb25zZVR5cGU7XG4gIH1cblxuICAvLyBzZW5kIHN0dWZmXG4gIHRoaXMuZW1pdCgncmVxdWVzdCcsIHRoaXMpO1xuXG4gIC8vIElFMTEgeGhyLnNlbmQodW5kZWZpbmVkKSBzZW5kcyAndW5kZWZpbmVkJyBzdHJpbmcgYXMgUE9TVCBwYXlsb2FkIChpbnN0ZWFkIG9mIG5vdGhpbmcpXG4gIC8vIFdlIG5lZWQgbnVsbCBoZXJlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gIHhoci5zZW5kKHR5cGVvZiBkYXRhICE9PSAndW5kZWZpbmVkJyA/IGRhdGEgOiBudWxsKTtcbn07XG5cbnJlcXVlc3QuYWdlbnQgPSAoKSA9PiBuZXcgQWdlbnQoKTtcblxuW1wiR0VUXCIsIFwiUE9TVFwiLCBcIk9QVElPTlNcIiwgXCJQQVRDSFwiLCBcIlBVVFwiLCBcIkRFTEVURVwiXS5mb3JFYWNoKG1ldGhvZCA9PiB7XG4gIEFnZW50LnByb3RvdHlwZVttZXRob2QudG9Mb3dlckNhc2UoKV0gPSBmdW5jdGlvbih1cmwsIGZuKSB7XG4gICAgY29uc3QgcmVxID0gbmV3IHJlcXVlc3QuUmVxdWVzdChtZXRob2QsIHVybCk7XG4gICAgdGhpcy5fc2V0RGVmYXVsdHMocmVxKTtcbiAgICBpZiAoZm4pIHtcbiAgICAgIHJlcS5lbmQoZm4pO1xuICAgIH1cbiAgICByZXR1cm4gcmVxO1xuICB9O1xufSk7XG5cbkFnZW50LnByb3RvdHlwZS5kZWwgPSBBZ2VudC5wcm90b3R5cGVbJ2RlbGV0ZSddO1xuXG4vKipcbiAqIEdFVCBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QuZ2V0ID0gKHVybCwgZGF0YSwgZm4pID0+IHtcbiAgY29uc3QgcmVxID0gcmVxdWVzdCgnR0VUJywgdXJsKTtcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIChmbiA9IGRhdGEpLCAoZGF0YSA9IG51bGwpO1xuICBpZiAoZGF0YSkgcmVxLnF1ZXJ5KGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBIRUFEIGB1cmxgIHdpdGggb3B0aW9uYWwgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR8RnVuY3Rpb259IFtkYXRhXSBvciBmblxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5oZWFkID0gKHVybCwgZGF0YSwgZm4pID0+IHtcbiAgY29uc3QgcmVxID0gcmVxdWVzdCgnSEVBRCcsIHVybCk7XG4gIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiBkYXRhKSAoZm4gPSBkYXRhKSwgKGRhdGEgPSBudWxsKTtcbiAgaWYgKGRhdGEpIHJlcS5xdWVyeShkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogT1BUSU9OUyBxdWVyeSB0byBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3Qub3B0aW9ucyA9ICh1cmwsIGRhdGEsIGZuKSA9PiB7XG4gIGNvbnN0IHJlcSA9IHJlcXVlc3QoJ09QVElPTlMnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgKGZuID0gZGF0YSksIChkYXRhID0gbnVsbCk7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogREVMRVRFIGB1cmxgIHdpdGggb3B0aW9uYWwgYGRhdGFgIGFuZCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZH0gW2RhdGFdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBkZWwodXJsLCBkYXRhLCBmbikge1xuICBjb25zdCByZXEgPSByZXF1ZXN0KCdERUxFVEUnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgKGZuID0gZGF0YSksIChkYXRhID0gbnVsbCk7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn1cblxucmVxdWVzdFsnZGVsJ10gPSBkZWw7XG5yZXF1ZXN0WydkZWxldGUnXSA9IGRlbDtcblxuLyoqXG4gKiBQQVRDSCBgdXJsYCB3aXRoIG9wdGlvbmFsIGBkYXRhYCBhbmQgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR9IFtkYXRhXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5wYXRjaCA9ICh1cmwsIGRhdGEsIGZuKSA9PiB7XG4gIGNvbnN0IHJlcSA9IHJlcXVlc3QoJ1BBVENIJywgdXJsKTtcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIChmbiA9IGRhdGEpLCAoZGF0YSA9IG51bGwpO1xuICBpZiAoZGF0YSkgcmVxLnNlbmQoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuXG4vKipcbiAqIFBPU1QgYHVybGAgd2l0aCBvcHRpb25hbCBgZGF0YWAgYW5kIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfSBbZGF0YV1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QucG9zdCA9ICh1cmwsIGRhdGEsIGZuKSA9PiB7XG4gIGNvbnN0IHJlcSA9IHJlcXVlc3QoJ1BPU1QnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgKGZuID0gZGF0YSksIChkYXRhID0gbnVsbCk7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogUFVUIGB1cmxgIHdpdGggb3B0aW9uYWwgYGRhdGFgIGFuZCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZHxGdW5jdGlvbn0gW2RhdGFdIG9yIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0LnB1dCA9ICh1cmwsIGRhdGEsIGZuKSA9PiB7XG4gIGNvbnN0IHJlcSA9IHJlcXVlc3QoJ1BVVCcsIHVybCk7XG4gIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiBkYXRhKSAoZm4gPSBkYXRhKSwgKGRhdGEgPSBudWxsKTtcbiAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVmVyaWZ5IHRoYXQgYSBzcGVjaWZpYyBIVFRQIG1ldGhvZCBpcyBzdXBwb3J0ZWQgYnkgdGhlIHByb3ZpZGVkIFdQUmVxdWVzdFxuICpcbiAqIEBtb2R1bGUgdXRpbC9jaGVjay1tZXRob2Qtc3VwcG9ydFxuICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZCBBbiBIVFRQIG1ldGhvZCB0byBjaGVjayAoJ2dldCcsICdwb3N0JywgZXRjKVxuICogQHBhcmFtIHtXUFJlcXVlc3R9IHJlcXVlc3QgQSBXUFJlcXVlc3Qgb2JqZWN0IHdpdGggYSBfc3VwcG9ydGVkTWV0aG9kcyBhcnJheVxuICogQHJldHVybnMgdHJ1ZSBpZmYgdGhlIG1ldGhvZCBpcyB3aXRoaW4gcmVxdWVzdC5fc3VwcG9ydGVkTWV0aG9kc1xuICovXG5tb2R1bGUuZXhwb3J0cyA9ICggbWV0aG9kLCByZXF1ZXN0ICkgPT4ge1xuXHRpZiAoIHJlcXVlc3QuX3N1cHBvcnRlZE1ldGhvZHMuaW5kZXhPZiggbWV0aG9kLnRvTG93ZXJDYXNlKCkgKSA9PT0gLTEgKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0J1Vuc3VwcG9ydGVkIG1ldGhvZDsgc3VwcG9ydGVkIG1ldGhvZHMgYXJlOiAnICtcblx0XHRcdHJlcXVlc3QuX3N1cHBvcnRlZE1ldGhvZHMuam9pbiggJywgJyApXG5cdFx0KTtcblx0fVxuXG5cdHJldHVybiB0cnVlO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgYW4gcHJvdmlkZWQgdmFsdWUgaXMgYW4gZW1wdHkgb2JqZWN0XG4gKlxuICogQG1vZHVsZSB1dGlsL2lzLWVtcHR5LW9iamVjdFxuICogQHBhcmFtIHt9IHZhbHVlIEEgdmFsdWUgdG8gdGVzdCBmb3IgZW1wdHktb2JqZWN0LW5lc3NcbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBwcm92aWRlZCB2YWx1ZSBpcyBhbiBlbXB0eSBvYmplY3RcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAoIHZhbHVlICkgPT4ge1xuXHQvLyBJZiB0aGUgdmFsdWUgaXMgbm90IG9iamVjdC1saWtlLCB0aGVuIGl0IGlzIGNlcnRhaW5seSBub3QgYW4gZW1wdHkgb2JqZWN0XG5cdGlmICggdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyApIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvLyBGb3Igb3VyIHB1cnBvc2VzIGFuIGVtcHR5IGFycmF5IHNob3VsZCBub3QgYmUgdHJlYXRlZCBhcyBhbiBlbXB0eSBvYmplY3Rcblx0Ly8gKFNpbmNlIHRoaXMgaXMgdXNlZCB0byBwcm9jZXNzIGludmFsaWQgY29udGVudC10eXBlIHJlc3BvbnNlcywgKVxuXHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Zm9yICggY29uc3Qga2V5IGluIHZhbHVlICkge1xuXHRcdGlmICggdmFsdWUuaGFzT3duUHJvcGVydHkoIGtleSApICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0cnVlO1xufTtcbiIsICIvKipcbiAqIEBtb2R1bGUgaHR0cC10cmFuc3BvcnRcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBhZ2VudCA9IHJlcXVpcmUoICdzdXBlcmFnZW50JyApO1xuY29uc3QgcGFyc2VMaW5rSGVhZGVyID0gcmVxdWlyZSggJ2xpJyApLnBhcnNlO1xuXG5jb25zdCBXUFJlcXVlc3QgPSByZXF1aXJlKCAnLi9jb25zdHJ1Y3RvcnMvd3AtcmVxdWVzdCcgKTtcbmNvbnN0IGNoZWNrTWV0aG9kU3VwcG9ydCA9IHJlcXVpcmUoICcuL3V0aWwvY2hlY2stbWV0aG9kLXN1cHBvcnQnICk7XG5jb25zdCBvYmplY3RSZWR1Y2UgPSByZXF1aXJlKCAnLi91dGlsL29iamVjdC1yZWR1Y2UnICk7XG5jb25zdCBpc0VtcHR5T2JqZWN0ID0gcmVxdWlyZSggJy4vdXRpbC9pcy1lbXB0eS1vYmplY3QnICk7XG5cbi8qKlxuICogU2V0IGFueSBwcm92aWRlZCBoZWFkZXJzIG9uIHRoZSBvdXRnb2luZyByZXF1ZXN0IG9iamVjdC4gUnVucyBhZnRlciBfYXV0aC5cbiAqXG4gKiBAbWV0aG9kIF9zZXRIZWFkZXJzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHJlcXVlc3QgQSBzdXBlcmFnZW50IHJlcXVlc3Qgb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBBIFdQUmVxdWVzdCBfb3B0aW9ucyBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBBIHN1cGVyYWdlbnQgcmVxdWVzdCBvYmplY3QsIHdpdGggYW55IGF2YWlsYWJsZSBoZWFkZXJzIHNldFxuICovXG5mdW5jdGlvbiBfc2V0SGVhZGVycyggcmVxdWVzdCwgb3B0aW9ucyApIHtcblx0Ly8gSWYgdGhlcmUncyBubyBoZWFkZXJzLCBkbyBub3RoaW5nXG5cdGlmICggISBvcHRpb25zLmhlYWRlcnMgKSB7XG5cdFx0cmV0dXJuIHJlcXVlc3Q7XG5cdH1cblxuXHRyZXR1cm4gb2JqZWN0UmVkdWNlKFxuXHRcdG9wdGlvbnMuaGVhZGVycyxcblx0XHQoIHJlcXVlc3QsIHZhbHVlLCBrZXkgKSA9PiByZXF1ZXN0LnNldCgga2V5LCB2YWx1ZSApLFxuXHRcdHJlcXVlc3Rcblx0KTtcbn1cblxuLyoqXG4gKiBDb25kaXRpb25hbGx5IHNldCBiYXNpYyBhdXRoZW50aWNhdGlvbiBvbiBhIHNlcnZlciByZXF1ZXN0IG9iamVjdC5cbiAqXG4gKiBAbWV0aG9kIF9hdXRoXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHJlcXVlc3QgQSBzdXBlcmFnZW50IHJlcXVlc3Qgb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBBIFdQUmVxdWVzdCBfb3B0aW9ucyBvYmplY3RcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZm9yY2VBdXRoZW50aWNhdGlvbiB3aGV0aGVyIHRvIGZvcmNlIGF1dGhlbnRpY2F0aW9uIG9uIHRoZSByZXF1ZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gQSBzdXBlcmFnZW50IHJlcXVlc3Qgb2JqZWN0LCBjb25kaXRpb25hbGx5IGNvbmZpZ3VyZWQgdG8gdXNlIGJhc2ljIGF1dGhcbiAqL1xuZnVuY3Rpb24gX2F1dGgoIHJlcXVlc3QsIG9wdGlvbnMsIGZvcmNlQXV0aGVudGljYXRpb24gKSB7XG5cdC8vIElmIHdlJ3JlIG5vdCBzdXBwb3NlZCB0byBhdXRoZW50aWNhdGUsIGRvbid0IGV2ZW4gc3RhcnRcblx0aWYgKCAhIGZvcmNlQXV0aGVudGljYXRpb24gJiYgISBvcHRpb25zLmF1dGggJiYgISBvcHRpb25zLm5vbmNlICkge1xuXHRcdHJldHVybiByZXF1ZXN0O1xuXHR9XG5cblx0Ly8gRW5hYmxlIG5vbmNlIGluIG9wdGlvbnMgZm9yIENvb2tpZSBhdXRoZW50aWNhdGlvbiBodHRwOi8vd3AtYXBpLm9yZy9ndWlkZXMvYXV0aGVudGljYXRpb24uaHRtbFxuXHRpZiAoIG9wdGlvbnMubm9uY2UgKSB7XG5cdFx0cmVxdWVzdC5zZXQoICdYLVdQLU5vbmNlJywgb3B0aW9ucy5ub25jZSApO1xuXHRcdHJldHVybiByZXF1ZXN0O1xuXHR9XG5cblx0Ly8gUmV0cmlldmUgdGhlIHVzZXJuYW1lICYgcGFzc3dvcmQgZnJvbSB0aGUgcmVxdWVzdCBvcHRpb25zIGlmIHRoZXkgd2VyZW4ndCBwcm92aWRlZFxuXHRjb25zdCB1c2VybmFtZSA9IG9wdGlvbnMudXNlcm5hbWU7XG5cdGNvbnN0IHBhc3N3b3JkID0gb3B0aW9ucy5wYXNzd29yZDtcblxuXHQvLyBJZiBubyB1c2VybmFtZSBvciBubyBwYXNzd29yZCwgY2FuJ3QgYXV0aGVudGljYXRlXG5cdGlmICggISB1c2VybmFtZSB8fCAhIHBhc3N3b3JkICkge1xuXHRcdHJldHVybiByZXF1ZXN0O1xuXHR9XG5cblx0Ly8gQ2FuIGF1dGhlbnRpY2F0ZTogc2V0IGJhc2ljIGF1dGggcGFyYW1ldGVycyBvbiB0aGUgcmVxdWVzdFxuXHRyZXR1cm4gcmVxdWVzdC5hdXRoKCB1c2VybmFtZSwgcGFzc3dvcmQgKTtcbn1cblxuLy8gUGFnaW5hdGlvbi1SZWxhdGVkIEhlbHBlcnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogRXh0cmFjdCB0aGUgYm9keSBwcm9wZXJ0eSBmcm9tIHRoZSBzdXBlcmFnZW50IHJlc3BvbnNlLCBvciBlbHNlIHRyeSB0byBwYXJzZVxuICogdGhlIHJlc3BvbnNlIHRleHQgdG8gZ2V0IGEgSlNPTiBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSByZXNwb25zZSAgICAgIFRoZSByZXNwb25zZSBvYmplY3QgZnJvbSB0aGUgSFRUUCByZXF1ZXN0XG4gKiBAcGFyYW0ge1N0cmluZ30gcmVzcG9uc2UudGV4dCBUaGUgcmVzcG9uc2UgY29udGVudCBhcyB0ZXh0XG4gKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2UuYm9keSBUaGUgcmVzcG9uc2UgY29udGVudCBhcyBhIEpTIG9iamVjdFxuICogQHJldHVybnMge09iamVjdH0gVGhlIHJlc3BvbnNlIGNvbnRlbnQgYXMgYSBKUyBvYmplY3RcbiAqL1xuZnVuY3Rpb24gZXh0cmFjdFJlc3BvbnNlQm9keSggcmVzcG9uc2UgKSB7XG5cdGxldCByZXNwb25zZUJvZHkgPSByZXNwb25zZS5ib2R5O1xuXHRpZiAoIGlzRW1wdHlPYmplY3QoIHJlc3BvbnNlQm9keSApICYmIHJlc3BvbnNlLnR5cGUgPT09ICd0ZXh0L2h0bWwnICkge1xuXHRcdC8vIFJlc3BvbnNlIG1heSBoYXZlIGNvbWUgYmFjayBhcyBIVE1MIGR1ZSB0byBjYWNoaW5nIHBsdWdpbjsgdHJ5IHRvIHBhcnNlXG5cdFx0Ly8gdGhlIHJlc3BvbnNlIHRleHQgaW50byBKU09OXG5cdFx0dHJ5IHtcblx0XHRcdHJlc3BvbnNlQm9keSA9IEpTT04ucGFyc2UoIHJlc3BvbnNlLnRleHQgKTtcblx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdC8vIFN3YWxsb3cgZXJyb3JzLCBpdCdzIE9LIHRvIGZhbGwgYmFjayB0byByZXR1cm5pbmcgdGhlIGJvZHlcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3BvbnNlQm9keTtcbn1cblxuLyoqXG4gKiBJZiB0aGUgcmVzcG9uc2UgaXMgbm90IHBhZ2VkLCByZXR1cm4gdGhlIGJvZHkgYXMtaXMuIElmIHBhZ2luYXRpb25cbiAqIGluZm9ybWF0aW9uIGlzIHByZXNlbnQgaW4gdGhlIHJlc3BvbnNlIGhlYWRlcnMsIHBhcnNlIHRob3NlIGhlYWRlcnMgaW50b1xuICogYSBjdXN0b20gYF9wYWdpbmdgIHByb3BlcnR5IG9uIHRoZSByZXNwb25zZSBib2R5LiBgX3BhZ2luZ2AgY29udGFpbnMgbGlua3NcbiAqIHRvIHRoZSBwcmV2aW91cyBhbmQgbmV4dCBwYWdlcyBpbiB0aGUgY29sbGVjdGlvbiwgYXMgd2VsbCBhcyBtZXRhZGF0YVxuICogYWJvdXQgdGhlIHNpemUgYW5kIG51bWJlciBvZiBwYWdlcyBpbiB0aGUgY29sbGVjdGlvbi5cbiAqXG4gKiBUaGUgc3RydWN0dXJlIG9mIHRoZSBgX3BhZ2luZ2AgcHJvcGVydHkgaXMgYXMgZm9sbG93czpcbiAqXG4gKiAtIGB0b3RhbGAge0ludGVnZXJ9IFRoZSB0b3RhbCBudW1iZXIgb2YgcmVjb3JkcyBpbiB0aGUgY29sbGVjdGlvblxuICogLSBgdG90YWxQYWdlc2Age0ludGVnZXJ9IFRoZSBudW1iZXIgb2YgcGFnZXMgYXZhaWxhYmxlXG4gKiAtIGBsaW5rc2Age09iamVjdH0gVGhlIHBhcnNlZCBcImxpbmtzXCIgaGVhZGVycywgc2VwYXJhdGVkIGludG8gaW5kaXZpZHVhbCBVUkkgc3RyaW5nc1xuICogLSBgbmV4dGAge1dQUmVxdWVzdH0gQSBXUFJlcXVlc3Qgb2JqZWN0IGJvdW5kIHRvIHRoZSBcIm5leHRcIiBwYWdlIChpZiBwYWdlIGV4aXN0cylcbiAqIC0gYHByZXZgIHtXUFJlcXVlc3R9IEEgV1BSZXF1ZXN0IG9iamVjdCBib3VuZCB0byB0aGUgXCJwcmV2aW91c1wiIHBhZ2UgKGlmIHBhZ2UgZXhpc3RzKVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gcmVzdWx0ICAgICAgICAgICBUaGUgcmVzcG9uc2Ugb2JqZWN0IGZyb20gdGhlIEhUVFAgcmVxdWVzdFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgICAgICAgICAgVGhlIG9wdGlvbnMgaGFzaCBmcm9tIHRoZSBvcmlnaW5hbCByZXF1ZXN0XG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5lbmRwb2ludCBUaGUgYmFzZSBVUkwgb2YgdGhlIHJlcXVlc3RlZCBBUEkgZW5kcG9pbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBodHRwVHJhbnNwb3J0ICAgIFRoZSBIVFRQIHRyYW5zcG9ydCBvYmplY3QgdXNlZCBieSB0aGUgb3JpZ2luYWwgcmVxdWVzdFxuICogQHJldHVybnMge09iamVjdH0gVGhlIHBhZ2luYXRpb24gbWV0YWRhdGEgb2JqZWN0IGZvciB0aGlzIEhUVFAgcmVxdWVzdCwgb3IgZWxzZSBudWxsXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBhZ2luYXRpb25PYmplY3QoIHJlc3VsdCwgb3B0aW9ucywgaHR0cFRyYW5zcG9ydCApIHtcblx0bGV0IF9wYWdpbmcgPSBudWxsO1xuXG5cdGlmICggISByZXN1bHQuaGVhZGVycyApIHtcblx0XHQvLyBObyBoZWFkZXJzOiByZXR1cm4gYXMtaXNcblx0XHRyZXR1cm4gX3BhZ2luZztcblx0fVxuXG5cdC8vIEd1YXJkIGFnYWluc3QgY2FwaXRhbGl6YXRpb24gaW5jb25zaXN0ZW5jaWVzIGluIHJldHVybmVkIGhlYWRlcnNcblx0T2JqZWN0LmtleXMoIHJlc3VsdC5oZWFkZXJzICkuZm9yRWFjaCggKCBoZWFkZXIgKSA9PiB7XG5cdFx0cmVzdWx0LmhlYWRlcnNbIGhlYWRlci50b0xvd2VyQ2FzZSgpIF0gPSByZXN1bHQuaGVhZGVyc1sgaGVhZGVyIF07XG5cdH0gKTtcblxuXHRpZiAoICEgcmVzdWx0LmhlYWRlcnNbICd4LXdwLXRvdGFscGFnZXMnIF0gKSB7XG5cdFx0Ly8gTm8gcGFnaW5nOiByZXR1cm4gYXMtaXNcblx0XHRyZXR1cm4gX3BhZ2luZztcblx0fVxuXG5cdGNvbnN0IHRvdGFsUGFnZXMgPSArcmVzdWx0LmhlYWRlcnNbICd4LXdwLXRvdGFscGFnZXMnIF07XG5cblx0aWYgKCAhIHRvdGFsUGFnZXMgfHwgdG90YWxQYWdlcyA9PT0gMCApIHtcblx0XHQvLyBObyBwYWdpbmc6IHJldHVybiBhcy1pc1xuXHRcdHJldHVybiBfcGFnaW5nO1xuXHR9XG5cblx0Ly8gRGVjb2RlIHRoZSBsaW5rIGhlYWRlciBvYmplY3Rcblx0Y29uc3QgbGlua3MgPSByZXN1bHQuaGVhZGVycy5saW5rID9cblx0XHRwYXJzZUxpbmtIZWFkZXIoIHJlc3VsdC5oZWFkZXJzLmxpbmsgKSA6XG5cdFx0e307XG5cblx0Ly8gU3RvcmUgcGFnaW5hdGlvbiBkYXRhIGZyb20gcmVzcG9uc2UgaGVhZGVycyBvbiB0aGUgcmVzcG9uc2UgY29sbGVjdGlvblxuXHRfcGFnaW5nID0ge1xuXHRcdHRvdGFsOiArcmVzdWx0LmhlYWRlcnNbICd4LXdwLXRvdGFsJyBdLFxuXHRcdHRvdGFsUGFnZXM6IHRvdGFsUGFnZXMsXG5cdFx0bGlua3M6IGxpbmtzLFxuXHR9O1xuXG5cdC8vIENyZWF0ZSBhIFdQUmVxdWVzdCBpbnN0YW5jZSBwcmUtYm91bmQgdG8gdGhlIFwibmV4dFwiIHBhZ2UsIGlmIGF2YWlsYWJsZVxuXHRpZiAoIGxpbmtzLm5leHQgKSB7XG5cdFx0X3BhZ2luZy5uZXh0ID0gbmV3IFdQUmVxdWVzdCgge1xuXHRcdFx0Li4ub3B0aW9ucyxcblx0XHRcdHRyYW5zcG9ydDogaHR0cFRyYW5zcG9ydCxcblx0XHRcdGVuZHBvaW50OiBsaW5rcy5uZXh0LFxuXHRcdH0gKTtcblx0fVxuXG5cdC8vIENyZWF0ZSBhIFdQUmVxdWVzdCBpbnN0YW5jZSBwcmUtYm91bmQgdG8gdGhlIFwicHJldlwiIHBhZ2UsIGlmIGF2YWlsYWJsZVxuXHRpZiAoIGxpbmtzLnByZXYgKSB7XG5cdFx0X3BhZ2luZy5wcmV2ID0gbmV3IFdQUmVxdWVzdCgge1xuXHRcdFx0Li4ub3B0aW9ucyxcblx0XHRcdHRyYW5zcG9ydDogaHR0cFRyYW5zcG9ydCxcblx0XHRcdGVuZHBvaW50OiBsaW5rcy5wcmV2LFxuXHRcdH0gKTtcblx0fVxuXG5cdHJldHVybiBfcGFnaW5nO1xufVxuXG4vLyBIVFRQLVJlbGF0ZWQgSGVscGVyc1xuLy8gPT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBTdWJtaXQgdGhlIHByb3ZpZGVkIHN1cGVyYWdlbnQgcmVxdWVzdCBvYmplY3QsIGludm9rZSBhIGNhbGxiYWNrIChpZiBpdCB3YXNcbiAqIHByb3ZpZGVkKSwgYW5kIHJldHVybiBhIHByb21pc2UgdG8gdGhlIHJlc3BvbnNlIGZyb20gdGhlIEhUVFAgcmVxdWVzdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHJlcXVlc3QgQSBzdXBlcmFnZW50IHJlcXVlc3Qgb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBBIGNhbGxiYWNrIGZ1bmN0aW9uIChvcHRpb25hbClcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBBIGZ1bmN0aW9uIHRvIHRyYW5zZm9ybSB0aGUgcmVzdWx0IGRhdGFcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgdG8gdGhlIHN1cGVyYWdlbnQgcmVxdWVzdFxuICovXG5mdW5jdGlvbiBpbnZva2VBbmRQcm9taXNpZnkoIHJlcXVlc3QsIGNhbGxiYWNrLCB0cmFuc2Zvcm0gKSB7XG5cdHJldHVybiBuZXcgUHJvbWlzZSggKCByZXNvbHZlLCByZWplY3QgKSA9PiB7XG5cdFx0Ly8gRmlyZSBvZmYgdGhlIHJlc3VsdFxuXHRcdHJlcXVlc3QuZW5kKCAoIGVyciwgcmVzdWx0ICkgPT4ge1xuXG5cdFx0XHQvLyBSZXR1cm4gdGhlIHJlc3VsdHMgYXMgYSBwcm9taXNlXG5cdFx0XHRpZiAoIGVyciB8fCByZXN1bHQuZXJyb3IgKSB7XG5cdFx0XHRcdHJlamVjdCggZXJyIHx8IHJlc3VsdC5lcnJvciApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVzb2x2ZSggcmVzdWx0ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9ICkudGhlbiggdHJhbnNmb3JtICkudGhlbiggKCByZXN1bHQgKSA9PiB7XG5cdFx0Ly8gSWYgYSBub2RlLXN0eWxlIGNhbGxiYWNrIHdhcyBwcm92aWRlZCwgY2FsbCBpdCwgYnV0IGFsc28gcmV0dXJuIHRoZVxuXHRcdC8vIHJlc3VsdCB2YWx1ZSBmb3IgdXNlIHZpYSB0aGUgcmV0dXJuZWQgUHJvbWlzZVxuXHRcdGlmICggY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nICkge1xuXHRcdFx0Y2FsbGJhY2soIG51bGwsIHJlc3VsdCApO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LCAoIGVyciApID0+IHtcblx0XHQvLyBJZiB0aGUgQVBJIHByb3ZpZGVkIGFuIGVycm9yIG9iamVjdCwgaXQgd2lsbCBiZSBhdmFpbGFibGUgd2l0aGluIHRoZVxuXHRcdC8vIHN1cGVyYWdlbnQgcmVzcG9uc2Ugb2JqZWN0IGFzIHJlc3BvbnNlLmJvZHkgKGNvbnRhaW5pbmcgdGhlIHJlc3BvbnNlXG5cdFx0Ly8gSlNPTikuIElmIHRoYXQgb2JqZWN0IGV4aXN0cywgaXQgd2lsbCBoYXZlIGEgLmNvZGUgcHJvcGVydHkgaWYgaXQgaXNcblx0XHQvLyB0cnVseSBhbiBBUEkgZXJyb3IgKG5vbi1BUEkgZXJyb3JzIHdpbGwgbm90IGhhdmUgYSAuY29kZSkuXG5cdFx0aWYgKCBlcnIucmVzcG9uc2UgJiYgZXJyLnJlc3BvbnNlLmJvZHkgJiYgZXJyLnJlc3BvbnNlLmJvZHkuY29kZSApIHtcblx0XHRcdC8vIEZvcndhcmQgQVBJIGVycm9yIHJlc3BvbnNlIEpTT04gb24gdG8gdGhlIGNhbGxpbmcgbWV0aG9kOiBvbWl0XG5cdFx0XHQvLyBhbGwgdHJhbnNwb3J0LXNwZWNpZmljIChzdXBlcmFnZW50LXNwZWNpZmljKSBwcm9wZXJ0aWVzXG5cdFx0XHRlcnIgPSBlcnIucmVzcG9uc2UuYm9keTtcblx0XHR9XG5cdFx0Ly8gSWYgYSBjYWxsYmFjayB3YXMgcHJvdmlkZWQsIGVuc3VyZSBpdCBpcyBjYWxsZWQgd2l0aCB0aGUgZXJyb3I7IG90aGVyd2lzZVxuXHRcdC8vIHJlLXRocm93IHRoZSBlcnJvciBzbyB0aGF0IGl0IGNhbiBiZSBoYW5kbGVkIGJ5IGEgUHJvbWlzZSAuY2F0Y2ggb3IgLnRoZW5cblx0XHRpZiAoIGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyApIHtcblx0XHRcdGNhbGxiYWNrKCBlcnIgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgZXJyO1xuXHRcdH1cblx0fSApO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgYm9keSBvZiB0aGUgcmVxdWVzdCwgYXVnbWVudGVkIHdpdGggcGFnaW5hdGlvbiBpbmZvcm1hdGlvbiBpZiB0aGVcbiAqIHJlc3VsdCBpcyBhIHBhZ2VkIGNvbGxlY3Rpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V1BSZXF1ZXN0fSB3cHJlcSBUaGUgV1BSZXF1ZXN0IHJlcHJlc2VudGluZyB0aGUgcmV0dXJuZWQgSFRUUCByZXNwb25zZVxuICogQHBhcmFtIHtPYmplY3R9IHJlc3VsdCBUaGUgcmVzdWx0cyBmcm9tIHRoZSBIVFRQIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBcImJvZHlcIiBwcm9wZXJ0eSBvZiB0aGUgcmVzdWx0LCBjb25kaXRpb25hbGx5IGF1Z21lbnRlZCB3aXRoXG4gKiAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb24gaW5mb3JtYXRpb24gaWYgdGhlIHJlc3VsdCBpcyBhIHBhcnRpYWwgY29sbGVjdGlvbi5cbiAqL1xuZnVuY3Rpb24gcmV0dXJuQm9keSggd3ByZXEsIHJlc3VsdCApIHtcblx0Y29uc3QgYm9keSA9IGV4dHJhY3RSZXNwb25zZUJvZHkoIHJlc3VsdCApO1xuXHRjb25zdCBfcGFnaW5nID0gY3JlYXRlUGFnaW5hdGlvbk9iamVjdCggcmVzdWx0LCB3cHJlcS5fb3B0aW9ucywgd3ByZXEudHJhbnNwb3J0ICk7XG5cdGlmICggX3BhZ2luZyApIHtcblx0XHRib2R5Ll9wYWdpbmcgPSBfcGFnaW5nO1xuXHR9XG5cdHJldHVybiBib2R5O1xufVxuXG4vKipcbiAqIEV4dHJhY3QgYW5kIHJldHVybiB0aGUgaGVhZGVycyBwcm9wZXJ0eSBmcm9tIGEgc3VwZXJhZ2VudCByZXNwb25zZSBvYmplY3RcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHJlc3VsdCBUaGUgcmVzdWx0cyBmcm9tIHRoZSBIVFRQIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBcImhlYWRlcnNcIiBwcm9wZXJ0eSBvZiB0aGUgcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIHJldHVybkhlYWRlcnMoIHJlc3VsdCApIHtcblx0cmV0dXJuIHJlc3VsdC5oZWFkZXJzO1xufVxuXG4vLyBIVFRQIE1ldGhvZHM6IFByaXZhdGUgSFRUUC12ZXJiIHZlcnNpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogQG1ldGhvZCBnZXRcbiAqIEBhc3luY1xuICogQHBhcmFtIHtXUFJlcXVlc3R9IHdwcmVxIEEgV1BSZXF1ZXN0IHF1ZXJ5IG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBBIGNhbGxiYWNrIHRvIGludm9rZSB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBHRVQgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSB0byB0aGUgcmVzdWx0cyBvZiB0aGUgSFRUUCByZXF1ZXN0XG4gKi9cbmZ1bmN0aW9uIF9odHRwR2V0KCB3cHJlcSwgY2FsbGJhY2sgKSB7XG5cdGNoZWNrTWV0aG9kU3VwcG9ydCggJ2dldCcsIHdwcmVxICk7XG5cdGNvbnN0IHVybCA9IHdwcmVxLnRvU3RyaW5nKCk7XG5cblx0bGV0IHJlcXVlc3QgPSBfYXV0aCggYWdlbnQuZ2V0KCB1cmwgKSwgd3ByZXEuX29wdGlvbnMgKTtcblx0cmVxdWVzdCA9IF9zZXRIZWFkZXJzKCByZXF1ZXN0LCB3cHJlcS5fb3B0aW9ucyApO1xuXG5cdHJldHVybiBpbnZva2VBbmRQcm9taXNpZnkoIHJlcXVlc3QsIGNhbGxiYWNrLCByZXR1cm5Cb2R5LmJpbmQoIG51bGwsIHdwcmVxICkgKTtcbn1cblxuLyoqXG4gKiBJbnZva2UgYW4gSFRUUCBcIlBPU1RcIiByZXF1ZXN0IGFnYWluc3QgdGhlIHByb3ZpZGVkIGVuZHBvaW50XG4gKiBAbWV0aG9kIHBvc3RcbiAqIEBhc3luY1xuICogQHBhcmFtIHtXUFJlcXVlc3R9IHdwcmVxIEEgV1BSZXF1ZXN0IHF1ZXJ5IG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IGRhdGEgVGhlIGRhdGEgZm9yIHRoZSBQT1NUIHJlcXVlc3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQSBjYWxsYmFjayB0byBpbnZva2Ugd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgUE9TVCByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRvIHRoZSByZXN1bHRzIG9mIHRoZSBIVFRQIHJlcXVlc3RcbiAqL1xuZnVuY3Rpb24gX2h0dHBQb3N0KCB3cHJlcSwgZGF0YSwgY2FsbGJhY2sgKSB7XG5cdGNoZWNrTWV0aG9kU3VwcG9ydCggJ3Bvc3QnLCB3cHJlcSApO1xuXHRjb25zdCB1cmwgPSB3cHJlcS50b1N0cmluZygpO1xuXHRkYXRhID0gZGF0YSB8fCB7fTtcblx0bGV0IHJlcXVlc3QgPSBfYXV0aCggYWdlbnQucG9zdCggdXJsICksIHdwcmVxLl9vcHRpb25zLCB0cnVlICk7XG5cdHJlcXVlc3QgPSBfc2V0SGVhZGVycyggcmVxdWVzdCwgd3ByZXEuX29wdGlvbnMgKTtcblxuXHRpZiAoIHdwcmVxLl9hdHRhY2htZW50ICkge1xuXHRcdC8vIERhdGEgbXVzdCBiZSBmb3JtLWVuY29kZWQgYWxvbmdzaWRlIGltYWdlIGF0dGFjaG1lbnRcblx0XHRyZXF1ZXN0ID0gb2JqZWN0UmVkdWNlKFxuXHRcdFx0ZGF0YSxcblx0XHRcdCggcmVxLCB2YWx1ZSwga2V5ICkgPT4gcmVxLmZpZWxkKCBrZXksIHZhbHVlICksXG5cdFx0XHRyZXF1ZXN0LmF0dGFjaCggJ2ZpbGUnLCB3cHJlcS5fYXR0YWNobWVudCwgd3ByZXEuX2F0dGFjaG1lbnROYW1lIClcblx0XHQpO1xuXHR9IGVsc2Uge1xuXHRcdHJlcXVlc3QgPSByZXF1ZXN0LnNlbmQoIGRhdGEgKTtcblx0fVxuXG5cdHJldHVybiBpbnZva2VBbmRQcm9taXNpZnkoIHJlcXVlc3QsIGNhbGxiYWNrLCByZXR1cm5Cb2R5LmJpbmQoIG51bGwsIHdwcmVxICkgKTtcbn1cblxuLyoqXG4gKiBAbWV0aG9kIHB1dFxuICogQGFzeW5jXG4gKiBAcGFyYW0ge1dQUmVxdWVzdH0gd3ByZXEgQSBXUFJlcXVlc3QgcXVlcnkgb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgZGF0YSBmb3IgdGhlIFBVVCByZXF1ZXN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgdG8gaW52b2tlIHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIFBVVCByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRvIHRoZSByZXN1bHRzIG9mIHRoZSBIVFRQIHJlcXVlc3RcbiAqL1xuZnVuY3Rpb24gX2h0dHBQdXQoIHdwcmVxLCBkYXRhLCBjYWxsYmFjayApIHtcblx0Y2hlY2tNZXRob2RTdXBwb3J0KCAncHV0Jywgd3ByZXEgKTtcblx0Y29uc3QgdXJsID0gd3ByZXEudG9TdHJpbmcoKTtcblx0ZGF0YSA9IGRhdGEgfHwge307XG5cblx0bGV0IHJlcXVlc3QgPSBfYXV0aCggYWdlbnQucHV0KCB1cmwgKSwgd3ByZXEuX29wdGlvbnMsIHRydWUgKS5zZW5kKCBkYXRhICk7XG5cdHJlcXVlc3QgPSBfc2V0SGVhZGVycyggcmVxdWVzdCwgd3ByZXEuX29wdGlvbnMgKTtcblxuXHRyZXR1cm4gaW52b2tlQW5kUHJvbWlzaWZ5KCByZXF1ZXN0LCBjYWxsYmFjaywgcmV0dXJuQm9keS5iaW5kKCBudWxsLCB3cHJlcSApICk7XG59XG5cbi8qKlxuICogQG1ldGhvZCBkZWxldGVcbiAqIEBhc3luY1xuICogQHBhcmFtIHtXUFJlcXVlc3R9IHdwcmVxIEEgV1BSZXF1ZXN0IHF1ZXJ5IG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IFtkYXRhXSBEYXRhIHRvIHNlbmQgYWxvbmcgd2l0aCB0aGUgREVMRVRFIHJlcXVlc3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQSBjYWxsYmFjayB0byBpbnZva2Ugd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgREVMRVRFIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgdG8gdGhlIHJlc3VsdHMgb2YgdGhlIEhUVFAgcmVxdWVzdFxuICovXG5mdW5jdGlvbiBfaHR0cERlbGV0ZSggd3ByZXEsIGRhdGEsIGNhbGxiYWNrICkge1xuXHRpZiAoICEgY2FsbGJhY2sgJiYgdHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicgKSB7XG5cdFx0Y2FsbGJhY2sgPSBkYXRhO1xuXHRcdGRhdGEgPSBudWxsO1xuXHR9XG5cdGNoZWNrTWV0aG9kU3VwcG9ydCggJ2RlbGV0ZScsIHdwcmVxICk7XG5cdGNvbnN0IHVybCA9IHdwcmVxLnRvU3RyaW5nKCk7XG5cdGxldCByZXF1ZXN0ID0gX2F1dGgoIGFnZW50LmRlbCggdXJsICksIHdwcmVxLl9vcHRpb25zLCB0cnVlICkuc2VuZCggZGF0YSApO1xuXHRyZXF1ZXN0ID0gX3NldEhlYWRlcnMoIHJlcXVlc3QsIHdwcmVxLl9vcHRpb25zICk7XG5cblx0cmV0dXJuIGludm9rZUFuZFByb21pc2lmeSggcmVxdWVzdCwgY2FsbGJhY2ssIHJldHVybkJvZHkuYmluZCggbnVsbCwgd3ByZXEgKSApO1xufVxuXG4vKipcbiAqIEBtZXRob2QgaGVhZFxuICogQGFzeW5jXG4gKiBAcGFyYW0ge1dQUmVxdWVzdH0gd3ByZXEgQSBXUFJlcXVlc3QgcXVlcnkgb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgdG8gaW52b2tlIHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIEhFQUQgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSB0byB0aGUgaGVhZGVyIHJlc3VsdHMgb2YgdGhlIEhUVFAgcmVxdWVzdFxuICovXG5mdW5jdGlvbiBfaHR0cEhlYWQoIHdwcmVxLCBjYWxsYmFjayApIHtcblx0Y2hlY2tNZXRob2RTdXBwb3J0KCAnaGVhZCcsIHdwcmVxICk7XG5cdGNvbnN0IHVybCA9IHdwcmVxLnRvU3RyaW5nKCk7XG5cdGxldCByZXF1ZXN0ID0gX2F1dGgoIGFnZW50LmhlYWQoIHVybCApLCB3cHJlcS5fb3B0aW9ucyApO1xuXHRyZXF1ZXN0ID0gX3NldEhlYWRlcnMoIHJlcXVlc3QsIHdwcmVxLl9vcHRpb25zICk7XG5cblx0cmV0dXJuIGludm9rZUFuZFByb21pc2lmeSggcmVxdWVzdCwgY2FsbGJhY2ssIHJldHVybkhlYWRlcnMgKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdGRlbGV0ZTogX2h0dHBEZWxldGUsXG5cdGdldDogX2h0dHBHZXQsXG5cdGhlYWQ6IF9odHRwSGVhZCxcblx0cG9zdDogX2h0dHBQb3N0LFxuXHRwdXQ6IF9odHRwUHV0LFxufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGJ1aWxkUm91dGVUcmVlID0gcmVxdWlyZSggJy4vcm91dGUtdHJlZScgKS5idWlsZDtcbmNvbnN0IGdlbmVyYXRlRW5kcG9pbnRGYWN0b3JpZXMgPSByZXF1aXJlKCAnLi9lbmRwb2ludC1mYWN0b3JpZXMnICkuZ2VuZXJhdGU7XG5jb25zdCBwYXJhbVNldHRlciA9IHJlcXVpcmUoICcuL3V0aWwvcGFyYW1ldGVyLXNldHRlcicgKTtcbmNvbnN0IGFwcGx5TWl4aW4gPSByZXF1aXJlKCAnLi91dGlsL2FwcGx5LW1peGluJyApO1xuY29uc3QgbWl4aW5zID0gcmVxdWlyZSggJy4vbWl4aW5zJyApO1xuXG4vKipcbiAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgaGFuZGxlciBmb3IgYW4gYXJiaXRyYXJ5IFdQIFJFU1QgQVBJIGVuZHBvaW50LlxuICpcbiAqIFRoZSBmaXJzdCB0d28gcGFyYW1ldGVycyBtaXJyb3IgYHJlZ2lzdGVyX3Jlc3Rfcm91dGVgIGluIHRoZSBSRVNUIEFQSVxuICogY29kZWJhc2U6XG4gKlxuICogQG1lbWJlcm9mISBXUEFQSSNcbiAqIEBwYXJhbSB7c3RyaW5nfSAgIG5hbWVzcGFjZSAgICAgICAgIEEgbmFtZXNwYWNlIHN0cmluZywgZS5nLiAnbXlwbHVnaW4vdjEnXG4gKiBAcGFyYW0ge3N0cmluZ30gICByZXN0QmFzZSAgICAgICAgICBBIFJFU1Qgcm91dGUgc3RyaW5nLCBlLmcuICcvYXV0aG9yLyg/UDxpZD5cXGQrKSdcbiAqIEBwYXJhbSB7b2JqZWN0fSAgIFtvcHRpb25zXSAgICAgICAgIEFuIChvcHRpb25hbCkgb3B0aW9ucyBvYmplY3RcbiAqIEBwYXJhbSB7b2JqZWN0fSAgIFtvcHRpb25zLm1peGluc10gIEEgaGFzaCBvZiBmdW5jdGlvbnMgdG8gYXBwbHkgYXMgbWl4aW5zXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBbb3B0aW9ucy5tZXRob2RzXSBBbiBhcnJheSBvZiBtZXRob2RzIHRvIHdoaXRlbGlzdCAob24gdGhlIGxlYWYgbm9kZSBvbmx5KVxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBbiBlbmRwb2ludCBoYW5kbGVyIGZhY3RvcnkgZnVuY3Rpb24gZm9yIHRoZSBzcGVjaWZpZWQgcm91dGVcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJSb3V0ZSggbmFtZXNwYWNlLCByZXN0QmFzZSwgb3B0aW9ucyA9IHt9ICkge1xuXHQvLyBTdXBwb3J0IGFsbCBtZXRob2RzIHVudGlsIHJlcXVlc3RlZCB0byBkbyBvdGhlcndpc2Vcblx0bGV0IHN1cHBvcnRlZE1ldGhvZHMgPSBbICdoZWFkJywgJ2dldCcsICdwYXRjaCcsICdwdXQnLCAncG9zdCcsICdkZWxldGUnIF07XG5cblx0aWYgKCBBcnJheS5pc0FycmF5KCBvcHRpb25zLm1ldGhvZHMgKSApIHtcblx0XHQvLyBQZXJtaXQgc3VwcG9ydGVkIG1ldGhvZHMgdG8gYmUgc3BlY2lmaWVkIGFzIGFuIGFycmF5XG5cdFx0c3VwcG9ydGVkTWV0aG9kcyA9IG9wdGlvbnMubWV0aG9kcy5tYXAoIG1ldGhvZCA9PiBtZXRob2QudHJpbSgpLnRvTG93ZXJDYXNlKCkgKTtcblx0fSBlbHNlIGlmICggdHlwZW9mIG9wdGlvbnMubWV0aG9kcyA9PT0gJ3N0cmluZycgKSB7XG5cdFx0Ly8gUGVybWl0IGEgc3VwcG9ydGVkIG1ldGhvZCB0byBiZSBzcGVjaWZpZWQgYXMgYSBzdHJpbmdcblx0XHRzdXBwb3J0ZWRNZXRob2RzID0gWyBvcHRpb25zLm1ldGhvZHMudHJpbSgpLnRvTG93ZXJDYXNlKCkgXTtcblx0fVxuXG5cdC8vIEVuc3VyZSB0aGF0IGlmIEdFVCBpcyBzdXBwb3J0ZWQsIHRoZW4gSEVBRCBpcyBhcyB3ZWxsLCBhbmQgdmljZS12ZXJzYVxuXHRpZiAoIHN1cHBvcnRlZE1ldGhvZHMuaW5kZXhPZiggJ2dldCcgKSAhPT0gLTEgJiYgc3VwcG9ydGVkTWV0aG9kcy5pbmRleE9mKCAnaGVhZCcgKSA9PT0gLTEgKSB7XG5cdFx0c3VwcG9ydGVkTWV0aG9kcy5wdXNoKCAnaGVhZCcgKTtcblx0fSBlbHNlIGlmICggc3VwcG9ydGVkTWV0aG9kcy5pbmRleE9mKCAnaGVhZCcgKSAhPT0gLTEgJiYgc3VwcG9ydGVkTWV0aG9kcy5pbmRleE9mKCAnZ2V0JyApID09PSAtMSApIHtcblx0XHRzdXBwb3J0ZWRNZXRob2RzLnB1c2goICdnZXQnICk7XG5cdH1cblxuXHRjb25zdCBmdWxsUm91dGUgPSBuYW1lc3BhY2Vcblx0XHQvLyBSb3V0ZSBzaG91bGQgYWx3YXlzIGhhdmUgcHJlY2VkaW5nIHNsYXNoXG5cdFx0LnJlcGxhY2UoIC9eW1xccy9dKi8sICcvJyApXG5cdFx0Ly8gUm91dGUgc2hvdWxkIGFsd2F5cyBiZSBqb2luZWQgdG8gbmFtZXNwYWNlIHdpdGggYSBzaW5nbGUgc2xhc2hcblx0XHQucmVwbGFjZSggL1tcXHMvXSokLywgJy8nICkgKyByZXN0QmFzZS5yZXBsYWNlKCAvXltcXHMvXSovLCAnJyApO1xuXG5cdGNvbnN0IHJvdXRlT2JqID0ge307XG5cdHJvdXRlT2JqWyBmdWxsUm91dGUgXSA9IHtcblx0XHRuYW1lc3BhY2U6IG5hbWVzcGFjZSxcblx0XHRtZXRob2RzOiBzdXBwb3J0ZWRNZXRob2RzLFxuXHR9O1xuXG5cdC8vIEdvIHRocm91Z2ggdGhlIHNhbWUgc3RlcHMgdXNlZCB0byBib290c3RyYXAgdGhlIGNsaWVudCB0byBwYXJzZSB0aGVcblx0Ly8gcHJvdmlkZWQgcm91dGUgb3V0IGludG8gYSBoYW5kbGVyIHJlcXVlc3QgbWV0aG9kXG5cdGNvbnN0IHJvdXRlVHJlZSA9IGJ1aWxkUm91dGVUcmVlKCByb3V0ZU9iaiApO1xuXHQvLyBQYXJzZSB0aGUgbW9jayByb3V0ZSBvYmplY3QgaW50byBlbmRwb2ludCBmYWN0b3JpZXNcblx0Y29uc3QgZW5kcG9pbnRGYWN0b3JpZXMgPSBnZW5lcmF0ZUVuZHBvaW50RmFjdG9yaWVzKCByb3V0ZVRyZWUgKVsgbmFtZXNwYWNlIF07XG5cdGNvbnN0IEVuZHBvaW50UmVxdWVzdCA9IGVuZHBvaW50RmFjdG9yaWVzWyBPYmplY3Qua2V5cyggZW5kcG9pbnRGYWN0b3JpZXMgKVsgMCBdIF0uQ3RvcjtcblxuXHRpZiAoIG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJhbXMgKSB7XG5cdFx0b3B0aW9ucy5wYXJhbXMuZm9yRWFjaCggKCBwYXJhbSApID0+IHtcblx0XHRcdC8vIE9ubHkgYWNjZXB0IHN0cmluZyBwYXJhbWV0ZXJzXG5cdFx0XHRpZiAoIHR5cGVvZiBwYXJhbSAhPT0gJ3N0cmluZycgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhlIHBhcmFtZXRlciBjYW4gYmUgbWFwcGVkIHRvIGEgbWl4aW4sIGFwcGx5IHRoYXQgbWl4aW5cblx0XHRcdGlmICggdHlwZW9mIG1peGluc1sgcGFyYW0gXSA9PT0gJ29iamVjdCcgKSB7XG5cdFx0XHRcdE9iamVjdC5rZXlzKCBtaXhpbnNbIHBhcmFtIF0gKS5mb3JFYWNoKCAoIGtleSApID0+IHtcblx0XHRcdFx0XHRhcHBseU1peGluKCBFbmRwb2ludFJlcXVlc3QucHJvdG90eXBlLCBrZXksIG1peGluc1sgcGFyYW0gXVsga2V5IF0gKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIEF0dGVtcHQgdG8gY3JlYXRlIGEgc2ltcGxlIHNldHRlciBmb3IgYW55IHBhcmFtZXRlcnMgZm9yIHdoaWNoXG5cdFx0XHQvLyB3ZSBkbyBub3QgYWxyZWFkeSBoYXZlIGEgY3VzdG9tIG1peGluXG5cdFx0XHRhcHBseU1peGluKCBFbmRwb2ludFJlcXVlc3QucHJvdG90eXBlLCBwYXJhbSwgcGFyYW1TZXR0ZXIoIHBhcmFtICkgKTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBTZXQgYW55IGV4cGxpY2l0bHktcHJvdmlkZWQgb2JqZWN0IG1peGluc1xuXHRpZiAoIG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMubWl4aW5zID09PSAnb2JqZWN0JyApIHtcblxuXHRcdC8vIFNldCBhbnkgc3BlY2lmaWVkIG1peGluIGZ1bmN0aW9ucyBvbiB0aGUgcmVzcG9uc2Vcblx0XHRPYmplY3Qua2V5cyggb3B0aW9ucy5taXhpbnMgKS5mb3JFYWNoKCAoIGtleSApID0+IHtcblx0XHRcdGFwcGx5TWl4aW4oIEVuZHBvaW50UmVxdWVzdC5wcm90b3R5cGUsIGtleSwgb3B0aW9ucy5taXhpbnNbIGtleSBdICk7XG5cdFx0fSApO1xuXHR9XG5cblx0ZnVuY3Rpb24gZW5kcG9pbnRGYWN0b3J5KCBvcHRpb25zID0ge30gKSB7XG5cdFx0cmV0dXJuIG5ldyBFbmRwb2ludFJlcXVlc3QoIHtcblx0XHRcdC4uLm9wdGlvbnMsXG5cdFx0XHQuLi4oIHRoaXMgPyB0aGlzLl9vcHRpb25zIDoge30gKSxcblx0XHR9ICk7XG5cdH1cblx0ZW5kcG9pbnRGYWN0b3J5LkN0b3IgPSBFbmRwb2ludFJlcXVlc3Q7XG5cblx0cmV0dXJuIGVuZHBvaW50RmFjdG9yeTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZWdpc3RlclJvdXRlO1xuIiwgIi8qKlxuICogQSBXUCBSRVNUIEFQSSBjbGllbnQgZm9yIE5vZGUuanNcbiAqXG4gKiBAZXhhbXBsZVxuICogICAgIHZhciB3cCA9IG5ldyBXUEFQSSh7IGVuZHBvaW50OiAnaHR0cDovL3NyYy53b3JkcHJlc3MtZGV2ZWxvcC5kZXYvd3AtanNvbicgfSk7XG4gKiAgICAgd3AucG9zdHMoKS50aGVuKGZ1bmN0aW9uKCBwb3N0cyApIHtcbiAqICAgICAgICAgY29uc29sZS5sb2coIHBvc3RzICk7XG4gKiAgICAgfSkuY2F0Y2goZnVuY3Rpb24oIGVyciApIHtcbiAqICAgICAgICAgY29uc29sZS5lcnJvciggZXJyICk7XG4gKiAgICAgfSk7XG4gKlxuICogQGxpY2Vuc2UgTUlUXG4gfSlcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBvYmplY3RSZWR1Y2UgPSByZXF1aXJlKCAnLi9saWIvdXRpbC9vYmplY3QtcmVkdWNlJyApO1xuXG4vLyBUaGlzIEpTT04gZmlsZSBwcm92aWRlcyBlbm91Z2ggZGF0YSB0byBjcmVhdGUgaGFuZGxlciBtZXRob2RzIGZvciBhbGwgdmFsaWRcbi8vIEFQSSByb3V0ZXMgaW4gV29yZFByZXNzIDQuN1xuY29uc3QgZGVmYXVsdFJvdXRlcyA9IHJlcXVpcmUoICcuL2xpYi9kYXRhL2RlZmF1bHQtcm91dGVzLmpzb24nICk7XG5jb25zdCBidWlsZFJvdXRlVHJlZSA9IHJlcXVpcmUoICcuL2xpYi9yb3V0ZS10cmVlJyApLmJ1aWxkO1xuY29uc3QgZ2VuZXJhdGVFbmRwb2ludEZhY3RvcmllcyA9IHJlcXVpcmUoICcuL2xpYi9lbmRwb2ludC1mYWN0b3JpZXMnICkuZ2VuZXJhdGU7XG5cbi8vIFRoZSBkZWZhdWx0IGVuZHBvaW50IGZhY3RvcmllcyB3aWxsIGJlIGxhenktbG9hZGVkIGJ5IHBhcnNpbmcgdGhlIGRlZmF1bHRcbi8vIHJvdXRlIHRyZWUgZGF0YSBpZiBhIGRlZmF1bHQtbW9kZSBXUEFQSSBpbnN0YW5jZSBpcyBjcmVhdGVkIChpLmUuIG9uZSB0aGF0XG4vLyBpcyB0byBiZSBib290c3RyYXBwZWQgd2l0aCB0aGUgaGFuZGxlcnMgZm9yIGFsbCBvZiB0aGUgYnVpbHQtaW4gcm91dGVzKVxubGV0IGRlZmF1bHRFbmRwb2ludEZhY3RvcmllcztcblxuLy8gQ29uc3RhbnQgdXNlZCB0byBkZXRlY3QgZmlyc3QtcGFydHkgV29yZFByZXNzIFJFU1QgQVBJIHJvdXRlc1xuY29uc3QgYXBpRGVmYXVsdE5hbWVzcGFjZSA9ICd3cC92Mic7XG5cbi8vIFB1bGwgaW4gYXV0b2Rpc2NvdmVyeSBtZXRob2RzXG5jb25zdCBhdXRvZGlzY292ZXJ5ID0gcmVxdWlyZSggJy4vbGliL2F1dG9kaXNjb3ZlcnknICk7XG5cbi8vIFB1bGwgaW4gYmFzZSBtb2R1bGUgY29uc3RydWN0b3JzXG5jb25zdCBXUFJlcXVlc3QgPSByZXF1aXJlKCAnLi9saWIvY29uc3RydWN0b3JzL3dwLXJlcXVlc3QnICk7XG5cbi8vIFB1bGwgaW4gZGVmYXVsdCBIVFRQIHRyYW5zcG9ydFxuY29uc3QgaHR0cFRyYW5zcG9ydCA9IHJlcXVpcmUoICcuL2xpYi9odHRwLXRyYW5zcG9ydCcgKTtcblxuLyoqXG4gKiBDb25zdHJ1Y3QgYSBSRVNUIEFQSSBjbGllbnQgaW5zdGFuY2Ugb2JqZWN0IHRvIGNyZWF0ZVxuICpcbiAqIEBjb25zdHJ1Y3RvciBXUEFQSVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgICAgICAgICAgICAgQW4gb3B0aW9ucyBoYXNoIHRvIGNvbmZpZ3VyZSB0aGUgaW5zdGFuY2VcbiAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLmVuZHBvaW50ICAgIFRoZSBVUkkgZm9yIGEgV1AtQVBJIGVuZHBvaW50XG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMudXNlcm5hbWVdICBBIFdQLUFQSSBCYXNpYyBBdXRoIHVzZXJuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucGFzc3dvcmRdICBBIFdQLUFQSSBCYXNpYyBBdXRoIHBhc3N3b3JkXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubm9uY2VdICAgICBBIFdQIG5vbmNlIGZvciB1c2Ugd2l0aCBjb29raWUgYXV0aGVudGljYXRpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5yb3V0ZXNdICAgIEEgZGljdGlvbmFyeSBvZiBBUEkgcm91dGVzIHdpdGggd2hpY2ggdG9cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb3RzdHJhcCB0aGUgV1BBUEkgaW5zdGFuY2U6IHRoZSBpbnN0YW5jZSB3aWxsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZSBpbml0aWFsaXplZCB3aXRoIGRlZmF1bHQgcm91dGVzIG9ubHlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHRoaXMgcHJvcGVydHkgaXMgb21pdHRlZFxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnRyYW5zcG9ydF0gQW4gb3B0aW9uYWwgZGljdGlvbmFyeSBvZiBIVFRQIHRyYW5zcG9ydFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kcyAoLmdldCwgLnBvc3QsIC5wdXQsIC5kZWxldGUsIC5oZWFkKVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG8gdXNlIGluc3RlYWQgb2YgdGhlIGRlZmF1bHRzLCBlLmcuIHRvIHVzZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSBkaWZmZXJlbnQgSFRUUCBsaWJyYXJ5IHRoYW4gc3VwZXJhZ2VudFxuICovXG5mdW5jdGlvbiBXUEFQSSggb3B0aW9ucyApIHtcblxuXHQvLyBFbmZvcmNlIGBuZXdgXG5cdGlmICggdGhpcyBpbnN0YW5jZW9mIFdQQVBJID09PSBmYWxzZSApIHtcblx0XHRyZXR1cm4gbmV3IFdQQVBJKCBvcHRpb25zICk7XG5cdH1cblxuXHRpZiAoIHR5cGVvZiBvcHRpb25zLmVuZHBvaW50ICE9PSAnc3RyaW5nJyApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoICdvcHRpb25zIGhhc2ggbXVzdCBjb250YWluIGFuIEFQSSBlbmRwb2ludCBVUkwgc3RyaW5nJyApO1xuXHR9XG5cblx0Ly8gRGljdGlvbmFyeSB0byBiZSBmaWxsZWQgYnkgaGFuZGxlcnMgZm9yIGRlZmF1bHQgbmFtZXNwYWNlc1xuXHR0aGlzLl9ucyA9IHt9O1xuXG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0Ly8gRW5zdXJlIHRyYWlsaW5nIHNsYXNoIG9uIGVuZHBvaW50IFVSSVxuXHRcdGVuZHBvaW50OiBvcHRpb25zLmVuZHBvaW50LnJlcGxhY2UoICAvXFwvPyQvLCAnLycgKSxcblx0fTtcblxuXHQvLyBJZiBhbnkgYXV0aGVudGljYXRpb24gY3JlZGVudGlhbHMgd2VyZSBwcm92aWRlZCwgYXNzaWduIHRoZW0gbm93XG5cdGlmICggb3B0aW9ucyAmJiAoIG9wdGlvbnMudXNlcm5hbWUgfHwgb3B0aW9ucy5wYXNzd29yZCB8fCBvcHRpb25zLm5vbmNlICkgKSB7XG5cdFx0dGhpcy5hdXRoKCBvcHRpb25zICk7XG5cdH1cblxuXHRyZXR1cm4gdGhpc1xuXHRcdC8vIENvbmZpZ3VyZSBjdXN0b20gSFRUUCB0cmFuc3BvcnQgbWV0aG9kcywgaWYgcHJvdmlkZWRcblx0XHQudHJhbnNwb3J0KCBvcHRpb25zLnRyYW5zcG9ydCApXG5cdFx0Ly8gQm9vdHN0cmFwIHdpdGggYSBzcGVjaWZpYyByb3V0ZXMgb2JqZWN0LCBpZiBwcm92aWRlZFxuXHRcdC5ib290c3RyYXAoIG9wdGlvbnMgJiYgb3B0aW9ucy5yb3V0ZXMgKTtcbn1cblxuLyoqXG4gKiBTZXQgY3VzdG9tIHRyYW5zcG9ydCBtZXRob2RzIHRvIHVzZSB3aGVuIG1ha2luZyBIVFRQIHJlcXVlc3RzIGFnYWluc3QgdGhlIEFQSVxuICpcbiAqIFBhc3MgYW4gb2JqZWN0IHdpdGggYSBmdW5jdGlvbiBmb3Igb25lIG9yIG1hbnkgb2YgXCJnZXRcIiwgXCJwb3N0XCIsIFwicHV0XCIsXG4gKiBcImRlbGV0ZVwiIGFuZCBcImhlYWRcIiBhbmQgdGhhdCBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuIG1ha2luZyB0aGF0IHR5cGVcbiAqIG9mIHJlcXVlc3QuIFRoZSBwcm92aWRlZCB0cmFuc3BvcnQgZnVuY3Rpb25zIHNob3VsZCB0YWtlIGEgV1BSZXF1ZXN0IGhhbmRsZXJcbiAqIGluc3RhbmNlIChfZS5nLl8gdGhlIHJlc3VsdCBvZiBhIGB3cC5wb3N0cygpLi4uYCBjaGFpbiBvciBhbnkgb3RoZXIgY2hhaW5pbmdcbiAqIHJlcXVlc3QgaGFuZGxlcikgYXMgdGhlaXIgZmlyc3QgYXJndW1lbnQ7IGEgYGRhdGFgIG9iamVjdCBhcyB0aGVpciBzZWNvbmRcbiAqIGFyZ3VtZW50IChmb3IgUE9TVCwgUFVUIGFuZCBERUxFVEUgcmVxdWVzdHMpOyBhbmQgYW4gb3B0aW9uYWwgY2FsbGJhY2sgYXNcbiAqIHRoZWlyIGZpbmFsIGFyZ3VtZW50LiBUcmFuc3BvcnQgbWV0aG9kcyBzaG91bGQgaW52b2tlIHRoZSBjYWxsYmFjayB3aXRoIHRoZVxuICogcmVzcG9uc2UgZGF0YSAob3IgZXJyb3IsIGFzIGFwcHJvcHJpYXRlKSwgYW5kIHNob3VsZCBhbHNvIHJldHVybiBhIFByb21pc2UuXG4gKlxuICogQGV4YW1wbGUgPGNhcHRpb24+c2hvd2luZyBob3cgYSBjYWNoZSBoaXQgKGtleWVkIGJ5IFVSSSkgY291bGQgc2hvcnQtY2lyY3VpdCBhIGdldCByZXF1ZXN0PC9jYXB0aW9uPlxuICpcbiAqICAgICB2YXIgc2l0ZSA9IG5ldyBXUEFQSSh7XG4gKiAgICAgICBlbmRwb2ludDogJ2h0dHA6Ly9teS1zaXRlLmNvbS93cC1qc29uJ1xuICogICAgIH0pO1xuICpcbiAqICAgICAvLyBPdmVyd3JpdGUgdGhlIEdFVCBiZWhhdmlvciB0byBpbmplY3QgYSBjYWNoaW5nIGxheWVyXG4gKiAgICAgc2l0ZS50cmFuc3BvcnQoe1xuICogICAgICAgZ2V0OiBmdW5jdGlvbiggd3ByZXEsIGNiICkge1xuICogICAgICAgICB2YXIgcmVzdWx0ID0gY2FjaGVbIHdwcmVxIF07XG4gKiAgICAgICAgIC8vIElmIGEgY2FjaGUgaGl0IGlzIGZvdW5kLCByZXR1cm4gaXQgdmlhIHRoZSBzYW1lIGNhbGxiYWNrL3Byb21pc2VcbiAqICAgICAgICAgLy8gc2lnbmF0dXJlIGFzIHRoZSBkZWZhdWx0IHRyYW5zcG9ydCBtZXRob2RcbiAqICAgICAgICAgaWYgKCByZXN1bHQgKSB7XG4gKiAgICAgICAgICAgaWYgKCBjYiAmJiB0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicgKSB7XG4gKiAgICAgICAgICAgICBjYiggbnVsbCwgcmVzdWx0ICk7XG4gKiAgICAgICAgICAgfVxuICogICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoIHJlc3VsdCApO1xuICogICAgICAgICB9XG4gKlxuICogICAgICAgICAvLyBEZWxlZ2F0ZSB0byBkZWZhdWx0IHRyYW5zcG9ydCBpZiBubyBjYWNoZWQgZGF0YSB3YXMgZm91bmRcbiAqICAgICAgICAgcmV0dXJuIFdQQVBJLnRyYW5zcG9ydC5nZXQoIHdwcmVxLCBjYiApLnRoZW4oZnVuY3Rpb24oIHJlc3VsdCApIHtcbiAqICAgICAgICAgICBjYWNoZVsgd3ByZXEgXSA9IHJlc3VsdDtcbiAqICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICogICAgICAgICB9KTtcbiAqICAgICAgIH1cbiAqICAgICB9KTtcbiAqXG4gKiBUaGlzIGlzIGFkdmFuY2VkIGJlaGF2aW9yOyB5b3Ugd2lsbCBvbmx5IG5lZWQgdG8gdXRpbGl6ZSB0aGlzIGZ1bmN0aW9uYWxpdHlcbiAqIGlmIHlvdXIgYXBwbGljYXRpb24gaGFzIHZlcnkgc3BlY2lmaWMgSFRUUCBoYW5kbGluZyBvciBjYWNoaW5nIHJlcXVpcmVtZW50cy5cbiAqIFJlZmVyIHRvIHRoZSBcImh0dHAtdHJhbnNwb3J0XCIgbW9kdWxlIHdpdGhpbiB0aGlzIGFwcGxpY2F0aW9uIGZvciB0aGUgY29kZVxuICogaW1wbGVtZW50aW5nIHRoZSBidWlsdC1pbiB0cmFuc3BvcnQgbWV0aG9kcy5cbiAqXG4gKiBAbWVtYmVyb2YhIFdQQVBJXG4gKiBAbWV0aG9kIHRyYW5zcG9ydFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtPYmplY3R9ICAgdHJhbnNwb3J0ICAgICAgICAgIEEgZGljdGlvbmFyeSBvZiBIVFRQIHRyYW5zcG9ydCBtZXRob2RzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbdHJhbnNwb3J0LmdldF0gICAgVGhlIGZ1bmN0aW9uIHRvIHVzZSBmb3IgR0VUIHJlcXVlc3RzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbdHJhbnNwb3J0LnBvc3RdICAgVGhlIGZ1bmN0aW9uIHRvIHVzZSBmb3IgUE9TVCByZXF1ZXN0c1xuICogQHBhcmFtIHtGdW5jdGlvbn0gW3RyYW5zcG9ydC5wdXRdICAgIFRoZSBmdW5jdGlvbiB0byB1c2UgZm9yIFBVVCByZXF1ZXN0c1xuICogQHBhcmFtIHtGdW5jdGlvbn0gW3RyYW5zcG9ydC5kZWxldGVdIFRoZSBmdW5jdGlvbiB0byB1c2UgZm9yIERFTEVURSByZXF1ZXN0c1xuICogQHBhcmFtIHtGdW5jdGlvbn0gW3RyYW5zcG9ydC5oZWFkXSAgIFRoZSBmdW5jdGlvbiB0byB1c2UgZm9yIEhFQUQgcmVxdWVzdHNcbiAqIEByZXR1cm5zIHtXUEFQSX0gVGhlIFdQQVBJIGluc3RhbmNlLCBmb3IgY2hhaW5pbmdcbiAqL1xuV1BBUEkucHJvdG90eXBlLnRyYW5zcG9ydCA9IGZ1bmN0aW9uKCB0cmFuc3BvcnQgKSB7XG5cdC8vIExvY2FsIHJlZmVyZW5jZSB0byBhdm9pZCBuZWVkIHRvIHJlZmVyZW5jZSB2aWEgYHRoaXNgIGluc2lkZSBmb3JFYWNoXG5cdGNvbnN0IF9vcHRpb25zID0gdGhpcy5fb3B0aW9ucztcblxuXHQvLyBDcmVhdGUgdGhlIGRlZmF1bHQgdHJhbnNwb3J0IGlmIGl0IGRvZXMgbm90IGV4aXN0XG5cdGlmICggISBfb3B0aW9ucy50cmFuc3BvcnQgKSB7XG5cdFx0X29wdGlvbnMudHJhbnNwb3J0ID0gT2JqZWN0LmNyZWF0ZSggV1BBUEkudHJhbnNwb3J0ICk7XG5cdH1cblxuXHQvLyBXaGl0ZWxpc3QgdGhlIG1ldGhvZHMgdGhhdCBtYXkgYmUgYXBwbGllZFxuXHRbICdnZXQnLCAnaGVhZCcsICdwb3N0JywgJ3B1dCcsICdkZWxldGUnIF0uZm9yRWFjaCggKCBrZXkgKSA9PiB7XG5cdFx0aWYgKCB0cmFuc3BvcnQgJiYgdHJhbnNwb3J0WyBrZXkgXSApIHtcblx0XHRcdF9vcHRpb25zLnRyYW5zcG9ydFsga2V5IF0gPSB0cmFuc3BvcnRbIGtleSBdO1xuXHRcdH1cblx0fSApO1xuXG5cdHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBEZWZhdWx0IEhUVFAgdHJhbnNwb3J0IG1ldGhvZHMgb2JqZWN0IGZvciBhbGwgV1BBUEkgaW5zdGFuY2VzXG4gKlxuICogVGhlc2UgbWV0aG9kcyBtYXkgYmUgZXh0ZW5kZWQgb3IgcmVwbGFjZWQgb24gYW4gaW5zdGFuY2UtYnktaW5zdGFuY2UgYmFzaXNcbiAqXG4gKiBAbWVtYmVyb2YhIFdQQVBJXG4gKiBAc3RhdGljXG4gKiBAcHJvcGVydHkgdHJhbnNwb3J0XG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5XUEFQSS50cmFuc3BvcnQgPSBPYmplY3QuY3JlYXRlKCBodHRwVHJhbnNwb3J0ICk7XG5PYmplY3QuZnJlZXplKCBXUEFQSS50cmFuc3BvcnQgKTtcblxuLyoqXG4gKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIG1ha2luZyBhIG5ldyBXUEFQSSBpbnN0YW5jZVxuICpcbiAqIEBleGFtcGxlXG4gKiBUaGVzZSBhcmUgZXF1aXZhbGVudDpcbiAqXG4gKiAgICAgdmFyIHdwID0gbmV3IFdQQVBJKHsgZW5kcG9pbnQ6ICdodHRwOi8vbXkuYmxvZy51cmwvd3AtanNvbicgfSk7XG4gKiAgICAgdmFyIHdwID0gV1BBUEkuc2l0ZSggJ2h0dHA6Ly9teS5ibG9nLnVybC93cC1qc29uJyApO1xuICpcbiAqIGBXUEFQSS5zaXRlYCBjYW4gdGFrZSBhbiBvcHRpb25hbCBBUEkgcm9vdCByZXNwb25zZSBKU09OIG9iamVjdCB0byB1c2Ugd2hlblxuICogYm9vdHN0cmFwcGluZyB0aGUgY2xpZW50J3MgZW5kcG9pbnQgaGFuZGxlciBtZXRob2RzOiBpZiBubyBzZWNvbmQgcGFyYW1ldGVyXG4gKiBpcyBwcm92aWRlZCwgdGhlIGNsaWVudCBpbnN0YW5jZSBpcyBhc3N1bWVkIHRvIGJlIHVzaW5nIHRoZSBkZWZhdWx0IEFQSVxuICogd2l0aCBubyBhZGRpdGlvbmFsIHBsdWdpbnMgYW5kIGlzIGluaXRpYWxpemVkIHdpdGggaGFuZGxlcnMgZm9yIG9ubHkgdGhvc2VcbiAqIGRlZmF1bHQgQVBJIHJvdXRlcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogVGhlc2UgYXJlIGVxdWl2YWxlbnQ6XG4gKlxuICogICAgIC8vIHsuLi59IG1lYW5zIHRoZSBKU09OIG91dHB1dCBvZiBodHRwOi8vbXkuYmxvZy51cmwvd3AtanNvblxuICogICAgIHZhciB3cCA9IG5ldyBXUEFQSSh7XG4gKiAgICAgICBlbmRwb2ludDogJ2h0dHA6Ly9teS5ibG9nLnVybC93cC1qc29uJyxcbiAqICAgICAgIGpzb246IHsuLi59XG4gKiAgICAgfSk7XG4gKiAgICAgdmFyIHdwID0gV1BBUEkuc2l0ZSggJ2h0dHA6Ly9teS5ibG9nLnVybC93cC1qc29uJywgey4uLn0gKTtcbiAqXG4gKiBAbWVtYmVyb2YhIFdQQVBJXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge1N0cmluZ30gZW5kcG9pbnQgVGhlIFVSSSBmb3IgYSBXUC1BUEkgZW5kcG9pbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSByb3V0ZXMgICBUaGUgXCJyb3V0ZXNcIiBvYmplY3QgZnJvbSB0aGUgSlNPTiBvYmplY3QgcmV0dXJuZWRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tIHRoZSByb290IEFQSSBlbmRwb2ludCBvZiBhIFdQIHNpdGUsIHdoaWNoIHNob3VsZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgIGJlIGEgZGljdGlvbmFyeSBvZiByb3V0ZSBkZWZpbml0aW9uIG9iamVjdHMga2V5ZWQgYnlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgcm91dGUncyByZWdleCBwYXR0ZXJuXG4gKiBAcmV0dXJucyB7V1BBUEl9IEEgbmV3IFdQQVBJIGluc3RhbmNlLCBib3VuZCB0byB0aGUgcHJvdmlkZWQgZW5kcG9pbnRcbiAqL1xuV1BBUEkuc2l0ZSA9IGZ1bmN0aW9uKCBlbmRwb2ludCwgcm91dGVzICkge1xuXHRyZXR1cm4gbmV3IFdQQVBJKCB7XG5cdFx0ZW5kcG9pbnQ6IGVuZHBvaW50LFxuXHRcdHJvdXRlczogcm91dGVzLFxuXHR9ICk7XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgcmVxdWVzdCBhZ2FpbnN0IGEgY29tcGxldGVseSBhcmJpdHJhcnkgZW5kcG9pbnQsIHdpdGggbm8gYXNzdW1wdGlvbnMgYWJvdXRcbiAqIG9yIG11dGF0aW9uIG9mIHBhdGgsIGZpbHRlcmluZywgb3IgcXVlcnkgcGFyYW1ldGVycy4gVGhpcyByZXF1ZXN0IGlzIG5vdCByZXN0cmljdGVkIHRvXG4gKiB0aGUgZW5kcG9pbnQgc3BlY2lmaWVkIGR1cmluZyBXUEFQSSBvYmplY3QgaW5zdGFudGlhdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogR2VuZXJhdGUgYSByZXF1ZXN0IHRvIHRoZSBleHBsaWNpdCBVUkwgXCJodHRwOi8veW91ci53ZWJzaXRlLmNvbS93cC1qc29uL3NvbWUvY3VzdG9tL3BhdGhcIlxuICpcbiAqICAgICB3cC51cmwoICdodHRwOi8veW91ci53ZWJzaXRlLmNvbS93cC1qc29uL3NvbWUvY3VzdG9tL3BhdGgnICkuZ2V0KCkuLi5cbiAqXG4gKiBAbWVtYmVyb2YhIFdQQVBJXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gcmVxdWVzdFxuICogQHJldHVybnMge1dQUmVxdWVzdH0gQSBXUFJlcXVlc3Qgb2JqZWN0IGJvdW5kIHRvIHRoZSBwcm92aWRlZCBVUkxcbiAqL1xuV1BBUEkucHJvdG90eXBlLnVybCA9IGZ1bmN0aW9uKCB1cmwgKSB7XG5cdHJldHVybiBuZXcgV1BSZXF1ZXN0KCB7XG5cdFx0Li4udGhpcy5fb3B0aW9ucyxcblx0XHRlbmRwb2ludDogdXJsLFxuXHR9ICk7XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgcXVlcnkgYWdhaW5zdCBhbiBhcmJpdHJhcnkgcGF0aCBvbiB0aGUgY3VycmVudCBlbmRwb2ludC4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gKiByZXF1ZXN0aW5nIHJlc291cmNlcyBhdCBjdXN0b20gV1AtQVBJIGVuZHBvaW50cywgc3VjaCBhcyBXb29Db21tZXJjZSdzIGAvcHJvZHVjdHNgLlxuICpcbiAqIEBtZW1iZXJvZiEgV1BBUElcbiAqIEBwYXJhbSB7U3RyaW5nfSBbcmVsYXRpdmVQYXRoXSBBbiBlbmRwb2ludC1yZWxhdGl2ZSBwYXRoIHRvIHdoaWNoIHRvIGJpbmQgdGhlIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtXUFJlcXVlc3R9IEEgcmVxdWVzdCBvYmplY3RcbiAqL1xuV1BBUEkucHJvdG90eXBlLnJvb3QgPSBmdW5jdGlvbiggcmVsYXRpdmVQYXRoICkge1xuXHRyZWxhdGl2ZVBhdGggPSByZWxhdGl2ZVBhdGggfHwgJyc7XG5cdGNvbnN0IG9wdGlvbnMgPSB7XG5cdFx0Li4udGhpcy5fb3B0aW9ucyxcblx0fTtcblx0Ly8gUmVxdWVzdCBzaG91bGQgYmVcblx0Y29uc3QgcmVxdWVzdCA9IG5ldyBXUFJlcXVlc3QoIG9wdGlvbnMgKTtcblxuXHQvLyBTZXQgdGhlIHBhdGggdGVtcGxhdGUgdG8gdGhlIHN0cmluZyBwYXNzZWQgaW5cblx0cmVxdWVzdC5fcGF0aCA9IHsgJzAnOiByZWxhdGl2ZVBhdGggfTtcblxuXHRyZXR1cm4gcmVxdWVzdDtcbn07XG5cbi8qKlxuICogU2V0IHRoZSBkZWZhdWx0IGhlYWRlcnMgdG8gdXNlIGZvciBhbGwgSFRUUCByZXF1ZXN0cyBjcmVhdGVkIGZyb20gdGhpcyBXUEFQSVxuICogc2l0ZSBpbnN0YW5jZS4gQWNjZXB0cyBhIGhlYWRlciBuYW1lIGFuZCBpdHMgYXNzb2NpYXRlZCB2YWx1ZSBhcyB0d28gc3RyaW5ncyxcbiAqIG9yIG11bHRpcGxlIGhlYWRlcnMgYXMgYW4gb2JqZWN0IG9mIG5hbWUtdmFsdWUgcGFpcnMuXG4gKlxuICogQGV4YW1wbGUgPGNhcHRpb24+U2V0IGEgc2luZ2xlIGhlYWRlciB0byBiZSB1c2VkIGJ5IGFsbCByZXF1ZXN0cyB0byB0aGlzIHNpdGU8L2NhcHRpb24+XG4gKlxuICogICAgIHNpdGUuc2V0SGVhZGVycyggJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyIHRydXN0bWUnICkuLi5cbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5TZXQgbXVsdGlwbGUgaGVhZGVycyB0byBiZSB1c2VkIGJ5IGFsbCByZXF1ZXN0cyB0byB0aGlzIHNpdGU8L2NhcHRpb24+XG4gKlxuICogICAgIHNpdGUuc2V0SGVhZGVycyh7XG4gKiAgICAgICBBdXRob3JpemF0aW9uOiAnQmVhcmVyIGNvbWVvbndlcmVvbGRmcmllbmRzcmlnaHQnLFxuICogICAgICAgJ0FjY2VwdC1MYW5ndWFnZSc6ICdlbi1DQSdcbiAqICAgICB9KS4uLlxuICpcbiAqIEBtZW1iZXJvZiEgV1BBUElcbiAqIEBzaW5jZSAxLjEuMFxuICogQGNoYWluYWJsZVxuICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBoZWFkZXJzIFRoZSBuYW1lIG9mIHRoZSBoZWFkZXIgdG8gc2V0LCBvciBhbiBvYmplY3Qgb2ZcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIgbmFtZXMgYW5kIHRoZWlyIGFzc29jaWF0ZWQgc3RyaW5nIHZhbHVlc1xuICogQHBhcmFtIHtTdHJpbmd9ICAgICAgICBbdmFsdWVdIFRoZSB2YWx1ZSBvZiB0aGUgaGVhZGVyIGJlaW5nIHNldFxuICogQHJldHVybnMge1dQQVBJfSBUaGUgV1BBUEkgc2l0ZSBoYW5kbGVyIGluc3RhbmNlLCBmb3IgY2hhaW5pbmdcbiAqL1xuV1BBUEkucHJvdG90eXBlLnNldEhlYWRlcnMgPSBXUFJlcXVlc3QucHJvdG90eXBlLnNldEhlYWRlcnM7XG5cbi8qKlxuICogU2V0IHRoZSBhdXRoZW50aWNhdGlvbiB0byB1c2UgZm9yIGEgV1BBUEkgc2l0ZSBoYW5kbGVyIGluc3RhbmNlLiBBY2NlcHRzIGJhc2ljXG4gKiBIVFRQIGF1dGhlbnRpY2F0aW9uIGNyZWRlbnRpYWxzIChzdHJpbmcgdXNlcm5hbWUgJiBwYXNzd29yZCkgb3IgYSBOb25jZSAoZm9yXG4gKiBjb29raWUgYXV0aGVudGljYXRpb24pIGJ5IGRlZmF1bHQ7IG1heSBiZSBvdmVybG9hZGVkIHRvIGFjY2VwdCBPQXV0aCBjcmVkZW50aWFsc1xuICogaW4gdGhlIGZ1dHVyZS5cbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5CYXNpYyBBdXRoZW50aWNhdGlvbjwvY2FwdGlvbj5cbiAqXG4gKiAgICAgc2l0ZS5hdXRoKHtcbiAqICAgICAgIHVzZXJuYW1lOiAnYWRtaW4nLFxuICogICAgICAgcGFzc3dvcmQ6ICdzZWN1cmVwYXNzNTUnXG4gKiAgICAgfSkuLi5cbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5Db29raWUvTm9uY2UgQXV0aGVudGljYXRpb248L2NhcHRpb24+XG4gKlxuICogICAgIHNpdGUuYXV0aCh7XG4gKiAgICAgICBub25jZTogJ3NvbWVub25jZSdcbiAqICAgICB9KS4uLlxuICpcbiAqIEBtZW1iZXJvZiEgV1BBUElcbiAqIEBtZXRob2RcbiAqIEBjaGFpbmFibGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBjcmVkZW50aWFscyAgICAgICAgICAgIEFuIGF1dGhlbnRpY2F0aW9uIGNyZWRlbnRpYWxzIG9iamVjdFxuICogQHBhcmFtIHtTdHJpbmd9IFtjcmVkZW50aWFscy51c2VybmFtZV0gQSBXUC1BUEkgQmFzaWMgSFRUUCBBdXRoZW50aWNhdGlvbiB1c2VybmFtZVxuICogQHBhcmFtIHtTdHJpbmd9IFtjcmVkZW50aWFscy5wYXNzd29yZF0gQSBXUC1BUEkgQmFzaWMgSFRUUCBBdXRoZW50aWNhdGlvbiBwYXNzd29yZFxuICogQHBhcmFtIHtTdHJpbmd9IFtjcmVkZW50aWFscy5ub25jZV0gICAgQSBXUCBub25jZSBmb3IgdXNlIHdpdGggY29va2llIGF1dGhlbnRpY2F0aW9uXG4gKiBAcmV0dXJucyB7V1BBUEl9IFRoZSBXUEFQSSBzaXRlIGhhbmRsZXIgaW5zdGFuY2UsIGZvciBjaGFpbmluZ1xuICovXG5XUEFQSS5wcm90b3R5cGUuYXV0aCA9IFdQUmVxdWVzdC5wcm90b3R5cGUuYXV0aDtcblxuLy8gQXBwbHkgdGhlIHJlZ2lzdGVyUm91dGUgbWV0aG9kIHRvIHRoZSBwcm90b3R5cGVcbldQQVBJLnByb3RvdHlwZS5yZWdpc3RlclJvdXRlID0gcmVxdWlyZSggJy4vbGliL3dwLXJlZ2lzdGVyLXJvdXRlJyApO1xuXG4vKipcbiAqIERlZHVjZSByZXF1ZXN0IG1ldGhvZHMgZnJvbSBhIHByb3ZpZGVkIEFQSSByb290IEpTT04gcmVzcG9uc2Ugb2JqZWN0J3NcbiAqIHJvdXRlcyBkaWN0aW9uYXJ5LCBhbmQgYXNzaWduIHRob3NlIG1ldGhvZHMgdG8gdGhlIGN1cnJlbnQgaW5zdGFuY2UuIElmXG4gKiBubyByb3V0ZXMgZGljdGlvbmFyeSBpcyBwcm92aWRlZCB0aGVuIHRoZSBpbnN0YW5jZSB3aWxsIGJlIGJvb3RzdHJhcHBlZFxuICogd2l0aCByb3V0ZSBoYW5kbGVycyBmb3IgdGhlIGRlZmF1bHQgQVBJIGVuZHBvaW50cyBvbmx5LlxuICpcbiAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGR1cmluZyBXUEFQSSBpbnN0YW5jZSBjcmVhdGlvbi5cbiAqXG4gKiBAbWVtYmVyb2YhIFdQQVBJXG4gKiBAY2hhaW5hYmxlXG4gKiBAcGFyYW0ge09iamVjdH0gcm91dGVzIFRoZSBcInJvdXRlc1wiIG9iamVjdCBmcm9tIHRoZSBKU09OIG9iamVjdCByZXR1cm5lZFxuICogICAgICAgICAgICAgICAgICAgICAgICBmcm9tIHRoZSByb290IEFQSSBlbmRwb2ludCBvZiBhIFdQIHNpdGUsIHdoaWNoIHNob3VsZFxuICogICAgICAgICAgICAgICAgICAgICAgICBiZSBhIGRpY3Rpb25hcnkgb2Ygcm91dGUgZGVmaW5pdGlvbiBvYmplY3RzIGtleWVkIGJ5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgIHRoZSByb3V0ZSdzIHJlZ2V4IHBhdHRlcm5cbiAqIEByZXR1cm5zIHtXUEFQSX0gVGhlIGJvb3RzdHJhcHBlZCBXUEFQSSBjbGllbnQgaW5zdGFuY2UgKGZvciBjaGFpbmluZyBvciBhc3NpZ25tZW50KVxuICovXG5XUEFQSS5wcm90b3R5cGUuYm9vdHN0cmFwID0gZnVuY3Rpb24oIHJvdXRlcyApIHtcblx0bGV0IHJvdXRlc0J5TmFtZXNwYWNlO1xuXHRsZXQgZW5kcG9pbnRGYWN0b3JpZXNCeU5hbWVzcGFjZTtcblxuXHRpZiAoICEgcm91dGVzICkge1xuXHRcdC8vIEF1dG8tZ2VuZXJhdGUgZGVmYXVsdCBlbmRwb2ludCBmYWN0b3JpZXMgaWYgdGhleSBhcmUgbm90IGFscmVhZHkgYXZhaWxhYmxlXG5cdFx0aWYgKCAhIGRlZmF1bHRFbmRwb2ludEZhY3RvcmllcyApIHtcblx0XHRcdHJvdXRlc0J5TmFtZXNwYWNlID0gYnVpbGRSb3V0ZVRyZWUoIGRlZmF1bHRSb3V0ZXMgKTtcblx0XHRcdGRlZmF1bHRFbmRwb2ludEZhY3RvcmllcyA9IGdlbmVyYXRlRW5kcG9pbnRGYWN0b3JpZXMoIHJvdXRlc0J5TmFtZXNwYWNlICk7XG5cdFx0fVxuXHRcdGVuZHBvaW50RmFjdG9yaWVzQnlOYW1lc3BhY2UgPSBkZWZhdWx0RW5kcG9pbnRGYWN0b3JpZXM7XG5cdH0gZWxzZSB7XG5cdFx0cm91dGVzQnlOYW1lc3BhY2UgPSBidWlsZFJvdXRlVHJlZSggcm91dGVzICk7XG5cdFx0ZW5kcG9pbnRGYWN0b3JpZXNCeU5hbWVzcGFjZSA9IGdlbmVyYXRlRW5kcG9pbnRGYWN0b3JpZXMoIHJvdXRlc0J5TmFtZXNwYWNlICk7XG5cdH1cblxuXHQvLyBGb3IgZWFjaCBuYW1lc3BhY2UgZm9yIHdoaWNoIHJvdXRlcyB3ZXJlIGlkZW50aWZpZWQsIHN0b3JlIHRoZSBnZW5lcmF0ZWRcblx0Ly8gcm91dGUgaGFuZGxlcnMgb24gdGhlIFdQQVBJIGluc3RhbmNlJ3MgcHJpdmF0ZSBfbnMgZGljdGlvbmFyeS4gVGhlc2UgbmFtZXNwYWNlZFxuXHQvLyBoYW5kbGVyIG1ldGhvZHMgY2FuIGJlIGFjY2Vzc2VkIGJ5IGNhbGxpbmcgYC5uYW1lc3BhY2UoIHN0ciApYCBvbiB0aGVcblx0Ly8gY2xpZW50IGluc3RhbmNlIGFuZCBwYXNzaW5nIGEgcmVnaXN0ZXJlZCBuYW1lc3BhY2Ugc3RyaW5nLlxuXHQvLyBIYW5kbGVycyBmb3IgZGVmYXVsdCAod3AvdjIpIHJvdXRlcyB3aWxsIGFsc28gYmUgYXNzaWduZWQgdG8gdGhlIFdQQVBJXG5cdC8vIGNsaWVudCBpbnN0YW5jZSBvYmplY3QgaXRzZWxmLCBmb3IgYnJldml0eS5cblx0cmV0dXJuIG9iamVjdFJlZHVjZSggZW5kcG9pbnRGYWN0b3JpZXNCeU5hbWVzcGFjZSwgKCB3cEluc3RhbmNlLCBlbmRwb2ludEZhY3RvcmllcywgbmFtZXNwYWNlICkgPT4ge1xuXG5cdFx0Ly8gU2V0IChvciBhdWdtZW50KSB0aGUgcm91dGUgaGFuZGxlciBmYWN0b3JpZXMgZm9yIHRoaXMgbmFtZXNwYWNlLlxuXHRcdHdwSW5zdGFuY2UuX25zWyBuYW1lc3BhY2UgXSA9IG9iamVjdFJlZHVjZShcblx0XHRcdGVuZHBvaW50RmFjdG9yaWVzLFxuXHRcdFx0KCBuc0hhbmRsZXJzLCBoYW5kbGVyRm4sIG1ldGhvZE5hbWUgKSA9PiB7XG5cdFx0XHRcdG5zSGFuZGxlcnNbIG1ldGhvZE5hbWUgXSA9IGhhbmRsZXJGbjtcblx0XHRcdFx0cmV0dXJuIG5zSGFuZGxlcnM7XG5cdFx0XHR9LFxuXHRcdFx0d3BJbnN0YW5jZS5fbnNbIG5hbWVzcGFjZSBdIHx8IHtcblx0XHRcdFx0Ly8gQ3JlYXRlIGFsbCBuYW1lc3BhY2UgZGljdGlvbmFyaWVzIHdpdGggYSBkaXJlY3QgcmVmZXJlbmNlIHRvIHRoZSBtYWluIFdQQVBJXG5cdFx0XHRcdC8vIGluc3RhbmNlJ3MgX29wdGlvbnMgcHJvcGVydHkgc28gdGhhdCB0aGluZ3MgbGlrZSBhdXRoIHByb3BhZ2F0ZSBwcm9wZXJseVxuXHRcdFx0XHRfb3B0aW9uczogd3BJbnN0YW5jZS5fb3B0aW9ucyxcblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0Ly8gRm9yIHRoZSBkZWZhdWx0IG5hbWVzcGFjZSwgZS5nLiBcIndwL3YyXCIgYXQgdGhlIHRpbWUgdGhpcyBjb21tZW50IHdhc1xuXHRcdC8vIHdyaXR0ZW4sIGVuc3VyZSBhbGwgbWV0aG9kcyBhcmUgYXNzaWduZWQgdG8gdGhlIHJvb3QgY2xpZW50IG9iamVjdCBpdHNlbGZcblx0XHQvLyBpbiBhZGRpdGlvbiB0byB0aGUgcHJpdmF0ZSBfbnMgZGljdGlvbmFyeTogdGhpcyBpcyBkb25lIHNvIHRoYXQgdGhlc2Vcblx0XHQvLyBtZXRob2RzIGNhbiBiZSBjYWxsZWQgd2l0aCBlLmcuIGB3cC5wb3N0cygpYCBhbmQgbm90IHRoZSBtb3JlIHZlcmJvc2Vcblx0XHQvLyBgd3AubmFtZXNwYWNlKCAnd3AvdjInICkucG9zdHMoKWAuXG5cdFx0aWYgKCBuYW1lc3BhY2UgPT09IGFwaURlZmF1bHROYW1lc3BhY2UgKSB7XG5cdFx0XHRPYmplY3Qua2V5cyggd3BJbnN0YW5jZS5fbnNbIG5hbWVzcGFjZSBdICkuZm9yRWFjaCggKCBtZXRob2ROYW1lICkgPT4ge1xuXHRcdFx0XHR3cEluc3RhbmNlWyBtZXRob2ROYW1lIF0gPSB3cEluc3RhbmNlLl9uc1sgbmFtZXNwYWNlIF1bIG1ldGhvZE5hbWUgXTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gd3BJbnN0YW5jZTtcblx0fSwgdGhpcyApO1xufTtcblxuLyoqXG4gKiBBY2Nlc3MgQVBJIGVuZHBvaW50IGhhbmRsZXJzIGZyb20gYSBwYXJ0aWN1bGFyIEFQSSBuYW1lc3BhY2Ugb2JqZWN0XG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAgICAgd3AubmFtZXNwYWNlKCAnbXlwbHVnaW4vdjEnICkuYXV0aG9yKCkuLi5cbiAqXG4gKiAgICAgLy8gRGVmYXVsdCBXUCBlbmRwb2ludCBoYW5kbGVycyBhcmUgYXNzaWduZWQgdG8gdGhlIHdwIGluc3RhbmNlIGl0c2VsZi5cbiAqICAgICAvLyBUaGVzZSBhcmUgZXF1aXZhbGVudDpcbiAqICAgICB3cC5uYW1lc3BhY2UoICd3cC92MicgKS5wb3N0cygpLi4uXG4gKiAgICAgd3AucG9zdHMoKS4uLlxuICpcbiAqIEBtZW1iZXJvZiEgV1BBUElcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lc3BhY2UgQSBuYW1lc3BhY2Ugc3RyaW5nXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3Qgb2Ygcm91dGUgZW5kcG9pbnQgaGFuZGxlciBtZXRob2RzIGZvciB0aGVcbiAqIHJvdXRlcyB3aXRoaW4gdGhlIHNwZWNpZmllZCBuYW1lc3BhY2VcbiAqL1xuV1BBUEkucHJvdG90eXBlLm5hbWVzcGFjZSA9IGZ1bmN0aW9uKCBuYW1lc3BhY2UgKSB7XG5cdGlmICggISB0aGlzLl9uc1sgbmFtZXNwYWNlIF0gKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCAnRXJyb3I6IG5hbWVzcGFjZSAnICsgbmFtZXNwYWNlICsgJyBpcyBub3QgcmVjb2duaXplZCcgKTtcblx0fVxuXHRyZXR1cm4gdGhpcy5fbnNbIG5hbWVzcGFjZSBdO1xufTtcblxuLyoqXG4gKiBUYWtlIGFuIGFyYml0cmFyeSBXb3JkUHJlc3Mgc2l0ZSwgZGVkdWNlIHRoZSBXUCBSRVNUIEFQSSByb290IGVuZHBvaW50LCBxdWVyeVxuICogdGhhdCBlbmRwb2ludCwgYW5kIHBhcnNlIHRoZSByZXNwb25zZSBKU09OLiBVc2UgdGhlIHJldHVybmVkIEpTT04gcmVzcG9uc2VcbiAqIHRvIGluc3RhbnRpYXRlIGEgV1BBUEkgaW5zdGFuY2UgYm91bmQgdG8gdGhlIHByb3ZpZGVkIHNpdGUuXG4gKlxuICogQG1lbWJlcm9mISBXUEFQSVxuICogQHN0YXRpY1xuICogQHBhcmFtIHtzdHJpbmd9IHVybCBBIFVSTCB3aXRoaW4gYSBSRVNUIEFQSS1lbmFibGVkIFdvcmRQcmVzcyB3ZWJzaXRlXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBjb25maWd1cmVkIFdQQVBJIGluc3RhbmNlIGJvdW5kXG4gKiB0byB0aGUgZGVkdWNlZCBlbmRwb2ludCwgb3IgcmVqZWN0ZWQgaWYgYW4gZW5kcG9pbnQgaXMgbm90IGZvdW5kIG9yIHRoZVxuICogbGlicmFyeSBpcyB1bmFibGUgdG8gcGFyc2UgdGhlIHByb3ZpZGVkIGVuZHBvaW50LlxuICovXG5XUEFQSS5kaXNjb3ZlciA9ICggdXJsICkgPT4ge1xuXHQvLyBsb2NhbCBwbGFjZWhvbGRlciBmb3IgQVBJIHJvb3QgVVJMXG5cdGxldCBlbmRwb2ludDtcblxuXHQvLyBUcnkgSEVBRCByZXF1ZXN0IGZpcnN0LCBmb3Igc21hbGxlciBwYXlsb2FkOiB1c2UgV1BBUEkuc2l0ZSB0byBwcm9kdWNlXG5cdC8vIGEgcmVxdWVzdCB0aGF0IHV0aWxpemVzIHRoZSBkZWZpbmVkIEhUVFAgdHJhbnNwb3J0c1xuXHRjb25zdCByZXEgPSBXUEFQSS5zaXRlKCB1cmwgKS5yb290KCk7XG5cdHJldHVybiByZXEuaGVhZGVycygpXG5cdFx0LmNhdGNoKCAoKSA9PiB7XG5cdFx0XHQvLyBPbiB0aGUgaHlwb3RoZXNpcyB0aGF0IGFueSBlcnJvciBoZXJlIGlzIHJlbGF0ZWQgdG8gdGhlIEhFQUQgcmVxdWVzdFxuXHRcdFx0Ly8gZmFpbGluZywgcHJvdmlzaW9uYWxseSB0cnkgYWdhaW4gdXNpbmcgR0VUIGJlY2F1c2UgdGhhdCBtZXRob2QgaXNcblx0XHRcdC8vIG1vcmUgd2lkZWx5IHN1cHBvcnRlZFxuXHRcdFx0cmV0dXJuIHJlcS5nZXQoKTtcblx0XHR9IClcblx0XHQvLyBJbnNwZWN0IHJlc3BvbnNlIHRvIGZpbmQgQVBJIGxvY2F0aW9uIGhlYWRlclxuXHRcdC50aGVuKCBhdXRvZGlzY292ZXJ5LmxvY2F0ZUFQSVJvb3RIZWFkZXIgKVxuXHRcdC50aGVuKCAoIGFwaVJvb3RVUkwgKSA9PiB7XG5cdFx0XHQvLyBTZXQgdGhlIGZ1bmN0aW9uLXNjb3BlIHZhcmlhYmxlIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGluc3RhbnRpYXRlXG5cdFx0XHQvLyB0aGUgYm91bmQgV1BBUEkgaW5zdGFuY2UsXG5cdFx0XHRlbmRwb2ludCA9IGFwaVJvb3RVUkw7XG5cblx0XHRcdC8vIHRoZW4gR0VUIHRoZSBBUEkgcm9vdCBKU09OIG9iamVjdFxuXHRcdFx0cmV0dXJuIFdQQVBJLnNpdGUoIGFwaVJvb3RVUkwgKS5yb290KCkuZ2V0KCk7XG5cdFx0fSApXG5cdFx0LnRoZW4oICggYXBpUm9vdEpTT04gKSA9PiB7XG5cdFx0XHQvLyBJbnN0YW50aWF0ZSAmIGJvb3RzdHJhcCB3aXRoIHRoZSBkaXNjb3ZlcmVkIG1ldGhvZHNcblx0XHRcdHJldHVybiBuZXcgV1BBUEkoIHtcblx0XHRcdFx0ZW5kcG9pbnQ6IGVuZHBvaW50LFxuXHRcdFx0XHRyb3V0ZXM6IGFwaVJvb3RKU09OLnJvdXRlcyxcblx0XHRcdH0gKTtcblx0XHR9IClcblx0XHQuY2F0Y2goICggZXJyICkgPT4ge1xuXHRcdFx0LyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuXHRcdFx0Y29uc29sZS5lcnJvciggZXJyICk7XG5cdFx0XHRpZiAoIGVuZHBvaW50ICkge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oICdFbmRwb2ludCBkZXRlY3RlZCwgcHJvY2VlZGluZyBkZXNwaXRlIGVycm9yLi4uJyApO1xuXHRcdFx0XHRjb25zb2xlLndhcm4oICdCaW5kaW5nIHRvICcgKyBlbmRwb2ludCArICcgYW5kIGFzc3VtaW5nIGRlZmF1bHQgcm91dGVzJyApO1xuXHRcdFx0XHRyZXR1cm4gbmV3IFdQQVBJLnNpdGUoIGVuZHBvaW50ICk7XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdBdXRvZGlzY292ZXJ5IGZhaWxlZCcgKTtcblx0XHR9ICk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdQQVBJO1xuIiwgIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9O1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcblxuLy8gdXRpbHMgaXMgYSBsaWJyYXJ5IG9mIGdlbmVyaWMgaGVscGVyIGZ1bmN0aW9ucyBub24tc3BlY2lmaWMgdG8gYXhpb3NcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyB1bmRlZmluZWRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCdWZmZXIodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbCkgJiYgdmFsLmNvbnN0cnVjdG9yICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwuY29uc3RydWN0b3IpXG4gICAgJiYgdHlwZW9mIHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiB2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIodmFsKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gRm9ybURhdGEsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Zvcm1EYXRhKHZhbCkge1xuICByZXR1cm4gKHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcpICYmICh2YWwgaW5zdGFuY2VvZiBGb3JtRGF0YSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcodmFsKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJykgJiYgKEFycmF5QnVmZmVyLmlzVmlldykpIHtcbiAgICByZXN1bHQgPSBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAodmFsKSAmJiAodmFsLmJ1ZmZlcikgJiYgKHZhbC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJpbmcodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIE51bWJlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHBsYWluIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBwbGFpbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbCkge1xuICBpZiAodG9TdHJpbmcuY2FsbCh2YWwpICE9PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBwcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsKTtcbiAgcmV0dXJuIHByb3RvdHlwZSA9PT0gbnVsbCB8fCBwcm90b3R5cGUgPT09IE9iamVjdC5wcm90b3R5cGU7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGaWxlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCbG9iKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBCbG9iXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmVhbSh2YWwpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVUkxTZWFyY2hQYXJhbXModmFsKSB7XG4gIHJldHVybiB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJyAmJiB2YWwgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXM7XG59XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgcmV0dXJuIHN0ci50cmltID8gc3RyLnRyaW0oKSA6IHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ1JlYWN0TmF0aXZlJ1xuICogbmF0aXZlc2NyaXB0XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ05hdGl2ZVNjcmlwdCcgb3IgJ05TJ1xuICovXG5mdW5jdGlvbiBpc1N0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIChuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ1JlYWN0TmF0aXZlJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnTmF0aXZlU2NyaXB0JyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnTlMnKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gKFxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ1xuICApO1xufVxuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbiBBcnJheSBvciBhbiBPYmplY3QgaW52b2tpbmcgYSBmdW5jdGlvbiBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmIGBvYmpgIGlzIGFuIEFycmF5IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwgaW5kZXgsIGFuZCBjb21wbGV0ZSBhcnJheSBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmICdvYmonIGlzIGFuIE9iamVjdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGtleSwgYW5kIGNvbXBsZXRlIG9iamVjdCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGNhbGxiYWNrIHRvIGludm9rZSBmb3IgZWFjaCBpdGVtXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbikge1xuICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEZvcmNlIGFuIGFycmF5IGlmIG5vdCBhbHJlYWR5IHNvbWV0aGluZyBpdGVyYWJsZVxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBvYmogPSBbb2JqXTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgYXJyYXkgdmFsdWVzXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtpXSwgaSwgb2JqKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFjY2VwdHMgdmFyYXJncyBleHBlY3RpbmcgZWFjaCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QsIHRoZW5cbiAqIGltbXV0YWJseSBtZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgZWFjaCBvYmplY3QgYW5kIHJldHVybnMgcmVzdWx0LlxuICpcbiAqIFdoZW4gbXVsdGlwbGUgb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIGtleSB0aGUgbGF0ZXIgb2JqZWN0IGluXG4gKiB0aGUgYXJndW1lbnRzIGxpc3Qgd2lsbCB0YWtlIHByZWNlZGVuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHJlc3VsdCA9IG1lcmdlKHtmb286IDEyM30sIHtmb286IDQ1Nn0pO1xuICogY29uc29sZS5sb2cocmVzdWx0LmZvbyk7IC8vIG91dHB1dHMgNDU2XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmIChpc1BsYWluT2JqZWN0KHJlc3VsdFtrZXldKSAmJiBpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2Uoe30sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KHZhbCkpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsLnNsaWNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZChhLCBiLCB0aGlzQXJnKSB7XG4gIGZvckVhY2goYiwgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodGhpc0FyZyAmJiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYnl0ZSBvcmRlciBtYXJrZXIuIFRoaXMgY2F0Y2hlcyBFRiBCQiBCRiAodGhlIFVURi04IEJPTSlcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudCB3aXRoIEJPTVxuICogQHJldHVybiB7c3RyaW5nfSBjb250ZW50IHZhbHVlIHdpdGhvdXQgQk9NXG4gKi9cbmZ1bmN0aW9uIHN0cmlwQk9NKGNvbnRlbnQpIHtcbiAgaWYgKGNvbnRlbnQuY2hhckNvZGVBdCgwKSA9PT0gMHhGRUZGKSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQuc2xpY2UoMSk7XG4gIH1cbiAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0FycmF5OiBpc0FycmF5LFxuICBpc0FycmF5QnVmZmVyOiBpc0FycmF5QnVmZmVyLFxuICBpc0J1ZmZlcjogaXNCdWZmZXIsXG4gIGlzRm9ybURhdGE6IGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3OiBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuICBpc051bWJlcjogaXNOdW1iZXIsXG4gIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgaXNQbGFpbk9iamVjdDogaXNQbGFpbk9iamVjdCxcbiAgaXNVbmRlZmluZWQ6IGlzVW5kZWZpbmVkLFxuICBpc0RhdGU6IGlzRGF0ZSxcbiAgaXNGaWxlOiBpc0ZpbGUsXG4gIGlzQmxvYjogaXNCbG9iLFxuICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbTogaXNTdHJlYW0sXG4gIGlzVVJMU2VhcmNoUGFyYW1zOiBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNTdGFuZGFyZEJyb3dzZXJFbnY6IGlzU3RhbmRhcmRCcm93c2VyRW52LFxuICBmb3JFYWNoOiBmb3JFYWNoLFxuICBtZXJnZTogbWVyZ2UsXG4gIGV4dGVuZDogZXh0ZW5kLFxuICB0cmltOiB0cmltLFxuICBzdHJpcEJPTTogc3RyaXBCT01cbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIGVuY29kZSh2YWwpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHZhciBoYXNobWFya0luZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICBpZiAoaGFzaG1hcmtJbmRleCAhPT0gLTEpIHtcbiAgICAgIHVybCA9IHVybC5zbGljZSgwLCBoYXNobWFya0luZGV4KTtcbiAgICB9XG5cbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gSW50ZXJjZXB0b3JNYW5hZ2VyKCkge1xuICB0aGlzLmhhbmRsZXJzID0gW107XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkLCBvcHRpb25zKSB7XG4gIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG4gICAgcmVqZWN0ZWQ6IHJlamVjdGVkLFxuICAgIHN5bmNocm9ub3VzOiBvcHRpb25zID8gb3B0aW9ucy5zeW5jaHJvbm91cyA6IGZhbHNlLFxuICAgIHJ1bldoZW46IG9wdGlvbnMgPyBvcHRpb25zLnJ1bldoZW4gOiBudWxsXG4gIH0pO1xuICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZWplY3QgPSBmdW5jdGlvbiBlamVjdChpZCkge1xuICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgZm4oaCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZXJjZXB0b3JNYW5hZ2VyO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsIG5vcm1hbGl6ZWROYW1lKSB7XG4gIHV0aWxzLmZvckVhY2goaGVhZGVycywgZnVuY3Rpb24gcHJvY2Vzc0hlYWRlcih2YWx1ZSwgbmFtZSkge1xuICAgIGlmIChuYW1lICE9PSBub3JtYWxpemVkTmFtZSAmJiBuYW1lLnRvVXBwZXJDYXNlKCkgPT09IG5vcm1hbGl6ZWROYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZE5hbWVdID0gdmFsdWU7XG4gICAgICBkZWxldGUgaGVhZGVyc1tuYW1lXTtcbiAgICB9XG4gIH0pO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXBkYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBjb25maWcsIGVycm9yIGNvZGUsIGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJvciBUaGUgZXJyb3IgdG8gdXBkYXRlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgZXJyb3IuY29uZmlnID0gY29uZmlnO1xuICBpZiAoY29kZSkge1xuICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICB9XG5cbiAgZXJyb3IucmVxdWVzdCA9IHJlcXVlc3Q7XG4gIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gIGVycm9yLmlzQXhpb3NFcnJvciA9IHRydWU7XG5cbiAgZXJyb3IudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvLyBTdGFuZGFyZFxuICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgLy8gTWljcm9zb2Z0XG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgIG51bWJlcjogdGhpcy5udW1iZXIsXG4gICAgICAvLyBNb3ppbGxhXG4gICAgICBmaWxlTmFtZTogdGhpcy5maWxlTmFtZSxcbiAgICAgIGxpbmVOdW1iZXI6IHRoaXMubGluZU51bWJlcixcbiAgICAgIGNvbHVtbk51bWJlcjogdGhpcy5jb2x1bW5OdW1iZXIsXG4gICAgICBzdGFjazogdGhpcy5zdGFjayxcbiAgICAgIC8vIEF4aW9zXG4gICAgICBjb25maWc6IHRoaXMuY29uZmlnLFxuICAgICAgY29kZTogdGhpcy5jb2RlLFxuICAgICAgc3RhdHVzOiB0aGlzLnJlc3BvbnNlICYmIHRoaXMucmVzcG9uc2Uuc3RhdHVzID8gdGhpcy5yZXNwb25zZS5zdGF0dXMgOiBudWxsXG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIGVycm9yO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBlbmhhbmNlRXJyb3IgPSByZXF1aXJlKCcuL2VuaGFuY2VFcnJvcicpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVFcnJvcihtZXNzYWdlLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIHZhciBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi9jcmVhdGVFcnJvcicpO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIHZhciB2YWxpZGF0ZVN0YXR1cyA9IHJlc3BvbnNlLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztcbiAgaWYgKCFyZXNwb25zZS5zdGF0dXMgfHwgIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QoY3JlYXRlRXJyb3IoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgbnVsbCxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gICAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgICB2YXIgY29va2llID0gW107XG4gICAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgnZXhwaXJlcz0nICsgbmV3IERhdGUoZXhwaXJlcykudG9HTVRTdHJpbmcoKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgncGF0aD0nICsgcGF0aCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ3NlY3VyZScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgICAgcmV0dXJuIChtYXRjaCA/IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFszXSkgOiBudWxsKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgICAgdGhpcy53cml0ZShuYW1lLCAnJywgRGF0ZS5ub3coKSAtIDg2NDAwMDAwKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gICAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZSgpIHt9LFxuICAgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgICAgfTtcbiAgICB9KSgpXG4pO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQWJzb2x1dGVVUkwodXJsKSB7XG4gIC8vIEEgVVJMIGlzIGNvbnNpZGVyZWQgYWJzb2x1dGUgaWYgaXQgYmVnaW5zIHdpdGggXCI8c2NoZW1lPjovL1wiIG9yIFwiLy9cIiAocHJvdG9jb2wtcmVsYXRpdmUgVVJMKS5cbiAgLy8gUkZDIDM5ODYgZGVmaW5lcyBzY2hlbWUgbmFtZSBhcyBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgYmVnaW5uaW5nIHdpdGggYSBsZXR0ZXIgYW5kIGZvbGxvd2VkXG4gIC8vIGJ5IGFueSBjb21iaW5hdGlvbiBvZiBsZXR0ZXJzLCBkaWdpdHMsIHBsdXMsIHBlcmlvZCwgb3IgaHlwaGVuLlxuICByZXR1cm4gL14oW2Etel1bYS16XFxkXFwrXFwtXFwuXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBpc0Fic29sdXRlVVJMID0gcmVxdWlyZSgnLi4vaGVscGVycy9pc0Fic29sdXRlVVJMJyk7XG52YXIgY29tYmluZVVSTHMgPSByZXF1aXJlKCcuLi9oZWxwZXJzL2NvbWJpbmVVUkxzJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBiYXNlVVJMIHdpdGggdGhlIHJlcXVlc3RlZFVSTCxcbiAqIG9ubHkgd2hlbiB0aGUgcmVxdWVzdGVkVVJMIGlzIG5vdCBhbHJlYWR5IGFuIGFic29sdXRlIFVSTC5cbiAqIElmIHRoZSByZXF1ZXN0VVJMIGlzIGFic29sdXRlLCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHJlcXVlc3RlZFVSTCB1bnRvdWNoZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdGVkVVJMIEFic29sdXRlIG9yIHJlbGF0aXZlIFVSTCB0byBjb21iaW5lXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgZnVsbCBwYXRoXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYnVpbGRGdWxsUGF0aChiYXNlVVJMLCByZXF1ZXN0ZWRVUkwpIHtcbiAgaWYgKGJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwocmVxdWVzdGVkVVJMKSkge1xuICAgIHJldHVybiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZXF1ZXN0ZWRVUkwpO1xuICB9XG4gIHJldHVybiByZXF1ZXN0ZWRVUkw7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vLyBIZWFkZXJzIHdob3NlIGR1cGxpY2F0ZXMgYXJlIGlnbm9yZWQgYnkgbm9kZVxuLy8gYy5mLiBodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX21lc3NhZ2VfaGVhZGVyc1xudmFyIGlnbm9yZUR1cGxpY2F0ZU9mID0gW1xuICAnYWdlJywgJ2F1dGhvcml6YXRpb24nLCAnY29udGVudC1sZW5ndGgnLCAnY29udGVudC10eXBlJywgJ2V0YWcnLFxuICAnZXhwaXJlcycsICdmcm9tJywgJ2hvc3QnLCAnaWYtbW9kaWZpZWQtc2luY2UnLCAnaWYtdW5tb2RpZmllZC1zaW5jZScsXG4gICdsYXN0LW1vZGlmaWVkJywgJ2xvY2F0aW9uJywgJ21heC1mb3J3YXJkcycsICdwcm94eS1hdXRob3JpemF0aW9uJyxcbiAgJ3JlZmVyZXInLCAncmV0cnktYWZ0ZXInLCAndXNlci1hZ2VudCdcbl07XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIGBgYFxuICogRGF0ZTogV2VkLCAyNyBBdWcgMjAxNCAwODo1ODo0OSBHTVRcbiAqIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvblxuICogQ29ubmVjdGlvbjoga2VlcC1hbGl2ZVxuICogVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWRcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBoZWFkZXJzIEhlYWRlcnMgbmVlZGluZyB0byBiZSBwYXJzZWRcbiAqIEByZXR1cm5zIHtPYmplY3R9IEhlYWRlcnMgcGFyc2VkIGludG8gYW4gb2JqZWN0XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgdmFyIHBhcnNlZCA9IHt9O1xuICB2YXIga2V5O1xuICB2YXIgdmFsO1xuICB2YXIgaTtcblxuICBpZiAoIWhlYWRlcnMpIHsgcmV0dXJuIHBhcnNlZDsgfVxuXG4gIHV0aWxzLmZvckVhY2goaGVhZGVycy5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uIHBhcnNlcihsaW5lKSB7XG4gICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGtleSA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoMCwgaSkpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cihpICsgMSkpO1xuXG4gICAgaWYgKGtleSkge1xuICAgICAgaWYgKHBhcnNlZFtrZXldICYmIGlnbm9yZUR1cGxpY2F0ZU9mLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgICBwYXJzZWRba2V5XSA9IChwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldIDogW10pLmNvbmNhdChbdmFsXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZWRba2V5XSA9IHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gKyAnLCAnICsgdmFsIDogdmFsO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBhcnNlZDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3RcbiAgLy8gd2hldGhlciB0aGUgcmVxdWVzdCBVUkwgaXMgb2YgdGhlIHNhbWUgb3JpZ2luIGFzIGN1cnJlbnQgbG9jYXRpb24uXG4gICAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHZhciBtc2llID0gLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgIHZhciB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIHZhciBvcmlnaW5VUkw7XG5cbiAgICAgIC8qKlxuICAgICogUGFyc2UgYSBVUkwgdG8gZGlzY292ZXIgaXQncyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgICAgZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwpIHtcbiAgICAgICAgdmFyIGhyZWYgPSB1cmw7XG5cbiAgICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuICAgICAgICAgIGhyZWYgPSB1cmxQYXJzaW5nTm9kZS5ocmVmO1xuICAgICAgICB9XG5cbiAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cbiAgICAgICAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG4gICAgICAgICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcbiAgICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcbiAgICAgICAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxuICAgICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuICAgICAgICAgIHBhdGhuYW1lOiAodXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpID9cbiAgICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lIDpcbiAgICAgICAgICAgICcvJyArIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIG9yaWdpblVSTCA9IHJlc29sdmVVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuXG4gICAgICAvKipcbiAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgKi9cbiAgICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgICB2YXIgcGFyc2VkID0gKHV0aWxzLmlzU3RyaW5nKHJlcXVlc3RVUkwpKSA/IHJlc29sdmVVUkwocmVxdWVzdFVSTCkgOiByZXF1ZXN0VVJMO1xuICAgICAgICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVVJMLnByb3RvY29sICYmXG4gICAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuICAgICAgfTtcbiAgICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnZzICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAgIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH07XG4gICAgfSkoKVxuKTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQSBgQ2FuY2VsYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIENhbmNlbChtZXNzYWdlKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG59XG5cbkNhbmNlbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuICdDYW5jZWwnICsgKHRoaXMubWVzc2FnZSA/ICc6ICcgKyB0aGlzLm1lc3NhZ2UgOiAnJyk7XG59O1xuXG5DYW5jZWwucHJvdG90eXBlLl9fQ0FOQ0VMX18gPSB0cnVlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbDtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBzZXR0bGUgPSByZXF1aXJlKCcuLy4uL2NvcmUvc2V0dGxlJyk7XG52YXIgY29va2llcyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9jb29raWVzJyk7XG52YXIgYnVpbGRVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBidWlsZEZ1bGxQYXRoID0gcmVxdWlyZSgnLi4vY29yZS9idWlsZEZ1bGxQYXRoJyk7XG52YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL3BhcnNlSGVhZGVycycpO1xudmFyIGlzVVJMU2FtZU9yaWdpbiA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9pc1VSTFNhbWVPcmlnaW4nKTtcbnZhciBjcmVhdGVFcnJvciA9IHJlcXVpcmUoJy4uL2NvcmUvY3JlYXRlRXJyb3InKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4uL2RlZmF1bHRzJyk7XG52YXIgQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL0NhbmNlbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHhockFkYXB0ZXIoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBkaXNwYXRjaFhoclJlcXVlc3QocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJlcXVlc3REYXRhID0gY29uZmlnLmRhdGE7XG4gICAgdmFyIHJlcXVlc3RIZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG4gICAgdmFyIHJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgdmFyIG9uQ2FuY2VsZWQ7XG4gICAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICAgICAgY29uZmlnLmNhbmNlbFRva2VuLnVuc3Vic2NyaWJlKG9uQ2FuY2VsZWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29uZmlnLnNpZ25hbCkge1xuICAgICAgICBjb25maWcuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25DYW5jZWxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEocmVxdWVzdERhdGEpKSB7XG4gICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddOyAvLyBMZXQgdGhlIGJyb3dzZXIgc2V0IGl0XG4gICAgfVxuXG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgICBpZiAoY29uZmlnLmF1dGgpIHtcbiAgICAgIHZhciB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgICAgdmFyIHBhc3N3b3JkID0gY29uZmlnLmF1dGgucGFzc3dvcmQgPyB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoY29uZmlnLmF1dGgucGFzc3dvcmQpKSA6ICcnO1xuICAgICAgcmVxdWVzdEhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICB2YXIgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICBmdW5jdGlvbiBvbmxvYWRlbmQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIHZhciByZXNwb25zZUhlYWRlcnMgPSAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ID8gcGFyc2VIZWFkZXJzKHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpIDogbnVsbDtcbiAgICAgIHZhciByZXNwb25zZURhdGEgPSAhcmVzcG9uc2VUeXBlIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8ICByZXNwb25zZVR5cGUgPT09ICdqc29uJyA/XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShmdW5jdGlvbiBfcmVzb2x2ZSh2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgZnVuY3Rpb24gX3JlamVjdChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0sIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCdvbmxvYWRlbmQnIGluIHJlcXVlc3QpIHtcbiAgICAgIC8vIFVzZSBvbmxvYWRlbmQgaWYgYXZhaWxhYmxlXG4gICAgICByZXF1ZXN0Lm9ubG9hZGVuZCA9IG9ubG9hZGVuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZSB0byBlbXVsYXRlIG9ubG9hZGVuZFxuICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QgfHwgcmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAgIC8vIHdpbGwgcmV0dXJuIHN0YXR1cyBhcyAwIGV2ZW4gdGhvdWdoIGl0J3MgYSBzdWNjZXNzZnVsIHJlcXVlc3RcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlYWR5c3RhdGUgaGFuZGxlciBpcyBjYWxsaW5nIGJlZm9yZSBvbmVycm9yIG9yIG9udGltZW91dCBoYW5kbGVycyxcbiAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGNhbGwgb25sb2FkZW5kIG9uIHRoZSBuZXh0ICd0aWNrJ1xuICAgICAgICBzZXRUaW1lb3V0KG9ubG9hZGVuZCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBicm93c2VyIHJlcXVlc3QgY2FuY2VsbGF0aW9uIChhcyBvcHBvc2VkIHRvIGEgbWFudWFsIGNhbmNlbGxhdGlvbilcbiAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbiBoYW5kbGVBYm9ydCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignUmVxdWVzdCBhYm9ydGVkJywgY29uZmlnLCAnRUNPTk5BQk9SVEVEJywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignTmV0d29yayBFcnJvcicsIGNvbmZpZywgbnVsbCwgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHRpbWVvdXRcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgICB2YXIgdGltZW91dEVycm9yTWVzc2FnZSA9IGNvbmZpZy50aW1lb3V0ID8gJ3RpbWVvdXQgb2YgJyArIGNvbmZpZy50aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJyA6ICd0aW1lb3V0IGV4Y2VlZGVkJztcbiAgICAgIHZhciB0cmFuc2l0aW9uYWwgPSBjb25maWcudHJhbnNpdGlvbmFsIHx8IGRlZmF1bHRzLnRyYW5zaXRpb25hbDtcbiAgICAgIGlmIChjb25maWcudGltZW91dEVycm9yTWVzc2FnZSkge1xuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlID0gY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2U7XG4gICAgICB9XG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IoXG4gICAgICAgIHRpbWVvdXRFcnJvck1lc3NhZ2UsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgdHJhbnNpdGlvbmFsLmNsYXJpZnlUaW1lb3V0RXJyb3IgPyAnRVRJTUVET1VUJyA6ICdFQ09OTkFCT1JURUQnLFxuICAgICAgICByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAvLyBUaGlzIGlzIG9ubHkgZG9uZSBpZiBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAgICAvLyBTcGVjaWZpY2FsbHkgbm90IGlmIHdlJ3JlIGluIGEgd2ViIHdvcmtlciwgb3IgcmVhY3QtbmF0aXZlLlxuICAgIGlmICh1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpKSB7XG4gICAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAgIHZhciB4c3JmVmFsdWUgPSAoY29uZmlnLndpdGhDcmVkZW50aWFscyB8fCBpc1VSTFNhbWVPcmlnaW4oZnVsbFBhdGgpKSAmJiBjb25maWcueHNyZkNvb2tpZU5hbWUgP1xuICAgICAgICBjb29raWVzLnJlYWQoY29uZmlnLnhzcmZDb29raWVOYW1lKSA6XG4gICAgICAgIHVuZGVmaW5lZDtcblxuICAgICAgaWYgKHhzcmZWYWx1ZSkge1xuICAgICAgICByZXF1ZXN0SGVhZGVyc1tjb25maWcueHNyZkhlYWRlck5hbWVdID0geHNyZlZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0XG4gICAgaWYgKCdzZXRSZXF1ZXN0SGVhZGVyJyBpbiByZXF1ZXN0KSB7XG4gICAgICB1dGlscy5mb3JFYWNoKHJlcXVlc3RIZWFkZXJzLCBmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKHZhbCwga2V5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdERhdGEgPT09ICd1bmRlZmluZWQnICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSAnY29udGVudC10eXBlJykge1xuICAgICAgICAgIC8vIFJlbW92ZSBDb250ZW50LVR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICAgICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPdGhlcndpc2UgYWRkIGhlYWRlciB0byB0aGUgcmVxdWVzdFxuICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCB3aXRoQ3JlZGVudGlhbHMgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpKSB7XG4gICAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9ICEhY29uZmlnLndpdGhDcmVkZW50aWFscztcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKHJlc3BvbnNlVHlwZSAmJiByZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBjb25maWcucmVzcG9uc2VUeXBlO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25Eb3dubG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4gfHwgY29uZmlnLnNpZ25hbCkge1xuICAgICAgLy8gSGFuZGxlIGNhbmNlbGxhdGlvblxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICAgIG9uQ2FuY2VsZWQgPSBmdW5jdGlvbihjYW5jZWwpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlamVjdCghY2FuY2VsIHx8IChjYW5jZWwgJiYgY2FuY2VsLnR5cGUpID8gbmV3IENhbmNlbCgnY2FuY2VsZWQnKSA6IGNhbmNlbCk7XG4gICAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgICB9O1xuXG4gICAgICBjb25maWcuY2FuY2VsVG9rZW4gJiYgY29uZmlnLmNhbmNlbFRva2VuLnN1YnNjcmliZShvbkNhbmNlbGVkKTtcbiAgICAgIGlmIChjb25maWcuc2lnbmFsKSB7XG4gICAgICAgIGNvbmZpZy5zaWduYWwuYWJvcnRlZCA/IG9uQ2FuY2VsZWQoKSA6IGNvbmZpZy5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkNhbmNlbGVkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXJlcXVlc3REYXRhKSB7XG4gICAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG4gIH0pO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBub3JtYWxpemVIZWFkZXJOYW1lID0gcmVxdWlyZSgnLi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUnKTtcbnZhciBlbmhhbmNlRXJyb3IgPSByZXF1aXJlKCcuL2NvcmUvZW5oYW5jZUVycm9yJyk7XG5cbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuICB2YXIgYWRhcHRlcjtcbiAgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBGb3IgYnJvd3NlcnMgdXNlIFhIUiBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4vYWRhcHRlcnMveGhyJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKSB7XG4gICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL2h0dHAnKTtcbiAgfVxuICByZXR1cm4gYWRhcHRlcjtcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5U2FmZWx5KHJhd1ZhbHVlLCBwYXJzZXIsIGVuY29kZXIpIHtcbiAgaWYgKHV0aWxzLmlzU3RyaW5nKHJhd1ZhbHVlKSkge1xuICAgIHRyeSB7XG4gICAgICAocGFyc2VyIHx8IEpTT04ucGFyc2UpKHJhd1ZhbHVlKTtcbiAgICAgIHJldHVybiB1dGlscy50cmltKHJhd1ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZS5uYW1lICE9PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChlbmNvZGVyIHx8IEpTT04uc3RyaW5naWZ5KShyYXdWYWx1ZSk7XG59XG5cbnZhciBkZWZhdWx0cyA9IHtcblxuICB0cmFuc2l0aW9uYWw6IHtcbiAgICBzaWxlbnRKU09OUGFyc2luZzogdHJ1ZSxcbiAgICBmb3JjZWRKU09OUGFyc2luZzogdHJ1ZSxcbiAgICBjbGFyaWZ5VGltZW91dEVycm9yOiBmYWxzZVxuICB9LFxuXG4gIGFkYXB0ZXI6IGdldERlZmF1bHRBZGFwdGVyKCksXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0FjY2VwdCcpO1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0NvbnRlbnQtVHlwZScpO1xuXG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc1N0cmVhbShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNGaWxlKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0Jsb2IoZGF0YSlcbiAgICApIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNPYmplY3QoZGF0YSkgfHwgKGhlYWRlcnMgJiYgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPT09ICdhcHBsaWNhdGlvbi9qc29uJykpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgcmV0dXJuIHN0cmluZ2lmeVNhZmVseShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIHZhciB0cmFuc2l0aW9uYWwgPSB0aGlzLnRyYW5zaXRpb25hbCB8fCBkZWZhdWx0cy50cmFuc2l0aW9uYWw7XG4gICAgdmFyIHNpbGVudEpTT05QYXJzaW5nID0gdHJhbnNpdGlvbmFsICYmIHRyYW5zaXRpb25hbC5zaWxlbnRKU09OUGFyc2luZztcbiAgICB2YXIgZm9yY2VkSlNPTlBhcnNpbmcgPSB0cmFuc2l0aW9uYWwgJiYgdHJhbnNpdGlvbmFsLmZvcmNlZEpTT05QYXJzaW5nO1xuICAgIHZhciBzdHJpY3RKU09OUGFyc2luZyA9ICFzaWxlbnRKU09OUGFyc2luZyAmJiB0aGlzLnJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nO1xuXG4gICAgaWYgKHN0cmljdEpTT05QYXJzaW5nIHx8IChmb3JjZWRKU09OUGFyc2luZyAmJiB1dGlscy5pc1N0cmluZyhkYXRhKSAmJiBkYXRhLmxlbmd0aCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoc3RyaWN0SlNPTlBhcnNpbmcpIHtcbiAgICAgICAgICBpZiAoZS5uYW1lID09PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBlbmhhbmNlRXJyb3IoZSwgdGhpcywgJ0VfSlNPTl9QQVJTRScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIC8qKlxuICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcbiAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cbiAgICovXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuICBtYXhCb2R5TGVuZ3RoOiAtMSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9LFxuXG4gIGhlYWRlcnM6IHtcbiAgICBjb21tb246IHtcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xuICAgIH1cbiAgfVxufTtcblxudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB1dGlscy5tZXJnZShERUZBVUxUX0NPTlRFTlRfVFlQRSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZhdWx0cztcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vLi4vZGVmYXVsdHMnKTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhlIGRhdGEgZm9yIGEgcmVxdWVzdCBvciBhIHJlc3BvbnNlXG4gKlxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHRyYW5zZm9ybWVkXG4gKiBAcGFyYW0ge0FycmF5fSBoZWFkZXJzIFRoZSBoZWFkZXJzIGZvciB0aGUgcmVxdWVzdCBvciByZXNwb25zZVxuICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbn0gZm5zIEEgc2luZ2xlIGZ1bmN0aW9uIG9yIEFycmF5IG9mIGZ1bmN0aW9uc1xuICogQHJldHVybnMgeyp9IFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtZWQgZGF0YVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZGF0YSwgaGVhZGVycywgZm5zKSB7XG4gIHZhciBjb250ZXh0ID0gdGhpcyB8fCBkZWZhdWx0cztcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIHV0aWxzLmZvckVhY2goZm5zLCBmdW5jdGlvbiB0cmFuc2Zvcm0oZm4pIHtcbiAgICBkYXRhID0gZm4uY2FsbChjb250ZXh0LCBkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHRyYW5zZm9ybURhdGEgPSByZXF1aXJlKCcuL3RyYW5zZm9ybURhdGEnKTtcbnZhciBpc0NhbmNlbCA9IHJlcXVpcmUoJy4uL2NhbmNlbC9pc0NhbmNlbCcpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi4vZGVmYXVsdHMnKTtcbnZhciBDYW5jZWwgPSByZXF1aXJlKCcuLi9jYW5jZWwvQ2FuY2VsJyk7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cblxuICBpZiAoY29uZmlnLnNpZ25hbCAmJiBjb25maWcuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICB0aHJvdyBuZXcgQ2FuY2VsKCdjYW5jZWxlZCcpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIC8vIEVuc3VyZSBoZWFkZXJzIGV4aXN0XG4gIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICBjb25maWcsXG4gICAgY29uZmlnLmRhdGEsXG4gICAgY29uZmlnLmhlYWRlcnMsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcbiAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNcbiAgKTtcblxuICB1dGlscy5mb3JFYWNoKFxuICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG4gICAgfVxuICApO1xuXG4gIHZhciBhZGFwdGVyID0gY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcjtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICAgIGNvbmZpZyxcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIENvbmZpZy1zcGVjaWZpYyBtZXJnZS1mdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IGNvbmZpZy1vYmplY3RcbiAqIGJ5IG1lcmdpbmcgdHdvIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB0b2dldGhlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzJcbiAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBvYmplY3QgcmVzdWx0aW5nIGZyb20gbWVyZ2luZyBjb25maWcyIHRvIGNvbmZpZzFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcxLCBjb25maWcyKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBjb25maWcyID0gY29uZmlnMiB8fCB7fTtcbiAgdmFyIGNvbmZpZyA9IHt9O1xuXG4gIGZ1bmN0aW9uIGdldE1lcmdlZFZhbHVlKHRhcmdldCwgc291cmNlKSB7XG4gICAgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3QodGFyZ2V0KSAmJiB1dGlscy5pc1BsYWluT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiB1dGlscy5tZXJnZSh0YXJnZXQsIHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiB1dGlscy5tZXJnZSh7fSwgc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHNvdXJjZS5zbGljZSgpO1xuICAgIH1cbiAgICByZXR1cm4gc291cmNlO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIG1lcmdlRGVlcFByb3BlcnRpZXMocHJvcCkge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoY29uZmlnMltwcm9wXSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZShjb25maWcxW3Byb3BdLCBjb25maWcyW3Byb3BdKTtcbiAgICB9IGVsc2UgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChjb25maWcxW3Byb3BdKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgY29uZmlnMVtwcm9wXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIHZhbHVlRnJvbUNvbmZpZzIocHJvcCkge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoY29uZmlnMltwcm9wXSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGNvbmZpZzJbcHJvcF0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBkZWZhdWx0VG9Db25maWcyKHByb3ApIHtcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZzJbcHJvcF0pKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBjb25maWcyW3Byb3BdKTtcbiAgICB9IGVsc2UgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChjb25maWcxW3Byb3BdKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgY29uZmlnMVtwcm9wXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIG1lcmdlRGlyZWN0S2V5cyhwcm9wKSB7XG4gICAgaWYgKHByb3AgaW4gY29uZmlnMikge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGNvbmZpZzFbcHJvcF0sIGNvbmZpZzJbcHJvcF0pO1xuICAgIH0gZWxzZSBpZiAocHJvcCBpbiBjb25maWcxKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBjb25maWcxW3Byb3BdKTtcbiAgICB9XG4gIH1cblxuICB2YXIgbWVyZ2VNYXAgPSB7XG4gICAgJ3VybCc6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgJ21ldGhvZCc6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgJ2RhdGEnOiB2YWx1ZUZyb21Db25maWcyLFxuICAgICdiYXNlVVJMJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAndHJhbnNmb3JtUmVxdWVzdCc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3RyYW5zZm9ybVJlc3BvbnNlJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAncGFyYW1zU2VyaWFsaXplcic6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3RpbWVvdXQnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICd0aW1lb3V0TWVzc2FnZSc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3dpdGhDcmVkZW50aWFscyc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ2FkYXB0ZXInOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdyZXNwb25zZVR5cGUnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICd4c3JmQ29va2llTmFtZSc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3hzcmZIZWFkZXJOYW1lJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAnb25VcGxvYWRQcm9ncmVzcyc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ29uRG93bmxvYWRQcm9ncmVzcyc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ2RlY29tcHJlc3MnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdtYXhDb250ZW50TGVuZ3RoJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAnbWF4Qm9keUxlbmd0aCc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3RyYW5zcG9ydCc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ2h0dHBBZ2VudCc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ2h0dHBzQWdlbnQnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdjYW5jZWxUb2tlbic6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3NvY2tldFBhdGgnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdyZXNwb25zZUVuY29kaW5nJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAndmFsaWRhdGVTdGF0dXMnOiBtZXJnZURpcmVjdEtleXNcbiAgfTtcblxuICB1dGlscy5mb3JFYWNoKE9iamVjdC5rZXlzKGNvbmZpZzEpLmNvbmNhdChPYmplY3Qua2V5cyhjb25maWcyKSksIGZ1bmN0aW9uIGNvbXB1dGVDb25maWdWYWx1ZShwcm9wKSB7XG4gICAgdmFyIG1lcmdlID0gbWVyZ2VNYXBbcHJvcF0gfHwgbWVyZ2VEZWVwUHJvcGVydGllcztcbiAgICB2YXIgY29uZmlnVmFsdWUgPSBtZXJnZShwcm9wKTtcbiAgICAodXRpbHMuaXNVbmRlZmluZWQoY29uZmlnVmFsdWUpICYmIG1lcmdlICE9PSBtZXJnZURpcmVjdEtleXMpIHx8IChjb25maWdbcHJvcF0gPSBjb25maWdWYWx1ZSk7XG4gIH0pO1xuXG4gIHJldHVybiBjb25maWc7XG59O1xuIiwgIm1vZHVsZS5leHBvcnRzID0ge1xuICBcInZlcnNpb25cIjogXCIwLjI0LjBcIlxufTsiLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVkVSU0lPTiA9IHJlcXVpcmUoJy4uL2Vudi9kYXRhJykudmVyc2lvbjtcblxudmFyIHZhbGlkYXRvcnMgPSB7fTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblsnb2JqZWN0JywgJ2Jvb2xlYW4nLCAnbnVtYmVyJywgJ2Z1bmN0aW9uJywgJ3N0cmluZycsICdzeW1ib2wnXS5mb3JFYWNoKGZ1bmN0aW9uKHR5cGUsIGkpIHtcbiAgdmFsaWRhdG9yc1t0eXBlXSA9IGZ1bmN0aW9uIHZhbGlkYXRvcih0aGluZykge1xuICAgIHJldHVybiB0eXBlb2YgdGhpbmcgPT09IHR5cGUgfHwgJ2EnICsgKGkgPCAxID8gJ24gJyA6ICcgJykgKyB0eXBlO1xuICB9O1xufSk7XG5cbnZhciBkZXByZWNhdGVkV2FybmluZ3MgPSB7fTtcblxuLyoqXG4gKiBUcmFuc2l0aW9uYWwgb3B0aW9uIHZhbGlkYXRvclxuICogQHBhcmFtIHtmdW5jdGlvbnxib29sZWFuP30gdmFsaWRhdG9yIC0gc2V0IHRvIGZhbHNlIGlmIHRoZSB0cmFuc2l0aW9uYWwgb3B0aW9uIGhhcyBiZWVuIHJlbW92ZWRcbiAqIEBwYXJhbSB7c3RyaW5nP30gdmVyc2lvbiAtIGRlcHJlY2F0ZWQgdmVyc2lvbiAvIHJlbW92ZWQgc2luY2UgdmVyc2lvblxuICogQHBhcmFtIHtzdHJpbmc/fSBtZXNzYWdlIC0gc29tZSBtZXNzYWdlIHdpdGggYWRkaXRpb25hbCBpbmZvXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cbnZhbGlkYXRvcnMudHJhbnNpdGlvbmFsID0gZnVuY3Rpb24gdHJhbnNpdGlvbmFsKHZhbGlkYXRvciwgdmVyc2lvbiwgbWVzc2FnZSkge1xuICBmdW5jdGlvbiBmb3JtYXRNZXNzYWdlKG9wdCwgZGVzYykge1xuICAgIHJldHVybiAnW0F4aW9zIHYnICsgVkVSU0lPTiArICddIFRyYW5zaXRpb25hbCBvcHRpb24gXFwnJyArIG9wdCArICdcXCcnICsgZGVzYyArIChtZXNzYWdlID8gJy4gJyArIG1lc3NhZ2UgOiAnJyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG9wdCwgb3B0cykge1xuICAgIGlmICh2YWxpZGF0b3IgPT09IGZhbHNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZm9ybWF0TWVzc2FnZShvcHQsICcgaGFzIGJlZW4gcmVtb3ZlZCcgKyAodmVyc2lvbiA/ICcgaW4gJyArIHZlcnNpb24gOiAnJykpKTtcbiAgICB9XG5cbiAgICBpZiAodmVyc2lvbiAmJiAhZGVwcmVjYXRlZFdhcm5pbmdzW29wdF0pIHtcbiAgICAgIGRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdID0gdHJ1ZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGZvcm1hdE1lc3NhZ2UoXG4gICAgICAgICAgb3B0LFxuICAgICAgICAgICcgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2JyArIHZlcnNpb24gKyAnIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5lYXIgZnV0dXJlJ1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0b3IgPyB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0cykgOiB0cnVlO1xuICB9O1xufTtcblxuLyoqXG4gKiBBc3NlcnQgb2JqZWN0J3MgcHJvcGVydGllcyB0eXBlXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtvYmplY3R9IHNjaGVtYVxuICogQHBhcmFtIHtib29sZWFuP30gYWxsb3dVbmtub3duXG4gKi9cblxuZnVuY3Rpb24gYXNzZXJ0T3B0aW9ucyhvcHRpb25zLCBzY2hlbWEsIGFsbG93VW5rbm93bikge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG4gIHZhciBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgdmFyIG9wdCA9IGtleXNbaV07XG4gICAgdmFyIHZhbGlkYXRvciA9IHNjaGVtYVtvcHRdO1xuICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgIHZhciB2YWx1ZSA9IG9wdGlvbnNbb3B0XTtcbiAgICAgIHZhciByZXN1bHQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbGlkYXRvcih2YWx1ZSwgb3B0LCBvcHRpb25zKTtcbiAgICAgIGlmIChyZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uICcgKyBvcHQgKyAnIG11c3QgYmUgJyArIHJlc3VsdCk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGFsbG93VW5rbm93biAhPT0gdHJ1ZSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ1Vua25vd24gb3B0aW9uICcgKyBvcHQpO1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYXNzZXJ0T3B0aW9uczogYXNzZXJ0T3B0aW9ucyxcbiAgdmFsaWRhdG9yczogdmFsaWRhdG9yc1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBJbnRlcmNlcHRvck1hbmFnZXIgPSByZXF1aXJlKCcuL0ludGVyY2VwdG9yTWFuYWdlcicpO1xudmFyIGRpc3BhdGNoUmVxdWVzdCA9IHJlcXVpcmUoJy4vZGlzcGF0Y2hSZXF1ZXN0Jyk7XG52YXIgbWVyZ2VDb25maWcgPSByZXF1aXJlKCcuL21lcmdlQ29uZmlnJyk7XG52YXIgdmFsaWRhdG9yID0gcmVxdWlyZSgnLi4vaGVscGVycy92YWxpZGF0b3InKTtcblxudmFyIHZhbGlkYXRvcnMgPSB2YWxpZGF0b3IudmFsaWRhdG9ycztcbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIEF4aW9zKGluc3RhbmNlQ29uZmlnKSB7XG4gIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgfTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAqL1xuQXhpb3MucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25maWcgPSBhcmd1bWVudHNbMV0gfHwge307XG4gICAgY29uZmlnLnVybCA9IGFyZ3VtZW50c1swXTtcbiAgfSBlbHNlIHtcbiAgICBjb25maWcgPSBjb25maWcgfHwge307XG4gIH1cblxuICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuXG4gIC8vIFNldCBjb25maWcubWV0aG9kXG4gIGlmIChjb25maWcubWV0aG9kKSB7XG4gICAgY29uZmlnLm1ldGhvZCA9IGNvbmZpZy5tZXRob2QudG9Mb3dlckNhc2UoKTtcbiAgfSBlbHNlIGlmICh0aGlzLmRlZmF1bHRzLm1ldGhvZCkge1xuICAgIGNvbmZpZy5tZXRob2QgPSB0aGlzLmRlZmF1bHRzLm1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZy5tZXRob2QgPSAnZ2V0JztcbiAgfVxuXG4gIHZhciB0cmFuc2l0aW9uYWwgPSBjb25maWcudHJhbnNpdGlvbmFsO1xuXG4gIGlmICh0cmFuc2l0aW9uYWwgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhbGlkYXRvci5hc3NlcnRPcHRpb25zKHRyYW5zaXRpb25hbCwge1xuICAgICAgc2lsZW50SlNPTlBhcnNpbmc6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbiksXG4gICAgICBmb3JjZWRKU09OUGFyc2luZzogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKSxcbiAgICAgIGNsYXJpZnlUaW1lb3V0RXJyb3I6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbilcbiAgICB9LCBmYWxzZSk7XG4gIH1cblxuICAvLyBmaWx0ZXIgb3V0IHNraXBwZWQgaW50ZXJjZXB0b3JzXG4gIHZhciByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbiA9IFtdO1xuICB2YXIgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gdHJ1ZTtcbiAgdGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKGZ1bmN0aW9uIHVuc2hpZnRSZXF1ZXN0SW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgaWYgKHR5cGVvZiBpbnRlcmNlcHRvci5ydW5XaGVuID09PSAnZnVuY3Rpb24nICYmIGludGVyY2VwdG9yLnJ1bldoZW4oY29uZmlnKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMgPSBzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMgJiYgaW50ZXJjZXB0b3Iuc3luY2hyb25vdXM7XG5cbiAgICByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB2YXIgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluID0gW107XG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHZhciBwcm9taXNlO1xuXG4gIGlmICghc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzKSB7XG4gICAgdmFyIGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdCwgdW5kZWZpbmVkXTtcblxuICAgIEFycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGNoYWluLCByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbik7XG4gICAgY2hhaW4gPSBjaGFpbi5jb25jYXQocmVzcG9uc2VJbnRlcmNlcHRvckNoYWluKTtcblxuICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcbiAgICB3aGlsZSAoY2hhaW4ubGVuZ3RoKSB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluLnNoaWZ0KCksIGNoYWluLnNoaWZ0KCkpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cblxuICB2YXIgbmV3Q29uZmlnID0gY29uZmlnO1xuICB3aGlsZSAocmVxdWVzdEludGVyY2VwdG9yQ2hhaW4ubGVuZ3RoKSB7XG4gICAgdmFyIG9uRnVsZmlsbGVkID0gcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4uc2hpZnQoKTtcbiAgICB2YXIgb25SZWplY3RlZCA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluLnNoaWZ0KCk7XG4gICAgdHJ5IHtcbiAgICAgIG5ld0NvbmZpZyA9IG9uRnVsZmlsbGVkKG5ld0NvbmZpZyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG9uUmVqZWN0ZWQoZXJyb3IpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdHJ5IHtcbiAgICBwcm9taXNlID0gZGlzcGF0Y2hSZXF1ZXN0KG5ld0NvbmZpZyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgfVxuXG4gIHdoaWxlIChyZXNwb25zZUludGVyY2VwdG9yQ2hhaW4ubGVuZ3RoKSB7XG4gICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihyZXNwb25zZUludGVyY2VwdG9yQ2hhaW4uc2hpZnQoKSwgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluLnNoaWZ0KCkpO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG5BeGlvcy5wcm90b3R5cGUuZ2V0VXJpID0gZnVuY3Rpb24gZ2V0VXJpKGNvbmZpZykge1xuICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuICByZXR1cm4gYnVpbGRVUkwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLnJlcGxhY2UoL15cXD8vLCAnJyk7XG59O1xuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyhjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiAoY29uZmlnIHx8IHt9KS5kYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KG1lcmdlQ29uZmlnKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybCxcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9KSk7XG4gIH07XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBeGlvcztcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBDYW5jZWwgPSByZXF1aXJlKCcuL0NhbmNlbCcpO1xuXG4vKipcbiAqIEEgYENhbmNlbFRva2VuYCBpcyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byByZXF1ZXN0IGNhbmNlbGxhdGlvbiBvZiBhbiBvcGVyYXRpb24uXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBleGVjdXRvciBUaGUgZXhlY3V0b3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIENhbmNlbFRva2VuKGV4ZWN1dG9yKSB7XG4gIGlmICh0eXBlb2YgZXhlY3V0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgcmVzb2x2ZVByb21pc2U7XG5cbiAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gIH0pO1xuXG4gIHZhciB0b2tlbiA9IHRoaXM7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgdGhpcy5wcm9taXNlLnRoZW4oZnVuY3Rpb24oY2FuY2VsKSB7XG4gICAgaWYgKCF0b2tlbi5fbGlzdGVuZXJzKSByZXR1cm47XG5cbiAgICB2YXIgaTtcbiAgICB2YXIgbCA9IHRva2VuLl9saXN0ZW5lcnMubGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgdG9rZW4uX2xpc3RlbmVyc1tpXShjYW5jZWwpO1xuICAgIH1cbiAgICB0b2tlbi5fbGlzdGVuZXJzID0gbnVsbDtcbiAgfSk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgdGhpcy5wcm9taXNlLnRoZW4gPSBmdW5jdGlvbihvbmZ1bGZpbGxlZCkge1xuICAgIHZhciBfcmVzb2x2ZTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgdG9rZW4uc3Vic2NyaWJlKHJlc29sdmUpO1xuICAgICAgX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgIH0pLnRoZW4ob25mdWxmaWxsZWQpO1xuXG4gICAgcHJvbWlzZS5jYW5jZWwgPSBmdW5jdGlvbiByZWplY3QoKSB7XG4gICAgICB0b2tlbi51bnN1YnNjcmliZShfcmVzb2x2ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9O1xuXG4gIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlKSB7XG4gICAgaWYgKHRva2VuLnJlYXNvbikge1xuICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbChtZXNzYWdlKTtcbiAgICByZXNvbHZlUHJvbWlzZSh0b2tlbi5yZWFzb24pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICovXG5DYW5jZWxUb2tlbi5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZCA9IGZ1bmN0aW9uIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gIGlmICh0aGlzLnJlYXNvbikge1xuICAgIHRocm93IHRoaXMucmVhc29uO1xuICB9XG59O1xuXG4vKipcbiAqIFN1YnNjcmliZSB0byB0aGUgY2FuY2VsIHNpZ25hbFxuICovXG5cbkNhbmNlbFRva2VuLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgbGlzdGVuZXIodGhpcy5yZWFzb24pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fbGlzdGVuZXJzID0gW2xpc3RlbmVyXTtcbiAgfVxufTtcblxuLyoqXG4gKiBVbnN1YnNjcmliZSBmcm9tIHRoZSBjYW5jZWwgc2lnbmFsXG4gKi9cblxuQ2FuY2VsVG9rZW4ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gdW5zdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgaWYgKCF0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGluZGV4ID0gdGhpcy5fbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgdGhpcy5fbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuICogY2FuY2VscyB0aGUgYENhbmNlbFRva2VuYC5cbiAqL1xuQ2FuY2VsVG9rZW4uc291cmNlID0gZnVuY3Rpb24gc291cmNlKCkge1xuICB2YXIgY2FuY2VsO1xuICB2YXIgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgIGNhbmNlbCA9IGM7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHRva2VuOiB0b2tlbixcbiAgICBjYW5jZWw6IGNhbmNlbFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWxUb2tlbjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3ludGFjdGljIHN1Z2FyIGZvciBpbnZva2luZyBhIGZ1bmN0aW9uIGFuZCBleHBhbmRpbmcgYW4gYXJyYXkgZm9yIGFyZ3VtZW50cy5cbiAqXG4gKiBDb21tb24gdXNlIGNhc2Ugd291bGQgYmUgdG8gdXNlIGBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHlgLlxuICpcbiAqICBgYGBqc1xuICogIGZ1bmN0aW9uIGYoeCwgeSwgeikge31cbiAqICB2YXIgYXJncyA9IFsxLCAyLCAzXTtcbiAqICBmLmFwcGx5KG51bGwsIGFyZ3MpO1xuICogIGBgYFxuICpcbiAqIFdpdGggYHNwcmVhZGAgdGhpcyBleGFtcGxlIGNhbiBiZSByZS13cml0dGVuLlxuICpcbiAqICBgYGBqc1xuICogIHNwcmVhZChmdW5jdGlvbih4LCB5LCB6KSB7fSkoWzEsIDIsIDNdKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3NcbiAqXG4gKiBAcGFyYW0geyp9IHBheWxvYWQgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBwYXlsb2FkIGlzIGFuIGVycm9yIHRocm93biBieSBBeGlvcywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBeGlvc0Vycm9yKHBheWxvYWQpIHtcbiAgcmV0dXJuICh0eXBlb2YgcGF5bG9hZCA9PT0gJ29iamVjdCcpICYmIChwYXlsb2FkLmlzQXhpb3NFcnJvciA9PT0gdHJ1ZSk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIEF4aW9zID0gcmVxdWlyZSgnLi9jb3JlL0F4aW9zJyk7XG52YXIgbWVyZ2VDb25maWcgPSByZXF1aXJlKCcuL2NvcmUvbWVyZ2VDb25maWcnKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRDb25maWcpIHtcbiAgdmFyIGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIHZhciBpbnN0YW5jZSA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MucHJvdG90eXBlLCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGNvbnRleHQgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBjb250ZXh0KTtcblxuICAvLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG4gIGluc3RhbmNlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICAgIHJldHVybiBjcmVhdGVJbnN0YW5jZShtZXJnZUNvbmZpZyhkZWZhdWx0Q29uZmlnLCBpbnN0YW5jZUNvbmZpZykpO1xuICB9O1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG52YXIgYXhpb3MgPSBjcmVhdGVJbnN0YW5jZShkZWZhdWx0cyk7XG5cbi8vIEV4cG9zZSBBeGlvcyBjbGFzcyB0byBhbGxvdyBjbGFzcyBpbmhlcml0YW5jZVxuYXhpb3MuQXhpb3MgPSBBeGlvcztcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWwnKTtcbmF4aW9zLkNhbmNlbFRva2VuID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsVG9rZW4nKTtcbmF4aW9zLmlzQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvaXNDYW5jZWwnKTtcbmF4aW9zLlZFUlNJT04gPSByZXF1aXJlKCcuL2Vudi9kYXRhJykudmVyc2lvbjtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbmF4aW9zLnNwcmVhZCA9IHJlcXVpcmUoJy4vaGVscGVycy9zcHJlYWQnKTtcblxuLy8gRXhwb3NlIGlzQXhpb3NFcnJvclxuYXhpb3MuaXNBeGlvc0Vycm9yID0gcmVxdWlyZSgnLi9oZWxwZXJzL2lzQXhpb3NFcnJvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGF4aW9zO1xuXG4vLyBBbGxvdyB1c2Ugb2YgZGVmYXVsdCBpbXBvcnQgc3ludGF4IGluIFR5cGVTY3JpcHRcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBheGlvcztcbiIsICJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL2F4aW9zJyk7IiwgImltcG9ydCB7IEVkaXRvciwgTWFya2Rvd25WaWV3LCBQbHVnaW4gfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IERFRkFVTFRfU0VUVElOR1MsIFdvcmRwcmVzc1BsdWdpblNldHRpbmdzLCBXb3JkcHJlc3NTZXR0aW5nVGFiIH0gZnJvbSAnLi9zZXR0aW5ncyc7XHJcbmltcG9ydCB7IGFkZEljb25zIH0gZnJvbSAnLi9pY29ucyc7XHJcbmltcG9ydCB7IFdvcmRQcmVzc1B1Ymxpc2hWaWV3LCBXb3JkUHJlc3NQdWJsaXNoVmlld1R5cGUgfSBmcm9tICcuL3dwLXB1Ymxpc2gtdmlldyc7XHJcbmltcG9ydCB7IGNyZWF0ZVdvcmRQcmVzc0NsaWVudCB9IGZyb20gJy4vd3AtY2xpZW50JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmRwcmVzc1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblxyXG5cdHNldHRpbmdzOiBXb3JkcHJlc3NQbHVnaW5TZXR0aW5ncztcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG4gICAgY29uc29sZS5sb2coJ2xvYWRpbmcgb2JzaWRpYW4td29yZHByZXNzIHBsdWdpbicpO1xyXG5cclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblxyXG4gICAgdGhpcy5yZWdpc3RlclZpZXcoXHJcbiAgICAgIFdvcmRQcmVzc1B1Ymxpc2hWaWV3VHlwZSxcclxuICAgICAgbGVhZiA9PiBuZXcgV29yZFByZXNzUHVibGlzaFZpZXcobGVhZiwgdGhpcylcclxuICAgICk7XHJcblxyXG4gICAgYWRkSWNvbnMoKTtcclxuXHJcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5zaG93UmliYm9uSWNvbikge1xyXG4gICAgICB0aGlzLmFkZFJpYmJvbkljb24oJ3dwLWxvZ28nLCAnV29yZFByZXNzIFB1Ymxpc2gnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50b2dnbGVXb3JkUHJlc3NQdWJsaXNoVmlldygpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ3B1Ymxpc2gnLFxyXG5cdFx0XHRuYW1lOiAnUHVibGlzaCBjdXJyZW50IGRvY3VtZW50JyxcclxuXHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2xpZW50ID0gY3JlYXRlV29yZFByZXNzQ2xpZW50KHRoaXMuYXBwLCB0aGlzKTtcclxuICAgICAgICBpZiAoY2xpZW50KSB7XHJcbiAgICAgICAgICBjbGllbnQubmV3UG9zdCgpLnRoZW4oKTtcclxuICAgICAgICB9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgV29yZHByZXNzU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cdH1cclxuXHJcblx0b251bmxvYWQoKSB7XHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG5cclxuICBwcml2YXRlIGFzeW5jIHRvZ2dsZVdvcmRQcmVzc1B1Ymxpc2hWaWV3KCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFdvcmRQcmVzc1B1Ymxpc2hWaWV3VHlwZSk7XHJcbiAgICBpZiAoZXhpc3RpbmcubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5yZXZlYWxMZWFmKGV4aXN0aW5nWzBdKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpLnNldFZpZXdTdGF0ZSh7XHJcbiAgICAgIHR5cGU6IFdvcmRQcmVzc1B1Ymxpc2hWaWV3VHlwZSxcclxuICAgICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5hcHAud29ya3NwYWNlLnJldmVhbExlYWYodGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShXb3JkUHJlc3NQdWJsaXNoVmlld1R5cGUpWzBdKTtcclxuICB9XHJcblxyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCBXb3JkcHJlc3NQbHVnaW4gZnJvbSAnLi9tYWluJztcclxuXHJcbmV4cG9ydCBjb25zdCBlbnVtIEFwaVR5cGUge1xyXG4gIFhNTF9SUEMgPSAneG1sLXJwYycsXHJcbiAgUmVzdEFQSV9KZXRwYWNrID0gJ3Jlc3RhcGktamV0cGFjaycsXHJcbiAgUmVzdEFQSV9PQXV0aDIgPSAncmVzdGFwaS1vYXV0aDInXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgV29yZHByZXNzUGx1Z2luU2V0dGluZ3Mge1xyXG5cclxuICAvKipcclxuICAgKiBBUEkgdHlwZS5cclxuICAgKi9cclxuICBhcGlUeXBlOiBBcGlUeXBlO1xyXG5cclxuICAvKipcclxuICAgKiBFbmRwb2ludC5cclxuICAgKi9cclxuICBlbmRwb2ludDogc3RyaW5nO1xyXG5cclxuICAvKipcclxuICAgKiBXb3JkUHJlc3MgdXNlciBuYW1lLlxyXG4gICAqL1xyXG4gIHVzZXJOYW1lPzogc3RyaW5nO1xyXG5cclxuICAvKipcclxuICAgKiBTYXZlIHVzZXIgbmFtZSB0byBsb2NhbCBkYXRhLlxyXG4gICAqL1xyXG4gIHNhdmVVc2VyTmFtZTogYm9vbGVhbjtcclxuXHJcbiAgLyoqXHJcbiAgICogU2hvdyBwbHVnaW4gaWNvbiBpbiBzaWRlLlxyXG4gICAqL1xyXG4gIHNob3dSaWJib25JY29uOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogV29yZHByZXNzUGx1Z2luU2V0dGluZ3MgPSB7XHJcbiAgYXBpVHlwZTogQXBpVHlwZS5YTUxfUlBDLFxyXG4gIGVuZHBvaW50OiAnJyxcclxuICBzYXZlVXNlck5hbWU6IGZhbHNlLFxyXG4gIHNob3dSaWJib25JY29uOiBmYWxzZVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgV29yZHByZXNzU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuICAgIGFwcDogQXBwLFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBwbHVnaW46IFdvcmRwcmVzc1BsdWdpblxyXG4gICkge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdH1cclxuXHJcblx0ZGlzcGxheSgpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xyXG5cclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywge3RleHQ6ICdTZXR0aW5ncyBmb3IgV29yZFByZXNzIFB1Ymxpc2ggcGx1Z2luJ30pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnV29yZFByZXNzIFVSTCcpXHJcblx0XHRcdC5zZXREZXNjKCdGdWxsIHBhdGggb2YgaW5zdGFsbGVkIFdvcmRQcmVzcywgZm9yIGV4YW1wbGUsIGh0dHBzOi8vZXhhbXBsZS5jb20vd29yZHByZXNzJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdodHRwczovL2V4YW1wbGUuY29tL3dvcmRwcmVzcycpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVuZHBvaW50KVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmVuZHBvaW50ID0gdmFsdWU7XHJcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdH0pKTtcclxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAuc2V0TmFtZSgnQVBJIFR5cGUnKVxyXG4gICAgICAuc2V0RGVzYyhgU2VsZWN0IHdoaWNoIEFQSSB5b3Ugd2FudCB0byB1c2UuXHJcbi0gWE1MLVJQQzogRW5hYmxlZCBieSBkZWZhdWx0IGJ1dCBzb21lIGhvc3QgbWF5IGRpc2FibGUgaXRcclxuLSBSRVNUIEFQSSB3aXRoIEpldHBhY2tcclxuLSBSRVNUIEFQSSB3aXRoIE9BdXRoMmApXHJcbiAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgLmFkZE9wdGlvbihBcGlUeXBlLlhNTF9SUEMsICdYTUwtUlBDJylcclxuICAgICAgICAgIC5hZGRPcHRpb24oQXBpVHlwZS5SZXN0QVBJX0pldHBhY2ssICdSRVNUIEFQSSB3aXRoIEpldHBhY2snKVxyXG4gICAgICAgICAgLmFkZE9wdGlvbihBcGlUeXBlLlJlc3RBUElfT0F1dGgyLCAnUkVTVCBBUEkgd2l0aCBPQXV0aDInKVxyXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaVR5cGUpXHJcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBBcGlUeXBlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaVR5cGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaVR5cGUgPT09IEFwaVR5cGUuWE1MX1JQQykge1xyXG4gICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAuc2V0TmFtZSgnU2F2ZSBVc2VyIE5hbWUnKVxyXG4gICAgICAgIC5zZXREZXNjKGBJZiBlbmFibGVkLCB0aGUgV29yZFByZXNzIHVzZXIgbmFtZSB5b3UgdHlwZWQgd2lsbCBiZSBzYXZlZCBpbiBsb2NhbCBkYXRhLlxyXG5UaGlzIG1pZ2h0IGJlIHVzZXIgbmFtZSBkaXNjbG9zdXJlIGluIHN5bmNocm9uaXplIHNlcnZpY2VzLmApXHJcbiAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxyXG4gICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zYXZlVXNlck5hbWUpXHJcbiAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zYXZlVXNlck5hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgKTtcclxuICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNhdmVVc2VyTmFtZSkge1xyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgLnNldE5hbWUoJ1dvcmRQcmVzcyBVc2VyIE5hbWUnKVxyXG4gICAgICAgICAgLnNldERlc2MoJ1VzZXIgbmFtZSBvZiBXb3JkUHJlc3MnKVxyXG4gICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcbiAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignVXNlciBuYW1lJylcclxuICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZXJOYW1lKVxyXG4gICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlck5hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VyTmFtZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKCdTaG93IGljb24gaW4gc2lkZWJhcicpXHJcbiAgICAgIC5zZXREZXNjKGBJZiBlbmFibGVkLCBhIGJ1dHRvbiB3aGljaCBvcGVucyBwdWJsaXNoIHBhbmVsIHdpbGwgYmUgYWRkZWQgdG8gdGhlIE9ic2lkaWFuIHNpZGViYXIuXHJcbkNoYW5nZXMgb25seSB0YWtlIGVmZmVjdCBvbiByZWxvYWQuYClcclxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxyXG4gICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dSaWJib25JY29uKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93UmliYm9uSWNvbiA9IHZhbHVlO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICB9KSxcclxuICAgICAgKTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IGFkZEljb24gfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5leHBvcnQgY29uc3QgaWNvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgJ3dwLWxvZ28nOiBgXHJcbjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMTAwIDEwMFwiPlxyXG4gIDxnIGZpbGw9XCJjdXJyZW50Q29sb3JcIj5cclxuICAgIDxwYXRoIGQ9XCJNIDcuMTA5Mzc1IDUwIEMgNy4xMDkzNzUgNjYuOTc2NTYyIDE2Ljk3NjU2MiA4MS42NDg0MzggMzEuMjgxMjUgODguNjAxNTYyIEwgMTAuODIwMzEyIDMyLjU0Mjk2OSBDIDguNDQxNDA2IDM3Ljg3ODkwNiA3LjEwOTM3NSA0My43ODEyNSA3LjEwOTM3NSA1MCBaIE0gNy4xMDkzNzUgNTAgXCIvPlxyXG4gICAgPHBhdGggZD1cIk0gNzguOTU3MDMxIDQ3LjgzNTkzOCBDIDc4Ljk1NzAzMSA0Mi41MzUxNTYgNzcuMDU0Njg4IDM4Ljg2MzI4MSA3NS40MjE4NzUgMzYuMDAzOTA2IEMgNzMuMjQ2MDk0IDMyLjQ3MjY1NiA3MS4yMDcwMzEgMjkuNDgwNDY5IDcxLjIwNzAzMSAyNS45NDUzMTIgQyA3MS4yMDcwMzEgMjIuMDAzOTA2IDc0LjE5OTIxOSAxOC4zMzIwMzEgNzguNDEwMTU2IDE4LjMzMjAzMSBDIDc4LjYwMTU2MiAxOC4zMzIwMzEgNzguNzgxMjUgMTguMzU1NDY5IDc4Ljk2ODc1IDE4LjM2NzE4OCBDIDcxLjMzNTkzOCAxMS4zNzUgNjEuMTY3OTY5IDcuMTA1NDY5IDUwIDcuMTA1NDY5IEMgMzUuMDE1NjI1IDcuMTA1NDY5IDIxLjgzMjAzMSAxNC43OTY4NzUgMTQuMTY0MDYyIDI2LjQ0MTQwNiBDIDE1LjE2Nzk2OSAyNi40NzI2NTYgMTYuMTE3MTg4IDI2LjQ5MjE4OCAxNi45MjE4NzUgMjYuNDkyMTg4IEMgMjEuNDEwMTU2IDI2LjQ5MjE4OCAyOC4zNTU0NjkgMjUuOTQ5MjE5IDI4LjM1NTQ2OSAyNS45NDkyMTkgQyAzMC42Njc5NjkgMjUuODEyNSAzMC45NDE0MDYgMjkuMjA3MDMxIDI4LjYyODkwNiAyOS40ODA0NjkgQyAyOC42Mjg5MDYgMjkuNDgwNDY5IDI2LjMwNDY4OCAyOS43NTM5MDYgMjMuNzIyNjU2IDI5Ljg5MDYyNSBMIDM5LjMzOTg0NCA3Ni4zNTE1NjIgTCA0OC43MjY1NjIgNDguMTk5MjE5IEwgNDIuMDQyOTY5IDI5Ljg4NjcxOSBDIDM5LjczNDM3NSAyOS43NTM5MDYgMzcuNTQ2ODc1IDI5LjQ4MDQ2OSAzNy41NDY4NzUgMjkuNDgwNDY5IEMgMzUuMjM0Mzc1IDI5LjM0Mzc1IDM1LjUwNzgxMiAyNS44MDg1OTQgMzcuODE2NDA2IDI1Ljk0NTMxMiBDIDM3LjgxNjQwNiAyNS45NDUzMTIgNDQuOTAyMzQ0IDI2LjQ5MjE4OCA0OS4xMTcxODggMjYuNDkyMTg4IEMgNTMuNjAxNTYyIDI2LjQ5MjE4OCA2MC41NDY4NzUgMjUuOTQ1MzEyIDYwLjU0Njg3NSAyNS45NDUzMTIgQyA2Mi44NTkzNzUgMjUuODA4NTk0IDYzLjEzMjgxMiAyOS4yMDcwMzEgNjAuODI0MjE5IDI5LjQ4MDQ2OSBDIDYwLjgyNDIxOSAyOS40ODA0NjkgNTguNDkyMTg4IDI5Ljc1MzkwNiA1NS45MTQwNjIgMjkuODg2NzE5IEwgNzEuNDE0MDYyIDc1Ljk5NjA5NCBMIDc1LjY5MTQwNiA2MS42OTkyMTkgQyA3Ny41NDY4NzUgNTUuNzY1NjI1IDc4Ljk1NzAzMSA1MS41MDc4MTIgNzguOTU3MDMxIDQ3LjgzNTkzOCBaIE0gNzguOTU3MDMxIDQ3LjgzNTkzOCBcIi8+XHJcbiAgICA8cGF0aCBkPVwiTSA1MC43NTM5MDYgNTMuNzUgTCAzNy44ODI4MTIgOTEuMTQ4NDM4IEMgNDEuNzI2NTYyIDkyLjI3NzM0NCA0NS43ODkwNjIgOTIuODk0NTMxIDUwIDkyLjg5NDUzMSBDIDU0Ljk5NjA5NCA5Mi44OTQ1MzEgNTkuNzg1MTU2IDkyLjAzMTI1IDY0LjI0NjA5NCA5MC40NjQ4NDQgQyA2NC4xMjg5MDYgOTAuMjgxMjUgNjQuMDI3MzQ0IDkwLjA4NTkzOCA2My45NDE0MDYgODkuODcxMDk0IFogTSA1MC43NTM5MDYgNTMuNzUgXCIvPlxyXG4gICAgPHBhdGggZD1cIk0gODcuNjM2NzE5IDI5LjQxNzk2OSBDIDg3LjgyNDIxOSAzMC43ODUxNTYgODcuOTI1NzgxIDMyLjI1MzkwNiA4Ny45MjU3ODEgMzMuODMyMDMxIEMgODcuOTI1NzgxIDM4LjE4MzU5NCA4Ny4xMTMyODEgNDMuMDc0MjE5IDg0LjY2Nzk2OSA0OS4xOTUzMTIgTCA3MS41NjI1IDg3LjA3NDIxOSBDIDg0LjMxNjQwNiA3OS42NDA2MjUgOTIuODk0NTMxIDY1LjgyNDIxOSA5Mi44OTQ1MzEgNTAgQyA5Mi44OTQ1MzEgNDIuNTQyOTY5IDkwLjk4ODI4MSAzNS41MzEyNSA4Ny42MzY3MTkgMjkuNDE3OTY5IFogTSA4Ny42MzY3MTkgMjkuNDE3OTY5IFwiLz5cclxuICAgIDxwYXRoIGQ9XCJNIDUwIDAgQyAyMi40MzM1OTQgMCAwIDIyLjQyOTY4OCAwIDUwIEMgMCA3Ny41NzAzMTIgMjIuNDMzNTk0IDEwMCA1MCAxMDAgQyA3Ny41NzAzMTIgMTAwIDEwMC4wMDM5MDYgNzcuNTcwMzEyIDEwMC4wMDM5MDYgNTAgQyAxMDAuMDAzOTA2IDIyLjQyOTY4OCA3Ny41NzAzMTIgMCA1MCAwIFogTSA1MCA5Ny43MDcwMzEgQyAyMy42OTUzMTIgOTcuNzA3MDMxIDIuMjkyOTY5IDc2LjMwNDY4OCAyLjI5Mjk2OSA1MCBDIDIuMjkyOTY5IDIzLjY5NTMxMiAyMy42OTUzMTIgMi4yOTI5NjkgNTAgMi4yOTI5NjkgQyA3Ni4zMDQ2ODggMi4yOTI5NjkgOTcuNzA3MDMxIDIzLjY5NTMxMiA5Ny43MDcwMzEgNTAgQyA5Ny43MDcwMzEgNzYuMzA0Njg4IDc2LjMwNDY4OCA5Ny43MDcwMzEgNTAgOTcuNzA3MDMxIFogTSA1MCA5Ny43MDcwMzEgXCIvPlxyXG4gIDwvZz5cclxuPC9zdmc+YFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYWRkSWNvbnMgPSAoKTogdm9pZCA9PiB7XHJcbiAgT2JqZWN0LmtleXMoaWNvbnMpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgYWRkSWNvbihrZXksIGljb25zW2tleV0pO1xyXG4gIH0pO1xyXG59O1xyXG4iLCAiaW1wb3J0IHsgQnV0dG9uQ29tcG9uZW50LCBJdGVtVmlldywgV29ya3NwYWNlTGVhZiB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IFdvcmRwcmVzc1BsdWdpbiBmcm9tICcuL21haW4nO1xyXG5pbXBvcnQgeyBjcmVhdGVXb3JkUHJlc3NDbGllbnQgfSBmcm9tICcuL3dwLWNsaWVudCc7XHJcblxyXG5leHBvcnQgY29uc3QgV29yZFByZXNzUHVibGlzaFZpZXdUeXBlID0gJ3dwLXB1Ymxpc2gtb3B0aW9ucyc7XHJcblxyXG5leHBvcnQgY2xhc3MgV29yZFByZXNzUHVibGlzaFZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgbGVhZjogV29ya3NwYWNlTGVhZixcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGx1Z2luOiBXb3JkcHJlc3NQbHVnaW5cclxuICApIHtcclxuICAgIHN1cGVyKGxlYWYpO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGlzcGxheVRleHQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAnV29yZFByZXNzIFB1Ymxpc2gnO1xyXG4gIH1cclxuXHJcbiAgZ2V0Vmlld1R5cGUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBXb3JkUHJlc3NQdWJsaXNoVmlld1R5cGU7XHJcbiAgfVxyXG5cclxuICBnZXRJY29uKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gJ3dwLWxvZ28nO1xyXG4gIH1cclxuXHJcbiAgbG9hZCgpOiB2b2lkIHtcclxuICAgIHN1cGVyLmxvYWQoKTtcclxuICAgIHRoaXMuZHJhdygpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBkcmF3KCk6IHZvaWQge1xyXG4gICAgY29uc3QgYWN0aW9uQnV0dG9uc0NvbnRyb2xEaXYgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2Jyk7XHJcbiAgICBuZXcgQnV0dG9uQ29tcG9uZW50KGFjdGlvbkJ1dHRvbnNDb250cm9sRGl2KVxyXG4gICAgICAuc2V0QnV0dG9uVGV4dCgnUHVibGlzaCcpXHJcbiAgICAgIC5zZXRDbGFzcygnbW9kLWN0YScpXHJcbiAgICAgIC5vbkNsaWNrKCgpID0+IHtcclxuICAgICAgICBjb25zdCBjbGllbnQgPSBjcmVhdGVXb3JkUHJlc3NDbGllbnQodGhpcy5hcHAsIHRoaXMucGx1Z2luKTtcclxuICAgICAgICBpZiAoY2xpZW50KSB7XHJcbiAgICAgICAgICBjbGllbnQubmV3UG9zdCgpLnRoZW4oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbn1cclxuIiwgImltcG9ydCB7IEFwcCwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgV29yZHByZXNzUGx1Z2luIGZyb20gJy4vbWFpbic7XHJcbmltcG9ydCB7IEFwaVR5cGUgfSBmcm9tICcuL3NldHRpbmdzJztcclxuaW1wb3J0IHsgV3BYbWxScGNDbGllbnQgfSBmcm9tICcuL3dwLXhtbC1ycGMtY2xpZW50JztcclxuaW1wb3J0IHsgV3BSZXN0SmV0cGFja0NsaWVudCB9IGZyb20gJy4vd3AtcmVzdC1qZXRwYWNrLWNsaWVudCc7XHJcbmltcG9ydCB7IFdwUmVzdE9BdXRoMkNsaWVudCB9IGZyb20gJy4vd3AtcmVzdC1vYXV0aDItY2xpZW50JztcclxuXHJcbmV4cG9ydCBlbnVtIFdvcmRQcmVzc0NsaWVudFJldHVybkNvZGUge1xyXG4gIE9LLFxyXG4gIEVycm9yXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgV29yZFByZXNzQ2xpZW50UmVzdWx0IHtcclxuICBjb2RlOiBXb3JkUHJlc3NDbGllbnRSZXR1cm5Db2RlO1xyXG4gIGRhdGE6IGFueTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFdvcmRQcmVzc0NsaWVudCB7XHJcbiAgbmV3UG9zdCgpOiBQcm9taXNlPFdvcmRQcmVzc0NsaWVudFJlc3VsdD47XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVXb3JkUHJlc3NDbGllbnQoXHJcbiAgYXBwOiBBcHAsXHJcbiAgcGx1Z2luOiBXb3JkcHJlc3NQbHVnaW5cclxuKTogV29yZFByZXNzQ2xpZW50IHwgbnVsbCB7XHJcbiAgY29uc3QgdHlwZSA9IHBsdWdpbi5zZXR0aW5ncy5hcGlUeXBlO1xyXG4gIHN3aXRjaCAodHlwZSkge1xyXG4gICAgY2FzZSBBcGlUeXBlLlhNTF9SUEM6XHJcbiAgICAgIHJldHVybiBuZXcgV3BYbWxScGNDbGllbnQoYXBwLCBwbHVnaW4pO1xyXG4gICAgY2FzZSBBcGlUeXBlLlJlc3RBUElfSmV0cGFjazpcclxuICAgICAgcmV0dXJuIG5ldyBXcFJlc3RKZXRwYWNrQ2xpZW50KGFwcCwgcGx1Z2luKTtcclxuICAgIGNhc2UgQXBpVHlwZS5SZXN0QVBJX09BdXRoMjpcclxuICAgICAgcmV0dXJuIG5ldyBXcFJlc3RPQXV0aDJDbGllbnQoYXBwLCBwbHVnaW4pO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgLy8gVGhpcyBzaG91bGQgbm90IGhhcHBlbiFcclxuICAgICAgbmV3IE5vdGljZSgnTm8gYXBwcm92ZWQgV29yZFByZXNzIEFQSS5cXG5QbGVhc2UgY2hlY2sgaXQgaW4gc2V0dGluZ3MuJyk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgV29yZFByZXNzQ2xpZW50LCBXb3JkUHJlc3NDbGllbnRSZXN1bHQsIFdvcmRQcmVzc0NsaWVudFJldHVybkNvZGUgfSBmcm9tICcuL3dwLWNsaWVudCc7XHJcbmltcG9ydCB7IENsaWVudCwgY3JlYXRlQ2xpZW50LCBjcmVhdGVTZWN1cmVDbGllbnQgfSBmcm9tICd4bWxycGMnO1xyXG5pbXBvcnQgeyBBcHAsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IFdvcmRwcmVzc1BsdWdpbiBmcm9tICcuL21haW4nO1xyXG5pbXBvcnQgeyBtYXJrZWQgfSBmcm9tICdtYXJrZWQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFdwWG1sUnBjQ2xpZW50IGltcGxlbWVudHMgV29yZFByZXNzQ2xpZW50IHtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBjbGllbnQ6IENsaWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFwcDogQXBwLFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBwbHVnaW46IFdvcmRwcmVzc1BsdWdpblxyXG4gICkge1xyXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChwbHVnaW4uc2V0dGluZ3MuZW5kcG9pbnQpO1xyXG4gICAgY29uc29sZS5sb2codXJsKTtcclxuICAgIGlmICh1cmwucHJvdG9jb2wgPT09ICdodHRwczonKSB7XHJcbiAgICAgIHRoaXMuY2xpZW50ID0gY3JlYXRlU2VjdXJlQ2xpZW50KHtcclxuICAgICAgICBob3N0OiB1cmwuaG9zdG5hbWUsXHJcbiAgICAgICAgcG9ydDogNDQzLFxyXG4gICAgICAgIHBhdGg6IGAke3VybC5wYXRobmFtZX14bWxycGMucGhwYFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY2xpZW50ID0gY3JlYXRlQ2xpZW50KHtcclxuICAgICAgICBob3N0OiB1cmwuaG9zdG5hbWUsXHJcbiAgICAgICAgcG9ydDogODAsXHJcbiAgICAgICAgcGF0aDogYCR7dXJsLnBhdGhuYW1lfXhtbHJwYy5waHBgXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmV3UG9zdCgpOiBQcm9taXNlPFdvcmRQcmVzc0NsaWVudFJlc3VsdD4ge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgY29uc3QgeyB3b3Jrc3BhY2UgfSA9IHRoaXMuYXBwO1xyXG4gICAgICBjb25zdCBhY3RpdmVWaWV3ID0gd29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcclxuICAgICAgaWYgKGFjdGl2ZVZpZXcpIHtcclxuICAgICAgICBuZXcgV3BMb2dpbk1vZGFsKFxyXG4gICAgICAgICAgdGhpcy5hcHAsXHJcbiAgICAgICAgICB0aGlzLnBsdWdpbixcclxuICAgICAgICAgICh1c2VyTmFtZSwgcGFzc3dvcmQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBhY3RpdmVWaWV3LmZpbGUuYmFzZW5hbWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhY3RpdmVWaWV3LmdldFZpZXdEYXRhKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xpZW50Lm1ldGhvZENhbGwoJ3dwLm5ld1Bvc3QnLCBbXHJcbiAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICB1c2VyTmFtZSxcclxuICAgICAgICAgICAgICBwYXNzd29yZCxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwb3N0X3R5cGU6ICdwb3N0JyxcclxuICAgICAgICAgICAgICAgIHBvc3Rfc3RhdHVzOiAnZHJhZnQnLFxyXG4gICAgICAgICAgICAgICAgcG9zdF90aXRsZTogdGl0bGUgPz8gJ0EgcG9zdCBmcm9tIE9ic2lkaWFuIScsXHJcbiAgICAgICAgICAgICAgICBwb3N0X2NvbnRlbnQ6IG1hcmtlZC5wYXJzZShjb250ZW50KSA/PyAnJyxcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF0sIChlcnJvcjogRXJyb3IsIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01ldGhvZCByZXNwb25zZSBmb3IgXFwnd3AubmV3UG9zdFxcJzogJywgdmFsdWUsIGVycm9yKTtcclxuICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYFtFcnJvcl0gJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnUG9zdCBwdWJsaXNoZWQgc3VjY2Vzc2Z1bGx5IScpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgIGNvZGU6IFdvcmRQcmVzc0NsaWVudFJldHVybkNvZGUuT0ssXHJcbiAgICAgICAgICAgICAgICAgIGRhdGE6IHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICkub3BlbigpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGVycm9yID0gJ1RoZXJlIGlzIG5vIGVkaXRvciBmb3VuZC4gTm90aGluZyB3aWxsIGJlIHB1Ymxpc2hlZC4nO1xyXG4gICAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XHJcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihlcnJvcikpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59XHJcblxyXG5jbGFzcyBXcExvZ2luTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgYXBwOiBBcHAsXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBsdWdpbjogV29yZHByZXNzUGx1Z2luLFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBvblN1Ym1pdDogKHVzZXJOYW1lOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpID0+IHZvaWRcclxuICApIHtcclxuICAgIHN1cGVyKGFwcCk7XHJcbiAgfVxyXG5cclxuICBvbk9wZW4oKSB7XHJcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHJcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gxJywgeyB0ZXh0OiAnV29yZFByZXNzIExvZ2luJyB9KTtcclxuXHJcbiAgICBsZXQgcGFzc3dvcmQgPSAnJztcclxuICAgIG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcclxuICAgICAgLnNldE5hbWUoJ1VzZXIgTmFtZScpXHJcbiAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG4gICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VyTmFtZSA/PyAnJylcclxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2F2ZVVzZXJOYW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZXJOYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pKTtcclxuICAgIG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcclxuICAgICAgLnNldE5hbWUoJ1Bhc3N3b3JkJylcclxuICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcbiAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgcGFzc3dvcmQgPSB2YWx1ZTtcclxuICAgICAgICB9KSk7XHJcbiAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcbiAgICAgIC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG4gICAgICAgIC5zZXRCdXR0b25UZXh0KCdQdWJsaXNoJylcclxuICAgICAgICAuc2V0Q2xhc3MoJ21vZC1jdGEnKVxyXG4gICAgICAgIC5vbkNsaWNrKCgpID0+IHtcclxuICAgICAgICAgIHRoaXMub25TdWJtaXQodGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlck5hbWUsIHBhc3N3b3JkKTtcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gIH1cclxuXHJcbiAgb25DbG9zZSgpIHtcclxuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG4gICAgY29udGVudEVsLmVtcHR5KCk7XHJcbiAgfVxyXG59XHJcbiIsICIvKipcbiAqIG1hcmtlZCAtIGEgbWFya2Rvd24gcGFyc2VyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTEtMjAyMSwgQ2hyaXN0b3BoZXIgSmVmZnJleS4gKE1JVCBMaWNlbnNlZClcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJrZWRqcy9tYXJrZWRcbiAqL1xuXG4vKipcbiAqIERPIE5PVCBFRElUIFRISVMgRklMRVxuICogVGhlIGNvZGUgaW4gdGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBmcm9tIGZpbGVzIGluIC4vc3JjL1xuICovXG5cbmZ1bmN0aW9uIGdldERlZmF1bHRzKCkge1xuICByZXR1cm4ge1xuICAgIGJhc2VVcmw6IG51bGwsXG4gICAgYnJlYWtzOiBmYWxzZSxcbiAgICBleHRlbnNpb25zOiBudWxsLFxuICAgIGdmbTogdHJ1ZSxcbiAgICBoZWFkZXJJZHM6IHRydWUsXG4gICAgaGVhZGVyUHJlZml4OiAnJyxcbiAgICBoaWdobGlnaHQ6IG51bGwsXG4gICAgbGFuZ1ByZWZpeDogJ2xhbmd1YWdlLScsXG4gICAgbWFuZ2xlOiB0cnVlLFxuICAgIHBlZGFudGljOiBmYWxzZSxcbiAgICByZW5kZXJlcjogbnVsbCxcbiAgICBzYW5pdGl6ZTogZmFsc2UsXG4gICAgc2FuaXRpemVyOiBudWxsLFxuICAgIHNpbGVudDogZmFsc2UsXG4gICAgc21hcnRMaXN0czogZmFsc2UsXG4gICAgc21hcnR5cGFudHM6IGZhbHNlLFxuICAgIHRva2VuaXplcjogbnVsbCxcbiAgICB3YWxrVG9rZW5zOiBudWxsLFxuICAgIHhodG1sOiBmYWxzZVxuICB9O1xufVxuXG5sZXQgZGVmYXVsdHMgPSBnZXREZWZhdWx0cygpO1xuXG5mdW5jdGlvbiBjaGFuZ2VEZWZhdWx0cyhuZXdEZWZhdWx0cykge1xuICBkZWZhdWx0cyA9IG5ld0RlZmF1bHRzO1xufVxuXG4vKipcbiAqIEhlbHBlcnNcbiAqL1xuY29uc3QgZXNjYXBlVGVzdCA9IC9bJjw+XCInXS87XG5jb25zdCBlc2NhcGVSZXBsYWNlID0gL1smPD5cIiddL2c7XG5jb25zdCBlc2NhcGVUZXN0Tm9FbmNvZGUgPSAvWzw+XCInXXwmKD8hIz9cXHcrOykvO1xuY29uc3QgZXNjYXBlUmVwbGFjZU5vRW5jb2RlID0gL1s8PlwiJ118Jig/ISM/XFx3KzspL2c7XG5jb25zdCBlc2NhcGVSZXBsYWNlbWVudHMgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmIzM5Oydcbn07XG5jb25zdCBnZXRFc2NhcGVSZXBsYWNlbWVudCA9IChjaCkgPT4gZXNjYXBlUmVwbGFjZW1lbnRzW2NoXTtcbmZ1bmN0aW9uIGVzY2FwZShodG1sLCBlbmNvZGUpIHtcbiAgaWYgKGVuY29kZSkge1xuICAgIGlmIChlc2NhcGVUZXN0LnRlc3QoaHRtbCkpIHtcbiAgICAgIHJldHVybiBodG1sLnJlcGxhY2UoZXNjYXBlUmVwbGFjZSwgZ2V0RXNjYXBlUmVwbGFjZW1lbnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZXNjYXBlVGVzdE5vRW5jb2RlLnRlc3QoaHRtbCkpIHtcbiAgICAgIHJldHVybiBodG1sLnJlcGxhY2UoZXNjYXBlUmVwbGFjZU5vRW5jb2RlLCBnZXRFc2NhcGVSZXBsYWNlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGh0bWw7XG59XG5cbmNvbnN0IHVuZXNjYXBlVGVzdCA9IC8mKCMoPzpcXGQrKXwoPzojeFswLTlBLUZhLWZdKyl8KD86XFx3KykpOz8vaWc7XG5cbmZ1bmN0aW9uIHVuZXNjYXBlKGh0bWwpIHtcbiAgLy8gZXhwbGljaXRseSBtYXRjaCBkZWNpbWFsLCBoZXgsIGFuZCBuYW1lZCBIVE1MIGVudGl0aWVzXG4gIHJldHVybiBodG1sLnJlcGxhY2UodW5lc2NhcGVUZXN0LCAoXywgbikgPT4ge1xuICAgIG4gPSBuLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKG4gPT09ICdjb2xvbicpIHJldHVybiAnOic7XG4gICAgaWYgKG4uY2hhckF0KDApID09PSAnIycpIHtcbiAgICAgIHJldHVybiBuLmNoYXJBdCgxKSA9PT0gJ3gnXG4gICAgICAgID8gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChuLnN1YnN0cmluZygyKSwgMTYpKVxuICAgICAgICA6IFN0cmluZy5mcm9tQ2hhckNvZGUoK24uc3Vic3RyaW5nKDEpKTtcbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9KTtcbn1cblxuY29uc3QgY2FyZXQgPSAvKF58W15cXFtdKVxcXi9nO1xuZnVuY3Rpb24gZWRpdChyZWdleCwgb3B0KSB7XG4gIHJlZ2V4ID0gcmVnZXguc291cmNlIHx8IHJlZ2V4O1xuICBvcHQgPSBvcHQgfHwgJyc7XG4gIGNvbnN0IG9iaiA9IHtcbiAgICByZXBsYWNlOiAobmFtZSwgdmFsKSA9PiB7XG4gICAgICB2YWwgPSB2YWwuc291cmNlIHx8IHZhbDtcbiAgICAgIHZhbCA9IHZhbC5yZXBsYWNlKGNhcmV0LCAnJDEnKTtcbiAgICAgIHJlZ2V4ID0gcmVnZXgucmVwbGFjZShuYW1lLCB2YWwpO1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGdldFJlZ2V4OiAoKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cChyZWdleCwgb3B0KTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBvYmo7XG59XG5cbmNvbnN0IG5vbldvcmRBbmRDb2xvblRlc3QgPSAvW15cXHc6XS9nO1xuY29uc3Qgb3JpZ2luSW5kZXBlbmRlbnRVcmwgPSAvXiR8XlthLXpdW2EtejAtOSsuLV0qOnxeWz8jXS9pO1xuZnVuY3Rpb24gY2xlYW5Vcmwoc2FuaXRpemUsIGJhc2UsIGhyZWYpIHtcbiAgaWYgKHNhbml0aXplKSB7XG4gICAgbGV0IHByb3Q7XG4gICAgdHJ5IHtcbiAgICAgIHByb3QgPSBkZWNvZGVVUklDb21wb25lbnQodW5lc2NhcGUoaHJlZikpXG4gICAgICAgIC5yZXBsYWNlKG5vbldvcmRBbmRDb2xvblRlc3QsICcnKVxuICAgICAgICAudG9Mb3dlckNhc2UoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHByb3QuaW5kZXhPZignamF2YXNjcmlwdDonKSA9PT0gMCB8fCBwcm90LmluZGV4T2YoJ3Zic2NyaXB0OicpID09PSAwIHx8IHByb3QuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIGlmIChiYXNlICYmICFvcmlnaW5JbmRlcGVuZGVudFVybC50ZXN0KGhyZWYpKSB7XG4gICAgaHJlZiA9IHJlc29sdmVVcmwoYmFzZSwgaHJlZik7XG4gIH1cbiAgdHJ5IHtcbiAgICBocmVmID0gZW5jb2RlVVJJKGhyZWYpLnJlcGxhY2UoLyUyNS9nLCAnJScpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGhyZWY7XG59XG5cbmNvbnN0IGJhc2VVcmxzID0ge307XG5jb25zdCBqdXN0RG9tYWluID0gL15bXjpdKzpcXC8qW14vXSokLztcbmNvbnN0IHByb3RvY29sID0gL14oW146XSs6KVtcXHNcXFNdKiQvO1xuY29uc3QgZG9tYWluID0gL14oW146XSs6XFwvKlteL10qKVtcXHNcXFNdKiQvO1xuXG5mdW5jdGlvbiByZXNvbHZlVXJsKGJhc2UsIGhyZWYpIHtcbiAgaWYgKCFiYXNlVXJsc1snICcgKyBiYXNlXSkge1xuICAgIC8vIHdlIGNhbiBpZ25vcmUgZXZlcnl0aGluZyBpbiBiYXNlIGFmdGVyIHRoZSBsYXN0IHNsYXNoIG9mIGl0cyBwYXRoIGNvbXBvbmVudCxcbiAgICAvLyBidXQgd2UgbWlnaHQgbmVlZCB0byBhZGQgX3RoYXRfXG4gICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zXG4gICAgaWYgKGp1c3REb21haW4udGVzdChiYXNlKSkge1xuICAgICAgYmFzZVVybHNbJyAnICsgYmFzZV0gPSBiYXNlICsgJy8nO1xuICAgIH0gZWxzZSB7XG4gICAgICBiYXNlVXJsc1snICcgKyBiYXNlXSA9IHJ0cmltKGJhc2UsICcvJywgdHJ1ZSk7XG4gICAgfVxuICB9XG4gIGJhc2UgPSBiYXNlVXJsc1snICcgKyBiYXNlXTtcbiAgY29uc3QgcmVsYXRpdmVCYXNlID0gYmFzZS5pbmRleE9mKCc6JykgPT09IC0xO1xuXG4gIGlmIChocmVmLnN1YnN0cmluZygwLCAyKSA9PT0gJy8vJykge1xuICAgIGlmIChyZWxhdGl2ZUJhc2UpIHtcbiAgICAgIHJldHVybiBocmVmO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZS5yZXBsYWNlKHByb3RvY29sLCAnJDEnKSArIGhyZWY7XG4gIH0gZWxzZSBpZiAoaHJlZi5jaGFyQXQoMCkgPT09ICcvJykge1xuICAgIGlmIChyZWxhdGl2ZUJhc2UpIHtcbiAgICAgIHJldHVybiBocmVmO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZS5yZXBsYWNlKGRvbWFpbiwgJyQxJykgKyBocmVmO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBiYXNlICsgaHJlZjtcbiAgfVxufVxuXG5jb25zdCBub29wVGVzdCA9IHsgZXhlYzogZnVuY3Rpb24gbm9vcFRlc3QoKSB7fSB9O1xuXG5mdW5jdGlvbiBtZXJnZShvYmopIHtcbiAgbGV0IGkgPSAxLFxuICAgIHRhcmdldCxcbiAgICBrZXk7XG5cbiAgZm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB0YXJnZXQgPSBhcmd1bWVudHNbaV07XG4gICAgZm9yIChrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KSkge1xuICAgICAgICBvYmpba2V5XSA9IHRhcmdldFtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHNwbGl0Q2VsbHModGFibGVSb3csIGNvdW50KSB7XG4gIC8vIGVuc3VyZSB0aGF0IGV2ZXJ5IGNlbGwtZGVsaW1pdGluZyBwaXBlIGhhcyBhIHNwYWNlXG4gIC8vIGJlZm9yZSBpdCB0byBkaXN0aW5ndWlzaCBpdCBmcm9tIGFuIGVzY2FwZWQgcGlwZVxuICBjb25zdCByb3cgPSB0YWJsZVJvdy5yZXBsYWNlKC9cXHwvZywgKG1hdGNoLCBvZmZzZXQsIHN0cikgPT4ge1xuICAgICAgbGV0IGVzY2FwZWQgPSBmYWxzZSxcbiAgICAgICAgY3VyciA9IG9mZnNldDtcbiAgICAgIHdoaWxlICgtLWN1cnIgPj0gMCAmJiBzdHJbY3Vycl0gPT09ICdcXFxcJykgZXNjYXBlZCA9ICFlc2NhcGVkO1xuICAgICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgICAgLy8gb2RkIG51bWJlciBvZiBzbGFzaGVzIG1lYW5zIHwgaXMgZXNjYXBlZFxuICAgICAgICAvLyBzbyB3ZSBsZWF2ZSBpdCBhbG9uZVxuICAgICAgICByZXR1cm4gJ3wnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYWRkIHNwYWNlIGJlZm9yZSB1bmVzY2FwZWQgfFxuICAgICAgICByZXR1cm4gJyB8JztcbiAgICAgIH1cbiAgICB9KSxcbiAgICBjZWxscyA9IHJvdy5zcGxpdCgvIFxcfC8pO1xuICBsZXQgaSA9IDA7XG5cbiAgLy8gRmlyc3QvbGFzdCBjZWxsIGluIGEgcm93IGNhbm5vdCBiZSBlbXB0eSBpZiBpdCBoYXMgbm8gbGVhZGluZy90cmFpbGluZyBwaXBlXG4gIGlmICghY2VsbHNbMF0udHJpbSgpKSB7IGNlbGxzLnNoaWZ0KCk7IH1cbiAgaWYgKCFjZWxsc1tjZWxscy5sZW5ndGggLSAxXS50cmltKCkpIHsgY2VsbHMucG9wKCk7IH1cblxuICBpZiAoY2VsbHMubGVuZ3RoID4gY291bnQpIHtcbiAgICBjZWxscy5zcGxpY2UoY291bnQpO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChjZWxscy5sZW5ndGggPCBjb3VudCkgY2VsbHMucHVzaCgnJyk7XG4gIH1cblxuICBmb3IgKDsgaSA8IGNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gbGVhZGluZyBvciB0cmFpbGluZyB3aGl0ZXNwYWNlIGlzIGlnbm9yZWQgcGVyIHRoZSBnZm0gc3BlY1xuICAgIGNlbGxzW2ldID0gY2VsbHNbaV0udHJpbSgpLnJlcGxhY2UoL1xcXFxcXHwvZywgJ3wnKTtcbiAgfVxuICByZXR1cm4gY2VsbHM7XG59XG5cbi8vIFJlbW92ZSB0cmFpbGluZyAnYydzLiBFcXVpdmFsZW50IHRvIHN0ci5yZXBsYWNlKC9jKiQvLCAnJykuXG4vLyAvYyokLyBpcyB2dWxuZXJhYmxlIHRvIFJFRE9TLlxuLy8gaW52ZXJ0OiBSZW1vdmUgc3VmZml4IG9mIG5vbi1jIGNoYXJzIGluc3RlYWQuIERlZmF1bHQgZmFsc2V5LlxuZnVuY3Rpb24gcnRyaW0oc3RyLCBjLCBpbnZlcnQpIHtcbiAgY29uc3QgbCA9IHN0ci5sZW5ndGg7XG4gIGlmIChsID09PSAwKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgLy8gTGVuZ3RoIG9mIHN1ZmZpeCBtYXRjaGluZyB0aGUgaW52ZXJ0IGNvbmRpdGlvbi5cbiAgbGV0IHN1ZmZMZW4gPSAwO1xuXG4gIC8vIFN0ZXAgbGVmdCB1bnRpbCB3ZSBmYWlsIHRvIG1hdGNoIHRoZSBpbnZlcnQgY29uZGl0aW9uLlxuICB3aGlsZSAoc3VmZkxlbiA8IGwpIHtcbiAgICBjb25zdCBjdXJyQ2hhciA9IHN0ci5jaGFyQXQobCAtIHN1ZmZMZW4gLSAxKTtcbiAgICBpZiAoY3VyckNoYXIgPT09IGMgJiYgIWludmVydCkge1xuICAgICAgc3VmZkxlbisrO1xuICAgIH0gZWxzZSBpZiAoY3VyckNoYXIgIT09IGMgJiYgaW52ZXJ0KSB7XG4gICAgICBzdWZmTGVuKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHIuc3Vic3RyKDAsIGwgLSBzdWZmTGVuKTtcbn1cblxuZnVuY3Rpb24gZmluZENsb3NpbmdCcmFja2V0KHN0ciwgYikge1xuICBpZiAoc3RyLmluZGV4T2YoYlsxXSkgPT09IC0xKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIGNvbnN0IGwgPSBzdHIubGVuZ3RoO1xuICBsZXQgbGV2ZWwgPSAwLFxuICAgIGkgPSAwO1xuICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgIGlmIChzdHJbaV0gPT09ICdcXFxcJykge1xuICAgICAgaSsrO1xuICAgIH0gZWxzZSBpZiAoc3RyW2ldID09PSBiWzBdKSB7XG4gICAgICBsZXZlbCsrO1xuICAgIH0gZWxzZSBpZiAoc3RyW2ldID09PSBiWzFdKSB7XG4gICAgICBsZXZlbC0tO1xuICAgICAgaWYgKGxldmVsIDwgMCkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5mdW5jdGlvbiBjaGVja1Nhbml0aXplRGVwcmVjYXRpb24ob3B0KSB7XG4gIGlmIChvcHQgJiYgb3B0LnNhbml0aXplICYmICFvcHQuc2lsZW50KSB7XG4gICAgY29uc29sZS53YXJuKCdtYXJrZWQoKTogc2FuaXRpemUgYW5kIHNhbml0aXplciBwYXJhbWV0ZXJzIGFyZSBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMC43LjAsIHNob3VsZCBub3QgYmUgdXNlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuIFJlYWQgbW9yZSBoZXJlOiBodHRwczovL21hcmtlZC5qcy5vcmcvIy9VU0lOR19BRFZBTkNFRC5tZCNvcHRpb25zJyk7XG4gIH1cbn1cblxuLy8gY29waWVkIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzU0NTAxMTMvODA2Nzc3XG5mdW5jdGlvbiByZXBlYXRTdHJpbmcocGF0dGVybiwgY291bnQpIHtcbiAgaWYgKGNvdW50IDwgMSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBsZXQgcmVzdWx0ID0gJyc7XG4gIHdoaWxlIChjb3VudCA+IDEpIHtcbiAgICBpZiAoY291bnQgJiAxKSB7XG4gICAgICByZXN1bHQgKz0gcGF0dGVybjtcbiAgICB9XG4gICAgY291bnQgPj49IDE7XG4gICAgcGF0dGVybiArPSBwYXR0ZXJuO1xuICB9XG4gIHJldHVybiByZXN1bHQgKyBwYXR0ZXJuO1xufVxuXG5mdW5jdGlvbiBvdXRwdXRMaW5rKGNhcCwgbGluaywgcmF3LCBsZXhlcikge1xuICBjb25zdCBocmVmID0gbGluay5ocmVmO1xuICBjb25zdCB0aXRsZSA9IGxpbmsudGl0bGUgPyBlc2NhcGUobGluay50aXRsZSkgOiBudWxsO1xuICBjb25zdCB0ZXh0ID0gY2FwWzFdLnJlcGxhY2UoL1xcXFwoW1xcW1xcXV0pL2csICckMScpO1xuXG4gIGlmIChjYXBbMF0uY2hhckF0KDApICE9PSAnIScpIHtcbiAgICBsZXhlci5zdGF0ZS5pbkxpbmsgPSB0cnVlO1xuICAgIGNvbnN0IHRva2VuID0ge1xuICAgICAgdHlwZTogJ2xpbmsnLFxuICAgICAgcmF3LFxuICAgICAgaHJlZixcbiAgICAgIHRpdGxlLFxuICAgICAgdGV4dCxcbiAgICAgIHRva2VuczogbGV4ZXIuaW5saW5lVG9rZW5zKHRleHQsIFtdKVxuICAgIH07XG4gICAgbGV4ZXIuc3RhdGUuaW5MaW5rID0gZmFsc2U7XG4gICAgcmV0dXJuIHRva2VuO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgcmF3LFxuICAgICAgaHJlZixcbiAgICAgIHRpdGxlLFxuICAgICAgdGV4dDogZXNjYXBlKHRleHQpXG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbmRlbnRDb2RlQ29tcGVuc2F0aW9uKHJhdywgdGV4dCkge1xuICBjb25zdCBtYXRjaEluZGVudFRvQ29kZSA9IHJhdy5tYXRjaCgvXihcXHMrKSg/OmBgYCkvKTtcblxuICBpZiAobWF0Y2hJbmRlbnRUb0NvZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuXG4gIGNvbnN0IGluZGVudFRvQ29kZSA9IG1hdGNoSW5kZW50VG9Db2RlWzFdO1xuXG4gIHJldHVybiB0ZXh0XG4gICAgLnNwbGl0KCdcXG4nKVxuICAgIC5tYXAobm9kZSA9PiB7XG4gICAgICBjb25zdCBtYXRjaEluZGVudEluTm9kZSA9IG5vZGUubWF0Y2goL15cXHMrLyk7XG4gICAgICBpZiAobWF0Y2hJbmRlbnRJbk5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IFtpbmRlbnRJbk5vZGVdID0gbWF0Y2hJbmRlbnRJbk5vZGU7XG5cbiAgICAgIGlmIChpbmRlbnRJbk5vZGUubGVuZ3RoID49IGluZGVudFRvQ29kZS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuc2xpY2UoaW5kZW50VG9Db2RlLmxlbmd0aCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0pXG4gICAgLmpvaW4oJ1xcbicpO1xufVxuXG4vKipcbiAqIFRva2VuaXplclxuICovXG5jbGFzcyBUb2tlbml6ZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBkZWZhdWx0cztcbiAgfVxuXG4gIHNwYWNlKHNyYykge1xuICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2submV3bGluZS5leGVjKHNyYyk7XG4gICAgaWYgKGNhcCkge1xuICAgICAgaWYgKGNhcFswXS5sZW5ndGggPiAxKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ3NwYWNlJyxcbiAgICAgICAgICByYXc6IGNhcFswXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgcmF3OiAnXFxuJyB9O1xuICAgIH1cbiAgfVxuXG4gIGNvZGUoc3JjKSB7XG4gICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5jb2RlLmV4ZWMoc3JjKTtcbiAgICBpZiAoY2FwKSB7XG4gICAgICBjb25zdCB0ZXh0ID0gY2FwWzBdLnJlcGxhY2UoL14gezEsNH0vZ20sICcnKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdjb2RlJyxcbiAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgIGNvZGVCbG9ja1N0eWxlOiAnaW5kZW50ZWQnLFxuICAgICAgICB0ZXh0OiAhdGhpcy5vcHRpb25zLnBlZGFudGljXG4gICAgICAgICAgPyBydHJpbSh0ZXh0LCAnXFxuJylcbiAgICAgICAgICA6IHRleHRcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgZmVuY2VzKHNyYykge1xuICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2suZmVuY2VzLmV4ZWMoc3JjKTtcbiAgICBpZiAoY2FwKSB7XG4gICAgICBjb25zdCByYXcgPSBjYXBbMF07XG4gICAgICBjb25zdCB0ZXh0ID0gaW5kZW50Q29kZUNvbXBlbnNhdGlvbihyYXcsIGNhcFszXSB8fCAnJyk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdjb2RlJyxcbiAgICAgICAgcmF3LFxuICAgICAgICBsYW5nOiBjYXBbMl0gPyBjYXBbMl0udHJpbSgpIDogY2FwWzJdLFxuICAgICAgICB0ZXh0XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGhlYWRpbmcoc3JjKSB7XG4gICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5oZWFkaW5nLmV4ZWMoc3JjKTtcbiAgICBpZiAoY2FwKSB7XG4gICAgICBsZXQgdGV4dCA9IGNhcFsyXS50cmltKCk7XG5cbiAgICAgIC8vIHJlbW92ZSB0cmFpbGluZyAjc1xuICAgICAgaWYgKC8jJC8udGVzdCh0ZXh0KSkge1xuICAgICAgICBjb25zdCB0cmltbWVkID0gcnRyaW0odGV4dCwgJyMnKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYykge1xuICAgICAgICAgIHRleHQgPSB0cmltbWVkLnRyaW0oKTtcbiAgICAgICAgfSBlbHNlIGlmICghdHJpbW1lZCB8fCAvICQvLnRlc3QodHJpbW1lZCkpIHtcbiAgICAgICAgICAvLyBDb21tb25NYXJrIHJlcXVpcmVzIHNwYWNlIGJlZm9yZSB0cmFpbGluZyAjc1xuICAgICAgICAgIHRleHQgPSB0cmltbWVkLnRyaW0oKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCB0b2tlbiA9IHtcbiAgICAgICAgdHlwZTogJ2hlYWRpbmcnLFxuICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgZGVwdGg6IGNhcFsxXS5sZW5ndGgsXG4gICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgIHRva2VuczogW11cbiAgICAgIH07XG4gICAgICB0aGlzLmxleGVyLmlubGluZSh0b2tlbi50ZXh0LCB0b2tlbi50b2tlbnMpO1xuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgfVxuXG4gIGhyKHNyYykge1xuICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2suaHIuZXhlYyhzcmMpO1xuICAgIGlmIChjYXApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdocicsXG4gICAgICAgIHJhdzogY2FwWzBdXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGJsb2NrcXVvdGUoc3JjKSB7XG4gICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5ibG9ja3F1b3RlLmV4ZWMoc3JjKTtcbiAgICBpZiAoY2FwKSB7XG4gICAgICBjb25zdCB0ZXh0ID0gY2FwWzBdLnJlcGxhY2UoL14gKj4gPy9nbSwgJycpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnYmxvY2txdW90ZScsXG4gICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICB0b2tlbnM6IHRoaXMubGV4ZXIuYmxvY2tUb2tlbnModGV4dCwgW10pLFxuICAgICAgICB0ZXh0XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGxpc3Qoc3JjKSB7XG4gICAgbGV0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2subGlzdC5leGVjKHNyYyk7XG4gICAgaWYgKGNhcCkge1xuICAgICAgbGV0IHJhdywgaXN0YXNrLCBpc2NoZWNrZWQsIGluZGVudCwgaSwgYmxhbmtMaW5lLCBlbmRzV2l0aEJsYW5rTGluZSxcbiAgICAgICAgbGluZSwgbmV4dExpbmUsIHJhd0xpbmUsIGl0ZW1Db250ZW50cztcblxuICAgICAgbGV0IGJ1bGwgPSBjYXBbMV0udHJpbSgpO1xuICAgICAgY29uc3QgaXNvcmRlcmVkID0gYnVsbC5sZW5ndGggPiAxO1xuXG4gICAgICBjb25zdCBsaXN0ID0ge1xuICAgICAgICB0eXBlOiAnbGlzdCcsXG4gICAgICAgIHJhdzogJycsXG4gICAgICAgIG9yZGVyZWQ6IGlzb3JkZXJlZCxcbiAgICAgICAgc3RhcnQ6IGlzb3JkZXJlZCA/ICtidWxsLnNsaWNlKDAsIC0xKSA6ICcnLFxuICAgICAgICBsb29zZTogZmFsc2UsXG4gICAgICAgIGl0ZW1zOiBbXVxuICAgICAgfTtcblxuICAgICAgYnVsbCA9IGlzb3JkZXJlZCA/IGBcXFxcZHsxLDl9XFxcXCR7YnVsbC5zbGljZSgtMSl9YCA6IGBcXFxcJHtidWxsfWA7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgYnVsbCA9IGlzb3JkZXJlZCA/IGJ1bGwgOiAnWyorLV0nO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgbmV4dCBsaXN0IGl0ZW1cbiAgICAgIGNvbnN0IGl0ZW1SZWdleCA9IG5ldyBSZWdFeHAoYF4oIHswLDN9JHtidWxsfSkoKD86IFteXFxcXG5dKik/KD86XFxcXG58JCkpYCk7XG5cbiAgICAgIC8vIENoZWNrIGlmIGN1cnJlbnQgYnVsbGV0IHBvaW50IGNhbiBzdGFydCBhIG5ldyBMaXN0IEl0ZW1cbiAgICAgIHdoaWxlIChzcmMpIHtcbiAgICAgICAgaWYgKCEoY2FwID0gaXRlbVJlZ2V4LmV4ZWMoc3JjKSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnJ1bGVzLmJsb2NrLmhyLnRlc3Qoc3JjKSkgeyAvLyBFbmQgbGlzdCBpZiBidWxsZXQgd2FzIGFjdHVhbGx5IEhSIChwb3NzaWJseSBtb3ZlIGludG8gaXRlbVJlZ2V4PylcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJhdyA9IGNhcFswXTtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhyYXcubGVuZ3RoKTtcblxuICAgICAgICBsaW5lID0gY2FwWzJdLnNwbGl0KCdcXG4nLCAxKVswXTtcbiAgICAgICAgbmV4dExpbmUgPSBzcmMuc3BsaXQoJ1xcbicsIDEpWzBdO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgICBpbmRlbnQgPSAyO1xuICAgICAgICAgIGl0ZW1Db250ZW50cyA9IGxpbmUudHJpbUxlZnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbmRlbnQgPSBjYXBbMl0uc2VhcmNoKC9bXiBdLyk7IC8vIEZpbmQgZmlyc3Qgbm9uLXNwYWNlIGNoYXJcbiAgICAgICAgICBpbmRlbnQgPSBpbmRlbnQgPiA0ID8gMSA6IGluZGVudDsgLy8gVHJlYXQgaW5kZW50ZWQgY29kZSBibG9ja3MgKD4gNCBzcGFjZXMpIGFzIGhhdmluZyBvbmx5IDEgaW5kZW50XG4gICAgICAgICAgaXRlbUNvbnRlbnRzID0gbGluZS5zbGljZShpbmRlbnQpO1xuICAgICAgICAgIGluZGVudCArPSBjYXBbMV0ubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgYmxhbmtMaW5lID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFsaW5lICYmIC9eICokLy50ZXN0KG5leHRMaW5lKSkgeyAvLyBJdGVtcyBiZWdpbiB3aXRoIGF0IG1vc3Qgb25lIGJsYW5rIGxpbmVcbiAgICAgICAgICByYXcgKz0gbmV4dExpbmUgKyAnXFxuJztcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKG5leHRMaW5lLmxlbmd0aCArIDEpO1xuICAgICAgICAgIGxpc3QubG9vc2UgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbmV4dEJ1bGxldFJlZ2V4ID0gbmV3IFJlZ0V4cChgXiB7MCwke01hdGgubWluKDMsIGluZGVudCAtIDEpfX0oPzpbKistXXxcXFxcZHsxLDl9Wy4pXSlgKTtcblxuICAgICAgICAvLyBDaGVjayBpZiBmb2xsb3dpbmcgbGluZXMgc2hvdWxkIGJlIGluY2x1ZGVkIGluIExpc3QgSXRlbVxuICAgICAgICB3aGlsZSAoc3JjICYmICFsaXN0Lmxvb3NlKSB7XG4gICAgICAgICAgcmF3TGluZSA9IHNyYy5zcGxpdCgnXFxuJywgMSlbMF07XG4gICAgICAgICAgbGluZSA9IHJhd0xpbmU7XG5cbiAgICAgICAgICAvLyBSZS1hbGlnbiB0byBmb2xsb3cgY29tbW9ubWFyayBuZXN0aW5nIHJ1bGVzXG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYykge1xuICAgICAgICAgICAgbGluZSA9IGxpbmUucmVwbGFjZSgvXiB7MSw0fSg/PSggezR9KSpbXiBdKS9nLCAnICAnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBFbmQgbGlzdCBpdGVtIGlmIGZvdW5kIHN0YXJ0IG9mIG5ldyBidWxsZXRcbiAgICAgICAgICBpZiAobmV4dEJ1bGxldFJlZ2V4LnRlc3QobGluZSkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChsaW5lLnNlYXJjaCgvW14gXS8pID49IGluZGVudCB8fCAhbGluZS50cmltKCkpIHsgLy8gRGVkZW50IGlmIHBvc3NpYmxlXG4gICAgICAgICAgICBpdGVtQ29udGVudHMgKz0gJ1xcbicgKyBsaW5lLnNsaWNlKGluZGVudCk7XG4gICAgICAgICAgfSBlbHNlIGlmICghYmxhbmtMaW5lKSB7IC8vIFVudGlsIGJsYW5rIGxpbmUsIGl0ZW0gZG9lc24ndCBuZWVkIGluZGVudGF0aW9uXG4gICAgICAgICAgICBpdGVtQ29udGVudHMgKz0gJ1xcbicgKyBsaW5lO1xuICAgICAgICAgIH0gZWxzZSB7IC8vIE90aGVyd2lzZSwgaW1wcm9wZXIgaW5kZW50YXRpb24gZW5kcyB0aGlzIGl0ZW1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghYmxhbmtMaW5lICYmICFsaW5lLnRyaW0oKSkgeyAvLyBDaGVjayBpZiBjdXJyZW50IGxpbmUgaXMgYmxhbmtcbiAgICAgICAgICAgIGJsYW5rTGluZSA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmF3ICs9IHJhd0xpbmUgKyAnXFxuJztcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHJhd0xpbmUubGVuZ3RoICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWxpc3QubG9vc2UpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgcHJldmlvdXMgaXRlbSBlbmRlZCB3aXRoIGEgYmxhbmsgbGluZSwgdGhlIGxpc3QgaXMgbG9vc2VcbiAgICAgICAgICBpZiAoZW5kc1dpdGhCbGFua0xpbmUpIHtcbiAgICAgICAgICAgIGxpc3QubG9vc2UgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoL1xcbiAqXFxuICokLy50ZXN0KHJhdykpIHtcbiAgICAgICAgICAgIGVuZHNXaXRoQmxhbmtMaW5lID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3IgdGFzayBsaXN0IGl0ZW1zXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZ2ZtKSB7XG4gICAgICAgICAgaXN0YXNrID0gL15cXFtbIHhYXVxcXSAvLmV4ZWMoaXRlbUNvbnRlbnRzKTtcbiAgICAgICAgICBpZiAoaXN0YXNrKSB7XG4gICAgICAgICAgICBpc2NoZWNrZWQgPSBpc3Rhc2tbMF0gIT09ICdbIF0gJztcbiAgICAgICAgICAgIGl0ZW1Db250ZW50cyA9IGl0ZW1Db250ZW50cy5yZXBsYWNlKC9eXFxbWyB4WF1cXF0gKy8sICcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0Lml0ZW1zLnB1c2goe1xuICAgICAgICAgIHR5cGU6ICdsaXN0X2l0ZW0nLFxuICAgICAgICAgIHJhdzogcmF3LFxuICAgICAgICAgIHRhc2s6ICEhaXN0YXNrLFxuICAgICAgICAgIGNoZWNrZWQ6IGlzY2hlY2tlZCxcbiAgICAgICAgICBsb29zZTogZmFsc2UsXG4gICAgICAgICAgdGV4dDogaXRlbUNvbnRlbnRzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxpc3QucmF3ICs9IHJhdztcbiAgICAgIH1cblxuICAgICAgLy8gRG8gbm90IGNvbnN1bWUgbmV3bGluZXMgYXQgZW5kIG9mIGZpbmFsIGl0ZW0uIEFsdGVybmF0aXZlbHksIG1ha2UgaXRlbVJlZ2V4ICpzdGFydCogd2l0aCBhbnkgbmV3bGluZXMgdG8gc2ltcGxpZnkvc3BlZWQgdXAgZW5kc1dpdGhCbGFua0xpbmUgbG9naWNcbiAgICAgIGxpc3QuaXRlbXNbbGlzdC5pdGVtcy5sZW5ndGggLSAxXS5yYXcgPSByYXcudHJpbVJpZ2h0KCk7XG4gICAgICBsaXN0Lml0ZW1zW2xpc3QuaXRlbXMubGVuZ3RoIC0gMV0udGV4dCA9IGl0ZW1Db250ZW50cy50cmltUmlnaHQoKTtcbiAgICAgIGxpc3QucmF3ID0gbGlzdC5yYXcudHJpbVJpZ2h0KCk7XG5cbiAgICAgIGNvbnN0IGwgPSBsaXN0Lml0ZW1zLmxlbmd0aDtcblxuICAgICAgLy8gSXRlbSBjaGlsZCB0b2tlbnMgaGFuZGxlZCBoZXJlIGF0IGVuZCBiZWNhdXNlIHdlIG5lZWRlZCB0byBoYXZlIHRoZSBmaW5hbCBpdGVtIHRvIHRyaW0gaXQgZmlyc3RcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy5sZXhlci5zdGF0ZS50b3AgPSBmYWxzZTtcbiAgICAgICAgbGlzdC5pdGVtc1tpXS50b2tlbnMgPSB0aGlzLmxleGVyLmJsb2NrVG9rZW5zKGxpc3QuaXRlbXNbaV0udGV4dCwgW10pO1xuICAgICAgICBpZiAoIWxpc3QubG9vc2UgJiYgbGlzdC5pdGVtc1tpXS50b2tlbnMuc29tZSh0ID0+IHQudHlwZSA9PT0gJ3NwYWNlJykpIHtcbiAgICAgICAgICBsaXN0Lmxvb3NlID0gdHJ1ZTtcbiAgICAgICAgICBsaXN0Lml0ZW1zW2ldLmxvb3NlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG4gIH1cblxuICBodG1sKHNyYykge1xuICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2suaHRtbC5leGVjKHNyYyk7XG4gICAgaWYgKGNhcCkge1xuICAgICAgY29uc3QgdG9rZW4gPSB7XG4gICAgICAgIHR5cGU6ICdodG1sJyxcbiAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgIHByZTogIXRoaXMub3B0aW9ucy5zYW5pdGl6ZXJcbiAgICAgICAgICAmJiAoY2FwWzFdID09PSAncHJlJyB8fCBjYXBbMV0gPT09ICdzY3JpcHQnIHx8IGNhcFsxXSA9PT0gJ3N0eWxlJyksXG4gICAgICAgIHRleHQ6IGNhcFswXVxuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2FuaXRpemUpIHtcbiAgICAgICAgdG9rZW4udHlwZSA9ICdwYXJhZ3JhcGgnO1xuICAgICAgICB0b2tlbi50ZXh0ID0gdGhpcy5vcHRpb25zLnNhbml0aXplciA/IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIoY2FwWzBdKSA6IGVzY2FwZShjYXBbMF0pO1xuICAgICAgICB0b2tlbi50b2tlbnMgPSBbXTtcbiAgICAgICAgdGhpcy5sZXhlci5pbmxpbmUodG9rZW4udGV4dCwgdG9rZW4udG9rZW5zKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gIH1cblxuICBkZWYoc3JjKSB7XG4gICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5kZWYuZXhlYyhzcmMpO1xuICAgIGlmIChjYXApIHtcbiAgICAgIGlmIChjYXBbM10pIGNhcFszXSA9IGNhcFszXS5zdWJzdHJpbmcoMSwgY2FwWzNdLmxlbmd0aCAtIDEpO1xuICAgICAgY29uc3QgdGFnID0gY2FwWzFdLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2RlZicsXG4gICAgICAgIHRhZyxcbiAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgIGhyZWY6IGNhcFsyXSxcbiAgICAgICAgdGl0bGU6IGNhcFszXVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICB0YWJsZShzcmMpIHtcbiAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLnRhYmxlLmV4ZWMoc3JjKTtcbiAgICBpZiAoY2FwKSB7XG4gICAgICBjb25zdCBpdGVtID0ge1xuICAgICAgICB0eXBlOiAndGFibGUnLFxuICAgICAgICBoZWFkZXI6IHNwbGl0Q2VsbHMoY2FwWzFdKS5tYXAoYyA9PiB7IHJldHVybiB7IHRleHQ6IGMgfTsgfSksXG4gICAgICAgIGFsaWduOiBjYXBbMl0ucmVwbGFjZSgvXiAqfFxcfCAqJC9nLCAnJykuc3BsaXQoLyAqXFx8ICovKSxcbiAgICAgICAgcm93czogY2FwWzNdID8gY2FwWzNdLnJlcGxhY2UoL1xcbiQvLCAnJykuc3BsaXQoJ1xcbicpIDogW11cbiAgICAgIH07XG5cbiAgICAgIGlmIChpdGVtLmhlYWRlci5sZW5ndGggPT09IGl0ZW0uYWxpZ24ubGVuZ3RoKSB7XG4gICAgICAgIGl0ZW0ucmF3ID0gY2FwWzBdO1xuXG4gICAgICAgIGxldCBsID0gaXRlbS5hbGlnbi5sZW5ndGg7XG4gICAgICAgIGxldCBpLCBqLCBrLCByb3c7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBpZiAoL14gKi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdyaWdodCc7XG4gICAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdjZW50ZXInO1xuICAgICAgICAgIH0gZWxzZSBpZiAoL14gKjotKyAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdsZWZ0JztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbCA9IGl0ZW0ucm93cy5sZW5ndGg7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBpdGVtLnJvd3NbaV0gPSBzcGxpdENlbGxzKGl0ZW0ucm93c1tpXSwgaXRlbS5oZWFkZXIubGVuZ3RoKS5tYXAoYyA9PiB7IHJldHVybiB7IHRleHQ6IGMgfTsgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYXJzZSBjaGlsZCB0b2tlbnMgaW5zaWRlIGhlYWRlcnMgYW5kIGNlbGxzXG5cbiAgICAgICAgLy8gaGVhZGVyIGNoaWxkIHRva2Vuc1xuICAgICAgICBsID0gaXRlbS5oZWFkZXIubGVuZ3RoO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgbDsgaisrKSB7XG4gICAgICAgICAgaXRlbS5oZWFkZXJbal0udG9rZW5zID0gW107XG4gICAgICAgICAgdGhpcy5sZXhlci5pbmxpbmVUb2tlbnMoaXRlbS5oZWFkZXJbal0udGV4dCwgaXRlbS5oZWFkZXJbal0udG9rZW5zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNlbGwgY2hpbGQgdG9rZW5zXG4gICAgICAgIGwgPSBpdGVtLnJvd3MubGVuZ3RoO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgbDsgaisrKSB7XG4gICAgICAgICAgcm93ID0gaXRlbS5yb3dzW2pdO1xuICAgICAgICAgIGZvciAoayA9IDA7IGsgPCByb3cubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgIHJvd1trXS50b2tlbnMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMubGV4ZXIuaW5saW5lVG9rZW5zKHJvd1trXS50ZXh0LCByb3dba10udG9rZW5zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBsaGVhZGluZyhzcmMpIHtcbiAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmxoZWFkaW5nLmV4ZWMoc3JjKTtcbiAgICBpZiAoY2FwKSB7XG4gICAgICBjb25zdCB0b2tlbiA9IHtcbiAgICAgICAgdHlwZTogJ2hlYWRpbmcnLFxuICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgZGVwdGg6IGNhcFsyXS5jaGFyQXQoMCkgPT09ICc9JyA/IDEgOiAyLFxuICAgICAgICB0ZXh0OiBjYXBbMV0sXG4gICAgICAgIHRva2VuczogW11cbiAgICAgIH07XG4gICAgICB0aGlzLmxleGVyLmlubGluZSh0b2tlbi50ZXh0LCB0b2tlbi50b2tlbnMpO1xuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgfVxuXG4gIHBhcmFncmFwaChzcmMpIHtcbiAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLnBhcmFncmFwaC5leGVjKHNyYyk7XG4gICAgaWYgKGNhcCkge1xuICAgICAgY29uc3QgdG9rZW4gPSB7XG4gICAgICAgIHR5cGU6ICdwYXJhZ3JhcGgnLFxuICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgdGV4dDogY2FwWzFdLmNoYXJBdChjYXBbMV0ubGVuZ3RoIC0gMSkgPT09ICdcXG4nXG4gICAgICAgICAgPyBjYXBbMV0uc2xpY2UoMCwgLTEpXG4gICAgICAgICAgOiBjYXBbMV0sXG4gICAgICAgIHRva2VuczogW11cbiAgICAgIH07XG4gICAgICB0aGlzLmxleGVyLmlubGluZSh0b2tlbi50ZXh0LCB0b2tlbi50b2tlbnMpO1xuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgfVxuXG4gIHRleHQoc3JjKSB7XG4gICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay50ZXh0LmV4ZWMoc3JjKTtcbiAgICBpZiAoY2FwKSB7XG4gICAgICBjb25zdCB0b2tlbiA9IHtcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgdGV4dDogY2FwWzBdLFxuICAgICAgICB0b2tlbnM6IFtdXG4gICAgICB9O1xuICAgICAgdGhpcy5sZXhlci5pbmxpbmUodG9rZW4udGV4dCwgdG9rZW4udG9rZW5zKTtcbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gIH1cblxuICBlc2NhcGUoc3JjKSB7XG4gICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuZXNjYXBlLmV4ZWMoc3JjKTtcbiAgICBpZiAoY2FwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnZXNjYXBlJyxcbiAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgIHRleHQ6IGVzY2FwZShjYXBbMV0pXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHRhZyhzcmMpIHtcbiAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS50YWcuZXhlYyhzcmMpO1xuICAgIGlmIChjYXApIHtcbiAgICAgIGlmICghdGhpcy5sZXhlci5zdGF0ZS5pbkxpbmsgJiYgL148YSAvaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgdGhpcy5sZXhlci5zdGF0ZS5pbkxpbmsgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmxleGVyLnN0YXRlLmluTGluayAmJiAvXjxcXC9hPi9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICB0aGlzLmxleGVyLnN0YXRlLmluTGluayA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2sgJiYgL148KHByZXxjb2RlfGtiZHxzY3JpcHQpKFxcc3w+KS9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICB0aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2sgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2sgJiYgL148XFwvKHByZXxjb2RlfGtiZHxzY3JpcHQpKFxcc3w+KS9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICB0aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2sgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnNhbml0aXplXG4gICAgICAgICAgPyAndGV4dCdcbiAgICAgICAgICA6ICdodG1sJyxcbiAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgIGluTGluazogdGhpcy5sZXhlci5zdGF0ZS5pbkxpbmssXG4gICAgICAgIGluUmF3QmxvY2s6IHRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jayxcbiAgICAgICAgdGV4dDogdGhpcy5vcHRpb25zLnNhbml0aXplXG4gICAgICAgICAgPyAodGhpcy5vcHRpb25zLnNhbml0aXplclxuICAgICAgICAgICAgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyKGNhcFswXSlcbiAgICAgICAgICAgIDogZXNjYXBlKGNhcFswXSkpXG4gICAgICAgICAgOiBjYXBbMF1cbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgbGluayhzcmMpIHtcbiAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5saW5rLmV4ZWMoc3JjKTtcbiAgICBpZiAoY2FwKSB7XG4gICAgICBjb25zdCB0cmltbWVkVXJsID0gY2FwWzJdLnRyaW0oKTtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLnBlZGFudGljICYmIC9ePC8udGVzdCh0cmltbWVkVXJsKSkge1xuICAgICAgICAvLyBjb21tb25tYXJrIHJlcXVpcmVzIG1hdGNoaW5nIGFuZ2xlIGJyYWNrZXRzXG4gICAgICAgIGlmICghKC8+JC8udGVzdCh0cmltbWVkVXJsKSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlbmRpbmcgYW5nbGUgYnJhY2tldCBjYW5ub3QgYmUgZXNjYXBlZFxuICAgICAgICBjb25zdCBydHJpbVNsYXNoID0gcnRyaW0odHJpbW1lZFVybC5zbGljZSgwLCAtMSksICdcXFxcJyk7XG4gICAgICAgIGlmICgodHJpbW1lZFVybC5sZW5ndGggLSBydHJpbVNsYXNoLmxlbmd0aCkgJSAyID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBmaW5kIGNsb3NpbmcgcGFyZW50aGVzaXNcbiAgICAgICAgY29uc3QgbGFzdFBhcmVuSW5kZXggPSBmaW5kQ2xvc2luZ0JyYWNrZXQoY2FwWzJdLCAnKCknKTtcbiAgICAgICAgaWYgKGxhc3RQYXJlbkluZGV4ID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBzdGFydCA9IGNhcFswXS5pbmRleE9mKCchJykgPT09IDAgPyA1IDogNDtcbiAgICAgICAgICBjb25zdCBsaW5rTGVuID0gc3RhcnQgKyBjYXBbMV0ubGVuZ3RoICsgbGFzdFBhcmVuSW5kZXg7XG4gICAgICAgICAgY2FwWzJdID0gY2FwWzJdLnN1YnN0cmluZygwLCBsYXN0UGFyZW5JbmRleCk7XG4gICAgICAgICAgY2FwWzBdID0gY2FwWzBdLnN1YnN0cmluZygwLCBsaW5rTGVuKS50cmltKCk7XG4gICAgICAgICAgY2FwWzNdID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBocmVmID0gY2FwWzJdO1xuICAgICAgbGV0IHRpdGxlID0gJyc7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgICAgIC8vIHNwbGl0IHBlZGFudGljIGhyZWYgYW5kIHRpdGxlXG4gICAgICAgIGNvbnN0IGxpbmsgPSAvXihbXidcIl0qW15cXHNdKVxccysoWydcIl0pKC4qKVxcMi8uZXhlYyhocmVmKTtcblxuICAgICAgICBpZiAobGluaykge1xuICAgICAgICAgIGhyZWYgPSBsaW5rWzFdO1xuICAgICAgICAgIHRpdGxlID0gbGlua1szXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGl0bGUgPSBjYXBbM10gPyBjYXBbM10uc2xpY2UoMSwgLTEpIDogJyc7XG4gICAgICB9XG5cbiAgICAgIGhyZWYgPSBocmVmLnRyaW0oKTtcbiAgICAgIGlmICgvXjwvLnRlc3QoaHJlZikpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYyAmJiAhKC8+JC8udGVzdCh0cmltbWVkVXJsKSkpIHtcbiAgICAgICAgICAvLyBwZWRhbnRpYyBhbGxvd3Mgc3RhcnRpbmcgYW5nbGUgYnJhY2tldCB3aXRob3V0IGVuZGluZyBhbmdsZSBicmFja2V0XG4gICAgICAgICAgaHJlZiA9IGhyZWYuc2xpY2UoMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaHJlZiA9IGhyZWYuc2xpY2UoMSwgLTEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb3V0cHV0TGluayhjYXAsIHtcbiAgICAgICAgaHJlZjogaHJlZiA/IGhyZWYucmVwbGFjZSh0aGlzLnJ1bGVzLmlubGluZS5fZXNjYXBlcywgJyQxJykgOiBocmVmLFxuICAgICAgICB0aXRsZTogdGl0bGUgPyB0aXRsZS5yZXBsYWNlKHRoaXMucnVsZXMuaW5saW5lLl9lc2NhcGVzLCAnJDEnKSA6IHRpdGxlXG4gICAgICB9LCBjYXBbMF0sIHRoaXMubGV4ZXIpO1xuICAgIH1cbiAgfVxuXG4gIHJlZmxpbmsoc3JjLCBsaW5rcykge1xuICAgIGxldCBjYXA7XG4gICAgaWYgKChjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5yZWZsaW5rLmV4ZWMoc3JjKSlcbiAgICAgICAgfHwgKGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLm5vbGluay5leGVjKHNyYykpKSB7XG4gICAgICBsZXQgbGluayA9IChjYXBbMl0gfHwgY2FwWzFdKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gICAgICBsaW5rID0gbGlua3NbbGluay50b0xvd2VyQ2FzZSgpXTtcbiAgICAgIGlmICghbGluayB8fCAhbGluay5ocmVmKSB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBjYXBbMF0uY2hhckF0KDApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICByYXc6IHRleHQsXG4gICAgICAgICAgdGV4dFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG91dHB1dExpbmsoY2FwLCBsaW5rLCBjYXBbMF0sIHRoaXMubGV4ZXIpO1xuICAgIH1cbiAgfVxuXG4gIGVtU3Ryb25nKHNyYywgbWFza2VkU3JjLCBwcmV2Q2hhciA9ICcnKSB7XG4gICAgbGV0IG1hdGNoID0gdGhpcy5ydWxlcy5pbmxpbmUuZW1TdHJvbmcubERlbGltLmV4ZWMoc3JjKTtcbiAgICBpZiAoIW1hdGNoKSByZXR1cm47XG5cbiAgICAvLyBfIGNhbid0IGJlIGJldHdlZW4gdHdvIGFscGhhbnVtZXJpY3MuIFxccHtMfVxccHtOfSBpbmNsdWRlcyBub24tZW5nbGlzaCBhbHBoYWJldC9udW1iZXJzIGFzIHdlbGxcbiAgICBpZiAobWF0Y2hbM10gJiYgcHJldkNoYXIubWF0Y2goL1tcXHB7TH1cXHB7Tn1dL3UpKSByZXR1cm47XG5cbiAgICBjb25zdCBuZXh0Q2hhciA9IG1hdGNoWzFdIHx8IG1hdGNoWzJdIHx8ICcnO1xuXG4gICAgaWYgKCFuZXh0Q2hhciB8fCAobmV4dENoYXIgJiYgKHByZXZDaGFyID09PSAnJyB8fCB0aGlzLnJ1bGVzLmlubGluZS5wdW5jdHVhdGlvbi5leGVjKHByZXZDaGFyKSkpKSB7XG4gICAgICBjb25zdCBsTGVuZ3RoID0gbWF0Y2hbMF0ubGVuZ3RoIC0gMTtcbiAgICAgIGxldCByRGVsaW0sIHJMZW5ndGgsIGRlbGltVG90YWwgPSBsTGVuZ3RoLCBtaWREZWxpbVRvdGFsID0gMDtcblxuICAgICAgY29uc3QgZW5kUmVnID0gbWF0Y2hbMF1bMF0gPT09ICcqJyA/IHRoaXMucnVsZXMuaW5saW5lLmVtU3Ryb25nLnJEZWxpbUFzdCA6IHRoaXMucnVsZXMuaW5saW5lLmVtU3Ryb25nLnJEZWxpbVVuZDtcbiAgICAgIGVuZFJlZy5sYXN0SW5kZXggPSAwO1xuXG4gICAgICAvLyBDbGlwIG1hc2tlZFNyYyB0byBzYW1lIHNlY3Rpb24gb2Ygc3RyaW5nIGFzIHNyYyAobW92ZSB0byBsZXhlcj8pXG4gICAgICBtYXNrZWRTcmMgPSBtYXNrZWRTcmMuc2xpY2UoLTEgKiBzcmMubGVuZ3RoICsgbExlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgobWF0Y2ggPSBlbmRSZWcuZXhlYyhtYXNrZWRTcmMpKSAhPSBudWxsKSB7XG4gICAgICAgIHJEZWxpbSA9IG1hdGNoWzFdIHx8IG1hdGNoWzJdIHx8IG1hdGNoWzNdIHx8IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IG1hdGNoWzZdO1xuXG4gICAgICAgIGlmICghckRlbGltKSBjb250aW51ZTsgLy8gc2tpcCBzaW5nbGUgKiBpbiBfX2FiYyphYmNfX1xuXG4gICAgICAgIHJMZW5ndGggPSByRGVsaW0ubGVuZ3RoO1xuXG4gICAgICAgIGlmIChtYXRjaFszXSB8fCBtYXRjaFs0XSkgeyAvLyBmb3VuZCBhbm90aGVyIExlZnQgRGVsaW1cbiAgICAgICAgICBkZWxpbVRvdGFsICs9IHJMZW5ndGg7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbNV0gfHwgbWF0Y2hbNl0pIHsgLy8gZWl0aGVyIExlZnQgb3IgUmlnaHQgRGVsaW1cbiAgICAgICAgICBpZiAobExlbmd0aCAlIDMgJiYgISgobExlbmd0aCArIHJMZW5ndGgpICUgMykpIHtcbiAgICAgICAgICAgIG1pZERlbGltVG90YWwgKz0gckxlbmd0aDtcbiAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBDb21tb25NYXJrIEVtcGhhc2lzIFJ1bGVzIDktMTBcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBkZWxpbVRvdGFsIC09IHJMZW5ndGg7XG5cbiAgICAgICAgaWYgKGRlbGltVG90YWwgPiAwKSBjb250aW51ZTsgLy8gSGF2ZW4ndCBmb3VuZCBlbm91Z2ggY2xvc2luZyBkZWxpbWl0ZXJzXG5cbiAgICAgICAgLy8gUmVtb3ZlIGV4dHJhIGNoYXJhY3RlcnMuICphKioqIC0+ICphKlxuICAgICAgICByTGVuZ3RoID0gTWF0aC5taW4ockxlbmd0aCwgckxlbmd0aCArIGRlbGltVG90YWwgKyBtaWREZWxpbVRvdGFsKTtcblxuICAgICAgICAvLyBDcmVhdGUgYGVtYCBpZiBzbWFsbGVzdCBkZWxpbWl0ZXIgaGFzIG9kZCBjaGFyIGNvdW50LiAqYSoqKlxuICAgICAgICBpZiAoTWF0aC5taW4obExlbmd0aCwgckxlbmd0aCkgJSAyKSB7XG4gICAgICAgICAgY29uc3QgdGV4dCA9IHNyYy5zbGljZSgxLCBsTGVuZ3RoICsgbWF0Y2guaW5kZXggKyByTGVuZ3RoKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2VtJyxcbiAgICAgICAgICAgIHJhdzogc3JjLnNsaWNlKDAsIGxMZW5ndGggKyBtYXRjaC5pbmRleCArIHJMZW5ndGggKyAxKSxcbiAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICB0b2tlbnM6IHRoaXMubGV4ZXIuaW5saW5lVG9rZW5zKHRleHQsIFtdKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgJ3N0cm9uZycgaWYgc21hbGxlc3QgZGVsaW1pdGVyIGhhcyBldmVuIGNoYXIgY291bnQuICoqYSoqKlxuICAgICAgICBjb25zdCB0ZXh0ID0gc3JjLnNsaWNlKDIsIGxMZW5ndGggKyBtYXRjaC5pbmRleCArIHJMZW5ndGggLSAxKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnc3Ryb25nJyxcbiAgICAgICAgICByYXc6IHNyYy5zbGljZSgwLCBsTGVuZ3RoICsgbWF0Y2guaW5kZXggKyByTGVuZ3RoICsgMSksXG4gICAgICAgICAgdGV4dCxcbiAgICAgICAgICB0b2tlbnM6IHRoaXMubGV4ZXIuaW5saW5lVG9rZW5zKHRleHQsIFtdKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvZGVzcGFuKHNyYykge1xuICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmNvZGUuZXhlYyhzcmMpO1xuICAgIGlmIChjYXApIHtcbiAgICAgIGxldCB0ZXh0ID0gY2FwWzJdLnJlcGxhY2UoL1xcbi9nLCAnICcpO1xuICAgICAgY29uc3QgaGFzTm9uU3BhY2VDaGFycyA9IC9bXiBdLy50ZXN0KHRleHQpO1xuICAgICAgY29uc3QgaGFzU3BhY2VDaGFyc09uQm90aEVuZHMgPSAvXiAvLnRlc3QodGV4dCkgJiYgLyAkLy50ZXN0KHRleHQpO1xuICAgICAgaWYgKGhhc05vblNwYWNlQ2hhcnMgJiYgaGFzU3BhY2VDaGFyc09uQm90aEVuZHMpIHtcbiAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKDEsIHRleHQubGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICB0ZXh0ID0gZXNjYXBlKHRleHQsIHRydWUpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2NvZGVzcGFuJyxcbiAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgIHRleHRcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgYnIoc3JjKSB7XG4gICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuYnIuZXhlYyhzcmMpO1xuICAgIGlmIChjYXApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdicicsXG4gICAgICAgIHJhdzogY2FwWzBdXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGRlbChzcmMpIHtcbiAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5kZWwuZXhlYyhzcmMpO1xuICAgIGlmIChjYXApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdkZWwnLFxuICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgdGV4dDogY2FwWzJdLFxuICAgICAgICB0b2tlbnM6IHRoaXMubGV4ZXIuaW5saW5lVG9rZW5zKGNhcFsyXSwgW10pXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGF1dG9saW5rKHNyYywgbWFuZ2xlKSB7XG4gICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuYXV0b2xpbmsuZXhlYyhzcmMpO1xuICAgIGlmIChjYXApIHtcbiAgICAgIGxldCB0ZXh0LCBocmVmO1xuICAgICAgaWYgKGNhcFsyXSA9PT0gJ0AnKSB7XG4gICAgICAgIHRleHQgPSBlc2NhcGUodGhpcy5vcHRpb25zLm1hbmdsZSA/IG1hbmdsZShjYXBbMV0pIDogY2FwWzFdKTtcbiAgICAgICAgaHJlZiA9ICdtYWlsdG86JyArIHRleHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0ID0gZXNjYXBlKGNhcFsxXSk7XG4gICAgICAgIGhyZWYgPSB0ZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnbGluaycsXG4gICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICB0ZXh0LFxuICAgICAgICBocmVmLFxuICAgICAgICB0b2tlbnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICByYXc6IHRleHQsXG4gICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHVybChzcmMsIG1hbmdsZSkge1xuICAgIGxldCBjYXA7XG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLnVybC5leGVjKHNyYykpIHtcbiAgICAgIGxldCB0ZXh0LCBocmVmO1xuICAgICAgaWYgKGNhcFsyXSA9PT0gJ0AnKSB7XG4gICAgICAgIHRleHQgPSBlc2NhcGUodGhpcy5vcHRpb25zLm1hbmdsZSA/IG1hbmdsZShjYXBbMF0pIDogY2FwWzBdKTtcbiAgICAgICAgaHJlZiA9ICdtYWlsdG86JyArIHRleHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkbyBleHRlbmRlZCBhdXRvbGluayBwYXRoIHZhbGlkYXRpb25cbiAgICAgICAgbGV0IHByZXZDYXBaZXJvO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgcHJldkNhcFplcm8gPSBjYXBbMF07XG4gICAgICAgICAgY2FwWzBdID0gdGhpcy5ydWxlcy5pbmxpbmUuX2JhY2twZWRhbC5leGVjKGNhcFswXSlbMF07XG4gICAgICAgIH0gd2hpbGUgKHByZXZDYXBaZXJvICE9PSBjYXBbMF0pO1xuICAgICAgICB0ZXh0ID0gZXNjYXBlKGNhcFswXSk7XG4gICAgICAgIGlmIChjYXBbMV0gPT09ICd3d3cuJykge1xuICAgICAgICAgIGhyZWYgPSAnaHR0cDovLycgKyB0ZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhyZWYgPSB0ZXh0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnbGluaycsXG4gICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICB0ZXh0LFxuICAgICAgICBocmVmLFxuICAgICAgICB0b2tlbnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICByYXc6IHRleHQsXG4gICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGlubGluZVRleHQoc3JjLCBzbWFydHlwYW50cykge1xuICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLnRleHQuZXhlYyhzcmMpO1xuICAgIGlmIChjYXApIHtcbiAgICAgIGxldCB0ZXh0O1xuICAgICAgaWYgKHRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jaykge1xuICAgICAgICB0ZXh0ID0gdGhpcy5vcHRpb25zLnNhbml0aXplID8gKHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyKGNhcFswXSkgOiBlc2NhcGUoY2FwWzBdKSkgOiBjYXBbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0ID0gZXNjYXBlKHRoaXMub3B0aW9ucy5zbWFydHlwYW50cyA/IHNtYXJ0eXBhbnRzKGNhcFswXSkgOiBjYXBbMF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgdGV4dFxuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBCbG9jay1MZXZlbCBHcmFtbWFyXG4gKi9cbmNvbnN0IGJsb2NrID0ge1xuICBuZXdsaW5lOiAvXig/OiAqKD86XFxufCQpKSsvLFxuICBjb2RlOiAvXiggezR9W15cXG5dKyg/Olxcbig/OiAqKD86XFxufCQpKSopPykrLyxcbiAgZmVuY2VzOiAvXiB7MCwzfShgezMsfSg/PVteYFxcbl0qXFxuKXx+ezMsfSkoW15cXG5dKilcXG4oPzp8KFtcXHNcXFNdKj8pXFxuKSg/OiB7MCwzfVxcMVt+YF0qICooPz1cXG58JCl8JCkvLFxuICBocjogL14gezAsM30oKD86LSAqKXszLH18KD86XyAqKXszLH18KD86XFwqICopezMsfSkoPzpcXG4rfCQpLyxcbiAgaGVhZGluZzogL14gezAsM30oI3sxLDZ9KSg/PVxcc3wkKSguKikoPzpcXG4rfCQpLyxcbiAgYmxvY2txdW90ZTogL14oIHswLDN9PiA/KHBhcmFncmFwaHxbXlxcbl0qKSg/OlxcbnwkKSkrLyxcbiAgbGlzdDogL14oIHswLDN9YnVsbCkoIFteXFxuXSs/KT8oPzpcXG58JCkvLFxuICBodG1sOiAnXiB7MCwzfSg/OicgLy8gb3B0aW9uYWwgaW5kZW50YXRpb25cbiAgICArICc8KHNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWEpW1xcXFxzPl1bXFxcXHNcXFxcU10qPyg/OjwvXFxcXDE+W15cXFxcbl0qXFxcXG4rfCQpJyAvLyAoMSlcbiAgICArICd8Y29tbWVudFteXFxcXG5dKihcXFxcbit8JCknIC8vICgyKVxuICAgICsgJ3w8XFxcXD9bXFxcXHNcXFxcU10qPyg/OlxcXFw/PlxcXFxuKnwkKScgLy8gKDMpXG4gICAgKyAnfDwhW0EtWl1bXFxcXHNcXFxcU10qPyg/Oj5cXFxcbip8JCknIC8vICg0KVxuICAgICsgJ3w8IVxcXFxbQ0RBVEFcXFxcW1tcXFxcc1xcXFxTXSo/KD86XFxcXF1cXFxcXT5cXFxcbip8JCknIC8vICg1KVxuICAgICsgJ3w8Lz8odGFnKSg/OiArfFxcXFxufC8/PilbXFxcXHNcXFxcU10qPyg/Oig/OlxcXFxuICopK1xcXFxufCQpJyAvLyAoNilcbiAgICArICd8PCg/IXNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWEpKFthLXpdW1xcXFx3LV0qKSg/OmF0dHJpYnV0ZSkqPyAqLz8+KD89WyBcXFxcdF0qKD86XFxcXG58JCkpW1xcXFxzXFxcXFNdKj8oPzooPzpcXFxcbiAqKStcXFxcbnwkKScgLy8gKDcpIG9wZW4gdGFnXG4gICAgKyAnfDwvKD8hc2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYSlbYS16XVtcXFxcdy1dKlxcXFxzKj4oPz1bIFxcXFx0XSooPzpcXFxcbnwkKSlbXFxcXHNcXFxcU10qPyg/Oig/OlxcXFxuICopK1xcXFxufCQpJyAvLyAoNykgY2xvc2luZyB0YWdcbiAgICArICcpJyxcbiAgZGVmOiAvXiB7MCwzfVxcWyhsYWJlbClcXF06ICpcXG4/ICo8PyhbXlxccz5dKyk+Pyg/Oig/OiArXFxuPyAqfCAqXFxuICopKHRpdGxlKSk/ICooPzpcXG4rfCQpLyxcbiAgdGFibGU6IG5vb3BUZXN0LFxuICBsaGVhZGluZzogL14oW15cXG5dKylcXG4gezAsM30oPSt8LSspICooPzpcXG4rfCQpLyxcbiAgLy8gcmVnZXggdGVtcGxhdGUsIHBsYWNlaG9sZGVycyB3aWxsIGJlIHJlcGxhY2VkIGFjY29yZGluZyB0byBkaWZmZXJlbnQgcGFyYWdyYXBoXG4gIC8vIGludGVycnVwdGlvbiBydWxlcyBvZiBjb21tb25tYXJrIGFuZCB0aGUgb3JpZ2luYWwgbWFya2Rvd24gc3BlYzpcbiAgX3BhcmFncmFwaDogL14oW15cXG5dKyg/Olxcbig/IWhyfGhlYWRpbmd8bGhlYWRpbmd8YmxvY2txdW90ZXxmZW5jZXN8bGlzdHxodG1sfHRhYmxlfCArXFxuKVteXFxuXSspKikvLFxuICB0ZXh0OiAvXlteXFxuXSsvXG59O1xuXG5ibG9jay5fbGFiZWwgPSAvKD8hXFxzKlxcXSkoPzpcXFxcW1xcW1xcXV18W15cXFtcXF1dKSsvO1xuYmxvY2suX3RpdGxlID0gLyg/OlwiKD86XFxcXFwiP3xbXlwiXFxcXF0pKlwifCdbXidcXG5dKig/OlxcblteJ1xcbl0rKSpcXG4/J3xcXChbXigpXSpcXCkpLztcbmJsb2NrLmRlZiA9IGVkaXQoYmxvY2suZGVmKVxuICAucmVwbGFjZSgnbGFiZWwnLCBibG9jay5fbGFiZWwpXG4gIC5yZXBsYWNlKCd0aXRsZScsIGJsb2NrLl90aXRsZSlcbiAgLmdldFJlZ2V4KCk7XG5cbmJsb2NrLmJ1bGxldCA9IC8oPzpbKistXXxcXGR7MSw5fVsuKV0pLztcbmJsb2NrLmxpc3RJdGVtU3RhcnQgPSBlZGl0KC9eKCAqKShidWxsKSAqLylcbiAgLnJlcGxhY2UoJ2J1bGwnLCBibG9jay5idWxsZXQpXG4gIC5nZXRSZWdleCgpO1xuXG5ibG9jay5saXN0ID0gZWRpdChibG9jay5saXN0KVxuICAucmVwbGFjZSgvYnVsbC9nLCBibG9jay5idWxsZXQpXG4gIC5yZXBsYWNlKCdocicsICdcXFxcbisoPz1cXFxcMT8oPzooPzotICopezMsfXwoPzpfICopezMsfXwoPzpcXFxcKiAqKXszLH0pKD86XFxcXG4rfCQpKScpXG4gIC5yZXBsYWNlKCdkZWYnLCAnXFxcXG4rKD89JyArIGJsb2NrLmRlZi5zb3VyY2UgKyAnKScpXG4gIC5nZXRSZWdleCgpO1xuXG5ibG9jay5fdGFnID0gJ2FkZHJlc3N8YXJ0aWNsZXxhc2lkZXxiYXNlfGJhc2Vmb250fGJsb2NrcXVvdGV8Ym9keXxjYXB0aW9uJ1xuICArICd8Y2VudGVyfGNvbHxjb2xncm91cHxkZHxkZXRhaWxzfGRpYWxvZ3xkaXJ8ZGl2fGRsfGR0fGZpZWxkc2V0fGZpZ2NhcHRpb24nXG4gICsgJ3xmaWd1cmV8Zm9vdGVyfGZvcm18ZnJhbWV8ZnJhbWVzZXR8aFsxLTZdfGhlYWR8aGVhZGVyfGhyfGh0bWx8aWZyYW1lJ1xuICArICd8bGVnZW5kfGxpfGxpbmt8bWFpbnxtZW51fG1lbnVpdGVtfG1ldGF8bmF2fG5vZnJhbWVzfG9sfG9wdGdyb3VwfG9wdGlvbidcbiAgKyAnfHB8cGFyYW18c2VjdGlvbnxzb3VyY2V8c3VtbWFyeXx0YWJsZXx0Ym9keXx0ZHx0Zm9vdHx0aHx0aGVhZHx0aXRsZXx0cidcbiAgKyAnfHRyYWNrfHVsJztcbmJsb2NrLl9jb21tZW50ID0gLzwhLS0oPyEtPz4pW1xcc1xcU10qPyg/Oi0tPnwkKS87XG5ibG9jay5odG1sID0gZWRpdChibG9jay5odG1sLCAnaScpXG4gIC5yZXBsYWNlKCdjb21tZW50JywgYmxvY2suX2NvbW1lbnQpXG4gIC5yZXBsYWNlKCd0YWcnLCBibG9jay5fdGFnKVxuICAucmVwbGFjZSgnYXR0cmlidXRlJywgLyArW2EtekEtWjpfXVtcXHcuOi1dKig/OiAqPSAqXCJbXlwiXFxuXSpcInwgKj0gKidbXidcXG5dKid8ICo9ICpbXlxcc1wiJz08PmBdKyk/LylcbiAgLmdldFJlZ2V4KCk7XG5cbmJsb2NrLnBhcmFncmFwaCA9IGVkaXQoYmxvY2suX3BhcmFncmFwaClcbiAgLnJlcGxhY2UoJ2hyJywgYmxvY2suaHIpXG4gIC5yZXBsYWNlKCdoZWFkaW5nJywgJyB7MCwzfSN7MSw2fSAnKVxuICAucmVwbGFjZSgnfGxoZWFkaW5nJywgJycpIC8vIHNldGV4IGhlYWRpbmdzIGRvbid0IGludGVycnVwdCBjb21tb25tYXJrIHBhcmFncmFwaHNcbiAgLnJlcGxhY2UoJ3x0YWJsZScsICcnKVxuICAucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JylcbiAgLnJlcGxhY2UoJ2ZlbmNlcycsICcgezAsM30oPzpgezMsfSg/PVteYFxcXFxuXSpcXFxcbil8fnszLH0pW15cXFxcbl0qXFxcXG4nKVxuICAucmVwbGFjZSgnbGlzdCcsICcgezAsM30oPzpbKistXXwxWy4pXSkgJykgLy8gb25seSBsaXN0cyBzdGFydGluZyBmcm9tIDEgY2FuIGludGVycnVwdFxuICAucmVwbGFjZSgnaHRtbCcsICc8Lz8oPzp0YWcpKD86ICt8XFxcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYXwhLS0pJylcbiAgLnJlcGxhY2UoJ3RhZycsIGJsb2NrLl90YWcpIC8vIHBhcnMgY2FuIGJlIGludGVycnVwdGVkIGJ5IHR5cGUgKDYpIGh0bWwgYmxvY2tzXG4gIC5nZXRSZWdleCgpO1xuXG5ibG9jay5ibG9ja3F1b3RlID0gZWRpdChibG9jay5ibG9ja3F1b3RlKVxuICAucmVwbGFjZSgncGFyYWdyYXBoJywgYmxvY2sucGFyYWdyYXBoKVxuICAuZ2V0UmVnZXgoKTtcblxuLyoqXG4gKiBOb3JtYWwgQmxvY2sgR3JhbW1hclxuICovXG5cbmJsb2NrLm5vcm1hbCA9IG1lcmdlKHt9LCBibG9jayk7XG5cbi8qKlxuICogR0ZNIEJsb2NrIEdyYW1tYXJcbiAqL1xuXG5ibG9jay5nZm0gPSBtZXJnZSh7fSwgYmxvY2subm9ybWFsLCB7XG4gIHRhYmxlOiAnXiAqKFteXFxcXG4gXS4qXFxcXHwuKilcXFxcbicgLy8gSGVhZGVyXG4gICAgKyAnIHswLDN9KD86XFxcXHwgKik/KDo/LSs6PyAqKD86XFxcXHwgKjo/LSs6PyAqKSopKD86XFxcXHwgKik/JyAvLyBBbGlnblxuICAgICsgJyg/OlxcXFxuKCg/Oig/ISAqXFxcXG58aHJ8aGVhZGluZ3xibG9ja3F1b3RlfGNvZGV8ZmVuY2VzfGxpc3R8aHRtbCkuKig/OlxcXFxufCQpKSopXFxcXG4qfCQpJyAvLyBDZWxsc1xufSk7XG5cbmJsb2NrLmdmbS50YWJsZSA9IGVkaXQoYmxvY2suZ2ZtLnRhYmxlKVxuICAucmVwbGFjZSgnaHInLCBibG9jay5ocilcbiAgLnJlcGxhY2UoJ2hlYWRpbmcnLCAnIHswLDN9I3sxLDZ9ICcpXG4gIC5yZXBsYWNlKCdibG9ja3F1b3RlJywgJyB7MCwzfT4nKVxuICAucmVwbGFjZSgnY29kZScsICcgezR9W15cXFxcbl0nKVxuICAucmVwbGFjZSgnZmVuY2VzJywgJyB7MCwzfSg/OmB7Myx9KD89W15gXFxcXG5dKlxcXFxuKXx+ezMsfSlbXlxcXFxuXSpcXFxcbicpXG4gIC5yZXBsYWNlKCdsaXN0JywgJyB7MCwzfSg/OlsqKy1dfDFbLildKSAnKSAvLyBvbmx5IGxpc3RzIHN0YXJ0aW5nIGZyb20gMSBjYW4gaW50ZXJydXB0XG4gIC5yZXBsYWNlKCdodG1sJywgJzwvPyg/OnRhZykoPzogK3xcXFxcbnwvPz4pfDwoPzpzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhfCEtLSknKVxuICAucmVwbGFjZSgndGFnJywgYmxvY2suX3RhZykgLy8gdGFibGVzIGNhbiBiZSBpbnRlcnJ1cHRlZCBieSB0eXBlICg2KSBodG1sIGJsb2Nrc1xuICAuZ2V0UmVnZXgoKTtcblxuYmxvY2suZ2ZtLnBhcmFncmFwaCA9IGVkaXQoYmxvY2suX3BhcmFncmFwaClcbiAgLnJlcGxhY2UoJ2hyJywgYmxvY2suaHIpXG4gIC5yZXBsYWNlKCdoZWFkaW5nJywgJyB7MCwzfSN7MSw2fSAnKVxuICAucmVwbGFjZSgnfGxoZWFkaW5nJywgJycpIC8vIHNldGV4IGhlYWRpbmdzIGRvbid0IGludGVycnVwdCBjb21tb25tYXJrIHBhcmFncmFwaHNcbiAgLnJlcGxhY2UoJ3RhYmxlJywgYmxvY2suZ2ZtLnRhYmxlKSAvLyBpbnRlcnJ1cHQgcGFyYWdyYXBocyB3aXRoIHRhYmxlXG4gIC5yZXBsYWNlKCdibG9ja3F1b3RlJywgJyB7MCwzfT4nKVxuICAucmVwbGFjZSgnZmVuY2VzJywgJyB7MCwzfSg/OmB7Myx9KD89W15gXFxcXG5dKlxcXFxuKXx+ezMsfSlbXlxcXFxuXSpcXFxcbicpXG4gIC5yZXBsYWNlKCdsaXN0JywgJyB7MCwzfSg/OlsqKy1dfDFbLildKSAnKSAvLyBvbmx5IGxpc3RzIHN0YXJ0aW5nIGZyb20gMSBjYW4gaW50ZXJydXB0XG4gIC5yZXBsYWNlKCdodG1sJywgJzwvPyg/OnRhZykoPzogK3xcXFxcbnwvPz4pfDwoPzpzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhfCEtLSknKVxuICAucmVwbGFjZSgndGFnJywgYmxvY2suX3RhZykgLy8gcGFycyBjYW4gYmUgaW50ZXJydXB0ZWQgYnkgdHlwZSAoNikgaHRtbCBibG9ja3NcbiAgLmdldFJlZ2V4KCk7XG4vKipcbiAqIFBlZGFudGljIGdyYW1tYXIgKG9yaWdpbmFsIEpvaG4gR3J1YmVyJ3MgbG9vc2UgbWFya2Rvd24gc3BlY2lmaWNhdGlvbilcbiAqL1xuXG5ibG9jay5wZWRhbnRpYyA9IG1lcmdlKHt9LCBibG9jay5ub3JtYWwsIHtcbiAgaHRtbDogZWRpdChcbiAgICAnXiAqKD86Y29tbWVudCAqKD86XFxcXG58XFxcXHMqJCknXG4gICAgKyAnfDwodGFnKVtcXFxcc1xcXFxTXSs/PC9cXFxcMT4gKig/OlxcXFxuezIsfXxcXFxccyokKScgLy8gY2xvc2VkIHRhZ1xuICAgICsgJ3w8dGFnKD86XCJbXlwiXSpcInxcXCdbXlxcJ10qXFwnfFxcXFxzW15cXCdcIi8+XFxcXHNdKikqPy8/PiAqKD86XFxcXG57Mix9fFxcXFxzKiQpKScpXG4gICAgLnJlcGxhY2UoJ2NvbW1lbnQnLCBibG9jay5fY29tbWVudClcbiAgICAucmVwbGFjZSgvdGFnL2csICcoPyEoPzonXG4gICAgICArICdhfGVtfHN0cm9uZ3xzbWFsbHxzfGNpdGV8cXxkZm58YWJicnxkYXRhfHRpbWV8Y29kZXx2YXJ8c2FtcHxrYmR8c3ViJ1xuICAgICAgKyAnfHN1cHxpfGJ8dXxtYXJrfHJ1Ynl8cnR8cnB8YmRpfGJkb3xzcGFufGJyfHdicnxpbnN8ZGVsfGltZyknXG4gICAgICArICdcXFxcYilcXFxcdysoPyE6fFteXFxcXHdcXFxcc0BdKkApXFxcXGInKVxuICAgIC5nZXRSZWdleCgpLFxuICBkZWY6IC9eICpcXFsoW15cXF1dKylcXF06ICo8PyhbXlxccz5dKyk+Pyg/OiArKFtcIihdW15cXG5dK1tcIildKSk/ICooPzpcXG4rfCQpLyxcbiAgaGVhZGluZzogL14oI3sxLDZ9KSguKikoPzpcXG4rfCQpLyxcbiAgZmVuY2VzOiBub29wVGVzdCwgLy8gZmVuY2VzIG5vdCBzdXBwb3J0ZWRcbiAgcGFyYWdyYXBoOiBlZGl0KGJsb2NrLm5vcm1hbC5fcGFyYWdyYXBoKVxuICAgIC5yZXBsYWNlKCdocicsIGJsb2NrLmhyKVxuICAgIC5yZXBsYWNlKCdoZWFkaW5nJywgJyAqI3sxLDZ9ICpbXlxcbl0nKVxuICAgIC5yZXBsYWNlKCdsaGVhZGluZycsIGJsb2NrLmxoZWFkaW5nKVxuICAgIC5yZXBsYWNlKCdibG9ja3F1b3RlJywgJyB7MCwzfT4nKVxuICAgIC5yZXBsYWNlKCd8ZmVuY2VzJywgJycpXG4gICAgLnJlcGxhY2UoJ3xsaXN0JywgJycpXG4gICAgLnJlcGxhY2UoJ3xodG1sJywgJycpXG4gICAgLmdldFJlZ2V4KClcbn0pO1xuXG4vKipcbiAqIElubGluZS1MZXZlbCBHcmFtbWFyXG4gKi9cbmNvbnN0IGlubGluZSA9IHtcbiAgZXNjYXBlOiAvXlxcXFwoWyFcIiMkJSYnKCkqKyxcXC0uLzo7PD0+P0BcXFtcXF1cXFxcXl9ge3x9fl0pLyxcbiAgYXV0b2xpbms6IC9ePChzY2hlbWU6W15cXHNcXHgwMC1cXHgxZjw+XSp8ZW1haWwpPi8sXG4gIHVybDogbm9vcFRlc3QsXG4gIHRhZzogJ15jb21tZW50J1xuICAgICsgJ3xePC9bYS16QS1aXVtcXFxcdzotXSpcXFxccyo+JyAvLyBzZWxmLWNsb3NpbmcgdGFnXG4gICAgKyAnfF48W2EtekEtWl1bXFxcXHctXSooPzphdHRyaWJ1dGUpKj9cXFxccyovPz4nIC8vIG9wZW4gdGFnXG4gICAgKyAnfF48XFxcXD9bXFxcXHNcXFxcU10qP1xcXFw/PicgLy8gcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiwgZS5nLiA8P3BocCA/PlxuICAgICsgJ3xePCFbYS16QS1aXStcXFxcc1tcXFxcc1xcXFxTXSo/PicgLy8gZGVjbGFyYXRpb24sIGUuZy4gPCFET0NUWVBFIGh0bWw+XG4gICAgKyAnfF48IVxcXFxbQ0RBVEFcXFxcW1tcXFxcc1xcXFxTXSo/XFxcXF1cXFxcXT4nLCAvLyBDREFUQSBzZWN0aW9uXG4gIGxpbms6IC9eIT9cXFsobGFiZWwpXFxdXFwoXFxzKihocmVmKSg/OlxccysodGl0bGUpKT9cXHMqXFwpLyxcbiAgcmVmbGluazogL14hP1xcWyhsYWJlbClcXF1cXFsoPyFcXHMqXFxdKSgoPzpcXFxcW1xcW1xcXV0/fFteXFxbXFxdXFxcXF0pKylcXF0vLFxuICBub2xpbms6IC9eIT9cXFsoPyFcXHMqXFxdKSgoPzpcXFtbXlxcW1xcXV0qXFxdfFxcXFxbXFxbXFxdXXxbXlxcW1xcXV0pKilcXF0oPzpcXFtcXF0pPy8sXG4gIHJlZmxpbmtTZWFyY2g6ICdyZWZsaW5rfG5vbGluayg/IVxcXFwoKScsXG4gIGVtU3Ryb25nOiB7XG4gICAgbERlbGltOiAvXig/OlxcKisoPzooW3B1bmN0X10pfFteXFxzKl0pKXxeXysoPzooW3B1bmN0Kl0pfChbXlxcc19dKSkvLFxuICAgIC8vICAgICAgICAoMSkgYW5kICgyKSBjYW4gb25seSBiZSBhIFJpZ2h0IERlbGltaXRlci4gKDMpIGFuZCAoNCkgY2FuIG9ubHkgYmUgTGVmdC4gICg1KSBhbmQgKDYpIGNhbiBiZSBlaXRoZXIgTGVmdCBvciBSaWdodC5cbiAgICAvLyAgICAgICAgKCkgU2tpcCBvcnBoYW4gZGVsaW0gaW5zaWRlIHN0cm9uZyAgICAoMSkgIyoqKiAgICAgICAgICAgICAgICAoMikgYSoqKiMsIGEqKiogICAgICAgICAgICAgICAgICAgKDMpICMqKiphLCAqKiphICAgICAgICAgICAgICAgICAoNCkgKioqIyAgICAgICAgICAgICAgKDUpICMqKiojICAgICAgICAgICAgICAgICAoNikgYSoqKmFcbiAgICByRGVsaW1Bc3Q6IC9eW15fKl0qP1xcX1xcX1teXypdKj9cXCpbXl8qXSo/KD89XFxfXFxfKXxbcHVuY3RfXShcXCorKSg/PVtcXHNdfCQpfFtecHVuY3QqX1xcc10oXFwqKykoPz1bcHVuY3RfXFxzXXwkKXxbcHVuY3RfXFxzXShcXCorKSg/PVtecHVuY3QqX1xcc10pfFtcXHNdKFxcKispKD89W3B1bmN0X10pfFtwdW5jdF9dKFxcKispKD89W3B1bmN0X10pfFtecHVuY3QqX1xcc10oXFwqKykoPz1bXnB1bmN0Kl9cXHNdKS8sXG4gICAgckRlbGltVW5kOiAvXlteXypdKj9cXCpcXCpbXl8qXSo/XFxfW15fKl0qPyg/PVxcKlxcKil8W3B1bmN0Kl0oXFxfKykoPz1bXFxzXXwkKXxbXnB1bmN0Kl9cXHNdKFxcXyspKD89W3B1bmN0Klxcc118JCl8W3B1bmN0Klxcc10oXFxfKykoPz1bXnB1bmN0Kl9cXHNdKXxbXFxzXShcXF8rKSg/PVtwdW5jdCpdKXxbcHVuY3QqXShcXF8rKSg/PVtwdW5jdCpdKS8gLy8gXi0gTm90IGFsbG93ZWQgZm9yIF9cbiAgfSxcbiAgY29kZTogL14oYCspKFteYF18W15gXVtcXHNcXFNdKj9bXmBdKVxcMSg/IWApLyxcbiAgYnI6IC9eKCB7Mix9fFxcXFwpXFxuKD8hXFxzKiQpLyxcbiAgZGVsOiBub29wVGVzdCxcbiAgdGV4dDogL14oYCt8W15gXSkoPzooPz0gezIsfVxcbil8W1xcc1xcU10qPyg/Oig/PVtcXFxcPCFcXFtgKl9dfFxcYl98JCl8W14gXSg/PSB7Mix9XFxuKSkpLyxcbiAgcHVuY3R1YXRpb246IC9eKFtcXHNwdW5jdHVhdGlvbl0pL1xufTtcblxuLy8gbGlzdCBvZiBwdW5jdHVhdGlvbiBtYXJrcyBmcm9tIENvbW1vbk1hcmsgc3BlY1xuLy8gd2l0aG91dCAqIGFuZCBfIHRvIGhhbmRsZSB0aGUgZGlmZmVyZW50IGVtcGhhc2lzIG1hcmtlcnMgKiBhbmQgX1xuaW5saW5lLl9wdW5jdHVhdGlvbiA9ICchXCIjJCUmXFwnKCkrXFxcXC0uLC86Ozw9Pj9AXFxcXFtcXFxcXWBee3x9fic7XG5pbmxpbmUucHVuY3R1YXRpb24gPSBlZGl0KGlubGluZS5wdW5jdHVhdGlvbikucmVwbGFjZSgvcHVuY3R1YXRpb24vZywgaW5saW5lLl9wdW5jdHVhdGlvbikuZ2V0UmVnZXgoKTtcblxuLy8gc2VxdWVuY2VzIGVtIHNob3VsZCBza2lwIG92ZXIgW3RpdGxlXShsaW5rKSwgYGNvZGVgLCA8aHRtbD5cbmlubGluZS5ibG9ja1NraXAgPSAvXFxbW15cXF1dKj9cXF1cXChbXlxcKV0qP1xcKXxgW15gXSo/YHw8W14+XSo/Pi9nO1xuaW5saW5lLmVzY2FwZWRFbVN0ID0gL1xcXFxcXCp8XFxcXF8vZztcblxuaW5saW5lLl9jb21tZW50ID0gZWRpdChibG9jay5fY29tbWVudCkucmVwbGFjZSgnKD86LS0+fCQpJywgJy0tPicpLmdldFJlZ2V4KCk7XG5cbmlubGluZS5lbVN0cm9uZy5sRGVsaW0gPSBlZGl0KGlubGluZS5lbVN0cm9uZy5sRGVsaW0pXG4gIC5yZXBsYWNlKC9wdW5jdC9nLCBpbmxpbmUuX3B1bmN0dWF0aW9uKVxuICAuZ2V0UmVnZXgoKTtcblxuaW5saW5lLmVtU3Ryb25nLnJEZWxpbUFzdCA9IGVkaXQoaW5saW5lLmVtU3Ryb25nLnJEZWxpbUFzdCwgJ2cnKVxuICAucmVwbGFjZSgvcHVuY3QvZywgaW5saW5lLl9wdW5jdHVhdGlvbilcbiAgLmdldFJlZ2V4KCk7XG5cbmlubGluZS5lbVN0cm9uZy5yRGVsaW1VbmQgPSBlZGl0KGlubGluZS5lbVN0cm9uZy5yRGVsaW1VbmQsICdnJylcbiAgLnJlcGxhY2UoL3B1bmN0L2csIGlubGluZS5fcHVuY3R1YXRpb24pXG4gIC5nZXRSZWdleCgpO1xuXG5pbmxpbmUuX2VzY2FwZXMgPSAvXFxcXChbIVwiIyQlJicoKSorLFxcLS4vOjs8PT4/QFxcW1xcXVxcXFxeX2B7fH1+XSkvZztcblxuaW5saW5lLl9zY2hlbWUgPSAvW2EtekEtWl1bYS16QS1aMC05Ky4tXXsxLDMxfS87XG5pbmxpbmUuX2VtYWlsID0gL1thLXpBLVowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rKEApW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSsoPyFbLV9dKS87XG5pbmxpbmUuYXV0b2xpbmsgPSBlZGl0KGlubGluZS5hdXRvbGluaylcbiAgLnJlcGxhY2UoJ3NjaGVtZScsIGlubGluZS5fc2NoZW1lKVxuICAucmVwbGFjZSgnZW1haWwnLCBpbmxpbmUuX2VtYWlsKVxuICAuZ2V0UmVnZXgoKTtcblxuaW5saW5lLl9hdHRyaWJ1dGUgPSAvXFxzK1thLXpBLVo6X11bXFx3LjotXSooPzpcXHMqPVxccypcIlteXCJdKlwifFxccyo9XFxzKidbXiddKid8XFxzKj1cXHMqW15cXHNcIic9PD5gXSspPy87XG5cbmlubGluZS50YWcgPSBlZGl0KGlubGluZS50YWcpXG4gIC5yZXBsYWNlKCdjb21tZW50JywgaW5saW5lLl9jb21tZW50KVxuICAucmVwbGFjZSgnYXR0cmlidXRlJywgaW5saW5lLl9hdHRyaWJ1dGUpXG4gIC5nZXRSZWdleCgpO1xuXG5pbmxpbmUuX2xhYmVsID0gLyg/OlxcWyg/OlxcXFwufFteXFxbXFxdXFxcXF0pKlxcXXxcXFxcLnxgW15gXSpgfFteXFxbXFxdXFxcXGBdKSo/LztcbmlubGluZS5faHJlZiA9IC88KD86XFxcXC58W15cXG48PlxcXFxdKSs+fFteXFxzXFx4MDAtXFx4MWZdKi87XG5pbmxpbmUuX3RpdGxlID0gL1wiKD86XFxcXFwiP3xbXlwiXFxcXF0pKlwifCcoPzpcXFxcJz98W14nXFxcXF0pKid8XFwoKD86XFxcXFxcKT98W14pXFxcXF0pKlxcKS87XG5cbmlubGluZS5saW5rID0gZWRpdChpbmxpbmUubGluaylcbiAgLnJlcGxhY2UoJ2xhYmVsJywgaW5saW5lLl9sYWJlbClcbiAgLnJlcGxhY2UoJ2hyZWYnLCBpbmxpbmUuX2hyZWYpXG4gIC5yZXBsYWNlKCd0aXRsZScsIGlubGluZS5fdGl0bGUpXG4gIC5nZXRSZWdleCgpO1xuXG5pbmxpbmUucmVmbGluayA9IGVkaXQoaW5saW5lLnJlZmxpbmspXG4gIC5yZXBsYWNlKCdsYWJlbCcsIGlubGluZS5fbGFiZWwpXG4gIC5nZXRSZWdleCgpO1xuXG5pbmxpbmUucmVmbGlua1NlYXJjaCA9IGVkaXQoaW5saW5lLnJlZmxpbmtTZWFyY2gsICdnJylcbiAgLnJlcGxhY2UoJ3JlZmxpbmsnLCBpbmxpbmUucmVmbGluaylcbiAgLnJlcGxhY2UoJ25vbGluaycsIGlubGluZS5ub2xpbmspXG4gIC5nZXRSZWdleCgpO1xuXG4vKipcbiAqIE5vcm1hbCBJbmxpbmUgR3JhbW1hclxuICovXG5cbmlubGluZS5ub3JtYWwgPSBtZXJnZSh7fSwgaW5saW5lKTtcblxuLyoqXG4gKiBQZWRhbnRpYyBJbmxpbmUgR3JhbW1hclxuICovXG5cbmlubGluZS5wZWRhbnRpYyA9IG1lcmdlKHt9LCBpbmxpbmUubm9ybWFsLCB7XG4gIHN0cm9uZzoge1xuICAgIHN0YXJ0OiAvXl9ffFxcKlxcKi8sXG4gICAgbWlkZGxlOiAvXl9fKD89XFxTKShbXFxzXFxTXSo/XFxTKV9fKD8hXyl8XlxcKlxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCpcXCooPyFcXCopLyxcbiAgICBlbmRBc3Q6IC9cXCpcXCooPyFcXCopL2csXG4gICAgZW5kVW5kOiAvX18oPyFfKS9nXG4gIH0sXG4gIGVtOiB7XG4gICAgc3RhcnQ6IC9eX3xcXCovLFxuICAgIG1pZGRsZTogL14oKVxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCooPyFcXCopfF5fKD89XFxTKShbXFxzXFxTXSo/XFxTKV8oPyFfKS8sXG4gICAgZW5kQXN0OiAvXFwqKD8hXFwqKS9nLFxuICAgIGVuZFVuZDogL18oPyFfKS9nXG4gIH0sXG4gIGxpbms6IGVkaXQoL14hP1xcWyhsYWJlbClcXF1cXCgoLio/KVxcKS8pXG4gICAgLnJlcGxhY2UoJ2xhYmVsJywgaW5saW5lLl9sYWJlbClcbiAgICAuZ2V0UmVnZXgoKSxcbiAgcmVmbGluazogZWRpdCgvXiE/XFxbKGxhYmVsKVxcXVxccypcXFsoW15cXF1dKilcXF0vKVxuICAgIC5yZXBsYWNlKCdsYWJlbCcsIGlubGluZS5fbGFiZWwpXG4gICAgLmdldFJlZ2V4KClcbn0pO1xuXG4vKipcbiAqIEdGTSBJbmxpbmUgR3JhbW1hclxuICovXG5cbmlubGluZS5nZm0gPSBtZXJnZSh7fSwgaW5saW5lLm5vcm1hbCwge1xuICBlc2NhcGU6IGVkaXQoaW5saW5lLmVzY2FwZSkucmVwbGFjZSgnXSknLCAnfnxdKScpLmdldFJlZ2V4KCksXG4gIF9leHRlbmRlZF9lbWFpbDogL1tBLVphLXowLTkuXystXSsoQClbYS16QS1aMC05LV9dKyg/OlxcLlthLXpBLVowLTktX10qW2EtekEtWjAtOV0pKyg/IVstX10pLyxcbiAgdXJsOiAvXigoPzpmdHB8aHR0cHM/KTpcXC9cXC98d3d3XFwuKSg/OlthLXpBLVowLTlcXC1dK1xcLj8pK1teXFxzPF0qfF5lbWFpbC8sXG4gIF9iYWNrcGVkYWw6IC8oPzpbXj8hLiw6OypffigpJl0rfFxcKFteKV0qXFwpfCYoPyFbYS16QS1aMC05XSs7JCl8Wz8hLiw6OypffildKyg/ISQpKSsvLFxuICBkZWw6IC9eKH5+PykoPz1bXlxcc35dKShbXFxzXFxTXSo/W15cXHN+XSlcXDEoPz1bXn5dfCQpLyxcbiAgdGV4dDogL14oW2B+XSt8W15gfl0pKD86KD89IHsyLH1cXG4pfCg/PVthLXpBLVowLTkuISMkJSYnKitcXC89P19ge1xcfH1+LV0rQCl8W1xcc1xcU10qPyg/Oig/PVtcXFxcPCFcXFtgKn5fXXxcXGJffGh0dHBzPzpcXC9cXC98ZnRwOlxcL1xcL3x3d3dcXC58JCl8W14gXSg/PSB7Mix9XFxuKXxbXmEtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXSg/PVthLXpBLVowLTkuISMkJSYnKitcXC89P19ge1xcfH1+LV0rQCkpKS9cbn0pO1xuXG5pbmxpbmUuZ2ZtLnVybCA9IGVkaXQoaW5saW5lLmdmbS51cmwsICdpJylcbiAgLnJlcGxhY2UoJ2VtYWlsJywgaW5saW5lLmdmbS5fZXh0ZW5kZWRfZW1haWwpXG4gIC5nZXRSZWdleCgpO1xuLyoqXG4gKiBHRk0gKyBMaW5lIEJyZWFrcyBJbmxpbmUgR3JhbW1hclxuICovXG5cbmlubGluZS5icmVha3MgPSBtZXJnZSh7fSwgaW5saW5lLmdmbSwge1xuICBicjogZWRpdChpbmxpbmUuYnIpLnJlcGxhY2UoJ3syLH0nLCAnKicpLmdldFJlZ2V4KCksXG4gIHRleHQ6IGVkaXQoaW5saW5lLmdmbS50ZXh0KVxuICAgIC5yZXBsYWNlKCdcXFxcYl8nLCAnXFxcXGJffCB7Mix9XFxcXG4nKVxuICAgIC5yZXBsYWNlKC9cXHsyLFxcfS9nLCAnKicpXG4gICAgLmdldFJlZ2V4KClcbn0pO1xuXG4vKipcbiAqIHNtYXJ0eXBhbnRzIHRleHQgcmVwbGFjZW1lbnRcbiAqL1xuZnVuY3Rpb24gc21hcnR5cGFudHModGV4dCkge1xuICByZXR1cm4gdGV4dFxuICAgIC8vIGVtLWRhc2hlc1xuICAgIC5yZXBsYWNlKC8tLS0vZywgJ1xcdTIwMTQnKVxuICAgIC8vIGVuLWRhc2hlc1xuICAgIC5yZXBsYWNlKC8tLS9nLCAnXFx1MjAxMycpXG4gICAgLy8gb3BlbmluZyBzaW5nbGVzXG4gICAgLnJlcGxhY2UoLyhefFstXFx1MjAxNC8oXFxbe1wiXFxzXSknL2csICckMVxcdTIwMTgnKVxuICAgIC8vIGNsb3Npbmcgc2luZ2xlcyAmIGFwb3N0cm9waGVzXG4gICAgLnJlcGxhY2UoLycvZywgJ1xcdTIwMTknKVxuICAgIC8vIG9wZW5pbmcgZG91Ymxlc1xuICAgIC5yZXBsYWNlKC8oXnxbLVxcdTIwMTQvKFxcW3tcXHUyMDE4XFxzXSlcIi9nLCAnJDFcXHUyMDFjJylcbiAgICAvLyBjbG9zaW5nIGRvdWJsZXNcbiAgICAucmVwbGFjZSgvXCIvZywgJ1xcdTIwMWQnKVxuICAgIC8vIGVsbGlwc2VzXG4gICAgLnJlcGxhY2UoL1xcLnszfS9nLCAnXFx1MjAyNicpO1xufVxuXG4vKipcbiAqIG1hbmdsZSBlbWFpbCBhZGRyZXNzZXNcbiAqL1xuZnVuY3Rpb24gbWFuZ2xlKHRleHQpIHtcbiAgbGV0IG91dCA9ICcnLFxuICAgIGksXG4gICAgY2g7XG5cbiAgY29uc3QgbCA9IHRleHQubGVuZ3RoO1xuICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgY2ggPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcbiAgICAgIGNoID0gJ3gnICsgY2gudG9TdHJpbmcoMTYpO1xuICAgIH1cbiAgICBvdXQgKz0gJyYjJyArIGNoICsgJzsnO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBCbG9jayBMZXhlclxuICovXG5jbGFzcyBMZXhlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLnRva2VucyA9IFtdO1xuICAgIHRoaXMudG9rZW5zLmxpbmtzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IGRlZmF1bHRzO1xuICAgIHRoaXMub3B0aW9ucy50b2tlbml6ZXIgPSB0aGlzLm9wdGlvbnMudG9rZW5pemVyIHx8IG5ldyBUb2tlbml6ZXIoKTtcbiAgICB0aGlzLnRva2VuaXplciA9IHRoaXMub3B0aW9ucy50b2tlbml6ZXI7XG4gICAgdGhpcy50b2tlbml6ZXIub3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICB0aGlzLnRva2VuaXplci5sZXhlciA9IHRoaXM7XG4gICAgdGhpcy5pbmxpbmVRdWV1ZSA9IFtdO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpbkxpbms6IGZhbHNlLFxuICAgICAgaW5SYXdCbG9jazogZmFsc2UsXG4gICAgICB0b3A6IHRydWVcbiAgICB9O1xuXG4gICAgY29uc3QgcnVsZXMgPSB7XG4gICAgICBibG9jazogYmxvY2subm9ybWFsLFxuICAgICAgaW5saW5lOiBpbmxpbmUubm9ybWFsXG4gICAgfTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgIHJ1bGVzLmJsb2NrID0gYmxvY2sucGVkYW50aWM7XG4gICAgICBydWxlcy5pbmxpbmUgPSBpbmxpbmUucGVkYW50aWM7XG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuZ2ZtKSB7XG4gICAgICBydWxlcy5ibG9jayA9IGJsb2NrLmdmbTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYnJlYWtzKSB7XG4gICAgICAgIHJ1bGVzLmlubGluZSA9IGlubGluZS5icmVha3M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBydWxlcy5pbmxpbmUgPSBpbmxpbmUuZ2ZtO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnRva2VuaXplci5ydWxlcyA9IHJ1bGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4cG9zZSBSdWxlc1xuICAgKi9cbiAgc3RhdGljIGdldCBydWxlcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYmxvY2ssXG4gICAgICBpbmxpbmVcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXRpYyBMZXggTWV0aG9kXG4gICAqL1xuICBzdGF0aWMgbGV4KHNyYywgb3B0aW9ucykge1xuICAgIGNvbnN0IGxleGVyID0gbmV3IExleGVyKG9wdGlvbnMpO1xuICAgIHJldHVybiBsZXhlci5sZXgoc3JjKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGF0aWMgTGV4IElubGluZSBNZXRob2RcbiAgICovXG4gIHN0YXRpYyBsZXhJbmxpbmUoc3JjLCBvcHRpb25zKSB7XG4gICAgY29uc3QgbGV4ZXIgPSBuZXcgTGV4ZXIob3B0aW9ucyk7XG4gICAgcmV0dXJuIGxleGVyLmlubGluZVRva2VucyhzcmMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByZXByb2Nlc3NpbmdcbiAgICovXG4gIGxleChzcmMpIHtcbiAgICBzcmMgPSBzcmNcbiAgICAgIC5yZXBsYWNlKC9cXHJcXG58XFxyL2csICdcXG4nKVxuICAgICAgLnJlcGxhY2UoL1xcdC9nLCAnICAgICcpO1xuXG4gICAgdGhpcy5ibG9ja1Rva2VucyhzcmMsIHRoaXMudG9rZW5zKTtcblxuICAgIGxldCBuZXh0O1xuICAgIHdoaWxlIChuZXh0ID0gdGhpcy5pbmxpbmVRdWV1ZS5zaGlmdCgpKSB7XG4gICAgICB0aGlzLmlubGluZVRva2VucyhuZXh0LnNyYywgbmV4dC50b2tlbnMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnRva2VucztcbiAgfVxuXG4gIC8qKlxuICAgKiBMZXhpbmdcbiAgICovXG4gIGJsb2NrVG9rZW5zKHNyYywgdG9rZW5zID0gW10pIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgICBzcmMgPSBzcmMucmVwbGFjZSgvXiArJC9nbSwgJycpO1xuICAgIH1cbiAgICBsZXQgdG9rZW4sIGxhc3RUb2tlbiwgY3V0U3JjLCBsYXN0UGFyYWdyYXBoQ2xpcHBlZDtcblxuICAgIHdoaWxlIChzcmMpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZXh0ZW5zaW9uc1xuICAgICAgICAmJiB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5ibG9ja1xuICAgICAgICAmJiB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5ibG9jay5zb21lKChleHRUb2tlbml6ZXIpID0+IHtcbiAgICAgICAgICBpZiAodG9rZW4gPSBleHRUb2tlbml6ZXIuY2FsbCh7IGxleGVyOiB0aGlzIH0sIHNyYywgdG9rZW5zKSkge1xuICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBuZXdsaW5lXG4gICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5zcGFjZShzcmMpKSB7XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgIGlmICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBjb2RlXG4gICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5jb2RlKHNyYykpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgbGFzdFRva2VuID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTtcbiAgICAgICAgLy8gQW4gaW5kZW50ZWQgY29kZSBibG9jayBjYW5ub3QgaW50ZXJydXB0IGEgcGFyYWdyYXBoLlxuICAgICAgICBpZiAobGFzdFRva2VuICYmIChsYXN0VG9rZW4udHlwZSA9PT0gJ3BhcmFncmFwaCcgfHwgbGFzdFRva2VuLnR5cGUgPT09ICd0ZXh0JykpIHtcbiAgICAgICAgICBsYXN0VG9rZW4ucmF3ICs9ICdcXG4nICsgdG9rZW4ucmF3O1xuICAgICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9ICdcXG4nICsgdG9rZW4udGV4dDtcbiAgICAgICAgICB0aGlzLmlubGluZVF1ZXVlW3RoaXMuaW5saW5lUXVldWUubGVuZ3RoIC0gMV0uc3JjID0gbGFzdFRva2VuLnRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBmZW5jZXNcbiAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmZlbmNlcyhzcmMpKSB7XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGhlYWRpbmdcbiAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmhlYWRpbmcoc3JjKSkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBoclxuICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuaHIoc3JjKSkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBibG9ja3F1b3RlXG4gICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5ibG9ja3F1b3RlKHNyYykpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gbGlzdFxuICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIubGlzdChzcmMpKSB7XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGh0bWxcbiAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmh0bWwoc3JjKSkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBkZWZcbiAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmRlZihzcmMpKSB7XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgIGxhc3RUb2tlbiA9IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChsYXN0VG9rZW4gJiYgKGxhc3RUb2tlbi50eXBlID09PSAncGFyYWdyYXBoJyB8fCBsYXN0VG9rZW4udHlwZSA9PT0gJ3RleHQnKSkge1xuICAgICAgICAgIGxhc3RUb2tlbi5yYXcgKz0gJ1xcbicgKyB0b2tlbi5yYXc7XG4gICAgICAgICAgbGFzdFRva2VuLnRleHQgKz0gJ1xcbicgKyB0b2tlbi5yYXc7XG4gICAgICAgICAgdGhpcy5pbmxpbmVRdWV1ZVt0aGlzLmlubGluZVF1ZXVlLmxlbmd0aCAtIDFdLnNyYyA9IGxhc3RUb2tlbi50ZXh0O1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnRva2Vucy5saW5rc1t0b2tlbi50YWddKSB7XG4gICAgICAgICAgdGhpcy50b2tlbnMubGlua3NbdG9rZW4udGFnXSA9IHtcbiAgICAgICAgICAgIGhyZWY6IHRva2VuLmhyZWYsXG4gICAgICAgICAgICB0aXRsZTogdG9rZW4udGl0bGVcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyB0YWJsZSAoZ2ZtKVxuICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIudGFibGUoc3JjKSkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBsaGVhZGluZ1xuICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIubGhlYWRpbmcoc3JjKSkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyB0b3AtbGV2ZWwgcGFyYWdyYXBoXG4gICAgICAvLyBwcmV2ZW50IHBhcmFncmFwaCBjb25zdW1pbmcgZXh0ZW5zaW9ucyBieSBjbGlwcGluZyAnc3JjJyB0byBleHRlbnNpb24gc3RhcnRcbiAgICAgIGN1dFNyYyA9IHNyYztcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucyAmJiB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5zdGFydEJsb2NrKSB7XG4gICAgICAgIGxldCBzdGFydEluZGV4ID0gSW5maW5pdHk7XG4gICAgICAgIGNvbnN0IHRlbXBTcmMgPSBzcmMuc2xpY2UoMSk7XG4gICAgICAgIGxldCB0ZW1wU3RhcnQ7XG4gICAgICAgIHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnN0YXJ0QmxvY2suZm9yRWFjaChmdW5jdGlvbihnZXRTdGFydEluZGV4KSB7XG4gICAgICAgICAgdGVtcFN0YXJ0ID0gZ2V0U3RhcnRJbmRleC5jYWxsKHsgbGV4ZXI6IHRoaXMgfSwgdGVtcFNyYyk7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wU3RhcnQgPT09ICdudW1iZXInICYmIHRlbXBTdGFydCA+PSAwKSB7IHN0YXJ0SW5kZXggPSBNYXRoLm1pbihzdGFydEluZGV4LCB0ZW1wU3RhcnQpOyB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoc3RhcnRJbmRleCA8IEluZmluaXR5ICYmIHN0YXJ0SW5kZXggPj0gMCkge1xuICAgICAgICAgIGN1dFNyYyA9IHNyYy5zdWJzdHJpbmcoMCwgc3RhcnRJbmRleCArIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zdGF0ZS50b3AgJiYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIucGFyYWdyYXBoKGN1dFNyYykpKSB7XG4gICAgICAgIGxhc3RUb2tlbiA9IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChsYXN0UGFyYWdyYXBoQ2xpcHBlZCAmJiBsYXN0VG9rZW4udHlwZSA9PT0gJ3BhcmFncmFwaCcpIHtcbiAgICAgICAgICBsYXN0VG9rZW4ucmF3ICs9ICdcXG4nICsgdG9rZW4ucmF3O1xuICAgICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9ICdcXG4nICsgdG9rZW4udGV4dDtcbiAgICAgICAgICB0aGlzLmlubGluZVF1ZXVlLnBvcCgpO1xuICAgICAgICAgIHRoaXMuaW5saW5lUXVldWVbdGhpcy5pbmxpbmVRdWV1ZS5sZW5ndGggLSAxXS5zcmMgPSBsYXN0VG9rZW4udGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFBhcmFncmFwaENsaXBwZWQgPSAoY3V0U3JjLmxlbmd0aCAhPT0gc3JjLmxlbmd0aCk7XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyB0ZXh0XG4gICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci50ZXh0KHNyYykpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgbGFzdFRva2VuID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGxhc3RUb2tlbiAmJiBsYXN0VG9rZW4udHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgbGFzdFRva2VuLnJhdyArPSAnXFxuJyArIHRva2VuLnJhdztcbiAgICAgICAgICBsYXN0VG9rZW4udGV4dCArPSAnXFxuJyArIHRva2VuLnRleHQ7XG4gICAgICAgICAgdGhpcy5pbmxpbmVRdWV1ZS5wb3AoKTtcbiAgICAgICAgICB0aGlzLmlubGluZVF1ZXVlW3RoaXMuaW5saW5lUXVldWUubGVuZ3RoIC0gMV0uc3JjID0gbGFzdFRva2VuLnRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3JjKSB7XG4gICAgICAgIGNvbnN0IGVyck1zZyA9ICdJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICcgKyBzcmMuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVyck1zZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLnRvcCA9IHRydWU7XG4gICAgcmV0dXJuIHRva2VucztcbiAgfVxuXG4gIGlubGluZShzcmMsIHRva2Vucykge1xuICAgIHRoaXMuaW5saW5lUXVldWUucHVzaCh7IHNyYywgdG9rZW5zIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExleGluZy9Db21waWxpbmdcbiAgICovXG4gIGlubGluZVRva2VucyhzcmMsIHRva2VucyA9IFtdKSB7XG4gICAgbGV0IHRva2VuLCBsYXN0VG9rZW4sIGN1dFNyYztcblxuICAgIC8vIFN0cmluZyB3aXRoIGxpbmtzIG1hc2tlZCB0byBhdm9pZCBpbnRlcmZlcmVuY2Ugd2l0aCBlbSBhbmQgc3Ryb25nXG4gICAgbGV0IG1hc2tlZFNyYyA9IHNyYztcbiAgICBsZXQgbWF0Y2g7XG4gICAgbGV0IGtlZXBQcmV2Q2hhciwgcHJldkNoYXI7XG5cbiAgICAvLyBNYXNrIG91dCByZWZsaW5rc1xuICAgIGlmICh0aGlzLnRva2Vucy5saW5rcykge1xuICAgICAgY29uc3QgbGlua3MgPSBPYmplY3Qua2V5cyh0aGlzLnRva2Vucy5saW5rcyk7XG4gICAgICBpZiAobGlua3MubGVuZ3RoID4gMCkge1xuICAgICAgICB3aGlsZSAoKG1hdGNoID0gdGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLnJlZmxpbmtTZWFyY2guZXhlYyhtYXNrZWRTcmMpKSAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKGxpbmtzLmluY2x1ZGVzKG1hdGNoWzBdLnNsaWNlKG1hdGNoWzBdLmxhc3RJbmRleE9mKCdbJykgKyAxLCAtMSkpKSB7XG4gICAgICAgICAgICBtYXNrZWRTcmMgPSBtYXNrZWRTcmMuc2xpY2UoMCwgbWF0Y2guaW5kZXgpICsgJ1snICsgcmVwZWF0U3RyaW5nKCdhJywgbWF0Y2hbMF0ubGVuZ3RoIC0gMikgKyAnXScgKyBtYXNrZWRTcmMuc2xpY2UodGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLnJlZmxpbmtTZWFyY2gubGFzdEluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gTWFzayBvdXQgb3RoZXIgYmxvY2tzXG4gICAgd2hpbGUgKChtYXRjaCA9IHRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5ibG9ja1NraXAuZXhlYyhtYXNrZWRTcmMpKSAhPSBudWxsKSB7XG4gICAgICBtYXNrZWRTcmMgPSBtYXNrZWRTcmMuc2xpY2UoMCwgbWF0Y2guaW5kZXgpICsgJ1snICsgcmVwZWF0U3RyaW5nKCdhJywgbWF0Y2hbMF0ubGVuZ3RoIC0gMikgKyAnXScgKyBtYXNrZWRTcmMuc2xpY2UodGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmJsb2NrU2tpcC5sYXN0SW5kZXgpO1xuICAgIH1cblxuICAgIC8vIE1hc2sgb3V0IGVzY2FwZWQgZW0gJiBzdHJvbmcgZGVsaW1pdGVyc1xuICAgIHdoaWxlICgobWF0Y2ggPSB0aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUuZXNjYXBlZEVtU3QuZXhlYyhtYXNrZWRTcmMpKSAhPSBudWxsKSB7XG4gICAgICBtYXNrZWRTcmMgPSBtYXNrZWRTcmMuc2xpY2UoMCwgbWF0Y2guaW5kZXgpICsgJysrJyArIG1hc2tlZFNyYy5zbGljZSh0aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUuZXNjYXBlZEVtU3QubGFzdEluZGV4KTtcbiAgICB9XG5cbiAgICB3aGlsZSAoc3JjKSB7XG4gICAgICBpZiAoIWtlZXBQcmV2Q2hhcikge1xuICAgICAgICBwcmV2Q2hhciA9ICcnO1xuICAgICAgfVxuICAgICAga2VlcFByZXZDaGFyID0gZmFsc2U7XG5cbiAgICAgIC8vIGV4dGVuc2lvbnNcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZXh0ZW5zaW9uc1xuICAgICAgICAmJiB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5pbmxpbmVcbiAgICAgICAgJiYgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuaW5saW5lLnNvbWUoKGV4dFRva2VuaXplcikgPT4ge1xuICAgICAgICAgIGlmICh0b2tlbiA9IGV4dFRva2VuaXplci5jYWxsKHsgbGV4ZXI6IHRoaXMgfSwgc3JjLCB0b2tlbnMpKSB7XG4gICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGVzY2FwZVxuICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuZXNjYXBlKHNyYykpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gdGFnXG4gICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci50YWcoc3JjKSkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICBsYXN0VG9rZW4gPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobGFzdFRva2VuICYmIHRva2VuLnR5cGUgPT09ICd0ZXh0JyAmJiBsYXN0VG9rZW4udHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgbGFzdFRva2VuLnJhdyArPSB0b2tlbi5yYXc7XG4gICAgICAgICAgbGFzdFRva2VuLnRleHQgKz0gdG9rZW4udGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGxpbmtcbiAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmxpbmsoc3JjKSkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyByZWZsaW5rLCBub2xpbmtcbiAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnJlZmxpbmsoc3JjLCB0aGlzLnRva2Vucy5saW5rcykpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgbGFzdFRva2VuID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGxhc3RUb2tlbiAmJiB0b2tlbi50eXBlID09PSAndGV4dCcgJiYgbGFzdFRva2VuLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgIGxhc3RUb2tlbi5yYXcgKz0gdG9rZW4ucmF3O1xuICAgICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9IHRva2VuLnRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBlbSAmIHN0cm9uZ1xuICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuZW1TdHJvbmcoc3JjLCBtYXNrZWRTcmMsIHByZXZDaGFyKSkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBjb2RlXG4gICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5jb2Rlc3BhbihzcmMpKSB7XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGJyXG4gICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5icihzcmMpKSB7XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGRlbCAoZ2ZtKVxuICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuZGVsKHNyYykpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gYXV0b2xpbmtcbiAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmF1dG9saW5rKHNyYywgbWFuZ2xlKSkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyB1cmwgKGdmbSlcbiAgICAgIGlmICghdGhpcy5zdGF0ZS5pbkxpbmsgJiYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIudXJsKHNyYywgbWFuZ2xlKSkpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gdGV4dFxuICAgICAgLy8gcHJldmVudCBpbmxpbmVUZXh0IGNvbnN1bWluZyBleHRlbnNpb25zIGJ5IGNsaXBwaW5nICdzcmMnIHRvIGV4dGVuc2lvbiBzdGFydFxuICAgICAgY3V0U3JjID0gc3JjO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5leHRlbnNpb25zICYmIHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnN0YXJ0SW5saW5lKSB7XG4gICAgICAgIGxldCBzdGFydEluZGV4ID0gSW5maW5pdHk7XG4gICAgICAgIGNvbnN0IHRlbXBTcmMgPSBzcmMuc2xpY2UoMSk7XG4gICAgICAgIGxldCB0ZW1wU3RhcnQ7XG4gICAgICAgIHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnN0YXJ0SW5saW5lLmZvckVhY2goZnVuY3Rpb24oZ2V0U3RhcnRJbmRleCkge1xuICAgICAgICAgIHRlbXBTdGFydCA9IGdldFN0YXJ0SW5kZXguY2FsbCh7IGxleGVyOiB0aGlzIH0sIHRlbXBTcmMpO1xuICAgICAgICAgIGlmICh0eXBlb2YgdGVtcFN0YXJ0ID09PSAnbnVtYmVyJyAmJiB0ZW1wU3RhcnQgPj0gMCkgeyBzdGFydEluZGV4ID0gTWF0aC5taW4oc3RhcnRJbmRleCwgdGVtcFN0YXJ0KTsgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHN0YXJ0SW5kZXggPCBJbmZpbml0eSAmJiBzdGFydEluZGV4ID49IDApIHtcbiAgICAgICAgICBjdXRTcmMgPSBzcmMuc3Vic3RyaW5nKDAsIHN0YXJ0SW5kZXggKyAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuaW5saW5lVGV4dChjdXRTcmMsIHNtYXJ0eXBhbnRzKSkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICBpZiAodG9rZW4ucmF3LnNsaWNlKC0xKSAhPT0gJ18nKSB7IC8vIFRyYWNrIHByZXZDaGFyIGJlZm9yZSBzdHJpbmcgb2YgX19fXyBzdGFydGVkXG4gICAgICAgICAgcHJldkNoYXIgPSB0b2tlbi5yYXcuc2xpY2UoLTEpO1xuICAgICAgICB9XG4gICAgICAgIGtlZXBQcmV2Q2hhciA9IHRydWU7XG4gICAgICAgIGxhc3RUb2tlbiA9IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChsYXN0VG9rZW4gJiYgbGFzdFRva2VuLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgIGxhc3RUb2tlbi5yYXcgKz0gdG9rZW4ucmF3O1xuICAgICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9IHRva2VuLnRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3JjKSB7XG4gICAgICAgIGNvbnN0IGVyck1zZyA9ICdJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICcgKyBzcmMuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVyck1zZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdG9rZW5zO1xuICB9XG59XG5cbi8qKlxuICogUmVuZGVyZXJcbiAqL1xuY2xhc3MgUmVuZGVyZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBkZWZhdWx0cztcbiAgfVxuXG4gIGNvZGUoY29kZSwgaW5mb3N0cmluZywgZXNjYXBlZCkge1xuICAgIGNvbnN0IGxhbmcgPSAoaW5mb3N0cmluZyB8fCAnJykubWF0Y2goL1xcUyovKVswXTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmhpZ2hsaWdodCkge1xuICAgICAgY29uc3Qgb3V0ID0gdGhpcy5vcHRpb25zLmhpZ2hsaWdodChjb2RlLCBsYW5nKTtcbiAgICAgIGlmIChvdXQgIT0gbnVsbCAmJiBvdXQgIT09IGNvZGUpIHtcbiAgICAgICAgZXNjYXBlZCA9IHRydWU7XG4gICAgICAgIGNvZGUgPSBvdXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29kZSA9IGNvZGUucmVwbGFjZSgvXFxuJC8sICcnKSArICdcXG4nO1xuXG4gICAgaWYgKCFsYW5nKSB7XG4gICAgICByZXR1cm4gJzxwcmU+PGNvZGU+J1xuICAgICAgICArIChlc2NhcGVkID8gY29kZSA6IGVzY2FwZShjb2RlLCB0cnVlKSlcbiAgICAgICAgKyAnPC9jb2RlPjwvcHJlPlxcbic7XG4gICAgfVxuXG4gICAgcmV0dXJuICc8cHJlPjxjb2RlIGNsYXNzPVwiJ1xuICAgICAgKyB0aGlzLm9wdGlvbnMubGFuZ1ByZWZpeFxuICAgICAgKyBlc2NhcGUobGFuZywgdHJ1ZSlcbiAgICAgICsgJ1wiPidcbiAgICAgICsgKGVzY2FwZWQgPyBjb2RlIDogZXNjYXBlKGNvZGUsIHRydWUpKVxuICAgICAgKyAnPC9jb2RlPjwvcHJlPlxcbic7XG4gIH1cblxuICBibG9ja3F1b3RlKHF1b3RlKSB7XG4gICAgcmV0dXJuICc8YmxvY2txdW90ZT5cXG4nICsgcXVvdGUgKyAnPC9ibG9ja3F1b3RlPlxcbic7XG4gIH1cblxuICBodG1sKGh0bWwpIHtcbiAgICByZXR1cm4gaHRtbDtcbiAgfVxuXG4gIGhlYWRpbmcodGV4dCwgbGV2ZWwsIHJhdywgc2x1Z2dlcikge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuaGVhZGVySWRzKSB7XG4gICAgICByZXR1cm4gJzxoJ1xuICAgICAgICArIGxldmVsXG4gICAgICAgICsgJyBpZD1cIidcbiAgICAgICAgKyB0aGlzLm9wdGlvbnMuaGVhZGVyUHJlZml4XG4gICAgICAgICsgc2x1Z2dlci5zbHVnKHJhdylcbiAgICAgICAgKyAnXCI+J1xuICAgICAgICArIHRleHRcbiAgICAgICAgKyAnPC9oJ1xuICAgICAgICArIGxldmVsXG4gICAgICAgICsgJz5cXG4nO1xuICAgIH1cbiAgICAvLyBpZ25vcmUgSURzXG4gICAgcmV0dXJuICc8aCcgKyBsZXZlbCArICc+JyArIHRleHQgKyAnPC9oJyArIGxldmVsICsgJz5cXG4nO1xuICB9XG5cbiAgaHIoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy54aHRtbCA/ICc8aHIvPlxcbicgOiAnPGhyPlxcbic7XG4gIH1cblxuICBsaXN0KGJvZHksIG9yZGVyZWQsIHN0YXJ0KSB7XG4gICAgY29uc3QgdHlwZSA9IG9yZGVyZWQgPyAnb2wnIDogJ3VsJyxcbiAgICAgIHN0YXJ0YXR0ID0gKG9yZGVyZWQgJiYgc3RhcnQgIT09IDEpID8gKCcgc3RhcnQ9XCInICsgc3RhcnQgKyAnXCInKSA6ICcnO1xuICAgIHJldHVybiAnPCcgKyB0eXBlICsgc3RhcnRhdHQgKyAnPlxcbicgKyBib2R5ICsgJzwvJyArIHR5cGUgKyAnPlxcbic7XG4gIH1cblxuICBsaXN0aXRlbSh0ZXh0KSB7XG4gICAgcmV0dXJuICc8bGk+JyArIHRleHQgKyAnPC9saT5cXG4nO1xuICB9XG5cbiAgY2hlY2tib3goY2hlY2tlZCkge1xuICAgIHJldHVybiAnPGlucHV0ICdcbiAgICAgICsgKGNoZWNrZWQgPyAnY2hlY2tlZD1cIlwiICcgOiAnJylcbiAgICAgICsgJ2Rpc2FibGVkPVwiXCIgdHlwZT1cImNoZWNrYm94XCInXG4gICAgICArICh0aGlzLm9wdGlvbnMueGh0bWwgPyAnIC8nIDogJycpXG4gICAgICArICc+ICc7XG4gIH1cblxuICBwYXJhZ3JhcGgodGV4dCkge1xuICAgIHJldHVybiAnPHA+JyArIHRleHQgKyAnPC9wPlxcbic7XG4gIH1cblxuICB0YWJsZShoZWFkZXIsIGJvZHkpIHtcbiAgICBpZiAoYm9keSkgYm9keSA9ICc8dGJvZHk+JyArIGJvZHkgKyAnPC90Ym9keT4nO1xuXG4gICAgcmV0dXJuICc8dGFibGU+XFxuJ1xuICAgICAgKyAnPHRoZWFkPlxcbidcbiAgICAgICsgaGVhZGVyXG4gICAgICArICc8L3RoZWFkPlxcbidcbiAgICAgICsgYm9keVxuICAgICAgKyAnPC90YWJsZT5cXG4nO1xuICB9XG5cbiAgdGFibGVyb3coY29udGVudCkge1xuICAgIHJldHVybiAnPHRyPlxcbicgKyBjb250ZW50ICsgJzwvdHI+XFxuJztcbiAgfVxuXG4gIHRhYmxlY2VsbChjb250ZW50LCBmbGFncykge1xuICAgIGNvbnN0IHR5cGUgPSBmbGFncy5oZWFkZXIgPyAndGgnIDogJ3RkJztcbiAgICBjb25zdCB0YWcgPSBmbGFncy5hbGlnblxuICAgICAgPyAnPCcgKyB0eXBlICsgJyBhbGlnbj1cIicgKyBmbGFncy5hbGlnbiArICdcIj4nXG4gICAgICA6ICc8JyArIHR5cGUgKyAnPic7XG4gICAgcmV0dXJuIHRhZyArIGNvbnRlbnQgKyAnPC8nICsgdHlwZSArICc+XFxuJztcbiAgfVxuXG4gIC8vIHNwYW4gbGV2ZWwgcmVuZGVyZXJcbiAgc3Ryb25nKHRleHQpIHtcbiAgICByZXR1cm4gJzxzdHJvbmc+JyArIHRleHQgKyAnPC9zdHJvbmc+JztcbiAgfVxuXG4gIGVtKHRleHQpIHtcbiAgICByZXR1cm4gJzxlbT4nICsgdGV4dCArICc8L2VtPic7XG4gIH1cblxuICBjb2Rlc3Bhbih0ZXh0KSB7XG4gICAgcmV0dXJuICc8Y29kZT4nICsgdGV4dCArICc8L2NvZGU+JztcbiAgfVxuXG4gIGJyKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMueGh0bWwgPyAnPGJyLz4nIDogJzxicj4nO1xuICB9XG5cbiAgZGVsKHRleHQpIHtcbiAgICByZXR1cm4gJzxkZWw+JyArIHRleHQgKyAnPC9kZWw+JztcbiAgfVxuXG4gIGxpbmsoaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICBocmVmID0gY2xlYW5VcmwodGhpcy5vcHRpb25zLnNhbml0aXplLCB0aGlzLm9wdGlvbnMuYmFzZVVybCwgaHJlZik7XG4gICAgaWYgKGhyZWYgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgICBsZXQgb3V0ID0gJzxhIGhyZWY9XCInICsgZXNjYXBlKGhyZWYpICsgJ1wiJztcbiAgICBpZiAodGl0bGUpIHtcbiAgICAgIG91dCArPSAnIHRpdGxlPVwiJyArIHRpdGxlICsgJ1wiJztcbiAgICB9XG4gICAgb3V0ICs9ICc+JyArIHRleHQgKyAnPC9hPic7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuXG4gIGltYWdlKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgaHJlZiA9IGNsZWFuVXJsKHRoaXMub3B0aW9ucy5zYW5pdGl6ZSwgdGhpcy5vcHRpb25zLmJhc2VVcmwsIGhyZWYpO1xuICAgIGlmIChocmVmID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG5cbiAgICBsZXQgb3V0ID0gJzxpbWcgc3JjPVwiJyArIGhyZWYgKyAnXCIgYWx0PVwiJyArIHRleHQgKyAnXCInO1xuICAgIGlmICh0aXRsZSkge1xuICAgICAgb3V0ICs9ICcgdGl0bGU9XCInICsgdGl0bGUgKyAnXCInO1xuICAgIH1cbiAgICBvdXQgKz0gdGhpcy5vcHRpb25zLnhodG1sID8gJy8+JyA6ICc+JztcbiAgICByZXR1cm4gb3V0O1xuICB9XG5cbiAgdGV4dCh0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cbn1cblxuLyoqXG4gKiBUZXh0UmVuZGVyZXJcbiAqIHJldHVybnMgb25seSB0aGUgdGV4dHVhbCBwYXJ0IG9mIHRoZSB0b2tlblxuICovXG5jbGFzcyBUZXh0UmVuZGVyZXIge1xuICAvLyBubyBuZWVkIGZvciBibG9jayBsZXZlbCByZW5kZXJlcnNcbiAgc3Ryb25nKHRleHQpIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuXG4gIGVtKHRleHQpIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuXG4gIGNvZGVzcGFuKHRleHQpIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuXG4gIGRlbCh0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cblxuICBodG1sKHRleHQpIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuXG4gIHRleHQodGV4dCkge1xuICAgIHJldHVybiB0ZXh0O1xuICB9XG5cbiAgbGluayhocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgIHJldHVybiAnJyArIHRleHQ7XG4gIH1cblxuICBpbWFnZShocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgIHJldHVybiAnJyArIHRleHQ7XG4gIH1cblxuICBicigpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxuLyoqXG4gKiBTbHVnZ2VyIGdlbmVyYXRlcyBoZWFkZXIgaWRcbiAqL1xuY2xhc3MgU2x1Z2dlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2VlbiA9IHt9O1xuICB9XG5cbiAgc2VyaWFsaXplKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlXG4gICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgLnRyaW0oKVxuICAgICAgLy8gcmVtb3ZlIGh0bWwgdGFnc1xuICAgICAgLnJlcGxhY2UoLzxbIVxcL2Etel0uKj8+L2lnLCAnJylcbiAgICAgIC8vIHJlbW92ZSB1bndhbnRlZCBjaGFyc1xuICAgICAgLnJlcGxhY2UoL1tcXHUyMDAwLVxcdTIwNkZcXHUyRTAwLVxcdTJFN0ZcXFxcJyFcIiMkJSYoKSorLC4vOjs8PT4/QFtcXF1eYHt8fX5dL2csICcnKVxuICAgICAgLnJlcGxhY2UoL1xccy9nLCAnLScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIHRoZSBuZXh0IHNhZmUgKHVuaXF1ZSkgc2x1ZyB0byB1c2VcbiAgICovXG4gIGdldE5leHRTYWZlU2x1ZyhvcmlnaW5hbFNsdWcsIGlzRHJ5UnVuKSB7XG4gICAgbGV0IHNsdWcgPSBvcmlnaW5hbFNsdWc7XG4gICAgbGV0IG9jY3VyZW5jZUFjY3VtdWxhdG9yID0gMDtcbiAgICBpZiAodGhpcy5zZWVuLmhhc093blByb3BlcnR5KHNsdWcpKSB7XG4gICAgICBvY2N1cmVuY2VBY2N1bXVsYXRvciA9IHRoaXMuc2VlbltvcmlnaW5hbFNsdWddO1xuICAgICAgZG8ge1xuICAgICAgICBvY2N1cmVuY2VBY2N1bXVsYXRvcisrO1xuICAgICAgICBzbHVnID0gb3JpZ2luYWxTbHVnICsgJy0nICsgb2NjdXJlbmNlQWNjdW11bGF0b3I7XG4gICAgICB9IHdoaWxlICh0aGlzLnNlZW4uaGFzT3duUHJvcGVydHkoc2x1ZykpO1xuICAgIH1cbiAgICBpZiAoIWlzRHJ5UnVuKSB7XG4gICAgICB0aGlzLnNlZW5bb3JpZ2luYWxTbHVnXSA9IG9jY3VyZW5jZUFjY3VtdWxhdG9yO1xuICAgICAgdGhpcy5zZWVuW3NsdWddID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHNsdWc7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBzdHJpbmcgdG8gdW5pcXVlIGlkXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5kcnlydW4gR2VuZXJhdGVzIHRoZSBuZXh0IHVuaXF1ZSBzbHVnIHdpdGhvdXQgdXBkYXRpbmcgdGhlIGludGVybmFsIGFjY3VtdWxhdG9yLlxuICAgKi9cbiAgc2x1Zyh2YWx1ZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qgc2x1ZyA9IHRoaXMuc2VyaWFsaXplKHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcy5nZXROZXh0U2FmZVNsdWcoc2x1Zywgb3B0aW9ucy5kcnlydW4pO1xuICB9XG59XG5cbi8qKlxuICogUGFyc2luZyAmIENvbXBpbGluZ1xuICovXG5jbGFzcyBQYXJzZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBkZWZhdWx0cztcbiAgICB0aGlzLm9wdGlvbnMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXIgfHwgbmV3IFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlcjtcbiAgICB0aGlzLnJlbmRlcmVyLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgdGhpcy50ZXh0UmVuZGVyZXIgPSBuZXcgVGV4dFJlbmRlcmVyKCk7XG4gICAgdGhpcy5zbHVnZ2VyID0gbmV3IFNsdWdnZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGF0aWMgUGFyc2UgTWV0aG9kXG4gICAqL1xuICBzdGF0aWMgcGFyc2UodG9rZW5zLCBvcHRpb25zKSB7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IFBhcnNlcihvcHRpb25zKTtcbiAgICByZXR1cm4gcGFyc2VyLnBhcnNlKHRva2Vucyk7XG4gIH1cblxuICAvKipcbiAgICogU3RhdGljIFBhcnNlIElubGluZSBNZXRob2RcbiAgICovXG4gIHN0YXRpYyBwYXJzZUlubGluZSh0b2tlbnMsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBwYXJzZXIgPSBuZXcgUGFyc2VyKG9wdGlvbnMpO1xuICAgIHJldHVybiBwYXJzZXIucGFyc2VJbmxpbmUodG9rZW5zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBMb29wXG4gICAqL1xuICBwYXJzZSh0b2tlbnMsIHRvcCA9IHRydWUpIHtcbiAgICBsZXQgb3V0ID0gJycsXG4gICAgICBpLFxuICAgICAgaixcbiAgICAgIGssXG4gICAgICBsMixcbiAgICAgIGwzLFxuICAgICAgcm93LFxuICAgICAgY2VsbCxcbiAgICAgIGhlYWRlcixcbiAgICAgIGJvZHksXG4gICAgICB0b2tlbixcbiAgICAgIG9yZGVyZWQsXG4gICAgICBzdGFydCxcbiAgICAgIGxvb3NlLFxuICAgICAgaXRlbUJvZHksXG4gICAgICBpdGVtLFxuICAgICAgY2hlY2tlZCxcbiAgICAgIHRhc2ssXG4gICAgICBjaGVja2JveCxcbiAgICAgIHJldDtcblxuICAgIGNvbnN0IGwgPSB0b2tlbnMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuXG4gICAgICAvLyBSdW4gYW55IHJlbmRlcmVyIGV4dGVuc2lvbnNcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucyAmJiB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5yZW5kZXJlcnMgJiYgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMucmVuZGVyZXJzW3Rva2VuLnR5cGVdKSB7XG4gICAgICAgIHJldCA9IHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnJlbmRlcmVyc1t0b2tlbi50eXBlXS5jYWxsKHsgcGFyc2VyOiB0aGlzIH0sIHRva2VuKTtcbiAgICAgICAgaWYgKHJldCAhPT0gZmFsc2UgfHwgIVsnc3BhY2UnLCAnaHInLCAnaGVhZGluZycsICdjb2RlJywgJ3RhYmxlJywgJ2Jsb2NrcXVvdGUnLCAnbGlzdCcsICdodG1sJywgJ3BhcmFncmFwaCcsICd0ZXh0J10uaW5jbHVkZXModG9rZW4udHlwZSkpIHtcbiAgICAgICAgICBvdXQgKz0gcmV0IHx8ICcnO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICBjYXNlICdzcGFjZSc6IHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdocic6IHtcbiAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5ocigpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2hlYWRpbmcnOiB7XG4gICAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuaGVhZGluZyhcbiAgICAgICAgICAgIHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zKSxcbiAgICAgICAgICAgIHRva2VuLmRlcHRoLFxuICAgICAgICAgICAgdW5lc2NhcGUodGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMsIHRoaXMudGV4dFJlbmRlcmVyKSksXG4gICAgICAgICAgICB0aGlzLnNsdWdnZXIpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2NvZGUnOiB7XG4gICAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuY29kZSh0b2tlbi50ZXh0LFxuICAgICAgICAgICAgdG9rZW4ubGFuZyxcbiAgICAgICAgICAgIHRva2VuLmVzY2FwZWQpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3RhYmxlJzoge1xuICAgICAgICAgIGhlYWRlciA9ICcnO1xuXG4gICAgICAgICAgLy8gaGVhZGVyXG4gICAgICAgICAgY2VsbCA9ICcnO1xuICAgICAgICAgIGwyID0gdG9rZW4uaGVhZGVyLmxlbmd0aDtcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbDI7IGorKykge1xuICAgICAgICAgICAgY2VsbCArPSB0aGlzLnJlbmRlcmVyLnRhYmxlY2VsbChcbiAgICAgICAgICAgICAgdGhpcy5wYXJzZUlubGluZSh0b2tlbi5oZWFkZXJbal0udG9rZW5zKSxcbiAgICAgICAgICAgICAgeyBoZWFkZXI6IHRydWUsIGFsaWduOiB0b2tlbi5hbGlnbltqXSB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoZWFkZXIgKz0gdGhpcy5yZW5kZXJlci50YWJsZXJvdyhjZWxsKTtcblxuICAgICAgICAgIGJvZHkgPSAnJztcbiAgICAgICAgICBsMiA9IHRva2VuLnJvd3MubGVuZ3RoO1xuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBsMjsgaisrKSB7XG4gICAgICAgICAgICByb3cgPSB0b2tlbi5yb3dzW2pdO1xuXG4gICAgICAgICAgICBjZWxsID0gJyc7XG4gICAgICAgICAgICBsMyA9IHJvdy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgbDM7IGsrKykge1xuICAgICAgICAgICAgICBjZWxsICs9IHRoaXMucmVuZGVyZXIudGFibGVjZWxsKFxuICAgICAgICAgICAgICAgIHRoaXMucGFyc2VJbmxpbmUocm93W2tdLnRva2VucyksXG4gICAgICAgICAgICAgICAgeyBoZWFkZXI6IGZhbHNlLCBhbGlnbjogdG9rZW4uYWxpZ25ba10gfVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBib2R5ICs9IHRoaXMucmVuZGVyZXIudGFibGVyb3coY2VsbCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnRhYmxlKGhlYWRlciwgYm9keSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnYmxvY2txdW90ZSc6IHtcbiAgICAgICAgICBib2R5ID0gdGhpcy5wYXJzZSh0b2tlbi50b2tlbnMpO1xuICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmJsb2NrcXVvdGUoYm9keSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnbGlzdCc6IHtcbiAgICAgICAgICBvcmRlcmVkID0gdG9rZW4ub3JkZXJlZDtcbiAgICAgICAgICBzdGFydCA9IHRva2VuLnN0YXJ0O1xuICAgICAgICAgIGxvb3NlID0gdG9rZW4ubG9vc2U7XG4gICAgICAgICAgbDIgPSB0b2tlbi5pdGVtcy5sZW5ndGg7XG5cbiAgICAgICAgICBib2R5ID0gJyc7XG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IGwyOyBqKyspIHtcbiAgICAgICAgICAgIGl0ZW0gPSB0b2tlbi5pdGVtc1tqXTtcbiAgICAgICAgICAgIGNoZWNrZWQgPSBpdGVtLmNoZWNrZWQ7XG4gICAgICAgICAgICB0YXNrID0gaXRlbS50YXNrO1xuXG4gICAgICAgICAgICBpdGVtQm9keSA9ICcnO1xuICAgICAgICAgICAgaWYgKGl0ZW0udGFzaykge1xuICAgICAgICAgICAgICBjaGVja2JveCA9IHRoaXMucmVuZGVyZXIuY2hlY2tib3goY2hlY2tlZCk7XG4gICAgICAgICAgICAgIGlmIChsb29zZSkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnRva2Vucy5sZW5ndGggPiAwICYmIGl0ZW0udG9rZW5zWzBdLnR5cGUgPT09ICdwYXJhZ3JhcGgnKSB7XG4gICAgICAgICAgICAgICAgICBpdGVtLnRva2Vuc1swXS50ZXh0ID0gY2hlY2tib3ggKyAnICcgKyBpdGVtLnRva2Vuc1swXS50ZXh0O1xuICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udG9rZW5zWzBdLnRva2VucyAmJiBpdGVtLnRva2Vuc1swXS50b2tlbnMubGVuZ3RoID4gMCAmJiBpdGVtLnRva2Vuc1swXS50b2tlbnNbMF0udHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0udG9rZW5zWzBdLnRva2Vuc1swXS50ZXh0ID0gY2hlY2tib3ggKyAnICcgKyBpdGVtLnRva2Vuc1swXS50b2tlbnNbMF0udGV4dDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgaXRlbS50b2tlbnMudW5zaGlmdCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogY2hlY2tib3hcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpdGVtQm9keSArPSBjaGVja2JveDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpdGVtQm9keSArPSB0aGlzLnBhcnNlKGl0ZW0udG9rZW5zLCBsb29zZSk7XG4gICAgICAgICAgICBib2R5ICs9IHRoaXMucmVuZGVyZXIubGlzdGl0ZW0oaXRlbUJvZHksIHRhc2ssIGNoZWNrZWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmxpc3QoYm9keSwgb3JkZXJlZCwgc3RhcnQpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2h0bWwnOiB7XG4gICAgICAgICAgLy8gVE9ETyBwYXJzZSBpbmxpbmUgY29udGVudCBpZiBwYXJhbWV0ZXIgbWFya2Rvd249MVxuICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmh0bWwodG9rZW4udGV4dCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAncGFyYWdyYXBoJzoge1xuICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnBhcmFncmFwaCh0aGlzLnBhcnNlSW5saW5lKHRva2VuLnRva2VucykpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3RleHQnOiB7XG4gICAgICAgICAgYm9keSA9IHRva2VuLnRva2VucyA/IHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zKSA6IHRva2VuLnRleHQ7XG4gICAgICAgICAgd2hpbGUgKGkgKyAxIDwgbCAmJiB0b2tlbnNbaSArIDFdLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgdG9rZW4gPSB0b2tlbnNbKytpXTtcbiAgICAgICAgICAgIGJvZHkgKz0gJ1xcbicgKyAodG9rZW4udG9rZW5zID8gdGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMpIDogdG9rZW4udGV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG91dCArPSB0b3AgPyB0aGlzLnJlbmRlcmVyLnBhcmFncmFwaChib2R5KSA6IGJvZHk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgZXJyTXNnID0gJ1Rva2VuIHdpdGggXCInICsgdG9rZW4udHlwZSArICdcIiB0eXBlIHdhcyBub3QgZm91bmQuJztcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0O1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIElubGluZSBUb2tlbnNcbiAgICovXG4gIHBhcnNlSW5saW5lKHRva2VucywgcmVuZGVyZXIpIHtcbiAgICByZW5kZXJlciA9IHJlbmRlcmVyIHx8IHRoaXMucmVuZGVyZXI7XG4gICAgbGV0IG91dCA9ICcnLFxuICAgICAgaSxcbiAgICAgIHRva2VuLFxuICAgICAgcmV0O1xuXG4gICAgY29uc3QgbCA9IHRva2Vucy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG5cbiAgICAgIC8vIFJ1biBhbnkgcmVuZGVyZXIgZXh0ZW5zaW9uc1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5leHRlbnNpb25zICYmIHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnJlbmRlcmVycyAmJiB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5yZW5kZXJlcnNbdG9rZW4udHlwZV0pIHtcbiAgICAgICAgcmV0ID0gdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMucmVuZGVyZXJzW3Rva2VuLnR5cGVdLmNhbGwoeyBwYXJzZXI6IHRoaXMgfSwgdG9rZW4pO1xuICAgICAgICBpZiAocmV0ICE9PSBmYWxzZSB8fCAhWydlc2NhcGUnLCAnaHRtbCcsICdsaW5rJywgJ2ltYWdlJywgJ3N0cm9uZycsICdlbScsICdjb2Rlc3BhbicsICdicicsICdkZWwnLCAndGV4dCddLmluY2x1ZGVzKHRva2VuLnR5cGUpKSB7XG4gICAgICAgICAgb3V0ICs9IHJldCB8fCAnJztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnZXNjYXBlJzoge1xuICAgICAgICAgIG91dCArPSByZW5kZXJlci50ZXh0KHRva2VuLnRleHQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2h0bWwnOiB7XG4gICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmh0bWwodG9rZW4udGV4dCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnbGluayc6IHtcbiAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIubGluayh0b2tlbi5ocmVmLCB0b2tlbi50aXRsZSwgdGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMsIHJlbmRlcmVyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnaW1hZ2UnOiB7XG4gICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmltYWdlKHRva2VuLmhyZWYsIHRva2VuLnRpdGxlLCB0b2tlbi50ZXh0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdzdHJvbmcnOiB7XG4gICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLnN0cm9uZyh0aGlzLnBhcnNlSW5saW5lKHRva2VuLnRva2VucywgcmVuZGVyZXIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdlbSc6IHtcbiAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIuZW0odGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMsIHJlbmRlcmVyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnY29kZXNwYW4nOiB7XG4gICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmNvZGVzcGFuKHRva2VuLnRleHQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2JyJzoge1xuICAgICAgICAgIG91dCArPSByZW5kZXJlci5icigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2RlbCc6IHtcbiAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIuZGVsKHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zLCByZW5kZXJlcikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3RleHQnOiB7XG4gICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLnRleHQodG9rZW4udGV4dCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGNvbnN0IGVyck1zZyA9ICdUb2tlbiB3aXRoIFwiJyArIHRva2VuLnR5cGUgKyAnXCIgdHlwZSB3YXMgbm90IGZvdW5kLic7XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG4gIH1cbn1cblxuLyoqXG4gKiBNYXJrZWRcbiAqL1xuZnVuY3Rpb24gbWFya2VkKHNyYywgb3B0LCBjYWxsYmFjaykge1xuICAvLyB0aHJvdyBlcnJvciBpbiBjYXNlIG9mIG5vbiBzdHJpbmcgaW5wdXRcbiAgaWYgKHR5cGVvZiBzcmMgPT09ICd1bmRlZmluZWQnIHx8IHNyYyA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWFya2VkKCk6IGlucHV0IHBhcmFtZXRlciBpcyB1bmRlZmluZWQgb3IgbnVsbCcpO1xuICB9XG4gIGlmICh0eXBlb2Ygc3JjICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignbWFya2VkKCk6IGlucHV0IHBhcmFtZXRlciBpcyBvZiB0eXBlICdcbiAgICAgICsgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNyYykgKyAnLCBzdHJpbmcgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHQ7XG4gICAgb3B0ID0gbnVsbDtcbiAgfVxuXG4gIG9wdCA9IG1lcmdlKHt9LCBtYXJrZWQuZGVmYXVsdHMsIG9wdCB8fCB7fSk7XG4gIGNoZWNrU2FuaXRpemVEZXByZWNhdGlvbihvcHQpO1xuXG4gIGlmIChjYWxsYmFjaykge1xuICAgIGNvbnN0IGhpZ2hsaWdodCA9IG9wdC5oaWdobGlnaHQ7XG4gICAgbGV0IHRva2VucztcblxuICAgIHRyeSB7XG4gICAgICB0b2tlbnMgPSBMZXhlci5sZXgoc3JjLCBvcHQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlKTtcbiAgICB9XG5cbiAgICBjb25zdCBkb25lID0gZnVuY3Rpb24oZXJyKSB7XG4gICAgICBsZXQgb3V0O1xuXG4gICAgICBpZiAoIWVycikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChvcHQud2Fsa1Rva2Vucykge1xuICAgICAgICAgICAgbWFya2VkLndhbGtUb2tlbnModG9rZW5zLCBvcHQud2Fsa1Rva2Vucyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG91dCA9IFBhcnNlci5wYXJzZSh0b2tlbnMsIG9wdCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBlcnIgPSBlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG9wdC5oaWdobGlnaHQgPSBoaWdobGlnaHQ7XG5cbiAgICAgIHJldHVybiBlcnJcbiAgICAgICAgPyBjYWxsYmFjayhlcnIpXG4gICAgICAgIDogY2FsbGJhY2sobnVsbCwgb3V0KTtcbiAgICB9O1xuXG4gICAgaWYgKCFoaWdobGlnaHQgfHwgaGlnaGxpZ2h0Lmxlbmd0aCA8IDMpIHtcbiAgICAgIHJldHVybiBkb25lKCk7XG4gICAgfVxuXG4gICAgZGVsZXRlIG9wdC5oaWdobGlnaHQ7XG5cbiAgICBpZiAoIXRva2Vucy5sZW5ndGgpIHJldHVybiBkb25lKCk7XG5cbiAgICBsZXQgcGVuZGluZyA9IDA7XG4gICAgbWFya2VkLndhbGtUb2tlbnModG9rZW5zLCBmdW5jdGlvbih0b2tlbikge1xuICAgICAgaWYgKHRva2VuLnR5cGUgPT09ICdjb2RlJykge1xuICAgICAgICBwZW5kaW5nKys7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGhpZ2hsaWdodCh0b2tlbi50ZXh0LCB0b2tlbi5sYW5nLCBmdW5jdGlvbihlcnIsIGNvZGUpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRvbmUoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb2RlICE9IG51bGwgJiYgY29kZSAhPT0gdG9rZW4udGV4dCkge1xuICAgICAgICAgICAgICB0b2tlbi50ZXh0ID0gY29kZTtcbiAgICAgICAgICAgICAgdG9rZW4uZXNjYXBlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBlbmRpbmctLTtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nID09PSAwKSB7XG4gICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAocGVuZGluZyA9PT0gMCkge1xuICAgICAgZG9uZSgpO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgdG9rZW5zID0gTGV4ZXIubGV4KHNyYywgb3B0KTtcbiAgICBpZiAob3B0LndhbGtUb2tlbnMpIHtcbiAgICAgIG1hcmtlZC53YWxrVG9rZW5zKHRva2Vucywgb3B0LndhbGtUb2tlbnMpO1xuICAgIH1cbiAgICByZXR1cm4gUGFyc2VyLnBhcnNlKHRva2Vucywgb3B0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGUubWVzc2FnZSArPSAnXFxuUGxlYXNlIHJlcG9ydCB0aGlzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJrZWRqcy9tYXJrZWQuJztcbiAgICBpZiAob3B0LnNpbGVudCkge1xuICAgICAgcmV0dXJuICc8cD5BbiBlcnJvciBvY2N1cnJlZDo8L3A+PHByZT4nXG4gICAgICAgICsgZXNjYXBlKGUubWVzc2FnZSArICcnLCB0cnVlKVxuICAgICAgICArICc8L3ByZT4nO1xuICAgIH1cbiAgICB0aHJvdyBlO1xuICB9XG59XG5cbi8qKlxuICogT3B0aW9uc1xuICovXG5cbm1hcmtlZC5vcHRpb25zID1cbm1hcmtlZC5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0KSB7XG4gIG1lcmdlKG1hcmtlZC5kZWZhdWx0cywgb3B0KTtcbiAgY2hhbmdlRGVmYXVsdHMobWFya2VkLmRlZmF1bHRzKTtcbiAgcmV0dXJuIG1hcmtlZDtcbn07XG5cbm1hcmtlZC5nZXREZWZhdWx0cyA9IGdldERlZmF1bHRzO1xuXG5tYXJrZWQuZGVmYXVsdHMgPSBkZWZhdWx0cztcblxuLyoqXG4gKiBVc2UgRXh0ZW5zaW9uXG4gKi9cblxubWFya2VkLnVzZSA9IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgY29uc3Qgb3B0cyA9IG1lcmdlKHt9LCAuLi5hcmdzKTtcbiAgY29uc3QgZXh0ZW5zaW9ucyA9IG1hcmtlZC5kZWZhdWx0cy5leHRlbnNpb25zIHx8IHsgcmVuZGVyZXJzOiB7fSwgY2hpbGRUb2tlbnM6IHt9IH07XG4gIGxldCBoYXNFeHRlbnNpb25zO1xuXG4gIGFyZ3MuZm9yRWFjaCgocGFjaykgPT4ge1xuICAgIC8vID09LS0gUGFyc2UgXCJhZGRvblwiIGV4dGVuc2lvbnMgLS09PSAvL1xuICAgIGlmIChwYWNrLmV4dGVuc2lvbnMpIHtcbiAgICAgIGhhc0V4dGVuc2lvbnMgPSB0cnVlO1xuICAgICAgcGFjay5leHRlbnNpb25zLmZvckVhY2goKGV4dCkgPT4ge1xuICAgICAgICBpZiAoIWV4dC5uYW1lKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHRlbnNpb24gbmFtZSByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHQucmVuZGVyZXIpIHsgLy8gUmVuZGVyZXIgZXh0ZW5zaW9uc1xuICAgICAgICAgIGNvbnN0IHByZXZSZW5kZXJlciA9IGV4dGVuc2lvbnMucmVuZGVyZXJzID8gZXh0ZW5zaW9ucy5yZW5kZXJlcnNbZXh0Lm5hbWVdIDogbnVsbDtcbiAgICAgICAgICBpZiAocHJldlJlbmRlcmVyKSB7XG4gICAgICAgICAgICAvLyBSZXBsYWNlIGV4dGVuc2lvbiB3aXRoIGZ1bmMgdG8gcnVuIG5ldyBleHRlbnNpb24gYnV0IGZhbGwgYmFjayBpZiBmYWxzZVxuICAgICAgICAgICAgZXh0ZW5zaW9ucy5yZW5kZXJlcnNbZXh0Lm5hbWVdID0gZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICAgICAgICBsZXQgcmV0ID0gZXh0LnJlbmRlcmVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICBpZiAocmV0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldCA9IHByZXZSZW5kZXJlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXh0ZW5zaW9ucy5yZW5kZXJlcnNbZXh0Lm5hbWVdID0gZXh0LnJlbmRlcmVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0LnRva2VuaXplcikgeyAvLyBUb2tlbml6ZXIgRXh0ZW5zaW9uc1xuICAgICAgICAgIGlmICghZXh0LmxldmVsIHx8IChleHQubGV2ZWwgIT09ICdibG9jaycgJiYgZXh0LmxldmVsICE9PSAnaW5saW5lJykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImV4dGVuc2lvbiBsZXZlbCBtdXN0IGJlICdibG9jaycgb3IgJ2lubGluZSdcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChleHRlbnNpb25zW2V4dC5sZXZlbF0pIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0LmxldmVsXS51bnNoaWZ0KGV4dC50b2tlbml6ZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHRlbnNpb25zW2V4dC5sZXZlbF0gPSBbZXh0LnRva2VuaXplcl07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChleHQuc3RhcnQpIHsgLy8gRnVuY3Rpb24gdG8gY2hlY2sgZm9yIHN0YXJ0IG9mIHRva2VuXG4gICAgICAgICAgICBpZiAoZXh0LmxldmVsID09PSAnYmxvY2snKSB7XG4gICAgICAgICAgICAgIGlmIChleHRlbnNpb25zLnN0YXJ0QmxvY2spIHtcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zLnN0YXJ0QmxvY2sucHVzaChleHQuc3RhcnQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMuc3RhcnRCbG9jayA9IFtleHQuc3RhcnRdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV4dC5sZXZlbCA9PT0gJ2lubGluZScpIHtcbiAgICAgICAgICAgICAgaWYgKGV4dGVuc2lvbnMuc3RhcnRJbmxpbmUpIHtcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zLnN0YXJ0SW5saW5lLnB1c2goZXh0LnN0YXJ0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zLnN0YXJ0SW5saW5lID0gW2V4dC5zdGFydF07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4dC5jaGlsZFRva2VucykgeyAvLyBDaGlsZCB0b2tlbnMgdG8gYmUgdmlzaXRlZCBieSB3YWxrVG9rZW5zXG4gICAgICAgICAgZXh0ZW5zaW9ucy5jaGlsZFRva2Vuc1tleHQubmFtZV0gPSBleHQuY2hpbGRUb2tlbnM7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vID09LS0gUGFyc2UgXCJvdmVyd3JpdGVcIiBleHRlbnNpb25zIC0tPT0gLy9cbiAgICBpZiAocGFjay5yZW5kZXJlcikge1xuICAgICAgY29uc3QgcmVuZGVyZXIgPSBtYXJrZWQuZGVmYXVsdHMucmVuZGVyZXIgfHwgbmV3IFJlbmRlcmVyKCk7XG4gICAgICBmb3IgKGNvbnN0IHByb3AgaW4gcGFjay5yZW5kZXJlcikge1xuICAgICAgICBjb25zdCBwcmV2UmVuZGVyZXIgPSByZW5kZXJlcltwcm9wXTtcbiAgICAgICAgLy8gUmVwbGFjZSByZW5kZXJlciB3aXRoIGZ1bmMgdG8gcnVuIGV4dGVuc2lvbiwgYnV0IGZhbGwgYmFjayBpZiBmYWxzZVxuICAgICAgICByZW5kZXJlcltwcm9wXSA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgbGV0IHJldCA9IHBhY2sucmVuZGVyZXJbcHJvcF0uYXBwbHkocmVuZGVyZXIsIGFyZ3MpO1xuICAgICAgICAgIGlmIChyZXQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXQgPSBwcmV2UmVuZGVyZXIuYXBwbHkocmVuZGVyZXIsIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgb3B0cy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cbiAgICBpZiAocGFjay50b2tlbml6ZXIpIHtcbiAgICAgIGNvbnN0IHRva2VuaXplciA9IG1hcmtlZC5kZWZhdWx0cy50b2tlbml6ZXIgfHwgbmV3IFRva2VuaXplcigpO1xuICAgICAgZm9yIChjb25zdCBwcm9wIGluIHBhY2sudG9rZW5pemVyKSB7XG4gICAgICAgIGNvbnN0IHByZXZUb2tlbml6ZXIgPSB0b2tlbml6ZXJbcHJvcF07XG4gICAgICAgIC8vIFJlcGxhY2UgdG9rZW5pemVyIHdpdGggZnVuYyB0byBydW4gZXh0ZW5zaW9uLCBidXQgZmFsbCBiYWNrIGlmIGZhbHNlXG4gICAgICAgIHRva2VuaXplcltwcm9wXSA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgbGV0IHJldCA9IHBhY2sudG9rZW5pemVyW3Byb3BdLmFwcGx5KHRva2VuaXplciwgYXJncyk7XG4gICAgICAgICAgaWYgKHJldCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldCA9IHByZXZUb2tlbml6ZXIuYXBwbHkodG9rZW5pemVyLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIG9wdHMudG9rZW5pemVyID0gdG9rZW5pemVyO1xuICAgIH1cblxuICAgIC8vID09LS0gUGFyc2UgV2Fsa1Rva2VucyBleHRlbnNpb25zIC0tPT0gLy9cbiAgICBpZiAocGFjay53YWxrVG9rZW5zKSB7XG4gICAgICBjb25zdCB3YWxrVG9rZW5zID0gbWFya2VkLmRlZmF1bHRzLndhbGtUb2tlbnM7XG4gICAgICBvcHRzLndhbGtUb2tlbnMgPSBmdW5jdGlvbih0b2tlbikge1xuICAgICAgICBwYWNrLndhbGtUb2tlbnMuY2FsbCh0aGlzLCB0b2tlbik7XG4gICAgICAgIGlmICh3YWxrVG9rZW5zKSB7XG4gICAgICAgICAgd2Fsa1Rva2Vucy5jYWxsKHRoaXMsIHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoaGFzRXh0ZW5zaW9ucykge1xuICAgICAgb3B0cy5leHRlbnNpb25zID0gZXh0ZW5zaW9ucztcbiAgICB9XG5cbiAgICBtYXJrZWQuc2V0T3B0aW9ucyhvcHRzKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFJ1biBjYWxsYmFjayBmb3IgZXZlcnkgdG9rZW5cbiAqL1xuXG5tYXJrZWQud2Fsa1Rva2VucyA9IGZ1bmN0aW9uKHRva2VucywgY2FsbGJhY2spIHtcbiAgZm9yIChjb25zdCB0b2tlbiBvZiB0b2tlbnMpIHtcbiAgICBjYWxsYmFjay5jYWxsKG1hcmtlZCwgdG9rZW4pO1xuICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgY2FzZSAndGFibGUnOiB7XG4gICAgICAgIGZvciAoY29uc3QgY2VsbCBvZiB0b2tlbi5oZWFkZXIpIHtcbiAgICAgICAgICBtYXJrZWQud2Fsa1Rva2VucyhjZWxsLnRva2VucywgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qgcm93IG9mIHRva2VuLnJvd3MpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGNlbGwgb2Ygcm93KSB7XG4gICAgICAgICAgICBtYXJrZWQud2Fsa1Rva2VucyhjZWxsLnRva2VucywgY2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2xpc3QnOiB7XG4gICAgICAgIG1hcmtlZC53YWxrVG9rZW5zKHRva2VuLml0ZW1zLCBjYWxsYmFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBpZiAobWFya2VkLmRlZmF1bHRzLmV4dGVuc2lvbnMgJiYgbWFya2VkLmRlZmF1bHRzLmV4dGVuc2lvbnMuY2hpbGRUb2tlbnMgJiYgbWFya2VkLmRlZmF1bHRzLmV4dGVuc2lvbnMuY2hpbGRUb2tlbnNbdG9rZW4udHlwZV0pIHsgLy8gV2FsayBhbnkgZXh0ZW5zaW9uc1xuICAgICAgICAgIG1hcmtlZC5kZWZhdWx0cy5leHRlbnNpb25zLmNoaWxkVG9rZW5zW3Rva2VuLnR5cGVdLmZvckVhY2goZnVuY3Rpb24oY2hpbGRUb2tlbnMpIHtcbiAgICAgICAgICAgIG1hcmtlZC53YWxrVG9rZW5zKHRva2VuW2NoaWxkVG9rZW5zXSwgY2FsbGJhY2spO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnRva2Vucykge1xuICAgICAgICAgIG1hcmtlZC53YWxrVG9rZW5zKHRva2VuLnRva2VucywgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIFBhcnNlIElubGluZVxuICovXG5tYXJrZWQucGFyc2VJbmxpbmUgPSBmdW5jdGlvbihzcmMsIG9wdCkge1xuICAvLyB0aHJvdyBlcnJvciBpbiBjYXNlIG9mIG5vbiBzdHJpbmcgaW5wdXRcbiAgaWYgKHR5cGVvZiBzcmMgPT09ICd1bmRlZmluZWQnIHx8IHNyYyA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWFya2VkLnBhcnNlSW5saW5lKCk6IGlucHV0IHBhcmFtZXRlciBpcyB1bmRlZmluZWQgb3IgbnVsbCcpO1xuICB9XG4gIGlmICh0eXBlb2Ygc3JjICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignbWFya2VkLnBhcnNlSW5saW5lKCk6IGlucHV0IHBhcmFtZXRlciBpcyBvZiB0eXBlICdcbiAgICAgICsgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNyYykgKyAnLCBzdHJpbmcgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIG9wdCA9IG1lcmdlKHt9LCBtYXJrZWQuZGVmYXVsdHMsIG9wdCB8fCB7fSk7XG4gIGNoZWNrU2FuaXRpemVEZXByZWNhdGlvbihvcHQpO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgdG9rZW5zID0gTGV4ZXIubGV4SW5saW5lKHNyYywgb3B0KTtcbiAgICBpZiAob3B0LndhbGtUb2tlbnMpIHtcbiAgICAgIG1hcmtlZC53YWxrVG9rZW5zKHRva2Vucywgb3B0LndhbGtUb2tlbnMpO1xuICAgIH1cbiAgICByZXR1cm4gUGFyc2VyLnBhcnNlSW5saW5lKHRva2Vucywgb3B0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGUubWVzc2FnZSArPSAnXFxuUGxlYXNlIHJlcG9ydCB0aGlzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJrZWRqcy9tYXJrZWQuJztcbiAgICBpZiAob3B0LnNpbGVudCkge1xuICAgICAgcmV0dXJuICc8cD5BbiBlcnJvciBvY2N1cnJlZDo8L3A+PHByZT4nXG4gICAgICAgICsgZXNjYXBlKGUubWVzc2FnZSArICcnLCB0cnVlKVxuICAgICAgICArICc8L3ByZT4nO1xuICAgIH1cbiAgICB0aHJvdyBlO1xuICB9XG59O1xuXG4vKipcbiAqIEV4cG9zZVxuICovXG5tYXJrZWQuUGFyc2VyID0gUGFyc2VyO1xubWFya2VkLnBhcnNlciA9IFBhcnNlci5wYXJzZTtcbm1hcmtlZC5SZW5kZXJlciA9IFJlbmRlcmVyO1xubWFya2VkLlRleHRSZW5kZXJlciA9IFRleHRSZW5kZXJlcjtcbm1hcmtlZC5MZXhlciA9IExleGVyO1xubWFya2VkLmxleGVyID0gTGV4ZXIubGV4O1xubWFya2VkLlRva2VuaXplciA9IFRva2VuaXplcjtcbm1hcmtlZC5TbHVnZ2VyID0gU2x1Z2dlcjtcbm1hcmtlZC5wYXJzZSA9IG1hcmtlZDtcblxuY29uc3Qgb3B0aW9ucyA9IG1hcmtlZC5vcHRpb25zO1xuY29uc3Qgc2V0T3B0aW9ucyA9IG1hcmtlZC5zZXRPcHRpb25zO1xuY29uc3QgdXNlID0gbWFya2VkLnVzZTtcbmNvbnN0IHdhbGtUb2tlbnMgPSBtYXJrZWQud2Fsa1Rva2VucztcbmNvbnN0IHBhcnNlSW5saW5lID0gbWFya2VkLnBhcnNlSW5saW5lO1xuY29uc3QgcGFyc2UgPSBtYXJrZWQ7XG5jb25zdCBwYXJzZXIgPSBQYXJzZXIucGFyc2U7XG5jb25zdCBsZXhlciA9IExleGVyLmxleDtcblxuZXhwb3J0IHsgTGV4ZXIsIFBhcnNlciwgUmVuZGVyZXIsIFNsdWdnZXIsIFRleHRSZW5kZXJlciwgVG9rZW5pemVyLCBkZWZhdWx0cywgZ2V0RGVmYXVsdHMsIGxleGVyLCBtYXJrZWQsIG9wdGlvbnMsIHBhcnNlLCBwYXJzZUlubGluZSwgcGFyc2VyLCBzZXRPcHRpb25zLCB1c2UsIHdhbGtUb2tlbnMgfTtcbiIsICJpbXBvcnQgeyBXb3JkUHJlc3NDbGllbnQsIFdvcmRQcmVzc0NsaWVudFJlc3VsdCwgV29yZFByZXNzQ2xpZW50UmV0dXJuQ29kZSB9IGZyb20gJy4vd3AtY2xpZW50JztcclxuaW1wb3J0IHsgQ2xpZW50IH0gZnJvbSAneG1scnBjJztcclxuaW1wb3J0IHsgQXBwLCBNYXJrZG93blZpZXcgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCBXb3JkcHJlc3NQbHVnaW4gZnJvbSAnLi9tYWluJztcclxuaW1wb3J0IFdQQVBJIGZyb20gJ3dwYXBpJztcclxuXHJcbmV4cG9ydCBjbGFzcyBXcFJlc3RKZXRwYWNrQ2xpZW50IGltcGxlbWVudHMgV29yZFByZXNzQ2xpZW50IHtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBjbGllbnQ6IENsaWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFwcDogQXBwLFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBwbHVnaW46IFdvcmRwcmVzc1BsdWdpblxyXG4gICkge1xyXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChwbHVnaW4uc2V0dGluZ3MuZW5kcG9pbnQpO1xyXG4gICAgY29uc29sZS5sb2codXJsKTtcclxuICB9XHJcblxyXG4gIG5ld1Bvc3QoKTogUHJvbWlzZTxXb3JkUHJlc3NDbGllbnRSZXN1bHQ+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcDtcclxuICAgICAgY29uc3QgYWN0aXZlVmlldyA9IHdvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XHJcbiAgICAgIGlmIChhY3RpdmVWaWV3KSB7XHJcbiAgICAgICAgY29uc3QgZW5kcG9pbnQgPSAnaHR0cHM6Ly9wdWJsaWMtYXBpLndvcmRwcmVzcy5jb20vcmVzdC92MS9zaXRlcy9kZXZiZWFuLmdyZWF0LXNpdGUubmV0L3Bvc3RzLyc7XHJcbiAgICAgICAgY29uc3Qgd3AgPSBuZXcgV1BBUEkoeyBlbmRwb2ludCB9KTtcclxuICAgICAgICB3cC5wb3N0cygpLnRoZW4oZnVuY3Rpb24oIGRhdGEgKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiggZXJyICkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgIGNvZGU6IFdvcmRQcmVzc0NsaWVudFJldHVybkNvZGUuT0ssXHJcbiAgICAgICAgICBkYXRhOiAnJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGVycm9yID0gJ1RoZXJlIGlzIG5vIGVkaXRvciBmb3VuZC4gTm90aGluZyB3aWxsIGJlIHB1Ymxpc2hlZC4nO1xyXG4gICAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XHJcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihlcnJvcikpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59XHJcbiIsICJpbXBvcnQgeyBXb3JkUHJlc3NDbGllbnQsIFdvcmRQcmVzc0NsaWVudFJlc3VsdCwgV29yZFByZXNzQ2xpZW50UmV0dXJuQ29kZSB9IGZyb20gJy4vd3AtY2xpZW50JztcclxuaW1wb3J0IHsgQ2xpZW50IH0gZnJvbSAneG1scnBjJztcclxuaW1wb3J0IHsgQXBwLCBNYXJrZG93blZpZXcgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCBXb3JkcHJlc3NQbHVnaW4gZnJvbSAnLi9tYWluJztcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuXHJcbmV4cG9ydCBjbGFzcyBXcFJlc3RPQXV0aDJDbGllbnQgaW1wbGVtZW50cyBXb3JkUHJlc3NDbGllbnQge1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IGNsaWVudDogQ2xpZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXBwOiBBcHAsXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBsdWdpbjogV29yZHByZXNzUGx1Z2luXHJcbiAgKSB7XHJcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHBsdWdpbi5zZXR0aW5ncy5lbmRwb2ludCk7XHJcbiAgICBjb25zb2xlLmxvZyh1cmwpO1xyXG4gIH1cclxuXHJcbiAgbmV3UG9zdCgpOiBQcm9taXNlPFdvcmRQcmVzc0NsaWVudFJlc3VsdD4ge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKCAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcDtcclxuICAgICAgY29uc3QgYWN0aXZlVmlldyA9IHdvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XHJcbiAgICAgIGlmIChhY3RpdmVWaWV3KSB7XHJcbiAgICAgICAgLy8gY29uc3QgZW5kcG9pbnQgPSAnaHR0cHM6Ly9wdWJsaWMtYXBpLndvcmRwcmVzcy5jb20vcmVzdC92MS9zaXRlcy9kZXZiZWFuLmdyZWF0LXNpdGUubmV0L3Bvc3RzLyc7XHJcbiAgICAgICAgLy8gY29uc3Qgd3AgPSBuZXcgV1BBUEkoeyBlbmRwb2ludCB9KTtcclxuICAgICAgICAvLyB3cC5wb3N0cygpLnRoZW4oZnVuY3Rpb24oIGRhdGEgKSB7XHJcbiAgICAgICAgLy8gICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAvLyB9KS5jYXRjaChmdW5jdGlvbiggZXJyICkge1xyXG4gICAgICAgIC8vICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICAvLyBjb25zdCB3cEF1dGggPSBuZXcgQ2xpZW50T0F1dGgyKHtcclxuICAgICAgICAvLyAgIGNsaWVudElkOiAnbzdwbzNlRG1USTdkUlU2dkRZcDVpZEtaVUFuaVZMUGppSHcwUkxHTScsXHJcbiAgICAgICAgLy8gICBjbGllbnRTZWNyZXQ6ICdma0JxVGdRT3lWWEZuU1QwcWdTTnNGaUM2anhtVGwwR0t1S0wwSDNSJyxcclxuICAgICAgICAvLyAgIGFjY2Vzc1Rva2VuVXJpOiAnaHR0cHM6Ly9ibG9nLmdhbGF4eXdvcmxkLm9yZy9vYXV0aC90b2tlbicsXHJcbiAgICAgICAgLy8gICBhdXRob3JpemF0aW9uVXJpOiAnaHR0cHM6Ly9ibG9nLmdhbGF4eXdvcmxkLm9yZy9vYXV0aC9hdXRob3JpemUnLFxyXG4gICAgICAgIC8vICAgc2NvcGVzOiBbICdiYXNpYycgXVxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vIHdwQXV0aC50b2tlbi5nZXRUb2tlbigpXHJcbiAgICAgICAgYXhpb3MuZ2V0KCdodHRwczovL2Jsb2cuZ2FsYXh5d29ybGQub3JnL29hdXRoL2F1dGhvcml6ZScsIHtcclxuICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICBjbGllbnRfaWQ6ICdvN3BvM2VEbVRJN2RSVTZ2RFlwNWlkS1pVQW5pVkxQamlIdzBSTEdNJyxcclxuICAgICAgICAgICAgcmVzcG9uc2VfdHlwZTogJ2NvZGUnLFxyXG4gICAgICAgICAgICBzY29wZTogJ2Jhc2ljJyxcclxuICAgICAgICAgICAgcmVkaXJlY3RfdXJpOiAnYXBwOi8vb2JzaWRpYW4ubWQnXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJz4+Pj4+Pj4+Pj4nLCByZXNwb25zZSk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SPj4+Pj4+Pj4+PicsIGVycm9yKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGZldGNoKCdodHRwczovL2Jsb2cuZ2FsYXh5d29ybGQub3JnL29hdXRoL2F1dGhvcml6ZScpXHJcbiAgICAgICAgLy8gICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIC8vIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XHJcblxyXG4gICAgICAgIC8vIGdvdC5wb3N0KCdodHRwczovL2Jsb2cuZ2FsYXh5d29ybGQub3JnL29hdXRoL2F1dGhvcml6ZScsIHtcclxuICAgICAgICAvLyAgIHNlYXJjaFBhcmFtczoge1xyXG4gICAgICAgIC8vICAgICBjbGllbnRfaWQ6ICdvN3BvM2VEbVRJN2RSVTZ2RFlwNWlkS1pVQW5pVkxQamlIdzBSTEdNJyxcclxuICAgICAgICAvLyAgICAgcmVzcG9uc2VfdHlwZTogJ2NvZGUnLFxyXG4gICAgICAgIC8vICAgICBzY29wZTogJ2Jhc2ljJ1xyXG4gICAgICAgIC8vICAgfVxyXG4gICAgICAgIC8vIH0pXHJcbiAgICAgICAgLy8gICAuanNvbigpXHJcbiAgICAgICAgLy8gICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgICAgICAvLyAgIH0pXHJcbiAgICAgICAgLy8gICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAvLyAgIH0pO1xyXG5cclxuICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgIGNvZGU6IFdvcmRQcmVzc0NsaWVudFJldHVybkNvZGUuT0ssXHJcbiAgICAgICAgICBkYXRhOiAnJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGVycm9yID0gJ1RoZXJlIGlzIG5vIGVkaXRvciBmb3VuZC4gTm90aGluZyB3aWxsIGJlIHB1Ymxpc2hlZC4nO1xyXG4gICAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XHJcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihlcnJvcikpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQ0EsSUFBQyxZQUFXO0FBQ1YsVUFBSSxRQUFRLFdBQVcsWUFBWSxTQUFTLFNBQVMsWUFBWSxVQUFVLGVBQWUsV0FBVyxXQUFXLFdBQVcsT0FDekgsUUFBUSxHQUFHLE9BQ1gsVUFBVSxHQUFHO0FBRWYsZUFBUyxXQUFXO0FBQ2xCLFlBQUksR0FBRyxLQUFLLEtBQUssUUFBUSxTQUFTO0FBQ2xDLGlCQUFTLFVBQVUsSUFBSSxVQUFVLEtBQUssVUFBVSxTQUFTLE1BQU0sS0FBSyxXQUFXLEtBQUs7QUFDcEYsWUFBSSxXQUFXLE9BQU8sU0FBUztBQUM3QixpQkFBTyxPQUFPLE1BQU0sTUFBTTtBQUFBLGVBQ3JCO0FBQ0wsZUFBSyxJQUFJLEdBQUcsTUFBTSxRQUFRLFFBQVEsSUFBSSxLQUFLLEtBQUs7QUFDOUMscUJBQVMsUUFBUTtBQUNqQixnQkFBSSxVQUFVLE1BQU07QUFDbEIsbUJBQUssT0FBTyxRQUFRO0FBQ2xCLG9CQUFJLENBQUMsUUFBUSxLQUFLLFFBQVE7QUFBTTtBQUNoQyx1QkFBTyxPQUFPLE9BQU87QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUs3QixlQUFPO0FBQUE7QUFHVCxtQkFBYSxTQUFTLEtBQUs7QUFDekIsZUFBTyxDQUFDLENBQUMsT0FBTyxPQUFPLFVBQVUsU0FBUyxLQUFLLFNBQVM7QUFBQTtBQUcxRCxpQkFBVyxTQUFTLEtBQUs7QUFDdkIs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QUFBLFFBQ2IsV0FBVztBQUFBLFFBQ1gsV0FBVztBQUFBLFFBQ1gsa0JBQWtCO0FBQUEsUUFDbEIsU0FBUztBQUFBLFFBQ1QsZ0JBQWdCO0FBQUEsUUFDaEIsYUFBYTtBQUFBLFFBQ2Isb0JBQW9CO0FBQUEsUUFDcEIsa0JBQWtCO0FBQUEsUUFDbEIsU0FBUztBQUFBLFFBQ1QsZ0JBQWdCO0FBQUEsUUFDaEIsZUFBZTtBQUFBLFFBQ2YsT0FBTztBQUFBLFFBQ1AsY0FBYztBQUFBLFFBQ2QsZ0JBQWdCO0FBQUEsUUFDaEIsV0FBVztBQUFBLFFBQ1gsZ0JBQWdCO0FBQUEsUUFDaEIsa0JBQWtCO0FBQUEsUUFDbEIsVUFBVTtBQUFBLFFBQ1YsZ0JBQWdCO0FBQUEsUUFDaEIsUUFBUTtBQUFBLFFBQ1IsYUFBYTtBQUFBLFFBQ2IsdUJBQXVCO0FBQUEsUUFDdkIsY0FBYztBQUFBLFFBQ2QscUJBQXFCO0FBQUEsUUFDckIscUJBQXFCO0FBQUEsUUFDckIsdUJBQXVCO0FBQUEsUUFDdkIsdUJBQXVCO0FBQUEsUUFDdkIsdUJBQXVCO0FBQUEsUUFDdkIsV0FBVztBQUFBLFFBQ1gscUJBQXFCO0FBQUEsUUFDckIsUUFBUTtBQUFBLFFBQ1IsZUFBZTtBQUFBO0FBR2pCLFVBQUksZUFBZTtBQUFBLFFBQ2pCLE9BQU87QUFBQSxRQUNQLE1BQU07QUFBQSxRQUNOLE1BQU07QUFBQSxRQUNOLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQTtBQUdWLFVBQUksV0FBVztBQUFBLFFBQ2IsT0FBTztBQUFBLFFBQ1AsTUFBTTtBQUFBLFFBQ04sTUFBTTtBQUFBLFFBQ04sUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsVUFBVTtBQUFBLFFBQ1YsT0FBTztBQUFBLFFBQ1AsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsVUFBVTtBQUFBLFFBQ1YsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsVUFBVTtBQUFBLFFBQ1YsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsVUFBVTtBQUFBLFFBQ1YsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsVUFBVTtBQUFBLFFBQ1YsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsT0FBTztBQUFBLFFBQ1AsUUFBUTtBQUFBLFFBQ1IsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsVUFBVTtBQUFBLFFBQ1YsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsVUFBVTtBQUFBLFFBQ1YsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsT0FBTztBQUFBLFFBQ1AsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsT0FBTztBQUFBLFFBQ1AsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsT0FBTztBQUFBLFFBQ1AsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLFFBQ1AsUUFBUTtBQUFBLFFBQ1IsT0FBTztBQUFBLFFBQ1AsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsUUFBUTtBQUFBLFFBQ1IsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsVUFBVTtBQUFBLFFBQ1YsVUFBVTtBQUFBLFFBQ1YsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsV0FBVztBQUFBLFFBQ1gsUUFBUTtBQUFBLFFBQ1IsT0FBTztBQUFBLFFBQ1AsU0FBUztBQUFBLFFBQ1QsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsTUFBTTtBQUFBLFFBQ04sTUFBTTtBQUFBLFFBQ04sTUFBTTtBQUFBLFFBQ04sV0FBVztBQUFBLFFBQ1gsTUFBTTtBQUFBLFFBQ04sT0FBTztBQUFBLFFBQ1AsU0FBUztBQUFBLFFBQ1QsT0FBTztBQUFBLFFBQ1AsV0FBVztBQUFBLFFBQ1gsT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLFFBQ1AsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsV0FBVztBQUFBLFFBQ1gsUUFBUTtBQUFBLFFBQ1IsT0FBTztBQUFBLFFBQ1AsU0FBUztBQUFBLFFBQ1QsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsTUFBTTtBQUFBLFFBQ04sTUFBTTtBQUFBLFFBQ04sTUFBTTtBQUFBLFFBQ04sV0FBVztBQUFBLFFBQ1gsTUFBTTtBQUFBLFFBQ04sT0FBTztBQUFBLFFBQ1AsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsT0FBTztBQUFBLFFBQ1AsV0FBVztBQUFBLFFBQ1gsT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLFFBQ1AsU0FBUztBQUFBLFFBQ1QsWUFBWTtBQUFBLFFBQ1osU0FBUztBQUFBLFFBQ1QsT0FBTztBQUFBLFFBQ1AsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLFFBQ1AsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsVUFBVTtBQUFBLFFBQ1YsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsV0FBVztBQUFBLFFBQ1gsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsTUFBTTtBQUFBLFFBQ04sUUFBUTtBQUFBLFFBQ1IsT0FBTztBQUFBLFFBQ1AsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLFFBQ1AsTUFBTTtBQUFBLFFBQ04sT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLFFBQ1AsVUFBVTtBQUFBLFFBQ1YsT0FBTztBQUFBLFFBQ1AsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsTUFBTTtBQUFBLFFBQ04sU0FBUztBQUFBLFFBQ1QsTUFBTTtBQUFBLFFBQ04sTUFBTTtBQUFBLFFBQ04sT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLFFBQ1AsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsU0FBUztBQUFBLFFBQ1QsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsVUFBVTtBQUFBLFFBQ1YsUUFBUTtBQUFBLFFBQ1IsUUFBUTtBQUFBLFFBQ1IsT0FBTztBQUFBLFFBQ1AsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsU0FBUztBQUFBO0FBR1gsYUFBTyxLQUFLLElBQUksVUFBVSxRQUFRLFNBQVUsS0FBSztBQUMvQyxZQUFJLElBQUks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
